
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>13.4. Exploring Research Data Repositories with geoextent &#8212; EarthCube 2021 Call for Notebooks</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="14. Leveraging satellite data and pangeo to investigate the role of Gulf Stream frontal dynamics in ocean productivity" href="../../ec21_gray_etal/README.html" />
    <link rel="prev" title="13. Exploring Research Data Repositories with geoextent." href="../README.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      <img src="../../../_static/logo.webp" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">EarthCube 2021 Call for Notebooks</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  EarthCube 2021 Call
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../docs/about.html">
   Call for Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../index.html">
   2021 Notebooks
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Notebook Submissions
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_anil_etal/README.html">
   1. Hydrographic Ocean Data Exploration
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_anil_etal/SA_01_Argo_Data_Exploration.html">
     1.1. Interactive Jupyter notebook for hydrographic ocean data exploration, retrieval and visualization via the Argovis API
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_balwada_etal/README.html">
   2. Interactive Visualization Tools for Ocean Glider Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_balwada_etal/DB_01_Glider_Viz_Panel.html">
     2.2. Glider Viz Panel
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_beckley_etal/README.html">
   3. Programmatic Access to OpenTopography’s Cloud Optimized Geotiff (COG) Global Datasets
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_beckley_etal/OT_01_BulkAccessCOGs.html">
     3.1. Programmatic Access to OpenTopography’s Cloud Optimized GeoTIFF (COG) Global Datasets
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_bourgault_etal/README.html">
   4. xclim : Software ecosystem for climate services
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_bourgault_etal/PB_02_xclim_Software_ecosystem_for_climate_services.html">
     4.1. xclim: Software ecosystem for climate services
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_cherian_etal/README.html">
   5. cf-xarray-earthcube
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_cherian_etal/DC_01_cf-xarray.html">
     5.1. cf-xarray: Scale your analysis across datasets with less data wrangling and more metadata handling
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_cych_etal/readme.html">
   6. Reanalysis of archived paleointensity data using a new statistical method.
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_cych_etal/BC_01%20Bias%20Corrected%20Estimation%20of%20Paleointensity.html">
     6.1. BC_01 Bias Corrected Estimation of Paleointensity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ec21_dye_etal/README.html">
   7. Toward autonomous detection of anomalous GNSS data via applied unsupervised artificial intelligence
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../README.html">
   13. Exploring Research Data Repositories with geoextent.
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     13.4. Exploring Research Data Repositories with geoextent
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_gray_etal/README.html">
   14. Leveraging satellite data and pangeo to investigate the role of Gulf Stream frontal dynamics in ocean productivity
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_gray_etal/PG_01_gulf_stream_dynamics_role_in_productivity.html">
     14.3. Leveraging satellite data and pangeo to investigate the role of Gulf Stream frontal dynamics in ocean productivity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_hu_etal/README.html">
   15. Machine Learning Guided Weather Analogs
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_hu_etal/WH_01_Spatio-Temporal_Deep_Analogs_2021.html">
     15.5. WH_01_Spatio-Temporal_Deep_Analogs_2021
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_lopez_etal/README.html">
   16. ITS_LIVE Explorer
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_lopez_etal/notebooks/itslive-notebook-rendered.html">
     16.7. Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_lopez_etal/notebooks/LL_01_ITS_LIVE_global_glacier_velocity_exploration_and_analysis.html">
     16.8.
     <strong>
      ITS_LIVE
     </strong>
     Global Glacier Velocity Exploration and Analysis
     <a class="anchor" id="chapter_1">
     </a>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_martin_etal/README.html">
   17. Frequency-domain analysis of large datasets
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_martin_etal/PM_01_Frequency-Domain_Analysis_of_Large_Datasets.html">
     17.1. Frequency-Domain Analysis of Large Datasets
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ec21_mason_etal/README.html">
   18. Volcanic Activity Detection
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_maussion_etal/README.html">
   20. OGGM-edu EarthCube notebook
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_maussion_etal/FM_01_OGGM-Edu_learn_and_teach_about_glaciers.html">
     20.3. OGGM-Edu - Jupyter notebooks to learn and teach about glaciers
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_potnis_etal/README.html">
   21. JP 01 Real Time Alignment and Distribution of Weather Radar Data with Rain Gauge Data for Deep Learn
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_potnis_etal/JP_01_Real_Time_Alignment_and_Distribution_of_Weather_Radar_Data_with_Rain_Gauge_Data_for_Deep_Learning_using_CHORDS.html">
     21.1. Real Time Alignment and Distribution of Weather Radar Data with Rain Gauge Data for Deep Learning using CHORDS
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ec21_seijo_etal/README.html">
   22. Notebook: Investigating upper ocean variability during tropical cyclones and seasonal sea ice formation and melting: Argovis APIs exposed to co-locate oceanic and atmospheric datasets
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_shi_etal/README.html">
   29. Automated Machine Learning for Earth Science via AutoGluon
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_shi_etal/Xingjian_Shi_01_Automated_Machine_Learning_for_Earth_Science_via_AutoGluon.html">
     29.1. Automated Machine Learning for Earth Science via AutoGluon
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_uchida_etal/README.html">
   30. QG Eliassen-Palm flux
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_uchida_etal/notebooks/TU_05_Diagnosing-the-Eliassen-Palm-flux-from-a-quasi-geostrophic-double-gyre-ensemble.html">
     30.1. Diagnosing the Eliassen-Palm flux from a quasi-geostrophic double gyre ensemble
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ec21_zheng_etal/README.html">
   31. EZ-FeatureTrack
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ec21_zheng_etal/notebooks/WZ_01_mapping_ice_flow_velocity.html">
     31.3. Mapping ice flow velocity using an easy and interactive feature tracking workflow
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/notebooks/ec21_garzon_etal/showcase/SG_01_Exploring_Research_Data_Repositories_with_geoextent.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   13.4. Exploring Research Data Repositories with geoextent
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#authors">
     13.4.1. Authors
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#purpose">
     13.4.2. Purpose
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#technical-contributions">
     13.4.3. Technical contributions
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#methodology">
     13.4.4. Methodology
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#results">
     13.4.5. Results
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#funding">
     13.4.6. Funding
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keywords">
     13.4.7. Keywords
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#citation">
     13.4.8. Citation
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#suggested-next-steps">
     13.4.9. Suggested next steps
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup">
   13.5. Setup
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#library-import">
     13.5.1. Library import
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#local-library-import">
     13.5.2. Local library import
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parameter-definitions">
   13.6. Parameter definitions
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-import">
   13.7. Data import
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-processing-and-analysis">
   13.8. Data processing and analysis
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#geoextent-usage">
     13.8.1. geoextent usage
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#supported-file-types">
       13.8.1.1. Supported file types
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#individual-files">
       13.8.1.2. Individual files
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#multiple-files">
       13.8.1.3. Multiple files
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#data-repositories">
       13.8.1.4. Data repositories
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#command-line-interface">
       13.8.1.5. Command-line interface
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#case-study">
     13.8.2. Case study
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#zenodo-geometadata">
       13.8.2.1. Zenodo geometadata
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#table-1-zenodo-records-statistics-by-record-type">
         13.8.2.1.1. Table 1. Zenodo records statistics by record type
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#collect-data">
       13.8.2.2. Collect data
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analysis">
     13.8.3. Analysis
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#load-data">
       13.8.3.1. Load data
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#extraction-results">
       13.8.3.2. Extraction results
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#figure-1-repository-extraction-status-by-parameter">
         13.8.3.2.1. Figure 1.  Repository extraction status by parameter
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#table-2-repository-extraction-status-by-parameter">
         13.8.3.2.2. Table 2. Repository extraction status by parameter
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#figure-2-files-extraction-status-by-parameter">
         13.8.3.2.3. Figure 2. Files extraction status by parameter
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#table-3-files-extraction-status-by-parameter">
         13.8.3.2.4. Table 3. Files extraction status by parameter
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#figure-3-geospatial-extraction-status-by-potential-files">
         13.8.3.2.5. Figure 3. Geospatial extraction status by potential files
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#table-4-geospatial-extraction-by-files">
         13.8.3.2.6. Table 4. Geospatial extraction by files
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#figure-4-geospatial-extraction-status-by-repositories-with-potential-files">
         13.8.3.2.7. Figure 4. Geospatial extraction status by repositories with potential files
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#table-5-geospatial-extraction-by-repositories">
         13.8.3.2.8. Table 5. Geospatial extraction by repositories
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#figure-5-files-distribution-over-repositories">
         13.8.3.2.9. Figure 5. Files distribution over repositories
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#table-6-distribution-of-the-number-of-files-by-repositories">
         13.8.3.2.10. Table 6. Distribution of the number of files by repositories.
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#figure-6-percentage-of-potential-geospatial-files-and-success-rate-of-extraction">
         13.8.3.2.11. Figure 6. Percentage of potential geospatial files and success rate of extraction
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#figure-7-success-rate-of-extraction-by-file-format">
         13.8.3.2.12. Figure 7. Success rate of extraction by file format
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#visualization-of-extracted-geospatial-extents">
       13.8.3.3. Visualization of extracted geospatial extents
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#map-1-extracted-bounding-boxes-visualization">
         13.8.3.3.1. Map 1. Extracted bounding boxes visualization
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   13.9. References
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="exploring-research-data-repositories-with-geoextent">
<h1><span class="section-number">13.4. </span>Exploring Research Data Repositories with geoextent<a class="headerlink" href="#exploring-research-data-repositories-with-geoextent" title="Permalink to this headline">¶</a></h1>
<div class="section" id="authors">
<h2><span class="section-number">13.4.1. </span>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Author1 = {“name”: “Sebastian Garzón”, “affiliation”: “Opening Reproducible Research, Institute for Geoinformatics, University of Münster, Germany”, “email”: “<a class="reference external" href="mailto:jgarzon&#37;&#52;&#48;uni-muenster&#46;de">jgarzon<span>&#64;</span>uni-muenster<span>&#46;</span>de</a>”, “orcid”: “<a class="reference external" href="https://orcid.org/0000-0002-8335-9312">https://orcid.org/0000-0002-8335-9312</a>”}</p></li>
<li><p>Author2 = {“name” : “Daniel Nüst”, “affiliation”: “Opening Reproducible Research, Institute for Geoinformatics, University of Münster, Germany”, “email”: “<a class="reference external" href="mailto:daniel&#46;nuest&#37;&#52;&#48;uni-muenster&#46;de">daniel<span>&#46;</span>nuest<span>&#64;</span>uni-muenster<span>&#46;</span>de</a>”, “orcid”: “<a class="reference external" href="https://orcid.org/0000-0002-0024-5046">https://orcid.org/0000-0002-0024-5046</a>”}</p></li>
</ul>
<h1>Table of Contents<span class="tocSkip"></span></h1>
<div class="toc"><ul class="toc-item"><li><span><a href="#Exploring-Research-Data-Repositories-with-geoextent" data-toc-modified-id="Exploring-Research-Data-Repositories-with-geoextent-1">Exploring Research Data Repositories with geoextent</a></span><ul class="toc-item"><li><span><a href="#Authors" data-toc-modified-id="Authors-1.1">Authors</a></span></li><li><span><a href="#Purpose" data-toc-modified-id="Purpose-1.2">Purpose</a></span></li><li><span><a href="#Technical-contributions" data-toc-modified-id="Technical-contributions-1.3">Technical contributions</a></span></li><li><span><a href="#Methodology" data-toc-modified-id="Methodology-1.4">Methodology</a></span></li><li><span><a href="#Results" data-toc-modified-id="Results-1.5">Results</a></span></li><li><span><a href="#Funding" data-toc-modified-id="Funding-1.6">Funding</a></span></li><li><span><a href="#Keywords" data-toc-modified-id="Keywords-1.7">Keywords</a></span></li><li><span><a href="#Citation" data-toc-modified-id="Citation-1.8">Citation</a></span></li><li><span><a href="#Suggested-next-steps" data-toc-modified-id="Suggested-next-steps-1.9">Suggested next steps</a></span></li></ul></li><li><span><a href="#Setup" data-toc-modified-id="Setup-2">Setup</a></span><ul class="toc-item"><li><span><a href="#Library-import" data-toc-modified-id="Library-import-2.1">Library import</a></span></li><li><span><a href="#Local-library-import" data-toc-modified-id="Local-library-import-2.2">Local library import</a></span></li></ul></li><li><span><a href="#Parameter-definitions" data-toc-modified-id="Parameter-definitions-3">Parameter definitions</a></span></li><li><span><a href="#Data-import" data-toc-modified-id="Data-import-4">Data import</a></span></li><li><span><a href="#Data-processing-and-analysis" data-toc-modified-id="Data-processing-and-analysis-5">Data processing and analysis</a></span><ul class="toc-item"><li><span><a href="#geoextent-usage" data-toc-modified-id="geoextent-usage-5.1">geoextent usage</a></span><ul class="toc-item"><li><span><a href="#Supported-file-types" data-toc-modified-id="Supported-file-types-5.1.1">Supported file types</a></span></li><li><span><a href="#Individual-files" data-toc-modified-id="Individual-files-5.1.2">Individual files</a></span></li><li><span><a href="#Multiple-files" data-toc-modified-id="Multiple-files-5.1.3">Multiple files</a></span></li><li><span><a href="#Data-repositories" data-toc-modified-id="Data-repositories-5.1.4">Data repositories</a></span></li><li><span><a href="#Command-line-interface" data-toc-modified-id="Command-line-interface-5.1.5">Command-line interface</a></span></li></ul></li><li><span><a href="#Case-study" data-toc-modified-id="Case-study-5.2">Case study</a></span><ul class="toc-item"><li><span><a href="#Zenodo-geometadata" data-toc-modified-id="Zenodo-geometadata-5.2.1">Zenodo geometadata</a></span><ul class="toc-item"><li><span><a href="#Table-1.-Zenodo-records-statistics-by-record-type" data-toc-modified-id="Table-1.-Zenodo-records-statistics-by-record-type-5.2.1.1">Table 1. Zenodo records statistics by record type</a></span></li></ul></li><li><span><a href="#Collect-data" data-toc-modified-id="Collect-data-5.2.2">Collect data</a></span></li></ul></li><li><span><a href="#Analysis" data-toc-modified-id="Analysis-5.3">Analysis</a></span><ul class="toc-item"><li><span><a href="#Load-data" data-toc-modified-id="Load-data-5.3.1">Load data</a></span></li><li><span><a href="#Extraction-results" data-toc-modified-id="Extraction-results-5.3.2">Extraction results</a></span><ul class="toc-item"><li><span><a href="#Figure-1.--Repository-extraction-status-by-parameter" data-toc-modified-id="Figure-1.--Repository-extraction-status-by-parameter-5.3.2.1">Figure 1.  Repository extraction status by parameter</a></span></li><li><span><a href="#Table-2.-Repository-extraction-status-by-parameter" data-toc-modified-id="Table-2.-Repository-extraction-status-by-parameter-5.3.2.2">Table 2. Repository extraction status by parameter</a></span></li><li><span><a href="#Figure-2.-Files-extraction-status-by-parameter" data-toc-modified-id="Figure-2.-Files-extraction-status-by-parameter-5.3.2.3">Figure 2. Files extraction status by parameter</a></span></li><li><span><a href="#Table-3.-Files-extraction-status-by-parameter" data-toc-modified-id="Table-3.-Files-extraction-status-by-parameter-5.3.2.4">Table 3. Files extraction status by parameter</a></span></li><li><span><a href="#Figure-3.-Geospatial-extraction-status-by-potential-files" data-toc-modified-id="Figure-3.-Geospatial-extraction-status-by-potential-files-5.3.2.5">Figure 3. Geospatial extraction status by potential files</a></span></li><li><span><a href="#Table-4.-Geospatial-extraction-by-files" data-toc-modified-id="Table-4.-Geospatial-extraction-by-files-5.3.2.6">Table 4. Geospatial extraction by files</a></span></li><li><span><a href="#Figure-4.-Geospatial-extraction-status-by-repositories-with-potential-files" data-toc-modified-id="Figure-4.-Geospatial-extraction-status-by-repositories-with-potential-files-5.3.2.7">Figure 4. Geospatial extraction status by repositories with potential files</a></span></li><li><span><a href="#Table-5.-Geospatial-extraction-by-repositories" data-toc-modified-id="Table-5.-Geospatial-extraction-by-repositories-5.3.2.8">Table 5. Geospatial extraction by repositories</a></span></li><li><span><a href="#Figure-5.-Files-distribution-over-repositories" data-toc-modified-id="Figure-5.-Files-distribution-over-repositories-5.3.2.9">Figure 5. Files distribution over repositories</a></span></li><li><span><a href="#Table-6.-Distribution-of-the-number-of-files-by-repositories." data-toc-modified-id="Table-6.-Distribution-of-the-number-of-files-by-repositories.-5.3.2.10">Table 6. Distribution of the number of files by repositories.</a></span></li><li><span><a href="#Figure-6.-Percentage-of-potential-geospatial-files-and-success-rate-of-extraction" data-toc-modified-id="Figure-6.-Percentage-of-potential-geospatial-files-and-success-rate-of-extraction-5.3.2.11">Figure 6. Percentage of potential geospatial files and success rate of extraction</a></span></li><li><span><a href="#Figure-7.-Success-rate-of-extraction-by-file-format" data-toc-modified-id="Figure-7.-Success-rate-of-extraction-by-file-format-5.3.2.12">Figure 7. Success rate of extraction by file format</a></span></li></ul></li><li><span><a href="#Visualization-of-extracted-geospatial-extents" data-toc-modified-id="Visualization-of-extracted-geospatial-extents-5.3.3">Visualization of extracted geospatial extents</a></span><ul class="toc-item"><li><span><a href="#Map-1.-Extracted-bounding-boxes-visualization" data-toc-modified-id="Map-1.-Extracted-bounding-boxes-visualization-5.3.3.1">Map 1. Extracted bounding boxes visualization</a></span></li></ul></li></ul></li></ul></li><li><span><a href="#References" data-toc-modified-id="References-6">References</a></span></li></ul></div></div>
<div class="section" id="purpose">
<h2><span class="section-number">13.4.2. </span>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>This notebook presents <a class="reference external" href="https://o2r.info/geoextent/index.html">geoextent</a>, a Python library for reliably extracting the geospatial and temporal extents of files, directories, and repository records. The geospatial and temporal metadata of research data could greatly benefit the discovery of relevant and related datasets (Gregory et al., 2018). However, it is underused in scientific data repositories except for specialised repositories. Much more scientific disciplines collect data and publish work that has some temporal or spatial relation. These datasets may not be connected through regular search indices based on keywords or full texts. The library geoextent presented in this notebook helps to understand the potential of extract information from files shared in data repositories and may be used to integrate geospatial and temporal metadata into repository infrastructures.</p>
</div>
<div class="section" id="technical-contributions">
<h2><span class="section-number">13.4.3. </span>Technical contributions<a class="headerlink" href="#technical-contributions" title="Permalink to this headline">¶</a></h2>
<p>The geoextent library is a wrapper around the most commonly used software for geospatial data loading and saving, GDAL (GDAL/OGR contributors, 2021).
The main contribution is the ease of use of extracting discovery metadata from data files using GDAL, the handling of most common cases with defaults to support automation, the aggregation of extents for multiple files or directories, and the integration of retrieval functions for common scientific data repositories. This notebook relies on geoextent version 0.7.1 (Nüst, Garzón &amp; Qamaz, 2021), and some helper functions are shared next to the notebook file.
This notebook is developed for Python 3.6+ and a standard <a class="reference external" href="https://jupyter.org/">Jupyter</a> environment (Kluyver et al., 2016). Some cells require a stable connection to the <a class="reference external" href="https://developers.zenodo.org/">Zenodo API</a>.</p>
</div>
<div class="section" id="methodology">
<h2><span class="section-number">13.4.4. </span>Methodology<a class="headerlink" href="#methodology" title="Permalink to this headline">¶</a></h2>
<p>We performed a case study of Zenodo records to explore the potential of automatically extractable geographic coverage metadata in research data repositories.
Furthermore, the case study validated the features of geoextent and improved the automated handling of data types.
First, a set of records based on the search term ‘geology&amp;geo’ and below a record 500 MB size limit are downloaded, and metadata are extracted with geoextent.
Results are stored in a local GeoPackage file and then analyzed.
We determine the percentage of records where geospatial metadata can be automatically extracted and render the extracted geospatial and temporal metadata for visual inspection.
Second, we analyze the distribution of total files and the success rate of extraction by repositories. Finally, we determine the proportion of potential files with geospatial data and its success rate of extraction.</p>
</div>
<div class="section" id="results">
<h2><span class="section-number">13.4.5. </span>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h2>
<p>The extraction of geospatial and temporal information performed with geoextent suggests that files stored in repositories could fill gaps in the metadata of research data repositories. On the one hand, our approach to extract geographic coverage metadata generates a bounding box (<code class="docutils literal notranslate"><span class="pre">bbox</span></code>) for <strong>14.4%</strong> (<a class="reference external" href="#figure_1">see Fig. 1</a>). of the repositories explored without any manual intervention. This number is considerably higher than the current <strong>0.77%</strong> of zenodo records with geometadata (<code class="docutils literal notranslate"><span class="pre">locations</span></code>) and <strong>0.14%</strong> specifically for dataset records, though our search uses a filtered baseline for geospatial records. For the extraction of temporal extent (<code class="docutils literal notranslate"><span class="pre">tbox</span></code>), the successful extractions with geoextent are considerably lower with only <strong>2.51%</strong> (<a class="reference external" href="#figure_1">see Fig. 1</a>). This can be ascribed to time data being less explicitly modeled in common file formats compared to location data. Differences between geospatial and temporal information extractions over the total number of files (<a class="reference external" href="#figure_1">see Fig. 1</a>) could result from file formats that reduce the ambiguity of the information only for geographical features (e.g., <code class="docutils literal notranslate"><span class="pre">shp</span></code> or <code class="docutils literal notranslate"><span class="pre">tif</span></code>). Nevertheless, these temporal extents could complement the Zenodo <code class="docutils literal notranslate"><span class="pre">dates</span></code> parameter, which only concerns the publication time.</p>
<p>As the main observation about the explored records, we found that almost <strong>50%</strong> of files have a format known to be able to store geospatial information (‘geoformats’) (<a class="reference external" href="#figure_3">see Fig. 3</a>). These include standardized file types for geographical information, such as <code class="docutils literal notranslate"><span class="pre">GeoJSON</span></code>, <code class="docutils literal notranslate"><span class="pre">GeoPackage</span></code>, <code class="docutils literal notranslate"><span class="pre">NETCDF</span></code>, and <code class="docutils literal notranslate"><span class="pre">GeoTIFF</span></code>, as well as other less standardized but widely used formats as <code class="docutils literal notranslate"><span class="pre">CSV</span></code> or <code class="docutils literal notranslate"><span class="pre">png</span></code>. We encountered that in terms of records, <strong>51%</strong> have at least one file known to possibly store geospatial data. That implies that almost half of the records analyzed do not model location information in their content so that it could be extracted automatically. From the portion of records with at least one geospatial format, only <strong>28%</strong> had a successful extraction (<a class="reference external" href="#figure_4">see Fig. 4</a>). These observations point out the two main challenges of our approach: absence of data to explore (i.e., no geoformats in records) and low extraction success rate from available data (i.e., potential geoformats not providing the required information).</p>
<p>As for the files’ distribution in the repositories, we encountered that geoformats are present in repositories of all sizes and follow a similar distribution as the total number of files by records (<a class="reference external" href="#figure_5">see Fig. 5</a>). For the repositories with successful extractions, we encountered that a single success is the most common output. However, the extraction of few repositories can rely on up to 180 successful file extractions (<a class="reference external" href="#figure_5">see Fig. 5</a>). This number of successes is only relevant if analyzed in the context of each repository and compared with the total number of files and potential files with geospatial information. We encountered that we extracted geospatial information either in records with a low and high proportion of geoformats. A similar scenario resulted in different proportions of successful extractions from the number of geoformats (<a class="reference external" href="#figure_6">see Fig. 6</a>). Records with no extraction (i.e., 0% success rate over potential) vary from 0% to 100% geoformat files. That suggests that there is still space for improvement for geoextent in the case of ambiguous files to increase the total percentage of successful extractions.</p>
<p>The proportion of success by geoformats indicates that, as expected, ambiguous formats as <code class="docutils literal notranslate"><span class="pre">CSV</span></code> and <code class="docutils literal notranslate"><span class="pre">png</span></code> are a large part of the unsuccessful extractions (<a class="reference external" href="#figure_7">see Fig. 7</a>). As these formats do not necessarily store geographical information (e.g., can hold anything from survey data to DNA sequences) or the geographical information is not easily detectable (e.g., unexpected column names for latitude and longitude), it would be necessary to manually analyze their content to determine a perfect test dataset and possibly provide more rules for automatic extraction. In contrast, standardized formats for geographical data have a higher success rate of extraction. That confirms that these files store geospatial features in a more accessible way to other researchers than ambiguous formats. However, popular geospatial formats as <code class="docutils literal notranslate"><span class="pre">GeoPackage</span></code>, <code class="docutils literal notranslate"><span class="pre">shapefile</span></code>, or <code class="docutils literal notranslate"><span class="pre">GeoTIFF</span></code> have success extraction rates between <strong>43%</strong> and <strong>58%</strong> indicating that even standardized formats do not guarantee the availability of all required information (e.g., the coordinate reference system may be missing). Similarly, a powerful format such as <code class="docutils literal notranslate"><span class="pre">netCFD</span></code> (<code class="docutils literal notranslate"><span class="pre">.nc</span></code>) has a low extraction rate (<strong>6.6%</strong>) which shows that while it can be used for georeferenced data, it might not have sufficient metadata, or usage of non-geospatial datasets is much higher (<a class="reference external" href="#figure_7">see Fig. 7</a>).</p>
<p>Finally, the bounding boxes (<a class="reference external" href="#map_1">see Map 1</a> and <a class="reference external" href="#image_1">Image 1</a>) automatically extracted by geoextent suggest that human verification is required to identify problems with the files (e.g., incorrect or incomplete georeferencing) or with geoextent’s approach (e.g., assuming a default coordinate reference system if it is not clearly defined). Authors and data curators could easily identify common errors, e.g., flipped coordinates or absence of coordinate reference systems.</p>
<img src="geoextent_extraction_example.png" width=1000 height=100 id='image_1' />
<p><strong>Image 1. Example of bounding boxes extracted by geoextent.(Left) Correct extraction, (Center) partially correct extraction and (Right) erroneous extraction. (Classification after human verification)</strong></p>
<p>As a conclusion, we observe that the extraction of geospatial information from records in a general-purpose research data repository could provide geospatial metadata to aid data discovery. Our approach encountered potential geospatial information in a relevant percentage of repositories of different characteristics and successfully extracted geospatial information from various file types. We propose that including geoextent into the pipeline of data curation, e.g., by proposing a bounding box based on the data during record creation, could help researchers and data repositories to improve the quality of the record metadata, but also in terms of data understandability, e.g., by encouraging non-ambiguous formats.</p>
</div>
<div class="section" id="funding">
<h2><span class="section-number">13.4.6. </span>Funding<a class="headerlink" href="#funding" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Award1 = {“agency”: “German Research Foundation (DFG)”, “award_code”: “PE1632/17-1”, “award_URL”: ‘<a class="reference external" href="https://gepris.dfg.de/gepris/projekt/415851837">https://gepris.dfg.de/gepris/projekt/415851837</a>’}</p></li>
</ul>
</div>
<div class="section" id="keywords">
<h2><span class="section-number">13.4.7. </span>Keywords<a class="headerlink" href="#keywords" title="Permalink to this headline">¶</a></h2>
<p>keywords=[“geospatial”, “discovery”, “metadata”, “repositories”, “data sharing”]</p>
</div>
<div class="section" id="citation">
<h2><span class="section-number">13.4.8. </span>Citation<a class="headerlink" href="#citation" title="Permalink to this headline">¶</a></h2>
<p>Garzón, Sebastian and Nüst, Daniel, 2021. Exploring Research Data Repositories with geoextent. Accessed 2021-05-14 at <a class="reference external" href="https://github.com/o2r-project/geoextent/tree/master/showcase">https://github.com/o2r-project/geoextent/tree/master/showcase</a>.</p>
</div>
<div class="section" id="suggested-next-steps">
<h2><span class="section-number">13.4.9. </span>Suggested next steps<a class="headerlink" href="#suggested-next-steps" title="Permalink to this headline">¶</a></h2>
<p>First, the survey of Zenodo records can be extended to include records based on more search terms - or even all records - and to include larger records.
Second, the record retrieval features of geoextent can be extended to include additional research data repositories.
These can be general-purpose ones, e.g., <a class="reference external" href="https://figshare.com/">Figshare</a> or <a class="reference external" href="https://osf.io/">OSF</a>, but also specialised repositories for geospatial data, e.g., <a class="reference external" href="https://www.pangaea.de/">Pangaea</a>, or <a class="reference external" href="https://dataservices.gfz-potsdam.de/">GFZ Data Services</a>. In the case of the specialised repositories, the extracted metadata should be compared with the metadata of the platform.
Third, the development of geoextent will be continued, e.g., to support more data types, to support more output options for integration into other tools, or to communicate progress to users or including tools.
Especially the support of more data formats and increased stability of the library could make it possible to integrate it into Open Source data repository software, such as <a class="reference external" href="https://inveniosoftware.org/products/rdm/">InvenioRDM</a> (the base software of Zenodo), and thereby turn geospatial and temporal metadata into regular record-level metadata which can be validated by authors on the creation of new records, and which can aide interdisciplinary collaboration through novel connections between datasets.</p>
</div>
</div>
<div class="section" id="setup">
<h1><span class="section-number">13.5. </span>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h1>
<div class="section" id="library-import">
<h2><span class="section-number">13.5.1. </span>Library import<a class="headerlink" href="#library-import" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import geoextent</span>
<span class="kn">import</span> <span class="nn">geoextent.lib.extent</span> <span class="k">as</span> <span class="nn">geoextent</span>
<span class="kn">import</span> <span class="nn">geoextent.lib.extent</span> <span class="k">as</span>  <span class="nn">geoextent_help</span>
<span class="kn">from</span> <span class="nn">geoextent.__init__</span> <span class="kn">import</span> <span class="n">__version__</span> <span class="k">as</span> <span class="n">geoextent_version</span>
<span class="c1"># Data manipulation</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">shapely</span> <span class="kn">import</span> <span class="n">wkt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Logging</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="c1"># Measure time and sleep function</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Visualisation (graphs, maps, tables)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="k">as</span> <span class="nn">mtick</span>
<span class="kn">import</span> <span class="nn">folium</span>
<span class="kn">from</span> <span class="nn">folium</span> <span class="kn">import</span> <span class="n">plugins</span>
<span class="kn">from</span> <span class="nn">folium</span> <span class="kn">import</span>  <span class="n">FeatureGroup</span><span class="p">,</span> <span class="n">LayerControl</span>
<span class="kn">from</span> <span class="nn">folium.features</span> <span class="kn">import</span> <span class="n">GeoJsonPopup</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="local-library-import">
<h2><span class="section-number">13.5.2. </span>Local library import<a class="headerlink" href="#local-library-import" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Include local library paths</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># Import help functions for zenodo API</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;help_functions&#39;</span><span class="p">)</span> 
<span class="c1"># Import local libraries</span>
<span class="kn">import</span> <span class="nn">help_functions.request_zenodo_api</span> <span class="k">as</span> <span class="nn">zenodo_api</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="parameter-definitions">
<h1><span class="section-number">13.6. </span>Parameter definitions<a class="headerlink" href="#parameter-definitions" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Search term for Zenodo API query</span>
<span class="n">SEARCH_TERM</span> <span class="o">=</span> <span class="s2">&quot;geo&amp;geology&quot;</span>
<span class="c1"># Maximum size of Zenodo record to extract (MB)</span>
<span class="n">MAXIMUM_RECORD_SIZE_MB</span> <span class="o">=</span> <span class="mi">500</span>
<span class="c1"># CSV output file for Zenodo API statistics</span>
<span class="n">OUTPUT_API_STATISTICS</span> <span class="o">=</span> <span class="s2">&quot;zenodo_api_statistics.csv&quot;</span>
<span class="c1"># CSV output file for search results (Zenodo record metadata)</span>
<span class="n">OUTPUT_API</span> <span class="o">=</span> <span class="s2">&quot;zenodo_api_extraction_geo.csv&quot;</span>
<span class="c1"># CSV output file for geoextent extraction results </span>
<span class="n">OUTPUT_GEOEXTENT</span> <span class="o">=</span> <span class="s2">&quot;geoextent_extraction_geo.gpkg&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="data-import">
<h1><span class="section-number">13.7. </span>Data import<a class="headerlink" href="#data-import" title="Permalink to this headline">¶</a></h1>
<p>For the introductory usage examples, test data files are included in the library and available in the notebook’s repository in the <a class="reference external" href="https://github.com/o2r-project/geoextent/tree/master/tests/testdata">tests/testdata</a> directory, where sources of test data are documented as well.
For the main analysis, data retrieval is part of the geoxtent library and therefore included in the below processing.
The Zenodo record identifiers, which can be used to construct the DOI, are stored in the output dataset published next to this notebook.</p>
</div>
<div class="section" id="data-processing-and-analysis">
<h1><span class="section-number">13.8. </span>Data processing and analysis<a class="headerlink" href="#data-processing-and-analysis" title="Permalink to this headline">¶</a></h1>
<div class="section" id="geoextent-usage">
<h2><span class="section-number">13.8.1. </span>geoextent usage<a class="headerlink" href="#geoextent-usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="supported-file-types">
<h3><span class="section-number">13.8.1.1. </span>Supported file types<a class="headerlink" href="#supported-file-types" title="Permalink to this headline">¶</a></h3>
<p>geoextent supports a subset of the file formats supported by GDAL and uses text-scraping techniques to extract the geospatial and temporal features of common file types storing geospatial information.
This subset includes the most commonly used formats and ensures stable handling of edge cases and possible errors.
The supported file formats include vector (e.g., <a class="reference external" href="https://en.wikipedia.org/wiki/GeoPackage">GeoPackage</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Shapefile">Shapefile</a>, <a class="reference external" href="https://geojson.org/">GeoJSON</a>) and raster (e.g., <a class="reference external" href="https://en.wikipedia.org/wiki/GeoTIFF">GeoTIFF</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/JPEG_2000#GML_JP2_georeferencing">JPEG 2000</a>) file types.
The user can extract the spatial extent, the so-called bounding box (parameter <code class="docutils literal notranslate"><span class="pre">bbox</span></code>), and/or temporal extent (parameter <code class="docutils literal notranslate"><span class="pre">tbox</span></code>) of a file or set of files.</p>
</div>
<div class="section" id="individual-files">
<h3><span class="section-number">13.8.1.2. </span>Individual files<a class="headerlink" href="#individual-files" title="Permalink to this headline">¶</a></h3>
<p>geoextent can be run on a single data file using the Python API, as shown below.
The output includes the spatial and temporal extents.
The spatial extent is always provided as in the <a class="reference external" href="https://en.wikipedia.org/wiki/World_Geodetic_System">WGS84</a> coordinate reference system (<a class="reference external" href="https://en.wikipedia.org/wiki/Spatial_reference_system">CRS</a>), commonly known through its usage in GPS, which is sufficiently precise for the use case of dataset discovery. If the dataset is provided in a different CRS, the bounding box is reprojected using GDAL.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># File of interest</span>
<span class="n">local_filepath</span> <span class="o">=</span> <span class="s2">&quot;../tests/testdata/shapefile/ifgi_denkpause.shp&quot;</span>
<span class="c1"># Geoextent extraction</span>
<span class="n">geoextent_file</span> <span class="o">=</span> <span class="n">geoextent</span><span class="o">.</span><span class="n">fromFile</span><span class="p">(</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">local_filepath</span><span class="p">,</span> <span class="n">bbox</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">tbox</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print output</span>
<span class="nb">print</span><span class="p">(</span><span class="n">local_filepath</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;bbox:&quot;</span><span class="p">,</span> <span class="n">geoextent_file</span><span class="p">[</span><span class="s1">&#39;bbox&#39;</span><span class="p">],</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">geoextent_file</span><span class="p">[</span><span class="s1">&#39;crs&#39;</span><span class="p">],</span> <span class="s2">&quot;EPSG </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
     <span class="s2">&quot;tbox:&quot;</span><span class="p">,</span><span class="n">geoextent_file</span><span class="p">[</span><span class="s1">&#39;tbox&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../tests/testdata/shapefile/ifgi_denkpause.shp 
 bbox: [7.594978277801928, 51.96852473231792, 7.5957650477781415, 51.969118924937405] 
 4326 EPSG 
 tbox: [&#39;2021-01-01&#39;, &#39;2021-01-01&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="multiple-files">
<h3><span class="section-number">13.8.1.3. </span>Multiple files<a class="headerlink" href="#multiple-files" title="Permalink to this headline">¶</a></h3>
<p>When provided a directory, geoextent by default returns the union of the spatial and temporal extent of all supported files.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Directory of interest</span>
<span class="n">local_directory_path</span> <span class="o">=</span> <span class="s2">&quot;../tests/testdata/folders/folder_two_files&quot;</span>
<span class="c1"># Geoextent extraction</span>
<span class="n">geoextent_directory</span> <span class="o">=</span> <span class="n">geoextent</span><span class="o">.</span><span class="n">fromDirectory</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span> <span class="n">local_directory_path</span><span class="p">,</span> <span class="n">bbox</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">tbox</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">details</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print output</span>
<span class="nb">print</span><span class="p">(</span><span class="n">local_directory_path</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;bbox:&quot;</span><span class="p">,</span> <span class="n">geoextent_directory</span><span class="p">[</span><span class="s1">&#39;bbox&#39;</span><span class="p">],</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">geoextent_directory</span><span class="p">[</span><span class="s1">&#39;crs&#39;</span><span class="p">],</span> <span class="s2">&quot;EPSG </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
     <span class="s2">&quot;tbox:&quot;</span><span class="p">,</span><span class="n">geoextent_directory</span><span class="p">[</span><span class="s1">&#39;tbox&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../tests/testdata/folders/folder_two_files 
 bbox: [2.052333387639205, 41.31703852240476, 7.647256851196289, 51.974624029877454] 
 4326 EPSG 
 tbox: [&#39;2018-11-14&#39;, &#39;2019-09-11&#39;]
</pre></div>
</div>
</div>
</div>
<p>The previous result is the combination of two files: <strong>muenster_ring_zeit.geojson</strong> and
<strong>districtes.geojson</strong>, so geoextent also stores (If parameter <code class="docutils literal notranslate"><span class="pre">details</span> </code> =  <code class="docutils literal notranslate"><span class="pre">True</span> </code>)  the details from the files used to compute the final bbox and tbox. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoextent_directory</span><span class="p">[</span><span class="s1">&#39;details&#39;</span><span class="p">][</span><span class="s1">&#39;muenster_ring_zeit.geojson&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;format&#39;: &#39;geojson&#39;,
 &#39;geoextent_handler&#39;: &#39;handleVector&#39;,
 &#39;bbox&#39;: [7.6016807556152335,
  51.94881477206191,
  7.647256851196289,
  51.974624029877454],
 &#39;crs&#39;: &#39;4326&#39;,
 &#39;tbox&#39;: [&#39;2018-11-14&#39;, &#39;2018-11-14&#39;]}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="data-repositories">
<h3><span class="section-number">13.8.1.4. </span>Data repositories<a class="headerlink" href="#data-repositories" title="Permalink to this headline">¶</a></h3>
<p>Geoextent aims to extract the bounding box (bbox) and temporal box (tbox) from data repositories. The first data repository implemented is Zenodo, and the extraction is based on either a Zenodo Record URL (e.g., <code class="docutils literal notranslate"><span class="pre">https://zenodo.org/record/820562</span></code>) or the URL of a DOI (e.g., <code class="docutils literal notranslate"><span class="pre">https://doi.org/10.5281/zenodo.820562</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Zenodo Record of interest</span>
<span class="n">url_zenodo</span> <span class="o">=</span>  <span class="s2">&quot;https://zenodo.org/record/820562&quot;</span>
<span class="n">url_doi</span> <span class="o">=</span> <span class="s2">&quot;https://doi.org/10.5281/zenodo.820562&quot;</span>

<span class="c1"># Geoextent extraction</span>
<span class="n">geoextent_url_doi</span> <span class="o">=</span> <span class="n">geoextent</span><span class="o">.</span><span class="n">from_repository</span><span class="p">(</span><span class="n">url_doi</span><span class="p">,</span> <span class="n">bbox</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">geoextent_zenodo_record</span> <span class="o">=</span> <span class="n">geoextent</span><span class="o">.</span><span class="n">from_repository</span><span class="p">(</span><span class="n">url_zenodo</span><span class="p">,</span> <span class="n">bbox</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print output</span>
<span class="nb">print</span><span class="p">(</span><span class="n">url_doi</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;bbox:&quot;</span><span class="p">,</span> <span class="n">geoextent_zenodo_record</span><span class="p">[</span><span class="s1">&#39;bbox&#39;</span><span class="p">],</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">url_zenodo</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;bbox:&quot;</span><span class="p">,</span> <span class="n">geoextent_zenodo_record</span><span class="p">[</span><span class="s1">&#39;bbox&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>https://doi.org/10.5281/zenodo.820562 
 bbox: [96.21146318274846, 25.558346194400002, 96.35495081696702, 25.632931128800003] 

https://zenodo.org/record/820562 
 bbox: [96.21146318274846, 25.558346194400002, 96.35495081696702, 25.632931128800003]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="command-line-interface">
<h3><span class="section-number">13.8.1.5. </span>Command-line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h3>
<p>Geoextent’s API functionalities are also accessible through a command-line interface (CLI) for files, folders, and data repositories. In this scenario, configuration options for the extraction are provided by flags. For example, <code class="docutils literal notranslate"><span class="pre">-b</span></code> indicates a bounding box (bbox) extraction, and <code class="docutils literal notranslate"><span class="pre">-t</span></code> a time box (tbox) extraction. Additional options are available, e.g., <code class="docutils literal notranslate"><span class="pre">--details</span></code> to print the individual results by file for folders and data repositories or <code class="docutils literal notranslate"><span class="pre">--output</span></code> to store the output in a <em>GeoPackage</em> file instead of printing to console.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">bash</span>
geoextent -b -t ../tests/testdata/shapefile/ifgi_denkpause.shp
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;format&#39;: &#39;shp&#39;, &#39;geoextent_handler&#39;: &#39;handleVector&#39;, &#39;bbox&#39;: [7.594978277801928, 51.96852473231792, 7.5957650477781415, 51.969118924937405], &#39;crs&#39;: &#39;4326&#39;, &#39;tbox&#39;: [&#39;2021-01-01&#39;, &#39;2021-01-01&#39;]}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/garzon/.local/lib/python3.6/site-packages/pandas/compat/_optional.py:124: UserWarning: Pandas requires version &#39;1.2.1&#39; or newer of &#39;bottleneck&#39; (version &#39;1.2.0&#39; currently installed).
  warnings.warn(msg, UserWarning)
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="case-study">
<h2><span class="section-number">13.8.2. </span>Case study<a class="headerlink" href="#case-study" title="Permalink to this headline">¶</a></h2>
<p>Zenodo is a data repository that stores different types of publication materials in form of <code class="docutils literal notranslate"><span class="pre">records</span></code>. The Zenodo API supports the discovery of records by dozens of different parameters stored in the metadata. These parameters include, e.g., <code class="docutils literal notranslate"><span class="pre">title</span></code>, <code class="docutils literal notranslate"><span class="pre">doi</span></code>, <code class="docutils literal notranslate"><span class="pre">keywords</span></code>, and <code class="docutils literal notranslate"><span class="pre">locations</span></code>. Even though geospatial metadata is available for queries via the <code class="docutils literal notranslate"><span class="pre">locations</span></code> parameter, this option seems to be limited to only a small number of records. Therefore, we study the number of records with geospatial metadata available in Zenodo and assess if by using geoextent we could provide the missing geospatial metadata for a significant number of other Zenodo records.</p>
<div class="section" id="zenodo-geometadata">
<h3><span class="section-number">13.8.2.1. </span>Zenodo geometadata<a class="headerlink" href="#zenodo-geometadata" title="Permalink to this headline">¶</a></h3>
<p>The first step for this analysis is determining the current state of geometadata in the Zenodo records. Only Open Access repositories are taken into account. For this purpose, we are going to use the Zenodo <strong><a class="reference external" href="https://zenodo.org/api/records/?bounds=-180,-90,180,90">spatial search</a></strong> function using the <code class="docutils literal notranslate"><span class="pre">bounds</span></code> query parameter, which accepts an area of interest (bounding box) as two coordinate pairs to extract the records within this zone. Zenodo’s geospatial information of a record is stored in the <code class="docutils literal notranslate"><span class="pre">locations</span></code> property in the metadata. Each record could have multiple locations, but a location is limited to a single point with the properties <code class="docutils literal notranslate"><span class="pre">lat</span></code>, <code class="docutils literal notranslate"><span class="pre">lon</span></code>, and <code class="docutils literal notranslate"><span class="pre">place</span></code>.</p>
<p>In the following cell, we extract the proportion of Open Access Zenodo records which have a <code class="docutils literal notranslate"><span class="pre">locations</span></code> property value. It is important to note that Zenodo records include 9 different <em>categories of publication types</em>: <code class="docutils literal notranslate"><span class="pre">poster</span></code>, <code class="docutils literal notranslate"><span class="pre">presentation</span></code>, <code class="docutils literal notranslate"><span class="pre">dataset</span></code>, <code class="docutils literal notranslate"><span class="pre">image</span></code>, <code class="docutils literal notranslate"><span class="pre">video</span></code>, <code class="docutils literal notranslate"><span class="pre">software</span></code>, <code class="docutils literal notranslate"><span class="pre">lesson</span></code>, <code class="docutils literal notranslate"><span class="pre">physicalobject</span></code>, and <code class="docutils literal notranslate"><span class="pre">other</span></code>, all of which are queried.</p>
<p><strong>ONLY RUN THE FOLLOWING CELL IF YOU WANT THE CURRENT INFORMATION FROM ZENODO API</strong></p>
<p>New records are being added every day to Zenodo. We have prepared a data frame with the results from the API at the time of our analysis.</p>
<p>Change the following cell type from <code class="docutils literal notranslate"><span class="pre">Raw</span></code> to <code class="docutils literal notranslate"><span class="pre">Code</span></code> before running it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_api</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">OUTPUT_API_STATISTICS</span><span class="p">,</span><span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df_api</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Number open access records</th>
      <th>Number open access records with geometadata</th>
      <th>% records with metadata</th>
      <th>% proportion over total geometadata</th>
    </tr>
    <tr>
      <th>Type of record</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>publication</th>
      <td>997743</td>
      <td>13970</td>
      <td>1.400160</td>
      <td>99.849904</td>
    </tr>
    <tr>
      <th>poster</th>
      <td>8397</td>
      <td>0</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>presentation</th>
      <td>21225</td>
      <td>0</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>dataset</th>
      <td>75542</td>
      <td>19</td>
      <td>0.025152</td>
      <td>0.135802</td>
    </tr>
    <tr>
      <th>image</th>
      <td>601753</td>
      <td>0</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>video</th>
      <td>3286</td>
      <td>0</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>software</th>
      <td>53737</td>
      <td>1</td>
      <td>0.001861</td>
      <td>0.007147</td>
    </tr>
    <tr>
      <th>lesson</th>
      <td>2555</td>
      <td>0</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>physicalobject</th>
      <td>28</td>
      <td>0</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>other</th>
      <td>6168</td>
      <td>1</td>
      <td>0.016213</td>
      <td>0.007147</td>
    </tr>
    <tr>
      <th>record</th>
      <td>1770435</td>
      <td>13991</td>
      <td>0.790258</td>
      <td>100.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="table-1-zenodo-records-statistics-by-record-type">
<h4><span class="section-number">13.8.2.1.1. </span>Table 1. Zenodo records statistics by record type<a class="headerlink" href="#table-1-zenodo-records-statistics-by-record-type" title="Permalink to this headline">¶</a></h4>
<p>Based on the information extracted from Zenodo’s API on May 14, 2021 (08:25:00 UTM), there are <strong>1,770,284</strong> open records. From these records, <strong>13,966</strong> have geospatial metadata. That means that <strong>~0.79%</strong> of open Zenodo records are findable  through geospatial search. Among the records with geospatial metadata, <strong>~99.8%</strong> are <code class="docutils literal notranslate"><span class="pre">publications</span></code>(13945, records), and <strong>~0.14%</strong> are of <code class="docutils literal notranslate"><span class="pre">dataset</span></code> type (19 records). Even for these two categories with most of the records, less than <strong>1.4%</strong> of open <code class="docutils literal notranslate"><span class="pre">publications</span></code> and less than <strong>0.03%</strong> open <code class="docutils literal notranslate"><span class="pre">dataset</span></code> include geospatial metadata.</p>
<p>To evaluate if we can use geoextent to increase the proportion of records with spatial metadata, we use the result of a Zenodo API term search to create a list of records to analyze. In this particular search, we use the term <em>geo&amp;geology</em> and limit it to only <code class="docutils literal notranslate"><span class="pre">dataset</span></code> records smaller than 500 MB. From these records’ metadata, we store basic fields, e.g., title, DOI, in the CSV file <code class="docutils literal notranslate"><span class="pre">zenodo_api_extraction_geo.csv</span></code>.</p>
<p><strong>ONLY RUN THE FOLLOWING CELL IF YOU WANT TO REPRODUCE THE GEOEXTENT EXTRACTION</strong></p>
<p><em>New records are being added every day to Zenodo. Some of them could match our search query after the publication of this notebook. That means that our geoextent extraction (See. <a class="reference external" href="#Collect-data">Collect data</a>) could change.</em></p>
<p>Change the following cell type from <code class="docutils literal notranslate"><span class="pre">Raw</span></code> to <code class="docutils literal notranslate"><span class="pre">Code</span></code> before running it.</p>
</div>
</div>
<div class="section" id="collect-data">
<h3><span class="section-number">13.8.2.2. </span>Collect data<a class="headerlink" href="#collect-data" title="Permalink to this headline">¶</a></h3>
<p><strong>ONLY RUN THE FOLLOWING CELL IF YOU WANT TO REPRODUCE THE GEOEXTENT EXTRACTION</strong><br />
Change the following cell type from <code class="docutils literal notranslate"><span class="pre">Raw</span></code> to <code class="docutils literal notranslate"><span class="pre">Code</span></code> before running it. This process could take more than 3 hours.</p>
</div>
</div>
<div class="section" id="analysis">
<h2><span class="section-number">13.8.3. </span>Analysis<a class="headerlink" href="#analysis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="load-data">
<h3><span class="section-number">13.8.3.1. </span>Load data<a class="headerlink" href="#load-data" title="Permalink to this headline">¶</a></h3>
<p>After the geographical and temporal extent extraction of the Zenodo repositories, we have information for <strong>repositories</strong> and <strong>files</strong>. We load the results of the geoextent extraction and split it into two <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code>s, one for each type of data: <code class="docutils literal notranslate"><span class="pre">gdf_repository</span></code> for repositories and <code class="docutils literal notranslate"><span class="pre">gdf_files</span></code> for files. We also load the results of the zenodo API metadata extraction into a data frame: <code class="docutils literal notranslate"><span class="pre">df_geo_zenodo_api</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Loads results from api and geoextent extraction</span>
<span class="n">df_geo_zenodo_api</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">OUTPUT_API</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df_geo_zenodo_api</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df_geo_zenodo_api</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">gdf_geo</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">OUTPUT_GEOEXTENT</span><span class="p">)</span>
<span class="n">gdf_geo</span> <span class="o">=</span> <span class="n">gdf_geo</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;geometry&#39;</span><span class="p">:</span> <span class="s1">&#39;bbox&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">set_geometry</span><span class="p">(</span><span class="s1">&#39;bbox&#39;</span><span class="p">)</span>

<span class="c1">#df_geo = pd.read_csv(OUTPUT_GEOEXTENT, index_col=0)</span>

<span class="c1"># Creates two different geodataframes, one for files and other for zenodo records (repositories)</span>

<span class="n">geoextent_ext</span> <span class="o">=</span> <span class="n">gdf_geo</span><span class="p">[</span><span class="s1">&#39;handler&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;geoextent:&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="n">gdf_repository</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">gdf_geo</span><span class="p">[</span><span class="n">geoextent_ext</span><span class="p">],</span><span class="n">geometry</span> <span class="o">=</span><span class="s2">&quot;bbox&quot;</span><span class="p">,</span><span class="n">crs</span> <span class="o">=</span> <span class="mi">4326</span><span class="p">)</span>
<span class="n">gdf_repository</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;filename&#39;</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">gdf_files</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">gdf_geo</span><span class="p">[</span><span class="o">~</span><span class="n">geoextent_ext</span><span class="p">],</span><span class="n">geometry</span> <span class="o">=</span><span class="s2">&quot;bbox&quot;</span><span class="p">,</span><span class="n">crs</span> <span class="o">=</span> <span class="mi">4326</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="extraction-results">
<h3><span class="section-number">13.8.3.2. </span>Extraction results<a class="headerlink" href="#extraction-results" title="Permalink to this headline">¶</a></h3>
<p>The extraction for each Zenodo record has three possible results:</p>
<ol class="simple">
<li><p>a successful extraction</p></li>
<li><p>no information extracted</p></li>
<li><p>a failure (“error”) during the extraction.</p></li>
</ol>
<p>As results can differ for the respective extraction of geospatial and temporal metadata, these properties are analyzed individually.</p>
<div class="section" id="figure-1-repository-extraction-status-by-parameter">
<h4><span class="section-number">13.8.3.2.1. </span>Figure 1.  Repository extraction status by parameter<a class="headerlink" href="#figure-1-repository-extraction-status-by-parameter" title="Permalink to this headline">¶</a></h4>
<p><a id="figure_1"></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract statistics for geospatial extraction </span>

<span class="n">num_records</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">gdf_repository</span><span class="p">)</span>
<span class="n">per_records_geoextent</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">gdf_repository</span><span class="o">.</span><span class="n">bbox</span><span class="o">.</span><span class="n">is_valid</span><span class="p">)</span><span class="o">/</span><span class="n">num_records</span><span class="o">*</span><span class="mi">100</span>
<span class="n">per_records_no_geoextent</span> <span class="o">=</span> <span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">gdf_repository</span><span class="o">.</span><span class="n">format</span> <span class="o">==</span> <span class="s2">&quot;repository&quot;</span><span class="p">)</span><span class="o">/</span><span class="n">num_records</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span> <span class="o">-</span> <span class="n">per_records_geoextent</span>
<span class="n">per_records_failure</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">gdf_repository</span><span class="o">.</span><span class="n">format</span> <span class="o">==</span> <span class="s2">&quot;repository_error&quot;</span><span class="p">)</span><span class="o">/</span><span class="n">num_records</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># Extract statistics for temporal extraction</span>
<span class="n">per_records_temp</span> <span class="o">=</span> <span class="p">(</span><span class="n">num_records</span><span class="o">-</span><span class="nb">sum</span><span class="p">(</span><span class="n">gdf_repository</span><span class="o">.</span><span class="n">tbox</span><span class="o">.</span><span class="n">isnull</span><span class="p">()))</span><span class="o">/</span><span class="n">num_records</span><span class="o">*</span><span class="mi">100</span>
<span class="n">per_records_no_temp</span> <span class="o">=</span> <span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">gdf_repository</span><span class="o">.</span><span class="n">tbox</span><span class="o">.</span><span class="n">isnull</span><span class="p">())</span><span class="o">-</span><span class="nb">sum</span><span class="p">(</span><span class="n">gdf_repository</span><span class="o">.</span><span class="n">format</span> <span class="o">==</span> <span class="s2">&quot;repository_error&quot;</span><span class="p">))</span><span class="o">/</span><span class="n">num_records</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># Store results</span>
<span class="n">rec_successful</span> <span class="o">=</span> <span class="p">[</span><span class="n">per_records_geoextent</span><span class="p">,</span><span class="n">per_records_temp</span><span class="p">]</span>
<span class="n">rec_no_extraction</span> <span class="o">=</span> <span class="p">[</span><span class="n">per_records_no_geoextent</span><span class="p">,</span><span class="n">per_records_no_temp</span><span class="p">]</span>
<span class="n">rec_failure</span> <span class="o">=</span>  <span class="p">[</span><span class="n">per_records_failure</span><span class="p">,</span><span class="n">per_records_failure</span><span class="p">]</span>

<span class="c1">## Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

<span class="c1"># Plot configuration</span>
<span class="n">ext_type</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Geospatial </span><span class="se">\n</span><span class="s2"> extent&quot;</span><span class="p">,</span><span class="s2">&quot;Temporal </span><span class="se">\n</span><span class="s2"> extent&quot;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">ext_type</span><span class="p">,</span> <span class="n">rec_successful</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;Successful&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">ext_type</span><span class="p">,</span> <span class="n">rec_no_extraction</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;No extraction&#39;</span><span class="p">,</span><span class="n">left</span> <span class="o">=</span> <span class="n">rec_successful</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">ext_type</span><span class="p">,</span> <span class="n">rec_failure</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;Geoextent failure&#39;</span><span class="p">,</span><span class="n">left</span> <span class="o">=</span> <span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">rec_successful</span><span class="p">,</span><span class="n">rec_no_extraction</span><span class="p">])])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;(%) Percentage of repositories&#39;</span><span class="p">)</span>
<span class="n">fig_num</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;n=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">num_records</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; repositories&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;Figure &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">fig_num</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;. Extraction results of temporal and geospatial metadata for Zenodo records&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;https://o2r.info/geoextent/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">710</span><span class="p">,</span><span class="o">-</span><span class="mi">35</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">fig_num</span> <span class="o">+=</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># dataframe with results</span>
<span class="n">df_repo_extractions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;% Successful extractions&quot;</span><span class="p">:</span><span class="n">rec_successful</span><span class="p">,</span>
      <span class="s2">&quot;% No extraction&quot;</span><span class="p">:</span><span class="n">rec_no_extraction</span><span class="p">,</span>
      <span class="s2">&quot;</span><span class="si">% G</span><span class="s2">eoxtent failure&quot;</span><span class="p">:</span> <span class="n">rec_failure</span><span class="p">},</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Geospatial extraction&#39;</span><span class="p">,</span> <span class="s1">&#39;Temporal extraction&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>

<span class="n">df_repo_extractions</span><span class="p">[</span><span class="s1">&#39;Number success&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">df_repo_extractions</span><span class="p">[</span><span class="s1">&#39;% Successful extractions&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="n">num_records</span>
<span class="n">df_repo_extractions</span><span class="p">[</span><span class="s1">&#39;Number No extractions&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">df_repo_extractions</span><span class="p">[</span><span class="s1">&#39;% No extraction&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="n">num_records</span>
<span class="n">df_repo_extractions</span><span class="p">[</span><span class="s1">&#39;Number Geoextent Failure&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">df_repo_extractions</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">% G</span><span class="s1">eoxtent failure&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="n">num_records</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_44_0.png" src="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_44_0.png" />
</div>
</div>
</div>
<div class="section" id="table-2-repository-extraction-status-by-parameter">
<h4><span class="section-number">13.8.3.2.2. </span>Table 2. Repository extraction status by parameter<a class="headerlink" href="#table-2-repository-extraction-status-by-parameter" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_repo_extractions</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>% Successful extractions</th>
      <th>% No extraction</th>
      <th>% Geoxtent failure</th>
      <th>Number success</th>
      <th>Number No extractions</th>
      <th>Number Geoextent Failure</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Geospatial extraction</th>
      <td>14.420063</td>
      <td>81.191223</td>
      <td>4.388715</td>
      <td>46.0</td>
      <td>259.0</td>
      <td>14.0</td>
    </tr>
    <tr>
      <th>Temporal extraction</th>
      <td>2.507837</td>
      <td>93.103448</td>
      <td>4.388715</td>
      <td>8.0</td>
      <td>297.0</td>
      <td>14.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>From a total of <strong>319</strong> Zenodo records analyzed, we extracted the geospatial extent from <strong>14.42%</strong> and the temporal extent from <strong>2.51%</strong>. geoextent did not retrieve the geospatial and temporal extent in <strong>81.19%</strong> respectively <strong>93.10%</strong> of the cases. That means that geoextent explored all files in those records, but did not encounter supported files to retrieve information. Finally, the extraction with geoextent failed due to unknown reasons in <strong>4.39%</strong> of the records.</p>
<p>A similar analysis is possible for the individual files. In this case, only two outputs are possible:</p>
<ol class="simple">
<li><p>extraction is successful</p></li>
<li><p>there is no extraction at all</p></li>
</ol>
<p>In the following code, we first remove folders and ZIP archives from the used data subset, as the data files include both the files and the combined result for folders and ZIP archives.</p>
</div>
<div class="section" id="figure-2-files-extraction-status-by-parameter">
<h4><span class="section-number">13.8.3.2.3. </span>Figure 2. Files extraction status by parameter<a class="headerlink" href="#figure-2-files-extraction-status-by-parameter" title="Permalink to this headline">¶</a></h4>
<p><a id="figure_2"></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract only files (no folders or zipfile)</span>
<span class="n">uni_files_gdf</span> <span class="o">=</span> <span class="n">gdf_files</span><span class="p">[</span><span class="o">~</span><span class="n">gdf_files</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;folder&quot;</span><span class="p">,</span><span class="s2">&quot;zip&quot;</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Extract statistics for geospatial extraction </span>
<span class="n">num_files</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">uni_files_gdf</span><span class="p">)</span>

<span class="c1"># Percentage files with valid bbox (i.e., valid geometry) from total number of files</span>
<span class="n">per_files_geoextent</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">bbox</span><span class="o">.</span><span class="n">is_valid</span><span class="p">)</span><span class="o">/</span><span class="n">num_files</span><span class="o">*</span><span class="mi">100</span>
<span class="c1"># Percentage files without valid bbox (i.e., no geometry) from total number of files</span>
<span class="n">per_files_no_geoextent</span> <span class="o">=</span> <span class="mi">100</span><span class="o">-</span><span class="n">per_files_geoextent</span>

<span class="c1"># Extract statistics for temporal extraction</span>
<span class="n">per_files_temp</span> <span class="o">=</span> <span class="p">(</span><span class="n">num_files</span><span class="o">-</span><span class="nb">sum</span><span class="p">(</span><span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">tbox</span><span class="o">.</span><span class="n">isnull</span><span class="p">()))</span><span class="o">/</span><span class="n">num_files</span><span class="o">*</span><span class="mi">100</span>
<span class="n">per_files_no_temp</span> <span class="o">=</span> <span class="mi">100</span><span class="o">-</span><span class="n">per_files_temp</span>

<span class="c1"># Record results</span>
<span class="n">files_successful</span> <span class="o">=</span> <span class="p">[</span><span class="n">per_files_geoextent</span><span class="p">,</span><span class="n">per_files_temp</span><span class="p">]</span>
<span class="n">files_no_extraction</span> <span class="o">=</span> <span class="p">[</span><span class="n">per_files_no_geoextent</span><span class="p">,</span><span class="n">per_files_no_temp</span><span class="p">]</span>

<span class="c1"># Plot</span>
<span class="n">status</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Successful extraction&quot;</span><span class="p">,</span><span class="s2">&quot;No extraction&quot;</span><span class="p">]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">ext_type</span><span class="p">,</span> <span class="n">files_successful</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;Successful&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">ext_type</span><span class="p">,</span> <span class="n">files_no_extraction</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;No extraction&#39;</span><span class="p">,</span><span class="n">left</span> <span class="o">=</span> <span class="n">files_successful</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;(%) Percentage of files&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">status</span><span class="p">,</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;n=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">num_files</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; files&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;Figure &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">fig_num</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;. Extraction results of temporal and geospatial metadata for individual files from Zenodo records&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;https://o2r.info/geoextent/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">710</span><span class="p">,</span><span class="o">-</span><span class="mi">60</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">fig_num</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># dataframe with results</span>
<span class="n">df_files_extractions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;% Successful extractions&quot;</span><span class="p">:</span><span class="n">files_successful</span><span class="p">,</span>
      <span class="s2">&quot; % No extraction&quot;</span><span class="p">:</span><span class="n">files_no_extraction</span><span class="p">},</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Geospatial extraction&#39;</span><span class="p">,</span> <span class="s1">&#39;Temporal extraction&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_49_0.png" src="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_49_0.png" />
</div>
</div>
</div>
<div class="section" id="table-3-files-extraction-status-by-parameter">
<h4><span class="section-number">13.8.3.2.4. </span>Table 3. Files extraction status by parameter<a class="headerlink" href="#table-3-files-extraction-status-by-parameter" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_files_extractions</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>% Successful extractions</th>
      <th>% No extraction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Geospatial extraction</th>
      <td>2.134463</td>
      <td>97.865537</td>
    </tr>
    <tr>
      <th>Temporal extraction</th>
      <td>0.080909</td>
      <td>99.919091</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>From <strong>25,955</strong> files analyzed, <strong>0.08%</strong> had a successful temporal extraction and <strong>2.13%</strong> a geospatial extraction. Files for which neither temporal nor geospatial metadata could be extracted are diverse. For instance, Zenodo records include non-data files (e.g., documentation, code) or data that has no geospatial component (e.g., laboratory measurements). Even for file formats designed to store geospatial data, there is a risk of ambiguity or lack of information regarding the coordinate reference systems, or geospatial data file formats may be unsupported. Therefore, we took investigated files in known geospatial data formats. This group gives us a better idea of the proportion of geospatial metadata that we could extract automatically.</p>
</div>
<div class="section" id="figure-3-geospatial-extraction-status-by-potential-files">
<h4><span class="section-number">13.8.3.2.5. </span>Figure 3. Geospatial extraction status by potential files<a class="headerlink" href="#figure-3-geospatial-extraction-status-by-potential-files" title="Permalink to this headline">¶</a></h4>
<p><a id="figure_3"></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List of potential file formats with geospatial information</span>
<span class="n">potential_geo_formats</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="s1">&#39;shp&#39;</span><span class="p">,</span> <span class="s1">&#39;shx&#39;</span><span class="p">,</span> <span class="s1">&#39;dbf&#39;</span><span class="p">,</span> <span class="s1">&#39;kml&#39;</span><span class="p">,</span> <span class="s1">&#39;gpkg&#39;</span><span class="p">,</span> <span class="s1">&#39;xls&#39;</span><span class="p">,</span> <span class="s1">&#39;gdbtable&#39;</span><span class="p">,</span><span class="s1">&#39;geojson&#39;</span><span class="p">,</span> <span class="s1">&#39;gmt&#39;</span><span class="p">,</span><span class="s1">&#39;gml&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;pdf&#39;</span><span class="p">,</span> <span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;tif&#39;</span><span class="p">,</span> <span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="s1">&#39;jpeg&#39;</span><span class="p">,</span><span class="s1">&#39;img&#39;</span><span class="p">,</span> <span class="s1">&#39;bmp&#39;</span><span class="p">,</span><span class="s1">&#39;asc&#39;</span><span class="p">,</span> <span class="s1">&#39;ovr&#39;</span><span class="p">,</span><span class="s1">&#39;unw&#39;</span><span class="p">,</span> <span class="s1">&#39;h5&#39;</span><span class="p">,</span> <span class="s1">&#39;kml&#39;</span><span class="p">,</span> <span class="s1">&#39;tiff&#39;</span><span class="p">,</span><span class="s1">&#39;csv&#39;</span><span class="p">]</span>
                         
<span class="c1"># Extract total number of files by zenodo record </span>
<span class="n">total_files</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">zenodo_record_id</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1"># Extract total number of potential file with geoextent by zenodo record</span>
<span class="n">files_potential_geo_formats</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">potential_geo_formats</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;zenodo_record_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Extract total number of files with potential geospatial information</span>
<span class="n">total_files_potential</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">files_potential_geo_formats</span><span class="p">)</span>

<span class="c1"># Extract percentage of files with successful geoextent extraction from the potential</span>
<span class="n">per_total_geoextent_potential</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">bbox</span><span class="o">.</span><span class="n">is_valid</span><span class="p">)</span> <span class="o">/</span> <span class="n">total_files_potential</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1">## Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="c1"># Plot configuration</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="s2">&quot;Geoextent </span><span class="se">\n</span><span class="s2"> extraction&quot;</span><span class="p">,</span><span class="n">per_total_geoextent_potential</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;Successful extraction&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="s2">&quot;Geoextent </span><span class="se">\n</span><span class="s2"> extraction&quot;</span><span class="p">,</span><span class="mi">100</span><span class="o">-</span><span class="n">per_total_geoextent_potential</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;No extraction&#39;</span><span class="p">,</span><span class="n">left</span> <span class="o">=</span> <span class="n">per_total_geoextent_potential</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;(%) Percentage of files&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;n=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">total_files_potential</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; files&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;Figure &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">fig_num</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;. Geoextent extraction for known geospatial data file formats&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
             <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;https://o2r.info/geoextent/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">710</span><span class="p">,</span><span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">fig_num</span> <span class="o">+=</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># dataframe with results</span>
<span class="n">df_files_extractions_from_potential</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;Total number of files&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">num_files</span><span class="p">),</span>
                                                              <span class="s2">&quot;Number of files with potential&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">total_files_potential</span><span class="p">),</span>
                                                              <span class="s2">&quot;</span><span class="si">% F</span><span class="s2">iles with potential&quot;</span><span class="p">:</span><span class="mi">100</span><span class="o">*</span><span class="n">total_files_potential</span><span class="o">/</span><span class="n">num_files</span><span class="p">,</span>
                                                              <span class="s2">&quot;% Successful extractions over potential&quot;</span><span class="p">:</span><span class="n">per_total_geoextent_potential</span><span class="p">,</span>
                                                              <span class="s2">&quot;% No extractions over potential&quot;</span><span class="p">:</span><span class="mi">100</span><span class="o">-</span><span class="n">per_total_geoextent_potential</span><span class="p">},</span>
                                                             <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Geospatial extraction&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_54_0.png" src="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_54_0.png" />
</div>
</div>
</div>
<div class="section" id="table-4-geospatial-extraction-by-files">
<h4><span class="section-number">13.8.3.2.6. </span>Table 4. Geospatial extraction by files<a class="headerlink" href="#table-4-geospatial-extraction-by-files" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_files_extractions_from_potential</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Geospatial extraction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Total number of files</th>
      <td>25955.000000</td>
    </tr>
    <tr>
      <th>Number of files with potential</th>
      <td>12954.000000</td>
    </tr>
    <tr>
      <th>% Files with potential</th>
      <td>49.909459</td>
    </tr>
    <tr>
      <th>% Successful extractions over potential</th>
      <td>4.276671</td>
    </tr>
    <tr>
      <th>% No extractions over potential</th>
      <td>95.723329</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>From <strong>25,955</strong> files, there are <strong>12,954</strong> (<em>49.91%</em>) files with known formats that could potentially store geospatial information. From these files, only <strong>4.28%</strong> had a successful geoextent extraction, i.e., a bounding box could be derived, and <strong>95.72%</strong> resulted in no extraction. The distribution of these files among the records is relevant to explore the percentages of Zenodo records that could have a successful geoextent extraction, i.e., at least one file with successful extraction.</p>
</div>
<div class="section" id="figure-4-geospatial-extraction-status-by-repositories-with-potential-files">
<h4><span class="section-number">13.8.3.2.7. </span>Figure 4. Geospatial extraction status by repositories with potential files<a class="headerlink" href="#figure-4-geospatial-extraction-status-by-repositories-with-potential-files" title="Permalink to this headline">¶</a></h4>
<p><a id="figure_4"></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract total number of files with successful geoextent extraction by zenodo record</span>
<span class="n">geo_files</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;bbox&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">is_valid</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;zenodo_record_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1">#Extract number of records by category</span>
<span class="n">num_records_with_files</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">files_potential_geo_formats</span><span class="p">)</span>

<span class="n">num_repo_potential_geo</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">files_potential_geo_formats</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="n">per_potential_geoextent</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">geo_files</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="n">num_repo_potential_geo</span><span class="o">*</span><span class="mi">100</span>
<span class="n">per_potential_no_geoextent</span> <span class="o">=</span> <span class="mi">100</span><span class="o">-</span><span class="n">per_potential_geoextent</span>

<span class="c1">## Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="c1"># Plot configuration</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="s2">&quot;Records with potential </span><span class="se">\n</span><span class="s2"> geospatial information&quot;</span><span class="p">,</span><span class="n">per_potential_geoextent</span><span class="p">,</span><span class="n">color</span><span class="o">=</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;Successful extraction&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="s2">&quot;Records with potential </span><span class="se">\n</span><span class="s2"> geospatial information&quot;</span><span class="p">,</span><span class="n">per_potential_no_geoextent</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span><span class="s1">&#39;No extraction&#39;</span><span class="p">,</span><span class="n">left</span><span class="o">=</span><span class="n">per_potential_geoextent</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;Figure &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">fig_num</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;. Geoextent extraction for different groups of </span><span class="se">\n</span><span class="s1"> Zenodo records with at least one potential file with geospatial information&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
             <span class="p">(</span><span class="mi">160</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;https://o2r.info/geoextent/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">710</span><span class="p">,</span><span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;n=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">num_repo_potential_geo</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;(%) Percentage of zenodo records&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">fig_num</span> <span class="o">+=</span><span class="mi">1</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mtick</span><span class="o">.</span><span class="n">PercentFormatter</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># dataframe with results</span>
<span class="n">df_repos_extractions_from_potential</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;Total repositories&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">num_records</span><span class="p">),</span>
                                                              <span class="s2">&quot;Repositories explored&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">num_records_with_files</span><span class="p">),</span>
                                                              <span class="s2">&quot;Number of repositories with potential&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">num_repo_potential_geo</span><span class="p">),</span>
                                                              <span class="s2">&quot;% Repositories with potential&quot;</span><span class="p">:</span><span class="mi">100</span><span class="o">*</span><span class="n">num_repo_potential_geo</span><span class="o">/</span><span class="n">num_records</span><span class="p">,</span>
                                                              <span class="s2">&quot;% Successful extractions over potential&quot;</span><span class="p">:</span><span class="n">per_potential_geoextent</span><span class="p">,</span>
                                                              <span class="s2">&quot;% No extractions over potential&quot;</span><span class="p">:</span><span class="n">per_potential_no_geoextent</span><span class="p">},</span>
                                                             <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Geospatial extraction&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_59_0.png" src="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_59_0.png" />
</div>
</div>
</div>
<div class="section" id="table-5-geospatial-extraction-by-repositories">
<h4><span class="section-number">13.8.3.2.8. </span>Table 5. Geospatial extraction by repositories<a class="headerlink" href="#table-5-geospatial-extraction-by-repositories" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_repos_extractions_from_potential</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Geospatial extraction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Total repositories</th>
      <td>319.000000</td>
    </tr>
    <tr>
      <th>Repositories explored</th>
      <td>301.000000</td>
    </tr>
    <tr>
      <th>Number of repositories with potential</th>
      <td>164.000000</td>
    </tr>
    <tr>
      <th>% Repositories with potential</th>
      <td>51.410658</td>
    </tr>
    <tr>
      <th>% Successful extractions over potential</th>
      <td>28.048780</td>
    </tr>
    <tr>
      <th>% No extractions over potential</th>
      <td>71.951220</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>From the <strong>301</strong> Zenodo records analyzed, <strong>164</strong> have at least one file with a supported file format. Consequently, in the best scenario, the percentage of successful geospatial extraction on the level of records would be <strong>51.41%</strong>. However, from the <strong>164</strong> repositories with potential files, only <strong>28.05%</strong> of records could be attributed to a geospatial extent (i.e., <strong>14.42%</strong> over total records).</p>
<p>To understand the problem better, we next explore the distribution of files per repository. Specifically, exploring the total number of files, the number of potential successful extractions (i.e., supported file formats), and the actual number of successful extractions.</p>
</div>
<div class="section" id="figure-5-files-distribution-over-repositories">
<h4><span class="section-number">13.8.3.2.9. </span>Figure 5. Files distribution over repositories<a class="headerlink" href="#figure-5-files-distribution-over-repositories" title="Permalink to this headline">¶</a></h4>
<p><a id="figure_5"></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="c1"># Extract bins in logaritmic scale</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">zenodo_record_id</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">hist</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">logbins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">bins</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">bins</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span><span class="nb">len</span><span class="p">(</span><span class="n">bins</span><span class="p">))</span>
<span class="c1"># Includes 0 into the &#39;logaritmic&#39; scale</span>
<span class="n">bin_dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="o">-</span><span class="mf">0.1</span><span class="p">],</span><span class="n">logbins</span><span class="p">)</span>

<span class="c1"># Plot distribution of 3 categories in common sudo-logaritmic (zero-included) scale</span>
<span class="n">total_files</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bin_dist</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Total files&quot;</span><span class="p">)</span>
<span class="n">files_potential_geo_formats</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="n">hatch</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="n">bin_dist</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Potential files with geoextent&quot;</span><span class="p">)</span>
<span class="n">geo_files</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span> <span class="n">ax</span><span class="p">,</span><span class="n">histtype</span><span class="o">=</span><span class="s1">&#39;barstacked&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="n">hatch</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="n">bin_dist</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Files with geoextent&quot;</span><span class="p">)</span>

<span class="c1"># Plot configuration</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of repositories (Count)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of files  (Equally-space logaritmic)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mpl</span><span class="o">.</span><span class="n">ticker</span><span class="o">.</span><span class="n">ScalarFormatter</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mpl</span><span class="o">.</span><span class="n">ticker</span><span class="o">.</span><span class="n">ScalarFormatter</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;Figure &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">fig_num</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;. Potential and successful files for geospatial metadata extration</span><span class="se">\n</span><span class="s1"> across Zenodo repositories with different number of files&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
             <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;https://o2r.info/geoextent/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">710</span><span class="p">,</span><span class="o">-</span><span class="mi">50</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">fig_num</span> <span class="o">+=</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_64_0.png" src="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_64_0.png" />
</div>
</div>
</div>
<div class="section" id="table-6-distribution-of-the-number-of-files-by-repositories">
<h4><span class="section-number">13.8.3.2.10. </span>Table 6. Distribution of the number of files by repositories.<a class="headerlink" href="#table-6-distribution-of-the-number-of-files-by-repositories" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">total_files</span><span class="o">.</span><span class="n">describe</span><span class="p">()[</span><span class="mi">1</span><span class="p">:],</span><span class="n">files_potential_geo_formats</span><span class="o">.</span><span class="n">describe</span><span class="p">()[</span><span class="mi">1</span><span class="p">:],</span><span class="n">geo_files</span><span class="o">.</span><span class="n">describe</span><span class="p">()[</span><span class="mi">1</span><span class="p">:])),</span>
            <span class="n">columns</span> <span class="o">=</span><span class="p">[</span><span class="s1">&#39;Files in repository&#39;</span><span class="p">,</span> <span class="s1">&#39;Potential files with geoextent&#39;</span><span class="p">,</span><span class="s1">&#39;Files with geoextent&#39;</span><span class="p">],</span>
            <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Mean&#39;</span><span class="p">,</span><span class="s1">&#39;Standard deviation&#39;</span><span class="p">,</span><span class="s1">&#39;Min&#39;</span><span class="p">,</span><span class="s1">&#39;25%&#39;</span><span class="p">,</span><span class="s1">&#39;50%&#39;</span><span class="p">,</span><span class="s1">&#39;75%&#39;</span><span class="p">,</span><span class="s1">&#39;Max&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Files in repository</th>
      <th>Potential files with geoextent</th>
      <th>Files with geoextent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Mean</th>
      <td>86.229236</td>
      <td>43.036545</td>
      <td>1.840532</td>
    </tr>
    <tr>
      <th>Standard deviation</th>
      <td>457.793327</td>
      <td>400.699765</td>
      <td>11.620147</td>
    </tr>
    <tr>
      <th>Min</th>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>12.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>31.000000</td>
      <td>4.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Max</th>
      <td>6515.000000</td>
      <td>6515.000000</td>
      <td>180.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can observe that for the distribution of the total number of files in Zenodo records, there are on average <strong>86.23</strong> files with a standard deviation of <strong>457.79</strong>. As suggested by the high standard deviation, there are a few records with a very high number of files.  A better way to describe the number of files by repository is by quantiles. For example, <strong>50%</strong> of the records have less than <strong>12.0</strong> files.</p>
<p>In the figure, we can see that supported files are found in repositories with varying numbers of files. There are <strong>43.04</strong> files on average with potential geospatial information with a standard deviation of <strong>400.7</strong>. As before, a better indicator of the distribution results from the quantiles. For this case, <strong>50%</strong> of the repositories have less than <strong>1.0</strong> file with a supported file format. <strong>137</strong> records of the <strong>319</strong> analyzed have <strong>0</strong> supported files.</p>
<p>Regarding successful extractions, there are <strong>1.84</strong> files on average with geoextent per repository analyzed with a standard deviation of <strong>11.62</strong>. In total <strong>255</strong> records did not have a successful geoextent extraction. For repositories with successful extraction, we can see that the final geospatial extraction relies in some cases on only <strong>1</strong> file extraction result, yet in one case on <strong>180</strong> file extractions.</p>
<p>To understand the types of Zenodo records that result in a successful geoextent extraction, we computed the proportion of files with potential geospatial information over the total number of files and the percentage of files with successful extraction over the potential.</p>
</div>
<div class="section" id="figure-6-percentage-of-potential-geospatial-files-and-success-rate-of-extraction">
<h4><span class="section-number">13.8.3.2.11. </span>Figure 6. Percentage of potential geospatial files and success rate of extraction<a class="headerlink" href="#figure-6-percentage-of-potential-geospatial-files-and-success-rate-of-extraction" title="Permalink to this headline">¶</a></h4>
<p><a id="figure_6"></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract number of total files by records with successful extraction by zenodo record</span>
<span class="n">files_in_record</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">zenodo_record_id</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="c1"># Extract number of files with successful extraction with potential geospatial information by zenodo record</span>
<span class="n">potential_files_with_geo_in_record</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">potential_geo_formats</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;zenodo_record_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="c1"># Extract number of files with successful geoextent extraction by zenodo record</span>
<span class="n">files_with_geo_in_record</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;bbox&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">is_valid</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;zenodo_record_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Store information</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;files_in_record&#39;</span><span class="p">:</span> <span class="n">files_in_record</span><span class="p">,</span>
                       <span class="s1">&#39;files_with_potential_geoextent&#39;</span><span class="p">:</span> <span class="n">potential_files_with_geo_in_record</span><span class="p">,</span>
                       <span class="s1">&#39;files_with_extracted_geoextent&#39;</span><span class="p">:</span> <span class="n">files_with_geo_in_record</span><span class="p">,</span>
                      <span class="p">})</span>

<span class="n">result</span><span class="p">[</span><span class="s1">&#39;per_success_from_total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">files_with_extracted_geoextent</span><span class="o">/</span><span class="n">result</span><span class="o">.</span><span class="n">files_in_record</span><span class="o">*</span><span class="mi">100</span>
<span class="n">result</span><span class="p">[</span><span class="s1">&#39;per_success_from_potential&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">files_with_extracted_geoextent</span><span class="o">/</span><span class="n">result</span><span class="o">.</span><span class="n">files_with_potential_geoextent</span><span class="o">*</span><span class="mi">100</span>
<span class="n">result</span><span class="p">[</span><span class="s1">&#39;potential_per_success&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;files_with_potential_geoextent&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;files_in_record&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># This line includes repositories with 0 potential files. Replace NaN to 0 </span>
<span class="c1"># All repos without potential files go to (0,0)</span>
<span class="n">result</span><span class="o">.</span><span class="n">per_success_from_potential</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1">## Plot</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">scatter</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;potential_per_success&#39;</span><span class="p">],</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;per_success_from_potential&#39;</span><span class="p">],</span>
                     <span class="n">c</span><span class="o">=</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;per_success_from_total&#39;</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;files_in_record&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;copper&quot;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span> <span class="mf">0.7</span><span class="p">)</span>

<span class="n">range_per_success_total</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>

<span class="c1"># produce a legend with the unique colors from the scatter</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Percentage of successful extraction </span><span class="se">\n</span><span class="s2"> over total files in repository&quot;</span><span class="p">)</span>

<span class="n">range_num_files</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;files_in_record&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">0.99</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="c1"># produce a legend with a cross section of sizes from the scatter</span>
<span class="n">kw</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="s2">&quot;sizes&quot;</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">range_num_files</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{x:,}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">legend2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="o">*</span><span class="n">scatter</span><span class="o">.</span><span class="n">legend_elements</span><span class="p">(</span><span class="o">**</span><span class="n">kw</span><span class="p">),</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;# of total files </span><span class="se">\n</span><span class="s2"> in record&quot;</span> <span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span><span class="mf">0.9</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">103</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Percentage of files in repository with potential geospatial information&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Percentage of files with successful geospatial </span><span class="se">\n</span><span class="s1"> information extraction over potential files&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;Figure &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">fig_num</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;. Potential geospatial files vs. success rate over potential&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
             <span class="p">(</span><span class="mi">140</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;https://o2r.info/geoextent/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;1&#39;&quot;</span><span class="p">,</span><span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span><span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">&quot;-&gt;&quot;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;2&#39;&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">92</span><span class="p">,</span> <span class="mi">95</span><span class="p">),</span><span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">&quot;-&gt;&quot;</span><span class="p">))</span>

<span class="n">fig_num</span> <span class="o">+=</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_69_0.png" src="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_69_0.png" />
</div>
</div>
<p>Each circle in the above figure represents a Zenodo record and its extraction results. For example, the repository <em><a class="reference external" href="https://zenodo.org/record/3981412">Is drought tolerance a domestication trait in tepary bean?: Allelic diversity at abiotic stress responsive genes in cultivated Phaseolus acutifolius A. Gray and its wild relatives</a></em> (see <strong>1’</strong> in the figure) has a total number of
<strong>12</strong> files. From those files, <strong>5</strong> (41.67%) corresponds to a file format known to possibly store geospatial information (<code class="docutils literal notranslate"><span class="pre">.CSV</span></code>) and the remaining files are text files with DNA data (<code class="docutils literal notranslate"><span class="pre">FAS</span></code>). From these supported files, only <strong>1</strong> has a successful extraction resulting in a <strong>20%</strong> of success over the potential. Another example repository, <em><a class="reference external" href="https://zenodo.org/record/35350">The Literary Geographies of Christine de Pizan (geo-data)</a></em> (see <strong>2’</strong> in the figure) only has <strong>1</strong> file. This file is from a supported format (<code class="docutils literal notranslate"><span class="pre">CSV</span></code>) and the extraction was successful resulting in both potential and successful extraction of <strong>100%</strong>. The differences between these two cases with only one successful geoextent extraction illustrate the complexity in understanding the reliability of the extraction.</p>
<p>In general, we observe that records with 0% successful extractions (vertical axis) over their potential (horizontal axis) have different percentages of potential geospatial information over the total number of files. That means that most of these records have a relevant (proportional to their size) number of files with formats known to contain geospatial information, but geoextent did not extract any information. As mentioned before, this could be due to ambiguous file formats (such as <code class="docutils literal notranslate"><span class="pre">CSV</span></code> files) that do not necessarily store geospatial information or that do so in an unsupported way. We observe that repositories with successful extraction are usually small repositories in which the potential geospatial files represent more than 20% of the total files. There are few cases in which records with successful geospatial extractions have a 100% success rate of extraction over its potential. That means that the extracted bounding box could be missing some information.</p>
<p>To understand which formats are problematic to extract geospatial information, we compute the percentages of extraction success.</p>
</div>
<div class="section" id="figure-7-success-rate-of-extraction-by-file-format">
<h4><span class="section-number">13.8.3.2.12. </span>Figure 7. Success rate of extraction by file format<a class="headerlink" href="#figure-7-success-rate-of-extraction-by-file-format" title="Permalink to this headline">¶</a></h4>
<p><a id="figure_7"></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">files_valid</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="p">[</span><span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">is_valid</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">d1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;Total&quot;</span><span class="p">:</span><span class="n">uni_files_gdf</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(),</span>
                  <span class="s2">&quot;geoextent_success&quot;</span><span class="p">:</span><span class="n">files_valid</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()})</span>
<span class="n">d1</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">d1</span><span class="p">[</span><span class="s1">&#39;perc_success&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">d1</span><span class="p">[</span><span class="s1">&#39;geoextent_success&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">d1</span><span class="p">[</span><span class="s1">&#39;Total&#39;</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># To avoid repetition for shapefiles we remote dbf and shx</span>
<span class="n">d1</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;dbf&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">d1</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;shx&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">labels</span> <span class="o">=</span> <span class="n">d1</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span>
<span class="n">success</span> <span class="o">=</span> <span class="n">d1</span><span class="p">[</span><span class="s1">&#39;perc_success&#39;</span><span class="p">]</span>
<span class="n">failure</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">d1</span><span class="p">[</span><span class="s1">&#39;perc_success&#39;</span><span class="p">]</span>

<span class="n">color_success</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#009900&quot;</span><span class="p">,</span><span class="s2">&quot;#255e25&quot;</span><span class="p">]</span>
<span class="n">color_failure</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#FF3333&quot;</span><span class="p">,</span><span class="s2">&quot;#930707&quot;</span><span class="p">]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.35</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">success</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Successful&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span> <span class="n">color_success</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">failure</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="n">success</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">color_failure</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;No extraction&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Percentage&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;File format&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Percentage&#39;</span><span class="p">)</span>

<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">bar</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">patches</span><span class="p">:</span> 
    <span class="n">displace</span> <span class="o">=-</span><span class="mi">1</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">color_failure</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="mi">90</span>
    <span class="k">if</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_y</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">d1</span><span class="p">[</span><span class="s1">&#39;Total&#39;</span><span class="p">][</span><span class="n">count</span><span class="p">]</span>
        <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">displace</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">color</span><span class="o">=</span> <span class="n">color_success</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;n= &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>  
                   <span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span>  
                   <span class="mi">50</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> 
                   <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> 
                   <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;.1%&quot;</span><span class="p">),</span>  
                   <span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">*</span><span class="mf">1.5</span><span class="p">),</span>  
                   <span class="n">pos</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> 
                   <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> 
                   <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">)</span>
    
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center right&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;Figure &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">fig_num</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;. Geoextent extraction success by supported file type&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;https://o2r.info/geoextent/&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">710</span><span class="p">,</span><span class="o">-</span><span class="mi">40</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">fig_num</span> <span class="o">+=</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_72_0.png" src="../../../_images/SG_01_Exploring_Research_Data_Repositories_with_geoextent_72_0.png" />
</div>
</div>
<p>First, we can observe that file formats whose main purpose is to store geospatial information have a higher success rate of extraction. For example, <a class="reference external" href="https://geojson.org/">GeoJSON</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/TIFF">TIFF</a>, <a class="reference external" href="https://developers.google.com/kml/documentation/kml_tut">KML</a>, and <a class="reference external" href="https://uavsar.jpl.nasa.gov/science/documents/rpi-format.html">UNW</a> have a <strong>100%</strong> success rate, but the number of files is relatively small.
Surprisingly though, other popular formats have a lower success rate (with bigger samples). For example,
<a class="reference external" href="https://www.geopackage.org/">GeoPackage</a> (<code class="docutils literal notranslate"><span class="pre">.gpkg</span></code>), an open format for geospatial information,  has a lower success rate of <strong>57.1%</strong>. That could result from the small sample size (n=<strong>7</strong>) and errors in the formatting of files as those present in other geospatial file formats (e.g., <strong>56.25%</strong> failure in <code class="docutils literal notranslate"><span class="pre">.shp</span></code>). Similarly, <code class="docutils literal notranslate"><span class="pre">.shp</span></code> and<code class="docutils literal notranslate"><span class="pre">.tif</span></code> success rates vary between <strong>43.75</strong> and <strong>52.54%</strong>.</p>
<p>Second, the results suggest that ambiguous formats (i.e., those that do not necessarily have geospatial information) unsurprisingly have a high percentage of no extractions. For CSV files, geoextent could not extract geospatial information in <strong>98.8%</strong> of files. To determine what percentage corresponds to information without geospatial data (e.g., laboratory results) and those with geospatial information but unsuccessful extraction, we would need to evaluate each file by hand. However, what is relevant for us is that at least <strong>1.2%</strong> of CSV files have extractable geospatial information. Files with a <code class="docutils literal notranslate"><span class="pre">.png</span></code> format also have a similar low success rate of <strong>0.10%</strong>. That means that we can not discard ambiguous file formats as potential sources of geometada.</p>
<p>Third, the low success rate for <a class="reference external" href="https://www.unidata.ucar.edu/software/netcdf/">NetCDF<code class="docutils literal notranslate"><span class="pre">.nc</span></code></a> (<strong>6.6%</strong>) files, an array-oriented scientific data format, could suggest that information is store in multiple formats without implementing its full capabilities to preserve geospatial information. Even though the success rate of this and other specialised file formats are higher than ambiguous formats, a better performance would be desirable to store and reduce problems while reproducing the findings of the studies.</p>
</div>
</div>
<div class="section" id="visualization-of-extracted-geospatial-extents">
<h3><span class="section-number">13.8.3.3. </span>Visualization of extracted geospatial extents<a class="headerlink" href="#visualization-of-extracted-geospatial-extents" title="Permalink to this headline">¶</a></h3>
<p>For a final evaluation of the geoextent extraction, we generate a map of bounding boxes by record (repository).</p>
<div class="section" id="map-1-extracted-bounding-boxes-visualization">
<h4><span class="section-number">13.8.3.3.1. </span>Map 1. Extracted bounding boxes visualization<a class="headerlink" href="#map-1-extracted-bounding-boxes-visualization" title="Permalink to this headline">¶</a></h4>
<p><a id="map_1"></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract only repositories and files with geometry</span>

<span class="n">rep_valid</span> <span class="o">=</span> <span class="n">gdf_repository</span><span class="p">[</span><span class="n">gdf_repository</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">is_valid</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">rep_valid</span><span class="o">.</span><span class="n">tbox</span> <span class="o">=</span> <span class="n">rep_valid</span><span class="o">.</span><span class="n">tbox</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">rep_valid</span><span class="o">.</span><span class="n">zenodo_record_id</span> <span class="o">=</span> <span class="n">rep_valid</span><span class="o">.</span><span class="n">zenodo_record_id</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="n">files_valid</span> <span class="o">=</span> <span class="n">uni_files_gdf</span><span class="p">[</span><span class="n">uni_files_gdf</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">is_valid</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">files_valid</span><span class="o">.</span><span class="n">zenodo_record_id</span> <span class="o">=</span> <span class="n">files_valid</span><span class="o">.</span><span class="n">zenodo_record_id</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="n">rep_valid</span> <span class="o">=</span> <span class="n">rep_valid</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_geo_zenodo_api</span><span class="p">,</span><span class="n">left_on</span><span class="o">=</span><span class="s2">&quot;zenodo_record_id&quot;</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">max_bounds</span><span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">stripes</span> <span class="o">=</span> <span class="n">plugins</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">StripePattern</span><span class="p">(</span><span class="n">angle</span><span class="o">=-</span><span class="mi">45</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;#B22222&quot;</span><span class="p">)</span>
<span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fillColor&#39;</span><span class="p">:</span> <span class="s1">&#39;#B22222&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#B22222&#39;</span><span class="p">,</span> <span class="s1">&#39;dashArray&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span><span class="s1">&#39;fillPattern&#39;</span> <span class="p">:</span><span class="n">stripes</span><span class="p">,</span><span class="s1">&#39;fillOpacity&#39;</span> <span class="p">:</span> <span class="mf">0.6</span><span class="p">}</span>   

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">rep_valid</span><span class="p">)):</span>

    <span class="n">fg</span> <span class="o">=</span> <span class="n">FeatureGroup</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;zenodo_record_id&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">GeoJson</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;bbox&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
                   <span class="n">name</span><span class="o">=</span><span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;zenodo_record_id&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
                   <span class="n">style_function</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">style</span><span class="p">,</span>
                   <span class="p">)</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span>
        <span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span>
            <span class="s2">&quot;&lt;b&gt; REPOSITORY &lt;/b&gt;&quot;</span> <span class="o">+</span>
            <span class="s2">&quot;&lt;li&gt;&lt;b&gt; Repository ID: &lt;/b&gt; &quot;</span> <span class="o">+</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;zenodo_record_id&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
            <span class="s2">&quot;&lt;li&gt;&lt;b&gt; Title: &lt;/b&gt; &quot;</span> <span class="o">+</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
            <span class="s2">&quot;&lt;li&gt;&lt;b&gt;   D.O.I: &lt;/b&gt; &lt;/b&gt;&quot;</span> <span class="o">+</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;doi&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
            <span class="s2">&quot;&lt;li&gt;&lt;b&gt;  License: &lt;/b&gt;&quot;</span> <span class="o">+</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;license&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
            <span class="s2">&quot;&lt;li&gt;&lt;b&gt; tbox: &lt;/b&gt;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;tbox&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span>
            <span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s1">&#39;250&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">fg</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">files_valid</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">files_valid</span><span class="p">[</span><span class="s2">&quot;zenodo_record_id&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;zenodo_record_id&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">folium</span><span class="o">.</span><span class="n">GeoJson</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">files_valid</span><span class="p">[</span><span class="s2">&quot;bbox&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">],</span>
                           <span class="n">name</span><span class="o">=</span><span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;zenodo_record_id&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span>
                <span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span>
                    <span class="s2">&quot;&lt;b&gt; FILE &lt;/b&gt;&quot;</span> <span class="o">+</span>
                    <span class="s2">&quot;&lt;li&gt;&lt;b&gt; Filename: &lt;/b&gt; &quot;</span> <span class="o">+</span> <span class="n">files_valid</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
                    <span class="s2">&quot;&lt;li&gt;&lt;b&gt; Format: &lt;/b&gt; &quot;</span> <span class="o">+</span> <span class="n">files_valid</span><span class="p">[</span><span class="s2">&quot;format&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
                    <span class="s2">&quot;&lt;li&gt;&lt;b&gt; Geoextent Handler: &lt;/b&gt; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">files_valid</span><span class="p">[</span><span class="s2">&quot;handler&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
                    <span class="s2">&quot;&lt;br&gt;&lt;b&gt; REPOSITORY OF ORIGIN &lt;/b&gt;&quot;</span> <span class="o">+</span>
                    <span class="s2">&quot;&lt;li&gt;&lt;b&gt; Repository ID: &lt;/b&gt; &quot;</span> <span class="o">+</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;zenodo_record_id&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
                    <span class="s2">&quot;&lt;li&gt;&lt;b&gt; Title: &lt;/b&gt; &quot;</span> <span class="o">+</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
                    <span class="s2">&quot;&lt;li&gt;&lt;b&gt;   D.O.I: &lt;/b&gt;&quot;</span> <span class="o">+</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;doi&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span> <span class="o">+</span>
                    <span class="s2">&quot;&lt;li&gt;&lt;b&gt;  License: &lt;/b&gt;&quot;</span> <span class="o">+</span> <span class="n">rep_valid</span><span class="p">[</span><span class="s2">&quot;license&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&lt;/li&gt;&quot;</span>
                    <span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s1">&#39;400&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">fg</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">fg</span><span class="p">)</span>

<span class="n">LayerControl</span><span class="p">()</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgCiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgICAgTF9OT19UT1VDSCA9IGZhbHNlOwogICAgICAgICAgICBMX0RJU0FCTEVfM0QgPSBmYWxzZTsKICAgICAgICA8L3NjcmlwdD4KICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjYuMC9kaXN0L2xlYWZsZXQuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjEyLjQubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjYuMC9kaXN0L2xlYWZsZXQuY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMi4wL2Nzcy9ib290c3RyYXAubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLXRoZW1lLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC42LjMvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL0xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLzIuMC4yL2xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL3Jhd2Nkbi5naXRoYWNrLmNvbS9weXRob24tdmlzdWFsaXphdGlvbi9mb2xpdW0vbWFzdGVyL2ZvbGl1bS90ZW1wbGF0ZXMvbGVhZmxldC5hd2Vzb21lLnJvdGF0ZS5jc3MiLz4KICAgIDxzdHlsZT5odG1sLCBib2R5IHt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fTwvc3R5bGU+CiAgICA8c3R5bGU+I21hcCB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDtsZWZ0OjA7fTwvc3R5bGU+CiAgICAKICAgICAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwKICAgICAgICAgICAgICAgIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICAgICAgI21hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1MDAuMHB4OwogICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAuMCU7CiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vdGVhc3RtYW4uZ2l0aHViLmlvL0xlYWZsZXQucGF0dGVybi9sZWFmbGV0LnBhdHRlcm4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCA9IEwubWFwKAogICAgICAgICAgICAgICAgIm1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBbMCwgMF0sCiAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NywKICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IFtbLTkwLCAtMTgwXSwgWzkwLCAxODBdXSwKICAgICAgICAgICAgICAgICAgICB6b29tOiAxLAogICAgICAgICAgICAgICAgICAgIHpvb21Db250cm9sOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHByZWZlckNhbnZhczogZmFsc2UsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CgogICAgICAgICAgICAKCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfZTMwMzYzMjE0YzgyNDYyNDhhMTdhYjdhZjlkM2I3YzUgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyIsCiAgICAgICAgICAgICAgICB7ImF0dHJpYnV0aW9uIjogIkRhdGEgYnkgXHUwMDI2Y29weTsgXHUwMDNjYSBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCJcdTAwM2VPcGVuU3RyZWV0TWFwXHUwMDNjL2FcdTAwM2UsIHVuZGVyIFx1MDAzY2EgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCJcdTAwM2VPRGJMXHUwMDNjL2FcdTAwM2UuIiwgImRldGVjdFJldGluYSI6IGZhbHNlLCAibWF4TmF0aXZlWm9vbSI6IDE4LCAibWF4Wm9vbSI6IDE4LCAibWluWm9vbSI6IDAsICJub1dyYXAiOiBmYWxzZSwgIm9wYWNpdHkiOiAxLCAic3ViZG9tYWlucyI6ICJhYmMiLCAidG1zIjogZmFsc2V9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF81N2Y0NTdkZTBlZTE0YjYxODI0MDMxNTA5ZDU0NjcyYyA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MCA9IG5ldyBMLlN0cmlwZVBhdHRlcm4oCiAgICAgICAgICAgICAgICB7ImFuZ2xlIjogLTQ1LCAiY29sb3IiOiAiI0IyMjIyMiIsICJvcGFjaXR5IjogMC43NSwgInNwYWNlQ29sb3IiOiAiI2ZmZmZmZiIsICJzcGFjZU9wYWNpdHkiOiAwLjAsICJzcGFjZVdlaWdodCI6IDQsICJ3ZWlnaHQiOiA0fQogICAgICAgICAgICApOwogICAgICAgICAgICBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MC5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzhjYWQ5YzQ0YjdmNDM0N2EzNTRjNGJlNWRjYTNiZDBfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zOGNhZDljNDRiN2Y0MzQ3YTM1NGM0YmU1ZGNhM2JkMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzM4Y2FkOWM0NGI3ZjQzNDdhMzU0YzRiZTVkY2EzYmQwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzM4Y2FkOWM0NGI3ZjQzNDdhMzU0YzRiZTVkY2EzYmQwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzM4Y2FkOWM0NGI3ZjQzNDdhMzU0YzRiZTVkY2EzYmQwX3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzU3ZjQ1N2RlMGVlMTRiNjE4MjQwMzE1MDlkNTQ2NzJjKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzhjYWQ5YzQ0YjdmNDM0N2EzNTRjNGJlNWRjYTNiZDBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzM4Y2FkOWM0NGI3ZjQzNDdhMzU0YzRiZTVkY2EzYmQwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zOGNhZDljNDRiN2Y0MzQ3YTM1NGM0YmU1ZGNhM2JkMF9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWzcuMDQyOTYsIDM2LjcxMTldLCBbMTYuMzE4LCAzNi43MTE5XSwgWzE2LjMxOCwgNDYuMzg4XSwgWzcuMDQyOTYsIDQ2LjM4OF0sIFs3LjA0Mjk2LCAzNi43MTE5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOTFkN2U4YjQ4MjY2NDUxZTk3NDUyYmU2MmJmM2RhOTYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYjkzMjQ1NDZkMzg3NDg3NTliNjQ4NWVlMDI0YmE0MTEgPSAkKGA8ZGl2IGlkPSJodG1sX2I5MzI0NTQ2ZDM4NzQ4NzU5YjY0ODVlZTAyNGJhNDExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ2MjM3MzE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gSW50ZW5zaXR5LWdyb3VuZCBtb3Rpb24gZGF0YSBzZXQgZm9yIEl0YWx5IChJTkdlKSB2ZXJzaW9uIDIuMDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC4xMzEyNy9pbmdlLjI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzkxZDdlOGI0ODI2NjQ1MWU5NzQ1MmJlNjJiZjNkYTk2LnNldENvbnRlbnQoaHRtbF9iOTMyNDU0NmQzODc0ODc1OWI2NDg1ZWUwMjRiYTQxMSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzM4Y2FkOWM0NGI3ZjQzNDdhMzU0YzRiZTVkY2EzYmQwLmJpbmRQb3B1cChwb3B1cF85MWQ3ZThiNDgyNjY0NTFlOTc0NTJiZTYyYmYzZGE5NikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iNjJlNzIzNmY0OWU0NzZlYTJkM2I3ZjNkMTQ0Mzk5ZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2I2MmU3MjM2ZjQ5ZTQ3NmVhMmQzYjdmM2QxNDQzOTlkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2I2MmU3MjM2ZjQ5ZTQ3NmVhMmQzYjdmM2QxNDQzOTlkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTdmNDU3ZGUwZWUxNGI2MTgyNDAzMTUwOWQ1NDY3MmMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iNjJlNzIzNmY0OWU0NzZlYTJkM2I3ZjNkMTQ0Mzk5ZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYjYyZTcyMzZmNDllNDc2ZWEyZDNiN2YzZDE0NDM5OWQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2I2MmU3MjM2ZjQ5ZTQ3NmVhMmQzYjdmM2QxNDQzOTlkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNy4wNDI5NiwgMzYuNzExOV0sIFsxNi4zMTgsIDM2LjcxMTldLCBbMTYuMzE4LCA0Ni4zODhdLCBbNy4wNDI5NiwgNDYuMzg4XSwgWzcuMDQyOTYsIDM2LjcxMTldXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzRiYzk1NTllNzI2NDZmNThmOGQzMzRkMzE0NzRhZjcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYTQyMzEzYzc1MzdjNDMyMTg3MjdmNThhMTM2ZDhhMmIgPSAkKGA8ZGl2IGlkPSJodG1sX2E0MjMxM2M3NTM3YzQzMjE4NzI3ZjU4YTEzNmQ4YTJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBEYXRhc2V0X0lOR2VfSU5HVi5jc3Y8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGNzdjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVDU1Y8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NjIzNzMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEludGVuc2l0eS1ncm91bmQgbW90aW9uIGRhdGEgc2V0IGZvciBJdGFseSAoSU5HZSkgdmVyc2lvbiAyLjA8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjEzMTI3L2luZ2UuMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M0YmM5NTU5ZTcyNjQ2ZjU4ZjhkMzM0ZDMxNDc0YWY3LnNldENvbnRlbnQoaHRtbF9hNDIzMTNjNzUzN2M0MzIxODcyN2Y1OGExMzZkOGEyYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2I2MmU3MjM2ZjQ5ZTQ3NmVhMmQzYjdmM2QxNDQzOTlkLmJpbmRQb3B1cChwb3B1cF9jNGJjOTU1OWU3MjY0NmY1OGY4ZDMzNGQzMTQ3NGFmNykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfNzVmYWRhYTUyNDdiNDRjYWJkZGYwYmRkZTViNDkyOWUgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVlNDc3N2FjZTRjNTQzYTRiMGQ4MjQ2MjAzOWI2YTcwX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWU0Nzc3YWNlNGM1NDNhNGIwZDgyNDYyMDM5YjZhNzBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81ZTQ3NzdhY2U0YzU0M2E0YjBkODI0NjIwMzliNmE3MCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81ZTQ3NzdhY2U0YzU0M2E0YjBkODI0NjIwMzliNmE3MF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl81ZTQ3NzdhY2U0YzU0M2E0YjBkODI0NjIwMzliNmE3MF9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83NWZhZGFhNTI0N2I0NGNhYmRkZjBiZGRlNWI0OTI5ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVlNDc3N2FjZTRjNTQzYTRiMGQ4MjQ2MjAzOWI2YTcwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81ZTQ3NzdhY2U0YzU0M2E0YjBkODI0NjIwMzliNmE3MC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNWU0Nzc3YWNlNGM1NDNhNGIwZDgyNDYyMDM5YjZhNzBfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stMzQuNzEzNjY1OTA3Mjk2NSwgLTcwLjQwMTYzNDk4MzI0OF0sIFstMzIuOTgzODA2NjkzNjM5MywgLTcwLjQwMTYzNDk4MzI0OF0sIFstMzIuOTgzODA2NjkzNjM5MywgLTY5Ljc5MjEzNzA1MzM3ODJdLCBbLTM0LjcxMzY2NTkwNzI5NjUsIC02OS43OTIxMzcwNTMzNzgyXSwgWy0zNC43MTM2NjU5MDcyOTY1LCAtNzAuNDAxNjM0OTgzMjQ4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZDAzNjVkYmFiNjY0NDFhNGIxMTA5NDQyOGE5YzRhNDIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzQ3MWQxNzliMGE1NGM5OGFmMDFlYzhmM2VkYTJlMzQgPSAkKGA8ZGl2IGlkPSJodG1sXzc0NzFkMTc5YjBhNTRjOThhZjAxZWM4ZjNlZGEyZTM0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5Mzc2NzU8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gU2hvcnR3YXZlIHN1cmZhY2UgYWxiZWRvIG9mIGdsYWNpZXJzIGluIHRoZSBjZW50cmFsIENoaWxlYW4gQW5kZXM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzkzNzY3NjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZDAzNjVkYmFiNjY0NDFhNGIxMTA5NDQyOGE5YzRhNDIuc2V0Q29udGVudChodG1sXzc0NzFkMTc5YjBhNTRjOThhZjAxZWM4ZjNlZGEyZTM0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNWU0Nzc3YWNlNGM1NDNhNGIwZDgyNDYyMDM5YjZhNzAuYmluZFBvcHVwKHBvcHVwX2QwMzY1ZGJhYjY2NDQxYTRiMTEwOTQ0MjhhOWM0YTQyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q5YTZjZmIyMmM0YjQxZTRhYjI1MDJiZWQ2MjY3ZDcxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZDlhNmNmYjIyYzRiNDFlNGFiMjUwMmJlZDYyNjdkNzEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZDlhNmNmYjIyYzRiNDFlNGFiMjUwMmJlZDYyNjdkNzFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83NWZhZGFhNTI0N2I0NGNhYmRkZjBiZGRlNWI0OTI5ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q5YTZjZmIyMmM0YjQxZTRhYjI1MDJiZWQ2MjY3ZDcxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kOWE2Y2ZiMjJjNGI0MWU0YWIyNTAyYmVkNjI2N2Q3MS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZDlhNmNmYjIyYzRiNDFlNGFiMjUwMmJlZDYyNjdkNzFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMzQuNzEzNjY1OTA3Mjk2NSwgLTcwLjQwMTYzNDk4MzI0OF0sIFstMzIuOTgzODA2NjkzNjM5MywgLTcwLjQwMTYzNDk4MzI0OF0sIFstMzIuOTgzODA2NjkzNjM5MywgLTY5Ljc5MjEzNzA1MzM3ODJdLCBbLTM0LjcxMzY2NTkwNzI5NjUsIC02OS43OTIxMzcwNTMzNzgyXSwgWy0zNC43MTM2NjU5MDcyOTY1LCAtNzAuNDAxNjM0OTgzMjQ4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzM4OGY2OGJiYjBhZjQwMjc4NDQ4MjZiY2RjOGU3ZTEwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzMzNDJiZTY4NTM0NTRiMGI5MTE3N2Q0NGNlN2MxN2E2ID0gJChgPGRpdiBpZD0iaHRtbF8zMzQyYmU2ODUzNDU0YjBiOTExNzdkNDRjZTdjMTdhNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQ2VudHJhbENoaWxlR2xhY2llcnMuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzkzNzY3NTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBTaG9ydHdhdmUgc3VyZmFjZSBhbGJlZG8gb2YgZ2xhY2llcnMgaW4gdGhlIGNlbnRyYWwgQ2hpbGVhbiBBbmRlczwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzkzNzY3NjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzM4OGY2OGJiYjBhZjQwMjc4NDQ4MjZiY2RjOGU3ZTEwLnNldENvbnRlbnQoaHRtbF8zMzQyYmU2ODUzNDU0YjBiOTExNzdkNDRjZTdjMTdhNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Q5YTZjZmIyMmM0YjQxZTRhYjI1MDJiZWQ2MjY3ZDcxLmJpbmRQb3B1cChwb3B1cF8zODhmNjhiYmIwYWY0MDI3ODQ0ODI2YmNkYzhlN2UxMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kODllMzJhMWJiZTE0NzE3Yjc1YzhkYzI3NmE0NTBjOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Q4OWUzMmExYmJlMTQ3MTdiNzVjOGRjMjc2YTQ1MGM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Q4OWUzMmExYmJlMTQ3MTdiNzVjOGRjMjc2YTQ1MGM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNzVmYWRhYTUyNDdiNDRjYWJkZGYwYmRkZTViNDkyOWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kODllMzJhMWJiZTE0NzE3Yjc1YzhkYzI3NmE0NTBjOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDg5ZTMyYTFiYmUxNDcxN2I3NWM4ZGMyNzZhNDUwYzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Q4OWUzMmExYmJlMTQ3MTdiNzVjOGRjMjc2YTQ1MGM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTM0LjcxMzY2NTkwNzI5NjUsIC03MC40MDE2MzQ5ODMyNDhdLCBbLTMyLjk4MzgwNjY5MzYzOTMsIC03MC40MDE2MzQ5ODMyNDhdLCBbLTMyLjk4MzgwNjY5MzYzOTMsIC02OS43OTIxMzcwNTMzNzgyXSwgWy0zNC43MTM2NjU5MDcyOTY1LCAtNjkuNzkyMTM3MDUzMzc4Ml0sIFstMzQuNzEzNjY1OTA3Mjk2NSwgLTcwLjQwMTYzNDk4MzI0OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lOTFmMjM3ZGM2NjI0NWQxOWUxNDg5YjgzOGJiNzE4NyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wNDM0MDY2YjA2YjE0MDMxODFlZjlmMjRkN2RjOTIwOCA9ICQoYDxkaXYgaWQ9Imh0bWxfMDQzNDA2NmIwNmIxNDAzMTgxZWY5ZjI0ZDdkYzkyMDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IENlbnRyYWxDaGlsZUdsYWNpZXJzLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5Mzc2NzU8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gU2hvcnR3YXZlIHN1cmZhY2UgYWxiZWRvIG9mIGdsYWNpZXJzIGluIHRoZSBjZW50cmFsIENoaWxlYW4gQW5kZXM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5Mzc2NzY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lOTFmMjM3ZGM2NjI0NWQxOWUxNDg5YjgzOGJiNzE4Ny5zZXRDb250ZW50KGh0bWxfMDQzNDA2NmIwNmIxNDAzMTgxZWY5ZjI0ZDdkYzkyMDgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9kODllMzJhMWJiZTE0NzE3Yjc1YzhkYzI3NmE0NTBjOC5iaW5kUG9wdXAocG9wdXBfZTkxZjIzN2RjNjYyNDVkMTllMTQ4OWI4MzhiYjcxODcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTY3NDQyODZhNmZmNDMyMzg2MDViN2MxYzJmZTM5Y2Zfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81Njc0NDI4NmE2ZmY0MzIzODYwNWI3YzFjMmZlMzljZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81Njc0NDI4NmE2ZmY0MzIzODYwNWI3YzFjMmZlMzljZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzc1ZmFkYWE1MjQ3YjQ0Y2FiZGRmMGJkZGU1YjQ5MjllKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTY3NDQyODZhNmZmNDMyMzg2MDViN2MxYzJmZTM5Y2ZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzU2NzQ0Mjg2YTZmZjQzMjM4NjA1YjdjMWMyZmUzOWNmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81Njc0NDI4NmE2ZmY0MzIzODYwNWI3YzFjMmZlMzljZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0zNC43MTM2NjU5MDcyOTY1LCAtNzAuNDAxNjM0OTgzMjQ4XSwgWy0zMi45ODM4MDY2OTM2MzkzLCAtNzAuNDAxNjM0OTgzMjQ4XSwgWy0zMi45ODM4MDY2OTM2MzkzLCAtNjkuNzkyMTM3MDUzMzc4Ml0sIFstMzQuNzEzNjY1OTA3Mjk2NSwgLTY5Ljc5MjEzNzA1MzM3ODJdLCBbLTM0LjcxMzY2NTkwNzI5NjUsIC03MC40MDE2MzQ5ODMyNDhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNWFiYTVjZDMxMDI1NDU2MmEwYTczOGMyYjFmOTI5ZmMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMzZkMmJhNjkyNjM5NGY1ZjkwODU0ZmI3NDY4OWNiNTQgPSAkKGA8ZGl2IGlkPSJodG1sXzM2ZDJiYTY5MjYzOTRmNWY5MDg1NGZiNzQ2ODljYjU0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBDZW50cmFsQ2hpbGVHbGFjaWVycy5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTM3Njc1PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFNob3J0d2F2ZSBzdXJmYWNlIGFsYmVkbyBvZiBnbGFjaWVycyBpbiB0aGUgY2VudHJhbCBDaGlsZWFuIEFuZGVzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTM3Njc2PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNWFiYTVjZDMxMDI1NDU2MmEwYTczOGMyYjFmOTI5ZmMuc2V0Q29udGVudChodG1sXzM2ZDJiYTY5MjYzOTRmNWY5MDg1NGZiNzQ2ODljYjU0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNTY3NDQyODZhNmZmNDMyMzg2MDViN2MxYzJmZTM5Y2YuYmluZFBvcHVwKHBvcHVwXzVhYmE1Y2QzMTAyNTQ1NjJhMGE3MzhjMmIxZjkyOWZjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF85YjliYzQzZmE2Mjc0NWQ4Yjk5N2VlMTNiMDdjMjNmZSA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYWE1YjFkMjdkYWU3NGFhMjhlMTFiZmQ3NDc4ZWU4ZDBfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hYTViMWQyN2RhZTc0YWEyOGUxMWJmZDc0NzhlZThkMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2FhNWIxZDI3ZGFlNzRhYTI4ZTExYmZkNzQ3OGVlOGQwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2FhNWIxZDI3ZGFlNzRhYTI4ZTExYmZkNzQ3OGVlOGQwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uX2FhNWIxZDI3ZGFlNzRhYTI4ZTExYmZkNzQ3OGVlOGQwX3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzliOWJjNDNmYTYyNzQ1ZDhiOTk3ZWUxM2IwN2MyM2ZlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYWE1YjFkMjdkYWU3NGFhMjhlMTFiZmQ3NDc4ZWU4ZDBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2FhNWIxZDI3ZGFlNzRhYTI4ZTExYmZkNzQ3OGVlOGQwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hYTViMWQyN2RhZTc0YWEyOGUxMWJmZDc0NzhlZThkMF9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWzE3LjI1MDQ2MzAxODcxNjcsIC02OC4yNzE5NjE1OTMwODM2XSwgWzE4Ljk1ODA3MDM1MjkyNzksIC02OC4yNzE5NjE1OTMwODM2XSwgWzE4Ljk1ODA3MDM1MjkyNzksIC02NC4xMzg0NzM1NTA1MDQ0XSwgWzE3LjI1MDQ2MzAxODcxNjcsIC02NC4xMzg0NzM1NTA1MDQ0XSwgWzE3LjI1MDQ2MzAxODcxNjcsIC02OC4yNzE5NjE1OTMwODM2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfN2YwOWE3OTNhMzI3NDhkN2E0YThmYjY0YmQ3ZWEyYjYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZGM4ZWNmYzRiYjYyNDJjYTg3NzRlZTEwOWVjYTIyZDMgPSAkKGA8ZGl2IGlkPSJodG1sX2RjOGVjZmM0YmI2MjQyY2E4Nzc0ZWUxMDllY2EyMmQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5MDk3Mjg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTk9BQSBOQ0NPUyBBc3Nlc3NtZW50OiBQcmlvcml0aXppbmcgQXJlYXMgZm9yIEZ1dHVyZSBTZWFmbG9vciBNYXBwaW5nIGFuZCBFeHBsb3JhdGlvbiBpbiB0aGUgVS5TLiBDYXJpYmJlYW4gZnJvbSAyMDE5LTA2LTI4IHRvIDIwMTktMDctMjg8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzkwOTcyOTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2YwOWE3OTNhMzI3NDhkN2E0YThmYjY0YmQ3ZWEyYjYuc2V0Q29udGVudChodG1sX2RjOGVjZmM0YmI2MjQyY2E4Nzc0ZWUxMDllY2EyMmQzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYWE1YjFkMjdkYWU3NGFhMjhlMTFiZmQ3NDc4ZWU4ZDAuYmluZFBvcHVwKHBvcHVwXzdmMDlhNzkzYTMyNzQ4ZDdhNGE4ZmI2NGJkN2VhMmI2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E5ZmY0Yjg5MTBmYzQ1OWNhNjY0MTNkODY3MDY1ZDA3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYTlmZjRiODkxMGZjNDU5Y2E2NjQxM2Q4NjcwNjVkMDcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYTlmZjRiODkxMGZjNDU5Y2E2NjQxM2Q4NjcwNjVkMDdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF85YjliYzQzZmE2Mjc0NWQ4Yjk5N2VlMTNiMDdjMjNmZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E5ZmY0Yjg5MTBmYzQ1OWNhNjY0MTNkODY3MDY1ZDA3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9hOWZmNGI4OTEwZmM0NTljYTY2NDEzZDg2NzA2NWQwNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYTlmZjRiODkxMGZjNDU5Y2E2NjQxM2Q4NjcwNjVkMDdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxNy4yNTA0NjMwMTg3MTY4LCAtNjguMjcxOTYxNTkzMDgzNl0sIFsxOC45NTgwNzAzNTI5Mjc5LCAtNjguMjcxOTYxNTkzMDgzNl0sIFsxOC45NTgwNzAzNTI5Mjc5LCAtNjQuMTM4NDczNTUwNTA0NF0sIFsxNy4yNTA0NjMwMTg3MTY4LCAtNjQuMTM4NDczNTUwNTA0NF0sIFsxNy4yNTA0NjMwMTg3MTY4LCAtNjguMjcxOTYxNTkzMDgzNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82NmYyMDE4OGUxNmU0Yjc0YjQxYWM3ZTMxZTIwNGM3NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81MzU1YWZjNTA1Mjg0YjFlOGEzMmEzNDAyN2MwNmUyNyA9ICQoYDxkaXYgaWQ9Imh0bWxfNTM1NWFmYzUwNTI4NGIxZThhMzJhMzQwMjdjMDZlMjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFVTQ2FyaWJiZWFuX1ByaW9yaXRpemF0aW9uX1N1YnJlZ2lvbnMuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzkwOTcyODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBOT0FBIE5DQ09TIEFzc2Vzc21lbnQ6IFByaW9yaXRpemluZyBBcmVhcyBmb3IgRnV0dXJlIFNlYWZsb29yIE1hcHBpbmcgYW5kIEV4cGxvcmF0aW9uIGluIHRoZSBVLlMuIENhcmliYmVhbiBmcm9tIDIwMTktMDYtMjggdG8gMjAxOS0wNy0yODwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzkwOTcyOTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzY2ZjIwMTg4ZTE2ZTRiNzRiNDFhYzdlMzFlMjA0Yzc0LnNldENvbnRlbnQoaHRtbF81MzU1YWZjNTA1Mjg0YjFlOGEzMmEzNDAyN2MwNmUyNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2E5ZmY0Yjg5MTBmYzQ1OWNhNjY0MTNkODY3MDY1ZDA3LmJpbmRQb3B1cChwb3B1cF82NmYyMDE4OGUxNmU0Yjc0YjQxYWM3ZTMxZTIwNGM3NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NzQzMTVkNTQxNzE0ZTUwYTM2MDY3MzQ3MTA2NjdkYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzY3NDMxNWQ1NDE3MTRlNTBhMzYwNjczNDcxMDY2N2RhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzY3NDMxNWQ1NDE3MTRlNTBhMzYwNjczNDcxMDY2N2RhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfOWI5YmM0M2ZhNjI3NDVkOGI5OTdlZTEzYjA3YzIzZmUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NzQzMTVkNTQxNzE0ZTUwYTM2MDY3MzQ3MTA2NjdkYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjc0MzE1ZDU0MTcxNGU1MGEzNjA2NzM0NzEwNjY3ZGEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY3NDMxNWQ1NDE3MTRlNTBhMzYwNjczNDcxMDY2N2RhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMTcuMjUwNDYzMDE4NzE2OCwgLTY4LjI3MTk2MTU5MzA4MzZdLCBbMTguOTU4MDcwMzUyOTI3OSwgLTY4LjI3MTk2MTU5MzA4MzZdLCBbMTguOTU4MDcwMzUyOTI3OSwgLTY0LjEzODQ3MzU1MDUwNDRdLCBbMTcuMjUwNDYzMDE4NzE2OCwgLTY0LjEzODQ3MzU1MDUwNDRdLCBbMTcuMjUwNDYzMDE4NzE2OCwgLTY4LjI3MTk2MTU5MzA4MzZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZDY2YjRjZTg0ZDQxNGE3NmE3MDZjMjM1MTAwMzFmNzQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGIwYzBhYjcyN2M1NGFhZjk0NWIwYTYyNmQzYTgwZDMgPSAkKGA8ZGl2IGlkPSJodG1sXzhiMGMwYWI3MjdjNTRhYWY5NDViMGE2MjZkM2E4MGQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBVU0NhcmliYmVhbl9Qcmlvcml0aXphdGlvbl9TdWJyZWdpb25zLnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5MDk3Mjg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTk9BQSBOQ0NPUyBBc3Nlc3NtZW50OiBQcmlvcml0aXppbmcgQXJlYXMgZm9yIEZ1dHVyZSBTZWFmbG9vciBNYXBwaW5nIGFuZCBFeHBsb3JhdGlvbiBpbiB0aGUgVS5TLiBDYXJpYmJlYW4gZnJvbSAyMDE5LTA2LTI4IHRvIDIwMTktMDctMjg8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5MDk3Mjk8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kNjZiNGNlODRkNDE0YTc2YTcwNmMyMzUxMDAzMWY3NC5zZXRDb250ZW50KGh0bWxfOGIwYzBhYjcyN2M1NGFhZjk0NWIwYTYyNmQzYTgwZDMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82NzQzMTVkNTQxNzE0ZTUwYTM2MDY3MzQ3MTA2NjdkYS5iaW5kUG9wdXAocG9wdXBfZDY2YjRjZTg0ZDQxNGE3NmE3MDZjMjM1MTAwMzFmNzQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTMyMGQxNTc1OTAwNDdmMTg0ZjQyOGRiNWNjNGU3OTJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85MzIwZDE1NzU5MDA0N2YxODRmNDI4ZGI1Y2M0ZTc5MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85MzIwZDE1NzU5MDA0N2YxODRmNDI4ZGI1Y2M0ZTc5Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzliOWJjNDNmYTYyNzQ1ZDhiOTk3ZWUxM2IwN2MyM2ZlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTMyMGQxNTc1OTAwNDdmMTg0ZjQyOGRiNWNjNGU3OTJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzkzMjBkMTU3NTkwMDQ3ZjE4NGY0MjhkYjVjYzRlNzkyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85MzIwZDE1NzU5MDA0N2YxODRmNDI4ZGI1Y2M0ZTc5Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzE3LjI1MDQ2MzAxODcxNjgsIC02OC4yNzE5NjE1OTMwODM2XSwgWzE4Ljk1ODA3MDM1MjkyNzksIC02OC4yNzE5NjE1OTMwODM2XSwgWzE4Ljk1ODA3MDM1MjkyNzksIC02NC4xMzg0NzM1NTA1MDQ0XSwgWzE3LjI1MDQ2MzAxODcxNjgsIC02NC4xMzg0NzM1NTA1MDQ0XSwgWzE3LjI1MDQ2MzAxODcxNjgsIC02OC4yNzE5NjE1OTMwODM2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzZhODNhNjc3NDg3ODQ4MjI5YjMyYWM3MGE4MjIyNGMzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzY5MTQ5ZmMzYzg5MjRlOWE5ZDMzNjcxNTg1ODAyYjAwID0gJChgPGRpdiBpZD0iaHRtbF82OTE0OWZjM2M4OTI0ZTlhOWQzMzY3MTU4NTgwMmIwMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gVVNDYXJpYmJlYW5fUHJpb3JpdGl6YXRpb25fU3VicmVnaW9ucy5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTA5NzI4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE5PQUEgTkNDT1MgQXNzZXNzbWVudDogUHJpb3JpdGl6aW5nIEFyZWFzIGZvciBGdXR1cmUgU2VhZmxvb3IgTWFwcGluZyBhbmQgRXhwbG9yYXRpb24gaW4gdGhlIFUuUy4gQ2FyaWJiZWFuIGZyb20gMjAxOS0wNi0yOCB0byAyMDE5LTA3LTI4PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTA5NzI5PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNmE4M2E2Nzc0ODc4NDgyMjliMzJhYzcwYTgyMjI0YzMuc2V0Q29udGVudChodG1sXzY5MTQ5ZmMzYzg5MjRlOWE5ZDMzNjcxNTg1ODAyYjAwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTMyMGQxNTc1OTAwNDdmMTg0ZjQyOGRiNWNjNGU3OTIuYmluZFBvcHVwKHBvcHVwXzZhODNhNjc3NDg3ODQ4MjI5YjMyYWM3MGE4MjIyNGMzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU0MTVkNmJkYzdiYTQ4NThhZmJjNWE1MmQyMTlhZDQxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTQxNWQ2YmRjN2JhNDg1OGFmYmM1YTUyZDIxOWFkNDEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTQxNWQ2YmRjN2JhNDg1OGFmYmM1YTUyZDIxOWFkNDFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF85YjliYzQzZmE2Mjc0NWQ4Yjk5N2VlMTNiMDdjMjNmZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU0MTVkNmJkYzdiYTQ4NThhZmJjNWE1MmQyMTlhZDQxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81NDE1ZDZiZGM3YmE0ODU4YWZiYzVhNTJkMjE5YWQ0MS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTQxNWQ2YmRjN2JhNDg1OGFmYmM1YTUyZDIxOWFkNDFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxNy4yNTA0NjMwMTg3MTY3LCAtNjguMjcxOTYxNTkzMDgzNl0sIFsxOC45NTgwNzAzNTI5Mjc4LCAtNjguMjcxOTYxNTkzMDgzNl0sIFsxOC45NTgwNzAzNTI5Mjc4LCAtNjQuMTM5NzExMjg2MTMzOF0sIFsxNy4yNTA0NjMwMTg3MTY3LCAtNjQuMTM5NzExMjg2MTMzOF0sIFsxNy4yNTA0NjMwMTg3MTY3LCAtNjguMjcxOTYxNTkzMDgzNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85ZjgyZjcwY2E2ZmE0YzU3YjAxMmYyY2VmMjcxYmE4NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zZmY4ZTgzYzk0NjM0NjNjYjM1ZGMyODIzY2JiYmExMCA9ICQoYDxkaXYgaWQ9Imh0bWxfM2ZmOGU4M2M5NDYzNDYzY2IzNWRjMjgyM2NiYmJhMTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFVTQ2FyaWJiZWFuX1ByaW9yaXRpemF0aW9uX0dyaWR3aXRoUmVzdWx0cy5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTA5NzI4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE5PQUEgTkNDT1MgQXNzZXNzbWVudDogUHJpb3JpdGl6aW5nIEFyZWFzIGZvciBGdXR1cmUgU2VhZmxvb3IgTWFwcGluZyBhbmQgRXhwbG9yYXRpb24gaW4gdGhlIFUuUy4gQ2FyaWJiZWFuIGZyb20gMjAxOS0wNi0yOCB0byAyMDE5LTA3LTI4PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTA5NzI5PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOWY4MmY3MGNhNmZhNGM1N2IwMTJmMmNlZjI3MWJhODQuc2V0Q29udGVudChodG1sXzNmZjhlODNjOTQ2MzQ2M2NiMzVkYzI4MjNjYmJiYTEwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNTQxNWQ2YmRjN2JhNDg1OGFmYmM1YTUyZDIxOWFkNDEuYmluZFBvcHVwKHBvcHVwXzlmODJmNzBjYTZmYTRjNTdiMDEyZjJjZWYyNzFiYTg0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhlMDk0NWQ5MWU3MjQxMmQ5MWJiMmM1MGE1NTQ0ZjM0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOGUwOTQ1ZDkxZTcyNDEyZDkxYmIyYzUwYTU1NDRmMzQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOGUwOTQ1ZDkxZTcyNDEyZDkxYmIyYzUwYTU1NDRmMzRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF85YjliYzQzZmE2Mjc0NWQ4Yjk5N2VlMTNiMDdjMjNmZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhlMDk0NWQ5MWU3MjQxMmQ5MWJiMmM1MGE1NTQ0ZjM0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84ZTA5NDVkOTFlNzI0MTJkOTFiYjJjNTBhNTU0NGYzNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOGUwOTQ1ZDkxZTcyNDEyZDkxYmIyYzUwYTU1NDRmMzRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxNy4yNTA0NjMwMTg3MTY3LCAtNjguMjcxOTYxNTkzMDgzNl0sIFsxOC45NTgwNzAzNTI5Mjc4LCAtNjguMjcxOTYxNTkzMDgzNl0sIFsxOC45NTgwNzAzNTI5Mjc4LCAtNjQuMTM5NzExMjg2MTMzOF0sIFsxNy4yNTA0NjMwMTg3MTY3LCAtNjQuMTM5NzExMjg2MTMzOF0sIFsxNy4yNTA0NjMwMTg3MTY3LCAtNjguMjcxOTYxNTkzMDgzNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mYmY1ZjgwY2Y3NjA0YzQxOWRmODI1ZTIxODUwMGM3NiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kNWY4MTY5YjVmZWU0MDExOWExMGIzMjFjZjE2ZDI3NCA9ICQoYDxkaXYgaWQ9Imh0bWxfZDVmODE2OWI1ZmVlNDAxMTlhMTBiMzIxY2YxNmQyNzQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFVTQ2FyaWJiZWFuX1ByaW9yaXRpemF0aW9uX0dyaWR3aXRoUmVzdWx0cy5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTA5NzI4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE5PQUEgTkNDT1MgQXNzZXNzbWVudDogUHJpb3JpdGl6aW5nIEFyZWFzIGZvciBGdXR1cmUgU2VhZmxvb3IgTWFwcGluZyBhbmQgRXhwbG9yYXRpb24gaW4gdGhlIFUuUy4gQ2FyaWJiZWFuIGZyb20gMjAxOS0wNi0yOCB0byAyMDE5LTA3LTI4PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTA5NzI5PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmJmNWY4MGNmNzYwNGM0MTlkZjgyNWUyMTg1MDBjNzYuc2V0Q29udGVudChodG1sX2Q1ZjgxNjliNWZlZTQwMTE5YTEwYjMyMWNmMTZkMjc0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOGUwOTQ1ZDkxZTcyNDEyZDkxYmIyYzUwYTU1NDRmMzQuYmluZFBvcHVwKHBvcHVwX2ZiZjVmODBjZjc2MDRjNDE5ZGY4MjVlMjE4NTAwYzc2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E2ODI5YzllYTJiYzRhOTE4YmQ2NGE3OTc3NDI4ZDRmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYTY4MjljOWVhMmJjNGE5MThiZDY0YTc5Nzc0MjhkNGYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYTY4MjljOWVhMmJjNGE5MThiZDY0YTc5Nzc0MjhkNGZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF85YjliYzQzZmE2Mjc0NWQ4Yjk5N2VlMTNiMDdjMjNmZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E2ODI5YzllYTJiYzRhOTE4YmQ2NGE3OTc3NDI4ZDRmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9hNjgyOWM5ZWEyYmM0YTkxOGJkNjRhNzk3NzQyOGQ0Zi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYTY4MjljOWVhMmJjNGE5MThiZDY0YTc5Nzc0MjhkNGZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxNy4yNTA0NjMwMTg3MTY3LCAtNjguMjcxOTYxNTkzMDgzNl0sIFsxOC45NTgwNzAzNTI5Mjc4LCAtNjguMjcxOTYxNTkzMDgzNl0sIFsxOC45NTgwNzAzNTI5Mjc4LCAtNjQuMTM5NzExMjg2MTMzOF0sIFsxNy4yNTA0NjMwMTg3MTY3LCAtNjQuMTM5NzExMjg2MTMzOF0sIFsxNy4yNTA0NjMwMTg3MTY3LCAtNjguMjcxOTYxNTkzMDgzNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80OWZhMzFiMmMwNWY0MzM0ODU2N2RhNjlkNDc0YTQ3NyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mNmU4NjM1MTY3NjI0OGVmYTcxMWRiNGM3ZTJhYWU3NSA9ICQoYDxkaXYgaWQ9Imh0bWxfZjZlODYzNTE2NzYyNDhlZmE3MTFkYjRjN2UyYWFlNzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFVTQ2FyaWJiZWFuX1ByaW9yaXRpemF0aW9uX0dyaWR3aXRoUmVzdWx0cy5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTA5NzI4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE5PQUEgTkNDT1MgQXNzZXNzbWVudDogUHJpb3JpdGl6aW5nIEFyZWFzIGZvciBGdXR1cmUgU2VhZmxvb3IgTWFwcGluZyBhbmQgRXhwbG9yYXRpb24gaW4gdGhlIFUuUy4gQ2FyaWJiZWFuIGZyb20gMjAxOS0wNi0yOCB0byAyMDE5LTA3LTI4PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTA5NzI5PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDlmYTMxYjJjMDVmNDMzNDg1NjdkYTY5ZDQ3NGE0Nzcuc2V0Q29udGVudChodG1sX2Y2ZTg2MzUxNjc2MjQ4ZWZhNzExZGI0YzdlMmFhZTc1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYTY4MjljOWVhMmJjNGE5MThiZDY0YTc5Nzc0MjhkNGYuYmluZFBvcHVwKHBvcHVwXzQ5ZmEzMWIyYzA1ZjQzMzQ4NTY3ZGE2OWQ0NzRhNDc3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF9lZjk4MTc2MzFhNjY0OWIzOTg5N2JiZDZiNTgwNzMwNiA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmEwMmEyZjI4NWE3NDk1MWEwYTQ0NGQ3OWI4MWNkODJfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYTAyYTJmMjg1YTc0OTUxYTBhNDQ0ZDc5YjgxY2Q4Ml9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzJhMDJhMmYyODVhNzQ5NTFhMGE0NDRkNzliODFjZDgyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzJhMDJhMmYyODVhNzQ5NTFhMGE0NDRkNzliODFjZDgyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzJhMDJhMmYyODVhNzQ5NTFhMGE0NDRkNzliODFjZDgyX3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2VmOTgxNzYzMWE2NjQ5YjM5ODk3YmJkNmI1ODA3MzA2KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmEwMmEyZjI4NWE3NDk1MWEwYTQ0NGQ3OWI4MWNkODJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzJhMDJhMmYyODVhNzQ5NTFhMGE0NDRkNzliODFjZDgyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yYTAyYTJmMjg1YTc0OTUxYTBhNDQ0ZDc5YjgxY2Q4Ml9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWzE0NC4yNDY5NjkyMjMsIC0zMi4zNjQ1OTMyNjgzXSwgWzE0OC4wNDY0MzYzMSwgLTMyLjM2NDU5MzI2ODNdLCBbMTQ4LjA0NjQzNjMxLCAtMjkuMDAxMjM0MzA4N10sIFsxNDQuMjQ2OTY5MjIzLCAtMjkuMDAxMjM0MzA4N10sIFsxNDQuMjQ2OTY5MjIzLCAtMzIuMzY0NTkzMjY4M11dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzc4MmIxOWM1NjEwYzQ0ZjQ4ZGUxZjY2OTljNjMwNDc4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NiZGNmODgyYThmNjRjNDliZTY3ZDM2Zjg0YTQ5NDA4ID0gJChgPGRpdiBpZD0iaHRtbF9jYmRjZjg4MmE4ZjY0YzQ5YmU2N2QzNmY4NGE0OTQwOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxOTA2NjU3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvb3JkaW5hdGVzIGZvciBwYWlycyBvZiBuZWlnaGJvdXJpbmcgTU9ESVMgcGl4ZWxzIGNvbnRhaW5pbmcgZGVuc2UgYW5kIHNwYXJzZSBsYW5kIGNvdmVyIGluIE5ldyBTb3V0aCBXYWxlcywgQXVzdHJhbGlhPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjE5MDY2NTg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzc4MmIxOWM1NjEwYzQ0ZjQ4ZGUxZjY2OTljNjMwNDc4LnNldENvbnRlbnQoaHRtbF9jYmRjZjg4MmE4ZjY0YzQ5YmU2N2QzNmY4NGE0OTQwOCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzJhMDJhMmYyODVhNzQ5NTFhMGE0NDRkNzliODFjZDgyLmJpbmRQb3B1cChwb3B1cF83ODJiMTljNTYxMGM0NGY0OGRlMWY2Njk5YzYzMDQ3OCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iYTZlYmUyZjBjODc0NTFmOGQxNjYxNTdhN2FlYjk1Y19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2JhNmViZTJmMGM4NzQ1MWY4ZDE2NjE1N2E3YWViOTVjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2JhNmViZTJmMGM4NzQ1MWY4ZDE2NjE1N2E3YWViOTVjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZWY5ODE3NjMxYTY2NDliMzk4OTdiYmQ2YjU4MDczMDYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iYTZlYmUyZjBjODc0NTFmOGQxNjYxNTdhN2FlYjk1Y19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYmE2ZWJlMmYwYzg3NDUxZjhkMTY2MTU3YTdhZWI5NWMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2JhNmViZTJmMGM4NzQ1MWY4ZDE2NjE1N2E3YWViOTVjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMTQ0LjI0Njk2OTIyMywgLTMyLjM2NDU5MzI2ODNdLCBbMTQ4LjA0NjQzNjMxLCAtMzIuMzY0NTkzMjY4M10sIFsxNDguMDQ2NDM2MzEsIC0yOS4wMDEyMzQzMDg3XSwgWzE0NC4yNDY5NjkyMjMsIC0yOS4wMDEyMzQzMDg3XSwgWzE0NC4yNDY5NjkyMjMsIC0zMi4zNjQ1OTMyNjgzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ZlMjk0YzY4NTY1OTRiNDBhMzliMTViZDhjYjkxNGRmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzU5YjQxYjcyY2Q5ODRhMmJhZDUzOGE1ZTE5NDhjNDA5ID0gJChgPGRpdiBpZD0iaHRtbF81OWI0MWI3MmNkOTg0YTJiYWQ1MzhhNWUxOTQ4YzQwOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gbnN3X3NhbXBsZV9sb2NhdGlvbnMuY3N2PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBjc3Y8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlQ1NWPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTkwNjY1NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb29yZGluYXRlcyBmb3IgcGFpcnMgb2YgbmVpZ2hib3VyaW5nIE1PRElTIHBpeGVscyBjb250YWluaW5nIGRlbnNlIGFuZCBzcGFyc2UgbGFuZCBjb3ZlciBpbiBOZXcgU291dGggV2FsZXMsIEF1c3RyYWxpYTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMTkwNjY1ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ZlMjk0YzY4NTY1OTRiNDBhMzliMTViZDhjYjkxNGRmLnNldENvbnRlbnQoaHRtbF81OWI0MWI3MmNkOTg0YTJiYWQ1MzhhNWUxOTQ4YzQwOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2JhNmViZTJmMGM4NzQ1MWY4ZDE2NjE1N2E3YWViOTVjLmJpbmRQb3B1cChwb3B1cF9mZTI5NGM2ODU2NTk0YjQwYTM5YjE1YmQ4Y2I5MTRkZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM3OGIzZTZjMDExNjQ0OTZiYThmNjQyMzdhYzY0MWRhX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzc4YjNlNmMwMTE2NDQ5NmJhOGY2NDIzN2FjNjQxZGFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zNzhiM2U2YzAxMTY0NDk2YmE4ZjY0MjM3YWM2NDFkYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zNzhiM2U2YzAxMTY0NDk2YmE4ZjY0MjM3YWM2NDFkYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl8zNzhiM2U2YzAxMTY0NDk2YmE4ZjY0MjM3YWM2NDFkYV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM3OGIzZTZjMDExNjQ0OTZiYThmNjQyMzdhYzY0MWRhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zNzhiM2U2YzAxMTY0NDk2YmE4ZjY0MjM3YWM2NDFkYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzc4YjNlNmMwMTE2NDQ5NmJhOGY2NDIzN2FjNjQxZGFfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1syNi4wOTgwNDcxNzAzODcyLCA2NC4xODEwMTM5NjgyNTA0XSwgWzI3LjM0OTQzNzY3NTAyNzksIDY0LjE4MTAxMzk2ODI1MDRdLCBbMjcuMzQ5NDM3Njc1MDI3OSwgNjUuNjg4Mzc0NzQ0MDMyOV0sIFsyNi4wOTgwNDcxNzAzODcyLCA2NS42ODgzNzQ3NDQwMzI5XSwgWzI2LjA5ODA0NzE3MDM4NzIsIDY0LjE4MTAxMzk2ODI1MDRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yZmQwMzQzMTBiMDg0NjIzYWI3YzJkZDYwM2IwYTYwNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zN2I4MzQ1YWYwYjM0ZjZkYjU0ZWQ5NzUyMGQzYThlNCA9ICQoYDxkaXYgaWQ9Imh0bWxfMzdiODM0NWFmMGIzNGY2ZGI1NGVkOTc1MjBkM2E4ZTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMmZkMDM0MzEwYjA4NDYyM2FiN2MyZGQ2MDNiMGE2MDYuc2V0Q29udGVudChodG1sXzM3YjgzNDVhZjBiMzRmNmRiNTRlZDk3NTIwZDNhOGU0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzc4YjNlNmMwMTE2NDQ5NmJhOGY2NDIzN2FjNjQxZGEuYmluZFBvcHVwKHBvcHVwXzJmZDAzNDMxMGIwODQ2MjNhYjdjMmRkNjAzYjBhNjA2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM1MTE2NjQ0YjgyMTQxMTJhMWQ0NWQ4MWFmYWVmNzI1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzUxMTY2NDRiODIxNDExMmExZDQ1ZDgxYWZhZWY3MjUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzUxMTY2NDRiODIxNDExMmExZDQ1ZDgxYWZhZWY3MjVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM1MTE2NjQ0YjgyMTQxMTJhMWQ0NWQ4MWFmYWVmNzI1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zNTExNjY0NGI4MjE0MTEyYTFkNDVkODFhZmFlZjcyNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzUxMTY2NDRiODIxNDExMmExZDQ1ZDgxYWZhZWY3MjVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNy4wMjkzODM1Nzg0MjQ3LCA2NS40NTE0MDc4MTUxMTIxXSwgWzI3LjEyODQzNzE2ODQwOTQsIDY1LjQ1MTQwNzgxNTExMjFdLCBbMjcuMTI4NDM3MTY4NDA5NCwgNjUuNTE0MDc1NDEwMTQ2MV0sIFsyNy4wMjkzODM1Nzg0MjQ3LCA2NS41MTQwNzU0MTAxNDYxXSwgWzI3LjAyOTM4MzU3ODQyNDcsIDY1LjQ1MTQwNzgxNTExMjFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjA0MGNjYzNmMWEwNDExMGI2YmQ1YTdiNDVjMzJiZTIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDZhZWVlYjFmOTMwNGViZmIyZTQyYzdkNTM0OTY4MmIgPSAkKGA8ZGl2IGlkPSJodG1sX2Q2YWVlZWIxZjkzMDRlYmZiMmU0MmM3ZDUzNDk2ODJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fc2hfMDMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iMDQwY2NjM2YxYTA0MTEwYjZiZDVhN2I0NWMzMmJlMi5zZXRDb250ZW50KGh0bWxfZDZhZWVlYjFmOTMwNGViZmIyZTQyYzdkNTM0OTY4MmIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zNTExNjY0NGI4MjE0MTEyYTFkNDVkODFhZmFlZjcyNS5iaW5kUG9wdXAocG9wdXBfYjA0MGNjYzNmMWEwNDExMGI2YmQ1YTdiNDVjMzJiZTIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzk0MGFlZmI0Yzg5NDAzMTg1MjQ4MzJhYTM4YmY4NDFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83OTQwYWVmYjRjODk0MDMxODUyNDgzMmFhMzhiZjg0MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83OTQwYWVmYjRjODk0MDMxODUyNDgzMmFhMzhiZjg0MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzk0MGFlZmI0Yzg5NDAzMTg1MjQ4MzJhYTM4YmY4NDFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzc5NDBhZWZiNGM4OTQwMzE4NTI0ODMyYWEzOGJmODQxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83OTQwYWVmYjRjODk0MDMxODUyNDgzMmFhMzhiZjg0MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjgzMDgzNDg0NTQ4ODEsIDY1LjM0NjUyODI0OTc5MzldLCBbMjYuOTI5OTA4MTM3NTkyNiwgNjUuMzQ2NTI4MjQ5NzkzOV0sIFsyNi45Mjk5MDgxMzc1OTI2LCA2NS40MTE0OTkyMzAxMjgxXSwgWzI2LjgzMDgzNDg0NTQ4ODEsIDY1LjQxMTQ5OTIzMDEyODFdLCBbMjYuODMwODM0ODQ1NDg4MSwgNjUuMzQ2NTI4MjQ5NzkzOV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yODVkMjNlYWMxNTI0OTZlOGVkZDQ2M2RjNjYxNjYwZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83OTc3N2I5Nzg3ODI0M2ZlOTFmMjkxNDlhZWZjYjExNyA9ICQoYDxkaXYgaWQ9Imh0bWxfNzk3NzdiOTc4NzgyNDNmZTkxZjI5MTQ5YWVmY2IxMTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9zaF8wNS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTUyNzY2PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvLXNlaXNtaWMgU3VyZmFjZSBEaWxhdGF0aW9uIGFuZCBTaGVhciBTdHJhaW4gRmllbGRzIERlcml2ZWQgZnJvbSBTUE9ULTUgRGlzcGxhY2VtZW50czwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzI4NWQyM2VhYzE1MjQ5NmU4ZWRkNDYzZGM2NjE2NjBkLnNldENvbnRlbnQoaHRtbF83OTc3N2I5Nzg3ODI0M2ZlOTFmMjkxNDlhZWZjYjExNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzc5NDBhZWZiNGM4OTQwMzE4NTI0ODMyYWEzOGJmODQxLmJpbmRQb3B1cChwb3B1cF8yODVkMjNlYWMxNTI0OTZlOGVkZDQ2M2RjNjYxNjYwZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80Y2ZhNjhkNDRhOWQ0N2VmOWZhODNkMzk2YTEzMTYyZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRjZmE2OGQ0NGE5ZDQ3ZWY5ZmE4M2QzOTZhMTMxNjJkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRjZmE2OGQ0NGE5ZDQ3ZWY5ZmE4M2QzOTZhMTMxNjJkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80Y2ZhNjhkNDRhOWQ0N2VmOWZhODNkMzk2YTEzMTYyZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGNmYTY4ZDQ0YTlkNDdlZjlmYTgzZDM5NmExMzE2MmQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRjZmE2OGQ0NGE5ZDQ3ZWY5ZmE4M2QzOTZhMTMxNjJkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjcuMTI4NjE3MzkyNDgwNSwgNjUuNTAzOTk0NTI1Mjk4NF0sIFsyNy4yMjcyNjc3ODIwNDMzLCA2NS41MDM5OTQ1MjUyOTg0XSwgWzI3LjIyNzI2Nzc4MjA0MzMsIDY1LjU4Njk0Nzk1NTgyNDddLCBbMjcuMTI4NjE3MzkyNDgwNSwgNjUuNTg2OTQ3OTU1ODI0N10sIFsyNy4xMjg2MTczOTI0ODA1LCA2NS41MDM5OTQ1MjUyOTg0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQ0YmVlNjg3MTE0ZjQ4MjhiNTkzY2U1ZDc0ODM5OGUwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzMxMTQzMDQ5ZDdmMTQ5ZWE4N2EzY2MzZTIzYTE5MGJmID0gJChgPGRpdiBpZD0iaHRtbF8zMTE0MzA0OWQ3ZjE0OWVhODdhM2NjM2UyM2ExOTBiZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RyYWluX3NoXzAyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDRiZWU2ODcxMTRmNDgyOGI1OTNjZTVkNzQ4Mzk4ZTAuc2V0Q29udGVudChodG1sXzMxMTQzMDQ5ZDdmMTQ5ZWE4N2EzY2MzZTIzYTE5MGJmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGNmYTY4ZDQ0YTlkNDdlZjlmYTgzZDM5NmExMzE2MmQuYmluZFBvcHVwKHBvcHVwXzQ0YmVlNjg3MTE0ZjQ4MjhiNTkzY2U1ZDc0ODM5OGUwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzJlNDhjNzM2YTVkMDRhMDI5YWI3MWNmM2ViMjc3NzFiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMmU0OGM3MzZhNWQwNGEwMjlhYjcxY2YzZWIyNzc3MWIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMmU0OGM3MzZhNWQwNGEwMjlhYjcxY2YzZWIyNzc3MWJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzJlNDhjNzM2YTVkMDRhMDI5YWI3MWNmM2ViMjc3NzFiX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yZTQ4YzczNmE1ZDA0YTAyOWFiNzFjZjNlYjI3NzcxYi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMmU0OGM3MzZhNWQwNGEwMjlhYjcxY2YzZWIyNzc3MWJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi4yMTkwMDM1MjQzOTAyLCA2NC41MjAwNDE3Njc2ODddLCBbMjYuMjgzMjA2NDc4Njk2OSwgNjQuNTIwMDQxNzY3Njg3XSwgWzI2LjI4MzIwNjQ3ODY5NjksIDY0LjYzMzUzNTc4NzAwNzNdLCBbMjYuMjE5MDAzNTI0MzkwMiwgNjQuNjMzNTM1Nzg3MDA3M10sIFsyNi4yMTkwMDM1MjQzOTAyLCA2NC41MjAwNDE3Njc2ODddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNzg0YmM3ZTU5YWMwNDQ2OGFlZWM1Nzc0OWRlMTZiMWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOThiMGY1MWY2YzcyNGVmOGI0MTI1OTIyMTZjY2U0OWEgPSAkKGA8ZGl2IGlkPSJodG1sXzk4YjBmNTFmNmM3MjRlZjhiNDEyNTkyMjE2Y2NlNDlhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fZGlsXzE2LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNzg0YmM3ZTU5YWMwNDQ2OGFlZWM1Nzc0OWRlMTZiMWUuc2V0Q29udGVudChodG1sXzk4YjBmNTFmNmM3MjRlZjhiNDEyNTkyMjE2Y2NlNDlhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMmU0OGM3MzZhNWQwNGEwMjlhYjcxY2YzZWIyNzc3MWIuYmluZFBvcHVwKHBvcHVwXzc4NGJjN2U1OWFjMDQ0NjhhZWVjNTc3NDlkZTE2YjFlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2RkYzg5NWVjMDFkOTQwNzM5ZGRlYjgyN2EyNzBjNTVmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZGRjODk1ZWMwMWQ5NDA3MzlkZGViODI3YTI3MGM1NWYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZGRjODk1ZWMwMWQ5NDA3MzlkZGViODI3YTI3MGM1NWZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2RkYzg5NWVjMDFkOTQwNzM5ZGRlYjgyN2EyNzBjNTVmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kZGM4OTVlYzAxZDk0MDczOWRkZWI4MjdhMjcwYzU1Zi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZGRjODk1ZWMwMWQ5NDA3MzlkZGViODI3YTI3MGM1NWZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi41MjA1NzY2OTAyNTI2LCA2NS4wNzg4NjUzODI2MDgyXSwgWzI2LjY1NDE4NTIwNzgyMzcsIDY1LjA3ODg2NTM4MjYwODJdLCBbMjYuNjU0MTg1MjA3ODIzNywgNjUuMTk2NzkwOTEyODU3NV0sIFsyNi41MjA1NzY2OTAyNTI2LCA2NS4xOTY3OTA5MTI4NTc1XSwgWzI2LjUyMDU3NjY5MDI1MjYsIDY1LjA3ODg2NTM4MjYwODJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfM2YzZjc2ZWJhOWQxNGNjMmE5ZWVlNTY4MmQ2MjVhMGYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODgyNDJmNTIyMmVlNDQ2NTliYzRlMGE5YjU0NThmOTcgPSAkKGA8ZGl2IGlkPSJodG1sXzg4MjQyZjUyMjJlZTQ0NjU5YmM0ZTBhOWI1NDU4Zjk3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fZGlsXzA4LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfM2YzZjc2ZWJhOWQxNGNjMmE5ZWVlNTY4MmQ2MjVhMGYuc2V0Q29udGVudChodG1sXzg4MjQyZjUyMjJlZTQ0NjU5YmM0ZTBhOWI1NDU4Zjk3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZGRjODk1ZWMwMWQ5NDA3MzlkZGViODI3YTI3MGM1NWYuYmluZFBvcHVwKHBvcHVwXzNmM2Y3NmViYTlkMTRjYzJhOWVlZTU2ODJkNjI1YTBmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYxYzA2OGUyNTViZTRhNTJhNTc4NjExNWI3ZjZmZWIzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjFjMDY4ZTI1NWJlNGE1MmE1Nzg2MTE1YjdmNmZlYjMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjFjMDY4ZTI1NWJlNGE1MmE1Nzg2MTE1YjdmNmZlYjNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYxYzA2OGUyNTViZTRhNTJhNTc4NjExNWI3ZjZmZWIzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82MWMwNjhlMjU1YmU0YTUyYTU3ODYxMTViN2Y2ZmViMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjFjMDY4ZTI1NWJlNGE1MmE1Nzg2MTE1YjdmNmZlYjNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi4wOTgwNDcxNzAzODcyLCA2NC4xODEwMTM5NjgyNTA0XSwgWzI2LjE1MzUwMzQ2MzM5OTYsIDY0LjE4MTAxMzk2ODI1MDRdLCBbMjYuMTUzNTAzNDYzMzk5NiwgNjQuMjk0MTE0OTgwNzY0M10sIFsyNi4wOTgwNDcxNzAzODcyLCA2NC4yOTQxMTQ5ODA3NjQzXSwgWzI2LjA5ODA0NzE3MDM4NzIsIDY0LjE4MTAxMzk2ODI1MDRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfODRiMzc1MjdiMTU3NGMwYTg5NWY2ZjZlYjlmNWIwMTkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNWJjMDlmOWM0NjkwNDZjNWFkMGVkNTJiNmI0MDhmOTkgPSAkKGA8ZGl2IGlkPSJodG1sXzViYzA5ZjljNDY5MDQ2YzVhZDBlZDUyYjZiNDA4Zjk5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fZGlsXzE5LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODRiMzc1MjdiMTU3NGMwYTg5NWY2ZjZlYjlmNWIwMTkuc2V0Q29udGVudChodG1sXzViYzA5ZjljNDY5MDQ2YzVhZDBlZDUyYjZiNDA4Zjk5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjFjMDY4ZTI1NWJlNGE1MmE1Nzg2MTE1YjdmNmZlYjMuYmluZFBvcHVwKHBvcHVwXzg0YjM3NTI3YjE1NzRjMGE4OTVmNmY2ZWI5ZjViMDE5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhlYjQ4YmUyMzk0ODQzNzU4MzY1ODk1Y2FhZDMxZjRmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOGViNDhiZTIzOTQ4NDM3NTgzNjU4OTVjYWFkMzFmNGYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOGViNDhiZTIzOTQ4NDM3NTgzNjU4OTVjYWFkMzFmNGZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhlYjQ4YmUyMzk0ODQzNzU4MzY1ODk1Y2FhZDMxZjRmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84ZWI0OGJlMjM5NDg0Mzc1ODM2NTg5NWNhYWQzMWY0Zi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOGViNDhiZTIzOTQ4NDM3NTgzNjU4OTVjYWFkMzFmNGZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi4xNzUwMTU1ODM0NzUsIDY0LjQwNjkxMzI0MzYzMDFdLCBbMjYuMjMwMjg2NTA5Mjk3MiwgNjQuNDA2OTEzMjQzNjMwMV0sIFsyNi4yMzAyODY1MDkyOTcyLCA2NC41MjAxODg0NjUwOTI0XSwgWzI2LjE3NTAxNTU4MzQ3NSwgNjQuNTIwMTg4NDY1MDkyNF0sIFsyNi4xNzUwMTU1ODM0NzUsIDY0LjQwNjkxMzI0MzYzMDFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMWVjYjUxZDhiZmVjNDM4Mjk1YTk1YWY5ZTIyOWIxNTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMGVjMDQ0OTZlNWQ3NGIwYzg2OTI0YzcyM2QyOGI2YjIgPSAkKGA8ZGl2IGlkPSJodG1sXzBlYzA0NDk2ZTVkNzRiMGM4NjkyNGM3MjNkMjhiNmIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fc2hfMTcudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xZWNiNTFkOGJmZWM0MzgyOTVhOTVhZjllMjI5YjE1MS5zZXRDb250ZW50KGh0bWxfMGVjMDQ0OTZlNWQ3NGIwYzg2OTI0YzcyM2QyOGI2YjIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84ZWI0OGJlMjM5NDg0Mzc1ODM2NTg5NWNhYWQzMWY0Zi5iaW5kUG9wdXAocG9wdXBfMWVjYjUxZDhiZmVjNDM4Mjk1YTk1YWY5ZTIyOWIxNTEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fY2MyZTFhYWU5ZmIwNGIyYWJjYjNkZmI5MjAxNTE3ZWZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jYzJlMWFhZTlmYjA0YjJhYmNiM2RmYjkyMDE1MTdlZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jYzJlMWFhZTlmYjA0YjJhYmNiM2RmYjkyMDE1MTdlZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fY2MyZTFhYWU5ZmIwNGIyYWJjYjNkZmI5MjAxNTE3ZWZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2NjMmUxYWFlOWZiMDRiMmFiY2IzZGZiOTIwMTUxN2VmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jYzJlMWFhZTlmYjA0YjJhYmNiM2RmYjkyMDE1MTdlZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjUyMDU3NjY5MDI1MjYsIDY1LjA3ODg2NTM4MjYwODJdLCBbMjYuNjU0MTg1MjA3ODIzNywgNjUuMDc4ODY1MzgyNjA4Ml0sIFsyNi42NTQxODUyMDc4MjM3LCA2NS4xOTY3OTA5MTI4NTc1XSwgWzI2LjUyMDU3NjY5MDI1MjYsIDY1LjE5Njc5MDkxMjg1NzVdLCBbMjYuNTIwNTc2NjkwMjUyNiwgNjUuMDc4ODY1MzgyNjA4Ml1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hZWEwMGJiMDMxMTU0YzUyOWY3ZTA0MGQ2OTQwN2Q1ZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80OTE5ODgwOWExYzQ0ZWUwYjdjNjhiZTkzYjBiNjQxOCA9ICQoYDxkaXYgaWQ9Imh0bWxfNDkxOTg4MDlhMWM0NGVlMGI3YzY4YmU5M2IwYjY0MTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9zaF8wOC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTUyNzY2PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvLXNlaXNtaWMgU3VyZmFjZSBEaWxhdGF0aW9uIGFuZCBTaGVhciBTdHJhaW4gRmllbGRzIERlcml2ZWQgZnJvbSBTUE9ULTUgRGlzcGxhY2VtZW50czwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2FlYTAwYmIwMzExNTRjNTI5ZjdlMDQwZDY5NDA3ZDVlLnNldENvbnRlbnQoaHRtbF80OTE5ODgwOWExYzQ0ZWUwYjdjNjhiZTkzYjBiNjQxOCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2NjMmUxYWFlOWZiMDRiMmFiY2IzZGZiOTIwMTUxN2VmLmJpbmRQb3B1cChwb3B1cF9hZWEwMGJiMDMxMTU0YzUyOWY3ZTA0MGQ2OTQwN2Q1ZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xNzgxMjY3ZWM2OTI0MmZkOGIzMWI0NmE1MDM3NDVjOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzE3ODEyNjdlYzY5MjQyZmQ4YjMxYjQ2YTUwMzc0NWM5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzE3ODEyNjdlYzY5MjQyZmQ4YjMxYjQ2YTUwMzc0NWM5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xNzgxMjY3ZWM2OTI0MmZkOGIzMWI0NmE1MDM3NDVjOV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMTc4MTI2N2VjNjkyNDJmZDhiMzFiNDZhNTAzNzQ1YzkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzE3ODEyNjdlYzY5MjQyZmQ4YjMxYjQ2YTUwMzc0NWM5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjYuOTMwMTIyNjQ1MzA1OSwgNjUuMzk4OTE5Mjc3NTk3OV0sIFsyNy4wMjkyOTU3NDExMDMxLCA2NS4zOTg5MTkyNzc1OTc5XSwgWzI3LjAyOTI5NTc0MTEwMzEsIDY1LjQ1NjQ0NDAzMjc4NjNdLCBbMjYuOTMwMTIyNjQ1MzA1OSwgNjUuNDU2NDQ0MDMyNzg2M10sIFsyNi45MzAxMjI2NDUzMDU5LCA2NS4zOTg5MTkyNzc1OTc5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2YwMDE5MzY2OTM3NDRlMzNiYjUzNWFlZGQ4NmZmNzAzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZmZjQ4NWE5MTk5MjQzMGNiYjkwNjM3NGFlZGU2NjQ4ID0gJChgPGRpdiBpZD0iaHRtbF82ZmY0ODVhOTE5OTI0MzBjYmI5MDYzNzRhZWRlNjY0OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RyYWluX3NoXzA0LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZjAwMTkzNjY5Mzc0NGUzM2JiNTM1YWVkZDg2ZmY3MDMuc2V0Q29udGVudChodG1sXzZmZjQ4NWE5MTk5MjQzMGNiYjkwNjM3NGFlZGU2NjQ4KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMTc4MTI2N2VjNjkyNDJmZDhiMzFiNDZhNTAzNzQ1YzkuYmluZFBvcHVwKHBvcHVwX2YwMDE5MzY2OTM3NDRlMzNiYjUzNWFlZGQ4NmZmNzAzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2RlYWViMWE3OTljMjQ1NGVhZTU5ODI1YjBiNTUwODg4X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZGVhZWIxYTc5OWMyNDU0ZWFlNTk4MjViMGI1NTA4ODggPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZGVhZWIxYTc5OWMyNDU0ZWFlNTk4MjViMGI1NTA4ODhfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2RlYWViMWE3OTljMjQ1NGVhZTU5ODI1YjBiNTUwODg4X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kZWFlYjFhNzk5YzI0NTRlYWU1OTgyNWIwYjU1MDg4OC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZGVhZWIxYTc5OWMyNDU0ZWFlNTk4MjViMGI1NTA4ODhfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi4yMTkwMDM1MjQzOTAyLCA2NC41MjAwNDE3Njc2ODddLCBbMjYuMjgzMjA2NDc4Njk2OSwgNjQuNTIwMDQxNzY3Njg3XSwgWzI2LjI4MzIwNjQ3ODY5NjksIDY0LjYzMzUzNTc4NzAwNzNdLCBbMjYuMjE5MDAzNTI0MzkwMiwgNjQuNjMzNTM1Nzg3MDA3M10sIFsyNi4yMTkwMDM1MjQzOTAyLCA2NC41MjAwNDE3Njc2ODddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMDlkMjIzMDk5ZDA2NDQ3Nzk1YmZiZWYzOTZlNjM0ODQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzk0YzBmNjc5NmE5NDRkNWEwNWYzYWI4OTQwNGRmYjQgPSAkKGA8ZGl2IGlkPSJodG1sXzc5NGMwZjY3OTZhOTQ0ZDVhMDVmM2FiODk0MDRkZmI0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fc2hfMTYudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wOWQyMjMwOTlkMDY0NDc3OTViZmJlZjM5NmU2MzQ4NC5zZXRDb250ZW50KGh0bWxfNzk0YzBmNjc5NmE5NDRkNWEwNWYzYWI4OTQwNGRmYjQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9kZWFlYjFhNzk5YzI0NTRlYWU1OTgyNWIwYjU1MDg4OC5iaW5kUG9wdXAocG9wdXBfMDlkMjIzMDk5ZDA2NDQ3Nzk1YmZiZWYzOTZlNjM0ODQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjMxMjg0NmE3ZjFiNDYwNTk0NGRlZjQ0OGIwMmNlYzlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82MzEyODQ2YTdmMWI0NjA1OTQ0ZGVmNDQ4YjAyY2VjOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82MzEyODQ2YTdmMWI0NjA1OTQ0ZGVmNDQ4YjAyY2VjOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjMxMjg0NmE3ZjFiNDYwNTk0NGRlZjQ0OGIwMmNlYzlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzYzMTI4NDZhN2YxYjQ2MDU5NDRkZWY0NDhiMDJjZWM5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82MzEyODQ2YTdmMWI0NjA1OTQ0ZGVmNDQ4YjAyY2VjOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjM3MzY4MDc3MzQxMDUsIDY0LjgzMzAyODgwNDI3OTRdLCBbMjYuNDYyNDM0MDk0NzczNCwgNjQuODMzMDI4ODA0Mjc5NF0sIFsyNi40NjI0MzQwOTQ3NzM0LCA2NC45NDcyNTM3NjQ2NTEyXSwgWzI2LjM3MzY4MDc3MzQxMDUsIDY0Ljk0NzI1Mzc2NDY1MTJdLCBbMjYuMzczNjgwNzczNDEwNSwgNjQuODMzMDI4ODA0Mjc5NF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82OGNhZDBmOTQ3YTg0YjQ0YTkyNWYwOTcxNTgyZjFjYiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83MDdhZTcxN2JmOTY0NjFhOGNmN2YwNWYxZGU2NWQ0YyA9ICQoYDxkaXYgaWQ9Imh0bWxfNzA3YWU3MTdiZjk2NDYxYThjZjdmMDVmMWRlNjVkNGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9zaF8xMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTUyNzY2PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvLXNlaXNtaWMgU3VyZmFjZSBEaWxhdGF0aW9uIGFuZCBTaGVhciBTdHJhaW4gRmllbGRzIERlcml2ZWQgZnJvbSBTUE9ULTUgRGlzcGxhY2VtZW50czwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzY4Y2FkMGY5NDdhODRiNDRhOTI1ZjA5NzE1ODJmMWNiLnNldENvbnRlbnQoaHRtbF83MDdhZTcxN2JmOTY0NjFhOGNmN2YwNWYxZGU2NWQ0Yyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzYzMTI4NDZhN2YxYjQ2MDU5NDRkZWY0NDhiMDJjZWM5LmJpbmRQb3B1cChwb3B1cF82OGNhZDBmOTQ3YTg0YjQ0YTkyNWYwOTcxNTgyZjFjYikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xMDU1MWRmMWQ1OTA0ZGM3YjVmNGQ5MWMzODI4M2Y2MF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzEwNTUxZGYxZDU5MDRkYzdiNWY0ZDkxYzM4MjgzZjYwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzEwNTUxZGYxZDU5MDRkYzdiNWY0ZDkxYzM4MjgzZjYwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xMDU1MWRmMWQ1OTA0ZGM3YjVmNGQ5MWMzODI4M2Y2MF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMTA1NTFkZjFkNTkwNGRjN2I1ZjRkOTFjMzgyODNmNjAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzEwNTUxZGYxZDU5MDRkYzdiNWY0ZDkxYzM4MjgzZjYwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjYuMTk3MDgzNTQxNDY2MSwgNjQuNDkyNTM4MzIyOTc0M10sIFsyNi4yODYxMzE0NDQzNjQxLCA2NC40OTI1MzgzMjI5NzQzXSwgWzI2LjI4NjEzMTQ0NDM2NDEsIDY0LjYwNjMzODE5NzEyOTJdLCBbMjYuMTk3MDgzNTQxNDY2MSwgNjQuNjA2MzM4MTk3MTI5Ml0sIFsyNi4xOTcwODM1NDE0NjYxLCA2NC40OTI1MzgzMjI5NzQzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNlNDM4MTgxZGFmZjQ5ZWQ5NjdlNzU2MDljNzc0MTk4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzY5YjRiZTgwNThmYzQyNzFhMjI1OTFjZjBlMzExNjYxID0gJChgPGRpdiBpZD0iaHRtbF82OWI0YmU4MDU4ZmM0MjcxYTIyNTkxY2YwZTMxMTY2MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RyYWluX2RpbF8xNS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTUyNzY2PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvLXNlaXNtaWMgU3VyZmFjZSBEaWxhdGF0aW9uIGFuZCBTaGVhciBTdHJhaW4gRmllbGRzIERlcml2ZWQgZnJvbSBTUE9ULTUgRGlzcGxhY2VtZW50czwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNlNDM4MTgxZGFmZjQ5ZWQ5NjdlNzU2MDljNzc0MTk4LnNldENvbnRlbnQoaHRtbF82OWI0YmU4MDU4ZmM0MjcxYTIyNTkxY2YwZTMxMTY2MSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzEwNTUxZGYxZDU5MDRkYzdiNWY0ZDkxYzM4MjgzZjYwLmJpbmRQb3B1cChwb3B1cF8zZTQzODE4MWRhZmY0OWVkOTY3ZTc1NjA5Yzc3NDE5OCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83NjU2NzIwMjcyMzI0MTBmYjJkMzllNzgyMzA1M2Y3Ml9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzc2NTY3MjAyNzIzMjQxMGZiMmQzOWU3ODIzMDUzZjcyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzc2NTY3MjAyNzIzMjQxMGZiMmQzOWU3ODIzMDUzZjcyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83NjU2NzIwMjcyMzI0MTBmYjJkMzllNzgyMzA1M2Y3Ml9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzY1NjcyMDI3MjMyNDEwZmIyZDM5ZTc4MjMwNTNmNzIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzc2NTY3MjAyNzIzMjQxMGZiMmQzOWU3ODIzMDUzZjcyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjYuMTk3MDgzNTQxNDY2MSwgNjQuNDkyNTM4MzIyOTc0M10sIFsyNi4yODYxMzE0NDQzNjQxLCA2NC40OTI1MzgzMjI5NzQzXSwgWzI2LjI4NjEzMTQ0NDM2NDEsIDY0LjYwNjMzODE5NzEyOTJdLCBbMjYuMTk3MDgzNTQxNDY2MSwgNjQuNjA2MzM4MTk3MTI5Ml0sIFsyNi4xOTcwODM1NDE0NjYxLCA2NC40OTI1MzgzMjI5NzQzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ZkMzk4NzAzNWMxYzRmNGNiNTBkYmY1MmQyMDc4ZGI1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzVkYTBlY2YwNTBhOTRmNzFhNzkyYTc4ZDEzYWRmYjFkID0gJChgPGRpdiBpZD0iaHRtbF81ZGEwZWNmMDUwYTk0ZjcxYTc5MmE3OGQxM2FkZmIxZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RyYWluX3NoXzE1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmQzOTg3MDM1YzFjNGY0Y2I1MGRiZjUyZDIwNzhkYjUuc2V0Q29udGVudChodG1sXzVkYTBlY2YwNTBhOTRmNzFhNzkyYTc4ZDEzYWRmYjFkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzY1NjcyMDI3MjMyNDEwZmIyZDM5ZTc4MjMwNTNmNzIuYmluZFBvcHVwKHBvcHVwX2ZkMzk4NzAzNWMxYzRmNGNiNTBkYmY1MmQyMDc4ZGI1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzA0MTE2ZDZhYzgzZTQ2NmI4ZmEyMTE5NTQ2Y2U1YzgyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMDQxMTZkNmFjODNlNDY2YjhmYTIxMTk1NDZjZTVjODIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMDQxMTZkNmFjODNlNDY2YjhmYTIxMTk1NDZjZTVjODJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzA0MTE2ZDZhYzgzZTQ2NmI4ZmEyMTE5NTQ2Y2U1YzgyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wNDExNmQ2YWM4M2U0NjZiOGZhMjExOTU0NmNlNWM4Mi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDQxMTZkNmFjODNlNDY2YjhmYTIxMTk1NDZjZTVjODJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi4yNjM1NjY1NjEyNTY5LCA2NC42MDYwMjc1MDk5MDI2XSwgWzI2LjM1MjUxNjU0NzA4ODYsIDY0LjYwNjAyNzUwOTkwMjZdLCBbMjYuMzUyNTE2NTQ3MDg4NiwgNjQuNzE5OTc2NjkzOTk5OV0sIFsyNi4yNjM1NjY1NjEyNTY5LCA2NC43MTk5NzY2OTM5OTk5XSwgWzI2LjI2MzU2NjU2MTI1NjksIDY0LjYwNjAyNzUwOTkwMjZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZGIzOTJjMWNkYjVjNDA2Mzg4ZTkxZjBlODFlOTFiNTggPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNTdhM2ZlNjcxNTg0NDczNWFlN2M0Zjg0MDcyNGE4YTYgPSAkKGA8ZGl2IGlkPSJodG1sXzU3YTNmZTY3MTU4NDQ3MzVhZTdjNGY4NDA3MjRhOGE2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fc2hfMTQudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kYjM5MmMxY2RiNWM0MDYzODhlOTFmMGU4MWU5MWI1OC5zZXRDb250ZW50KGh0bWxfNTdhM2ZlNjcxNTg0NDczNWFlN2M0Zjg0MDcyNGE4YTYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wNDExNmQ2YWM4M2U0NjZiOGZhMjExOTU0NmNlNWM4Mi5iaW5kUG9wdXAocG9wdXBfZGIzOTJjMWNkYjVjNDA2Mzg4ZTkxZjBlODFlOTFiNTgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTNiZjVjODMyYjkwNDlkNWIzMGE2ZTliYzI1YzE4NGVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81M2JmNWM4MzJiOTA0OWQ1YjMwYTZlOWJjMjVjMTg0ZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81M2JmNWM4MzJiOTA0OWQ1YjMwYTZlOWJjMjVjMTg0ZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTNiZjVjODMyYjkwNDlkNWIzMGE2ZTliYzI1YzE4NGVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzUzYmY1YzgzMmI5MDQ5ZDViMzBhNmU5YmMyNWMxODRlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81M2JmNWM4MzJiOTA0OWQ1YjMwYTZlOWJjMjVjMTg0ZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjMwNzM4OTczMzE0MzQsIDY0LjcxOTMwOTgyNzQzNThdLCBbMjYuNDE4ODA0Mzc5MzE1OSwgNjQuNzE5MzA5ODI3NDM1OF0sIFsyNi40MTg4MDQzNzkzMTU5LCA2NC44MzM3NDE4MzMwNjk1XSwgWzI2LjMwNzM4OTczMzE0MzQsIDY0LjgzMzc0MTgzMzA2OTVdLCBbMjYuMzA3Mzg5NzMzMTQzNCwgNjQuNzE5MzA5ODI3NDM1OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xMjQ5MjE4ZDRjMjQ0YzNkOGRkYzhlMjAwYTYzMGViNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mYzUzNmMwNzZiMzU0N2U2OTk1Yzk5NGUxMzc1YTRjZSA9ICQoYDxkaXYgaWQ9Imh0bWxfZmM1MzZjMDc2YjM1NDdlNjk5NWM5OTRlMTM3NWE0Y2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9zaF8xMy50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTUyNzY2PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvLXNlaXNtaWMgU3VyZmFjZSBEaWxhdGF0aW9uIGFuZCBTaGVhciBTdHJhaW4gRmllbGRzIERlcml2ZWQgZnJvbSBTUE9ULTUgRGlzcGxhY2VtZW50czwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzEyNDkyMThkNGMyNDRjM2Q4ZGRjOGUyMDBhNjMwZWI0LnNldENvbnRlbnQoaHRtbF9mYzUzNmMwNzZiMzU0N2U2OTk1Yzk5NGUxMzc1YTRjZSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzUzYmY1YzgzMmI5MDQ5ZDViMzBhNmU5YmMyNWMxODRlLmJpbmRQb3B1cChwb3B1cF8xMjQ5MjE4ZDRjMjQ0YzNkOGRkYzhlMjAwYTYzMGViNCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kNDgwNGMyZWZjYmE0ZWE0YTRiMzhmMjU5MzNjNDc2ZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Q0ODA0YzJlZmNiYTRlYTRhNGIzOGYyNTkzM2M0NzZkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Q0ODA0YzJlZmNiYTRlYTRhNGIzOGYyNTkzM2M0NzZkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kNDgwNGMyZWZjYmE0ZWE0YTRiMzhmMjU5MzNjNDc2ZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDQ4MDRjMmVmY2JhNGVhNGE0YjM4ZjI1OTMzYzQ3NmQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Q0ODA0YzJlZmNiYTRlYTRhNGIzOGYyNTkzM2M0NzZkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjYuNzMxNTIwNDMwNTI5NywgNjUuMjk0MjM0MDcxNDY5OF0sIFsyNi44MzA1ODM3NjI2MTU1LCA2NS4yOTQyMzQwNzE0Njk4XSwgWzI2LjgzMDU4Mzc2MjYxNTUsIDY1LjM2MTYxMTU2ODE4NjFdLCBbMjYuNzMxNTIwNDMwNTI5NywgNjUuMzYxNjExNTY4MTg2MV0sIFsyNi43MzE1MjA0MzA1Mjk3LCA2NS4yOTQyMzQwNzE0Njk4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzM5ZjYxOTJiZDVmMDQxM2U5ZGI2NGQ4OTQ1MDM3YTk3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FhM2Y5MWQ0MGM1YjQxNWZhZjljOWI4ZGVlMjc2YTdhID0gJChgPGRpdiBpZD0iaHRtbF9hYTNmOTFkNDBjNWI0MTVmYWY5YzliOGRlZTI3NmE3YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RyYWluX2RpbF8wNi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTUyNzY2PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvLXNlaXNtaWMgU3VyZmFjZSBEaWxhdGF0aW9uIGFuZCBTaGVhciBTdHJhaW4gRmllbGRzIERlcml2ZWQgZnJvbSBTUE9ULTUgRGlzcGxhY2VtZW50czwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzM5ZjYxOTJiZDVmMDQxM2U5ZGI2NGQ4OTQ1MDM3YTk3LnNldENvbnRlbnQoaHRtbF9hYTNmOTFkNDBjNWI0MTVmYWY5YzliOGRlZTI3NmE3YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Q0ODA0YzJlZmNiYTRlYTRhNGIzOGYyNTkzM2M0NzZkLmJpbmRQb3B1cChwb3B1cF8zOWY2MTkyYmQ1ZjA0MTNlOWRiNjRkODk0NTAzN2E5NykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83YTAxNTE2OTA5ZGU0ZmYwYjg5MTRhN2NlYTNkNmE5MV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzdhMDE1MTY5MDlkZTRmZjBiODkxNGE3Y2VhM2Q2YTkxID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzdhMDE1MTY5MDlkZTRmZjBiODkxNGE3Y2VhM2Q2YTkxX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83YTAxNTE2OTA5ZGU0ZmYwYjg5MTRhN2NlYTNkNmE5MV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fN2EwMTUxNjkwOWRlNGZmMGI4OTE0YTdjZWEzZDZhOTEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzdhMDE1MTY5MDlkZTRmZjBiODkxNGE3Y2VhM2Q2YTkxX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjYuNjIwMzUxMjIyOTQ1MSwgNjUuMTk2MTQzNTA4MzQyXSwgWzI2Ljc2NTA3NzM3NzA0MTUsIDY1LjE5NjE0MzUwODM0Ml0sIFsyNi43NjUwNzczNzcwNDE1LCA2NS4zMTczMDIxMDgxNTUxXSwgWzI2LjYyMDM1MTIyMjk0NTEsIDY1LjMxNzMwMjEwODE1NTFdLCBbMjYuNjIwMzUxMjIyOTQ1MSwgNjUuMTk2MTQzNTA4MzQyXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzFkMGYzODg4MzJjNzQ3Yzk4NWM5Mzg0NjVmOWM4ZmNjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzM4MzRlOGRhN2VlZDQzNzg4ZjY1OTNmN2Q0ZjA1NDVkID0gJChgPGRpdiBpZD0iaHRtbF8zODM0ZThkYTdlZWQ0Mzc4OGY2NTkzZjdkNGYwNTQ1ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RyYWluX3NoXzA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMWQwZjM4ODgzMmM3NDdjOTg1YzkzODQ2NWY5YzhmY2Muc2V0Q29udGVudChodG1sXzM4MzRlOGRhN2VlZDQzNzg4ZjY1OTNmN2Q0ZjA1NDVkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fN2EwMTUxNjkwOWRlNGZmMGI4OTE0YTdjZWEzZDZhOTEuYmluZFBvcHVwKHBvcHVwXzFkMGYzODg4MzJjNzQ3Yzk4NWM5Mzg0NjVmOWM4ZmNjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY3N2M2Y2ViNGFiMzRhNTE4ZTlmM2JmZTJhYTNkMTIwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjc3YzZjZWI0YWIzNGE1MThlOWYzYmZlMmFhM2QxMjAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjc3YzZjZWI0YWIzNGE1MThlOWYzYmZlMmFhM2QxMjBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY3N2M2Y2ViNGFiMzRhNTE4ZTlmM2JmZTJhYTNkMTIwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82NzdjNmNlYjRhYjM0YTUxOGU5ZjNiZmUyYWEzZDEyMC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjc3YzZjZWI0YWIzNGE1MThlOWYzYmZlMmFhM2QxMjBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi42MjAzNTEyMjI5NDUxLCA2NS4xOTYxNDM1MDgzNDJdLCBbMjYuNzY1MDc3Mzc3MDQxNSwgNjUuMTk2MTQzNTA4MzQyXSwgWzI2Ljc2NTA3NzM3NzA0MTUsIDY1LjMxNzMwMjEwODE1NTFdLCBbMjYuNjIwMzUxMjIyOTQ1MSwgNjUuMzE3MzAyMTA4MTU1MV0sIFsyNi42MjAzNTEyMjI5NDUxLCA2NS4xOTYxNDM1MDgzNDJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMTU4NjVjNjBiZDYxNGE4MGI5NzRjMWYwOTYyYTgzNjQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZTEyY2QwY2RhYTI1NDRmNDhjOGFkOTdjOGE4MzM0OGIgPSAkKGA8ZGl2IGlkPSJodG1sX2UxMmNkMGNkYWEyNTQ0ZjQ4YzhhZDk3YzhhODMzNDhiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fZGlsXzA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTU4NjVjNjBiZDYxNGE4MGI5NzRjMWYwOTYyYTgzNjQuc2V0Q29udGVudChodG1sX2UxMmNkMGNkYWEyNTQ0ZjQ4YzhhZDk3YzhhODMzNDhiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjc3YzZjZWI0YWIzNGE1MThlOWYzYmZlMmFhM2QxMjAuYmluZFBvcHVwKHBvcHVwXzE1ODY1YzYwYmQ2MTRhODBiOTc0YzFmMDk2MmE4MzY0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY2ODc0YmJiOTA3YjRiZGM4YmUyOTM1OWE1ZGY4YWY4X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjY4NzRiYmI5MDdiNGJkYzhiZTI5MzU5YTVkZjhhZjggPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjY4NzRiYmI5MDdiNGJkYzhiZTI5MzU5YTVkZjhhZjhfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY2ODc0YmJiOTA3YjRiZGM4YmUyOTM1OWE1ZGY4YWY4X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82Njg3NGJiYjkwN2I0YmRjOGJlMjkzNTlhNWRmOGFmOC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjY4NzRiYmI5MDdiNGJkYzhiZTI5MzU5YTVkZjhhZjhfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi44MzA4MzQ4NDU0ODgxLCA2NS4zNDY1MjgyNDk3OTM5XSwgWzI2LjkyOTkwODEzNzU5MjYsIDY1LjM0NjUyODI0OTc5MzldLCBbMjYuOTI5OTA4MTM3NTkyNiwgNjUuNDExNDk5MjMwMTI4MV0sIFsyNi44MzA4MzQ4NDU0ODgxLCA2NS40MTE0OTkyMzAxMjgxXSwgWzI2LjgzMDgzNDg0NTQ4ODEsIDY1LjM0NjUyODI0OTc5MzldXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNWYwZDYyYjMwNWMwNDU1NmIzMGM5MTBhODZmNDA4ZmUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMzFmYWZmNDc4YjhhNGZlMWJjNTdiNGI1OGVmM2M3Y2IgPSAkKGA8ZGl2IGlkPSJodG1sXzMxZmFmZjQ3OGI4YTRmZTFiYzU3YjRiNThlZjNjN2NiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fZGlsXzA1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNWYwZDYyYjMwNWMwNDU1NmIzMGM5MTBhODZmNDA4ZmUuc2V0Q29udGVudChodG1sXzMxZmFmZjQ3OGI4YTRmZTFiYzU3YjRiNThlZjNjN2NiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjY4NzRiYmI5MDdiNGJkYzhiZTI5MzU5YTVkZjhhZjguYmluZFBvcHVwKHBvcHVwXzVmMGQ2MmIzMDVjMDQ1NTZiMzBjOTEwYTg2ZjQwOGZlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JlZDQyNzU1YTkzNDRkZWM4NGIzMjNlZTQ0YThlZGJhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmVkNDI3NTVhOTM0NGRlYzg0YjMyM2VlNDRhOGVkYmEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmVkNDI3NTVhOTM0NGRlYzg0YjMyM2VlNDRhOGVkYmFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JlZDQyNzU1YTkzNDRkZWM4NGIzMjNlZTQ0YThlZGJhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iZWQ0Mjc1NWE5MzQ0ZGVjODRiMzIzZWU0NGE4ZWRiYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYmVkNDI3NTVhOTM0NGRlYzg0YjMyM2VlNDRhOGVkYmFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi41MTcyNDc2NzI4Mjc1LCA2NS4wNjEwNDc2NDU3ODc2XSwgWzI2LjU4Mzg4NzIzNjgyMzQsIDY1LjA2MTA0NzY0NTc4NzZdLCBbMjYuNTgzODg3MjM2ODIzNCwgNjUuMTMyNTA4MzAyMzY3OV0sIFsyNi41MTcyNDc2NzI4Mjc1LCA2NS4xMzI1MDgzMDIzNjc5XSwgWzI2LjUxNzI0NzY3MjgyNzUsIDY1LjA2MTA0NzY0NTc4NzZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZjczOThmOTZmMWM0NDkwZGFlNTQxM2M4YWUxYzJlMDEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjhlNGNlZDBlZTMyNDViZThjOWMzMmY5YmZhMDYxODUgPSAkKGA8ZGl2IGlkPSJodG1sXzI4ZTRjZWQwZWUzMjQ1YmU4YzljMzJmOWJmYTA2MTg1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fc2hfMTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mNzM5OGY5NmYxYzQ0OTBkYWU1NDEzYzhhZTFjMmUwMS5zZXRDb250ZW50KGh0bWxfMjhlNGNlZDBlZTMyNDViZThjOWMzMmY5YmZhMDYxODUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iZWQ0Mjc1NWE5MzQ0ZGVjODRiMzIzZWU0NGE4ZWRiYS5iaW5kUG9wdXAocG9wdXBfZjczOThmOTZmMWM0NDkwZGFlNTQxM2M4YWUxYzJlMDEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzk0ZjEzN2QzMzMzNDc3MThmMWVhMzZiMzY0YmZhMjlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zOTRmMTM3ZDMzMzM0NzcxOGYxZWEzNmIzNjRiZmEyOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zOTRmMTM3ZDMzMzM0NzcxOGYxZWEzNmIzNjRiZmEyOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzk0ZjEzN2QzMzMzNDc3MThmMWVhMzZiMzY0YmZhMjlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzM5NGYxMzdkMzMzMzQ3NzE4ZjFlYTM2YjM2NGJmYTI5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zOTRmMTM3ZDMzMzM0NzcxOGYxZWEzNmIzNjRiZmEyOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjQ0MzI1MjU2NTYyNDgsIDY0Ljk2MjE3MTUzNDM2NzRdLCBbMjYuNTQzMTM0NzQ2NjUzOCwgNjQuOTYyMTcxNTM0MzY3NF0sIFsyNi41NDMxMzQ3NDY2NTM4LCA2NS4wNzkyNzIwNTU0MTY1XSwgWzI2LjQ0MzI1MjU2NTYyNDgsIDY1LjA3OTI3MjA1NTQxNjVdLCBbMjYuNDQzMjUyNTY1NjI0OCwgNjQuOTYyMTcxNTM0MzY3NF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mZDBhNDdmOTE1MjM0ODljOTAxNmQwYTQ4ZDkzOTkxZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80M2E1N2U2MjY0Yjg0YThlOThlZmYxM2ZkM2QyMWNmYyA9ICQoYDxkaXYgaWQ9Imh0bWxfNDNhNTdlNjI2NGI4NGE4ZTk4ZWZmMTNmZDNkMjFjZmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMDkudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mZDBhNDdmOTE1MjM0ODljOTAxNmQwYTQ4ZDkzOTkxZC5zZXRDb250ZW50KGh0bWxfNDNhNTdlNjI2NGI4NGE4ZTk4ZWZmMTNmZDNkMjFjZmMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zOTRmMTM3ZDMzMzM0NzcxOGYxZWEzNmIzNjRiZmEyOS5iaW5kUG9wdXAocG9wdXBfZmQwYTQ3ZjkxNTIzNDg5YzkwMTZkMGE0OGQ5Mzk5MWQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjg5ZThjOThhM2E0NDU3YzhjOGM4ZGRhZTU5YWNmYzBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iODllOGM5OGEzYTQ0NTdjOGM4YzhkZGFlNTlhY2ZjMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iODllOGM5OGEzYTQ0NTdjOGM4YzhkZGFlNTlhY2ZjMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjg5ZThjOThhM2E0NDU3YzhjOGM4ZGRhZTU5YWNmYzBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2I4OWU4Yzk4YTNhNDQ1N2M4YzhjOGRkYWU1OWFjZmMwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iODllOGM5OGEzYTQ0NTdjOGM4YzhkZGFlNTlhY2ZjMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI3LjE5NDQzNDc4OTY4ODEsIDY1LjUzMzI4OTI5NzMzNTVdLCBbMjcuMzQ5NDM3Njc1MDI3OSwgNjUuNTMzMjg5Mjk3MzM1NV0sIFsyNy4zNDk0Mzc2NzUwMjc5LCA2NS42ODgzNzQ3NDQwMzI5XSwgWzI3LjE5NDQzNDc4OTY4ODEsIDY1LjY4ODM3NDc0NDAzMjldLCBbMjcuMTk0NDM0Nzg5Njg4MSwgNjUuNTMzMjg5Mjk3MzM1NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81YmRlMDAyMDMwMDA0MGRkYmFhZWMwMzYwYzM4MWQxYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lODVmYmQ1ZmUwZTc0NTY2YjU2OWQ4ODE3YmEwODAxYSA9ICQoYDxkaXYgaWQ9Imh0bWxfZTg1ZmJkNWZlMGU3NDU2NmI1NjlkODgxN2JhMDgwMWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMDEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81YmRlMDAyMDMwMDA0MGRkYmFhZWMwMzYwYzM4MWQxYS5zZXRDb250ZW50KGh0bWxfZTg1ZmJkNWZlMGU3NDU2NmI1NjlkODgxN2JhMDgwMWEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iODllOGM5OGEzYTQ0NTdjOGM4YzhkZGFlNTlhY2ZjMC5iaW5kUG9wdXAocG9wdXBfNWJkZTAwMjAzMDAwNDBkZGJhYWVjMDM2MGMzODFkMWEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTBiZDAwN2UwMzkxNDMyMjhhOWI1YTIzMWQ3MmE2NjBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hMGJkMDA3ZTAzOTE0MzIyOGE5YjVhMjMxZDcyYTY2MCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hMGJkMDA3ZTAzOTE0MzIyOGE5YjVhMjMxZDcyYTY2MF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTBiZDAwN2UwMzkxNDMyMjhhOWI1YTIzMWQ3MmE2NjBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2EwYmQwMDdlMDM5MTQzMjI4YTliNWEyMzFkNzJhNjYwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hMGJkMDA3ZTAzOTE0MzIyOGE5YjVhMjMxZDcyYTY2MF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjkzMDEyMjY0NTMwNTksIDY1LjM5ODkxOTI3NzU5NzldLCBbMjcuMDI5Mjk1NzQxMTAzMSwgNjUuMzk4OTE5Mjc3NTk3OV0sIFsyNy4wMjkyOTU3NDExMDMxLCA2NS40NTY0NDQwMzI3ODYzXSwgWzI2LjkzMDEyMjY0NTMwNTksIDY1LjQ1NjQ0NDAzMjc4NjNdLCBbMjYuOTMwMTIyNjQ1MzA1OSwgNjUuMzk4OTE5Mjc3NTk3OV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wYTY0OTI5ZGU4NjQ0NzVlOTgxOTk4NmRlY2Q0Y2QzZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yZjM1MWEwZjc5Nzc0YTMwYWJjZGQ4MTg4YzE5ZDgyNCA9ICQoYDxkaXYgaWQ9Imh0bWxfMmYzNTFhMGY3OTc3NGEzMGFiY2RkODE4OGMxOWQ4MjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMDQudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wYTY0OTI5ZGU4NjQ0NzVlOTgxOTk4NmRlY2Q0Y2QzZi5zZXRDb250ZW50KGh0bWxfMmYzNTFhMGY3OTc3NGEzMGFiY2RkODE4OGMxOWQ4MjQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hMGJkMDA3ZTAzOTE0MzIyOGE5YjVhMjMxZDcyYTY2MC5iaW5kUG9wdXAocG9wdXBfMGE2NDkyOWRlODY0NDc1ZTk4MTk5ODZkZWNkNGNkM2YpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjg1NzcyNzQyYmU3NGYxZWEyOGZlNmI0YmQzMTlhYWZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82ODU3NzI3NDJiZTc0ZjFlYTI4ZmU2YjRiZDMxOWFhZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82ODU3NzI3NDJiZTc0ZjFlYTI4ZmU2YjRiZDMxOWFhZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjg1NzcyNzQyYmU3NGYxZWEyOGZlNmI0YmQzMTlhYWZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzY4NTc3Mjc0MmJlNzRmMWVhMjhmZTZiNGJkMzE5YWFmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82ODU3NzI3NDJiZTc0ZjFlYTI4ZmU2YjRiZDMxOWFhZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI3LjEyODYxNzM5MjQ4MDUsIDY1LjUwMzk5NDUyNTI5ODRdLCBbMjcuMjI3MjY3NzgyMDQzMywgNjUuNTAzOTk0NTI1Mjk4NF0sIFsyNy4yMjcyNjc3ODIwNDMzLCA2NS41ODY5NDc5NTU4MjQ3XSwgWzI3LjEyODYxNzM5MjQ4MDUsIDY1LjU4Njk0Nzk1NTgyNDddLCBbMjcuMTI4NjE3MzkyNDgwNSwgNjUuNTAzOTk0NTI1Mjk4NF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84NTAyYTYyM2MyYzM0ODc3OGE1NTdhNDAwMDk1ZGNkMyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84YzI0MDNlNWEzY2M0YzBhYjM0MzQ3MjkzYzZjNmQ1NCA9ICQoYDxkaXYgaWQ9Imh0bWxfOGMyNDAzZTVhM2NjNGMwYWIzNDM0NzI5M2M2YzZkNTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMDIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84NTAyYTYyM2MyYzM0ODc3OGE1NTdhNDAwMDk1ZGNkMy5zZXRDb250ZW50KGh0bWxfOGMyNDAzZTVhM2NjNGMwYWIzNDM0NzI5M2M2YzZkNTQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82ODU3NzI3NDJiZTc0ZjFlYTI4ZmU2YjRiZDMxOWFhZi5iaW5kUG9wdXAocG9wdXBfODUwMmE2MjNjMmMzNDg3NzhhNTU3YTQwMDA5NWRjZDMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTcxYjAxMjAzNmQ3NDc2YmE4NDYxNjc3Zjk0N2EwOThfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lNzFiMDEyMDM2ZDc0NzZiYTg0NjE2NzdmOTQ3YTA5OCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lNzFiMDEyMDM2ZDc0NzZiYTg0NjE2NzdmOTQ3YTA5OF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTcxYjAxMjAzNmQ3NDc2YmE4NDYxNjc3Zjk0N2EwOThfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2U3MWIwMTIwMzZkNzQ3NmJhODQ2MTY3N2Y5NDdhMDk4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lNzFiMDEyMDM2ZDc0NzZiYTg0NjE2NzdmOTQ3YTA5OF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI3LjAyOTM4MzU3ODQyNDcsIDY1LjQ1MTQwNzgxNTExMjFdLCBbMjcuMTI4NDM3MTY4NDA5NCwgNjUuNDUxNDA3ODE1MTEyMV0sIFsyNy4xMjg0MzcxNjg0MDk0LCA2NS41MTQwNzU0MTAxNDYxXSwgWzI3LjAyOTM4MzU3ODQyNDcsIDY1LjUxNDA3NTQxMDE0NjFdLCBbMjcuMDI5MzgzNTc4NDI0NywgNjUuNDUxNDA3ODE1MTEyMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zOGYyMWZjMjQ1ZDA0NjIzYmM2OWEwOGY4MGI2ZTNjOSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kYWNlYzYxMjMzMDU0MTg0YWUyOGMwZDg0ZGYxZDA0MiA9ICQoYDxkaXYgaWQ9Imh0bWxfZGFjZWM2MTIzMzA1NDE4NGFlMjhjMGQ4NGRmMWQwNDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMDMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zOGYyMWZjMjQ1ZDA0NjIzYmM2OWEwOGY4MGI2ZTNjOS5zZXRDb250ZW50KGh0bWxfZGFjZWM2MTIzMzA1NDE4NGFlMjhjMGQ4NGRmMWQwNDIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lNzFiMDEyMDM2ZDc0NzZiYTg0NjE2NzdmOTQ3YTA5OC5iaW5kUG9wdXAocG9wdXBfMzhmMjFmYzI0NWQwNDYyM2JjNjlhMDhmODBiNmUzYzkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDNkMTc4YThmZDA3NGEwY2E3MWE3MTM0NDE3MzUxZjZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80M2QxNzhhOGZkMDc0YTBjYTcxYTcxMzQ0MTczNTFmNiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80M2QxNzhhOGZkMDc0YTBjYTcxYTcxMzQ0MTczNTFmNl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDNkMTc4YThmZDA3NGEwY2E3MWE3MTM0NDE3MzUxZjZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQzZDE3OGE4ZmQwNzRhMGNhNzFhNzEzNDQxNzM1MWY2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80M2QxNzhhOGZkMDc0YTBjYTcxYTcxMzQ0MTczNTFmNl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjUxNzI0NzY3MjgyNzUsIDY1LjA2MTA0NzY0NTc4NzZdLCBbMjYuNTgzODg3MjM2ODIzNCwgNjUuMDYxMDQ3NjQ1Nzg3Nl0sIFsyNi41ODM4ODcyMzY4MjM0LCA2NS4xMzI1MDgzMDIzNjc5XSwgWzI2LjUxNzI0NzY3MjgyNzUsIDY1LjEzMjUwODMwMjM2NzldLCBbMjYuNTE3MjQ3NjcyODI3NSwgNjUuMDYxMDQ3NjQ1Nzg3Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82MjcyOTg1MmJkNWQ0NGUyODMxZjJkMjUzZjY0MDhkNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iZTkxMzQxOTg2Y2Y0ODMyYTliMDc4Zjg2NTA5YmJmNiA9ICQoYDxkaXYgaWQ9Imh0bWxfYmU5MTM0MTk4NmNmNDgzMmE5YjA3OGY4NjUwOWJiZjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82MjcyOTg1MmJkNWQ0NGUyODMxZjJkMjUzZjY0MDhkNy5zZXRDb250ZW50KGh0bWxfYmU5MTM0MTk4NmNmNDgzMmE5YjA3OGY4NjUwOWJiZjYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl80M2QxNzhhOGZkMDc0YTBjYTcxYTcxMzQ0MTczNTFmNi5iaW5kUG9wdXAocG9wdXBfNjI3Mjk4NTJiZDVkNDRlMjgzMWYyZDI1M2Y2NDA4ZDcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYWNhM2ZjNDFiMGY3NDJiZThmYzcxYjliMjNhMjg3ZjJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hY2EzZmM0MWIwZjc0MmJlOGZjNzFiOWIyM2EyODdmMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hY2EzZmM0MWIwZjc0MmJlOGZjNzFiOWIyM2EyODdmMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYWNhM2ZjNDFiMGY3NDJiZThmYzcxYjliMjNhMjg3ZjJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2FjYTNmYzQxYjBmNzQyYmU4ZmM3MWI5YjIzYTI4N2YyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hY2EzZmM0MWIwZjc0MmJlOGZjNzFiOWIyM2EyODdmMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjMwNzM4OTczMzE0MzQsIDY0LjcxOTMwOTgyNzQzNThdLCBbMjYuNDE4ODA0Mzc5MzE1OSwgNjQuNzE5MzA5ODI3NDM1OF0sIFsyNi40MTg4MDQzNzkzMTU5LCA2NC44MzM3NDE4MzMwNjk1XSwgWzI2LjMwNzM4OTczMzE0MzQsIDY0LjgzMzc0MTgzMzA2OTVdLCBbMjYuMzA3Mzg5NzMzMTQzNCwgNjQuNzE5MzA5ODI3NDM1OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zMzNjMGY4Nzg0MTA0NDk3YmMxZDU5NmQ2NDg5YTNhZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85Yjk0OTViZjRkMzY0ODhjOTFkOGRiOWM3NzJlNDUyNSA9ICQoYDxkaXYgaWQ9Imh0bWxfOWI5NDk1YmY0ZDM2NDg4YzkxZDhkYjljNzcyZTQ1MjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMTMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zMzNjMGY4Nzg0MTA0NDk3YmMxZDU5NmQ2NDg5YTNhZC5zZXRDb250ZW50KGh0bWxfOWI5NDk1YmY0ZDM2NDg4YzkxZDhkYjljNzcyZTQ1MjUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hY2EzZmM0MWIwZjc0MmJlOGZjNzFiOWIyM2EyODdmMi5iaW5kUG9wdXAocG9wdXBfMzMzYzBmODc4NDEwNDQ5N2JjMWQ1OTZkNjQ4OWEzYWQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjdlNDllYTI3ZThiNDEyOTlhYzhhZWVlZjQ1Y2Q5YmVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yN2U0OWVhMjdlOGI0MTI5OWFjOGFlZWVmNDVjZDliZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yN2U0OWVhMjdlOGI0MTI5OWFjOGFlZWVmNDVjZDliZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjdlNDllYTI3ZThiNDEyOTlhYzhhZWVlZjQ1Y2Q5YmVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzI3ZTQ5ZWEyN2U4YjQxMjk5YWM4YWVlZWY0NWNkOWJlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yN2U0OWVhMjdlOGI0MTI5OWFjOGFlZWVmNDVjZDliZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjA5ODA0NzE3MDM4NzIsIDY0LjE4MTAxMzk2ODI1MDRdLCBbMjYuMTUzNTAzNDYzMzk5NiwgNjQuMTgxMDEzOTY4MjUwNF0sIFsyNi4xNTM1MDM0NjMzOTk2LCA2NC4yOTQxMTQ5ODA3NjQzXSwgWzI2LjA5ODA0NzE3MDM4NzIsIDY0LjI5NDExNDk4MDc2NDNdLCBbMjYuMDk4MDQ3MTcwMzg3MiwgNjQuMTgxMDEzOTY4MjUwNF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83ZjIyMTBjOWUyZGY0ZDA0YTU4YzZiOWVjMmQ5NDhlYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jMjQxZDgyOGUzMjc0ZWZjYWFmNGRkNjkwMjc5Y2Y5NyA9ICQoYDxkaXYgaWQ9Imh0bWxfYzI0MWQ4MjhlMzI3NGVmY2FhZjRkZDY5MDI3OWNmOTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9zaF8xOS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTUyNzY2PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvLXNlaXNtaWMgU3VyZmFjZSBEaWxhdGF0aW9uIGFuZCBTaGVhciBTdHJhaW4gRmllbGRzIERlcml2ZWQgZnJvbSBTUE9ULTUgRGlzcGxhY2VtZW50czwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzdmMjIxMGM5ZTJkZjRkMDRhNThjNmI5ZWMyZDk0OGVhLnNldENvbnRlbnQoaHRtbF9jMjQxZDgyOGUzMjc0ZWZjYWFmNGRkNjkwMjc5Y2Y5Nyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzI3ZTQ5ZWEyN2U4YjQxMjk5YWM4YWVlZWY0NWNkOWJlLmJpbmRQb3B1cChwb3B1cF83ZjIyMTBjOWUyZGY0ZDA0YTU4YzZiOWVjMmQ5NDhlYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83NGU5MTM3NGFhNDg0ZWYwYTY4MzJjMjA4OGFkNjBkOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzc0ZTkxMzc0YWE0ODRlZjBhNjgzMmMyMDg4YWQ2MGQ5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzc0ZTkxMzc0YWE0ODRlZjBhNjgzMmMyMDg4YWQ2MGQ5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83NGU5MTM3NGFhNDg0ZWYwYTY4MzJjMjA4OGFkNjBkOV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzRlOTEzNzRhYTQ4NGVmMGE2ODMyYzIwODhhZDYwZDkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzc0ZTkxMzc0YWE0ODRlZjBhNjgzMmMyMDg4YWQ2MGQ5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjcuMTk0NDM0Nzg5Njg4MSwgNjUuNTMzMjg5Mjk3MzM1NV0sIFsyNy4zNDk0Mzc2NzUwMjc5LCA2NS41MzMyODkyOTczMzU1XSwgWzI3LjM0OTQzNzY3NTAyNzksIDY1LjY4ODM3NDc0NDAzMjldLCBbMjcuMTk0NDM0Nzg5Njg4MSwgNjUuNjg4Mzc0NzQ0MDMyOV0sIFsyNy4xOTQ0MzQ3ODk2ODgxLCA2NS41MzMyODkyOTczMzU1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2FmYTRhOTRiNjJmZjQzNGNhYzQxOGEyOTIxMGQ3YjBjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzJkMDg0NGM0MDUxOTQyMDg4MDFkYWNiZGNhODU4YzM2ID0gJChgPGRpdiBpZD0iaHRtbF8yZDA4NDRjNDA1MTk0MjA4ODAxZGFjYmRjYTg1OGMzNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RyYWluX3NoXzAxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYWZhNGE5NGI2MmZmNDM0Y2FjNDE4YTI5MjEwZDdiMGMuc2V0Q29udGVudChodG1sXzJkMDg0NGM0MDUxOTQyMDg4MDFkYWNiZGNhODU4YzM2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzRlOTEzNzRhYTQ4NGVmMGE2ODMyYzIwODhhZDYwZDkuYmluZFBvcHVwKHBvcHVwX2FmYTRhOTRiNjJmZjQzNGNhYzQxOGEyOTIxMGQ3YjBjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzNjZWMxNWYyNDAxYTRmMTI5NDU3ODIyOWZkZDc3MWU5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fM2NlYzE1ZjI0MDFhNGYxMjk0NTc4MjI5ZmRkNzcxZTkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fM2NlYzE1ZjI0MDFhNGYxMjk0NTc4MjI5ZmRkNzcxZTlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzNjZWMxNWYyNDAxYTRmMTI5NDU3ODIyOWZkZDc3MWU5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zY2VjMTVmMjQwMWE0ZjEyOTQ1NzgyMjlmZGQ3NzFlOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fM2NlYzE1ZjI0MDFhNGYxMjk0NTc4MjI5ZmRkNzcxZTlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi4yNjM1NjY1NjEyNTY5LCA2NC42MDYwMjc1MDk5MDI2XSwgWzI2LjM1MjUxNjU0NzA4ODYsIDY0LjYwNjAyNzUwOTkwMjZdLCBbMjYuMzUyNTE2NTQ3MDg4NiwgNjQuNzE5OTc2NjkzOTk5OV0sIFsyNi4yNjM1NjY1NjEyNTY5LCA2NC43MTk5NzY2OTM5OTk5XSwgWzI2LjI2MzU2NjU2MTI1NjksIDY0LjYwNjAyNzUwOTkwMjZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfY2U4NGQyYWIyYTg1NDI0YTk0OTg0YWM3MzQ1ZGIzMzYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYzVjOGRjY2ExNjQ4NDU1NDliMTA2MmE3ODU2ZGVmMDAgPSAkKGA8ZGl2IGlkPSJodG1sX2M1YzhkY2NhMTY0ODQ1NTQ5YjEwNjJhNzg1NmRlZjAwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fZGlsXzE0LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfY2U4NGQyYWIyYTg1NDI0YTk0OTg0YWM3MzQ1ZGIzMzYuc2V0Q29udGVudChodG1sX2M1YzhkY2NhMTY0ODQ1NTQ5YjEwNjJhNzg1NmRlZjAwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fM2NlYzE1ZjI0MDFhNGYxMjk0NTc4MjI5ZmRkNzcxZTkuYmluZFBvcHVwKHBvcHVwX2NlODRkMmFiMmE4NTQyNGE5NDk4NGFjNzM0NWRiMzM2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU1Mzc2MDNkYzIzYjRlYjZhNzIwOTA1OTljNGQyNjUyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTUzNzYwM2RjMjNiNGViNmE3MjA5MDU5OWM0ZDI2NTIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTUzNzYwM2RjMjNiNGViNmE3MjA5MDU5OWM0ZDI2NTJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU1Mzc2MDNkYzIzYjRlYjZhNzIwOTA1OTljNGQyNjUyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81NTM3NjAzZGMyM2I0ZWI2YTcyMDkwNTk5YzRkMjY1Mi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTUzNzYwM2RjMjNiNGViNmE3MjA5MDU5OWM0ZDI2NTJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi40NDMyNTI1NjU2MjQ4LCA2NC45NjIxNzE1MzQzNjc0XSwgWzI2LjU0MzEzNDc0NjY1MzgsIDY0Ljk2MjE3MTUzNDM2NzRdLCBbMjYuNTQzMTM0NzQ2NjUzOCwgNjUuMDc5MjcyMDU1NDE2NV0sIFsyNi40NDMyNTI1NjU2MjQ4LCA2NS4wNzkyNzIwNTU0MTY1XSwgWzI2LjQ0MzI1MjU2NTYyNDgsIDY0Ljk2MjE3MTUzNDM2NzRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZmZhOThhYjE2ZDZhNDZlYzkwZWJkN2Y4ZDM3NDM4MTAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYTg3MzM2MmFmNDNhNGMzOTkwYmFjMmQ2NzVkODYyNTMgPSAkKGA8ZGl2IGlkPSJodG1sX2E4NzMzNjJhZjQzYTRjMzk5MGJhYzJkNjc1ZDg2MjUzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fc2hfMDkudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mZmE5OGFiMTZkNmE0NmVjOTBlYmQ3ZjhkMzc0MzgxMC5zZXRDb250ZW50KGh0bWxfYTg3MzM2MmFmNDNhNGMzOTkwYmFjMmQ2NzVkODYyNTMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81NTM3NjAzZGMyM2I0ZWI2YTcyMDkwNTk5YzRkMjY1Mi5iaW5kUG9wdXAocG9wdXBfZmZhOThhYjE2ZDZhNDZlYzkwZWJkN2Y4ZDM3NDM4MTApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTI5MmQ4MjlkMmVmNDMyNDg2NzE3ZTQ2MzA5MjkzMjBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85MjkyZDgyOWQyZWY0MzI0ODY3MTdlNDYzMDkyOTMyMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85MjkyZDgyOWQyZWY0MzI0ODY3MTdlNDYzMDkyOTMyMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTI5MmQ4MjlkMmVmNDMyNDg2NzE3ZTQ2MzA5MjkzMjBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzkyOTJkODI5ZDJlZjQzMjQ4NjcxN2U0NjMwOTI5MzIwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85MjkyZDgyOWQyZWY0MzI0ODY3MTdlNDYzMDkyOTMyMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjQwNjAzMzU4NjU0OSwgNjQuOTQ2MzA1Nzk4NDgzNV0sIFsyNi41Mjg1MjY4NDMyNzEzLCA2NC45NDYzMDU3OTg0ODM1XSwgWzI2LjUyODUyNjg0MzI3MTMsIDY1LjA2MTI0OTE1MTQzOTRdLCBbMjYuNDA2MDMzNTg2NTQ5LCA2NS4wNjEyNDkxNTE0Mzk0XSwgWzI2LjQwNjAzMzU4NjU0OSwgNjQuOTQ2MzA1Nzk4NDgzNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kM2NlMTRkOWU2MTI0MzdjOGNkZThhODliNWY2ZTIwNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85MDRlNGMxNDcxYzk0ZGVkYmY2MjliZjk4YjE3ODg1YiA9ICQoYDxkaXYgaWQ9Imh0bWxfOTA0ZTRjMTQ3MWM5NGRlZGJmNjI5YmY5OGIxNzg4NWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9zaF8xMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTUyNzY2PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvLXNlaXNtaWMgU3VyZmFjZSBEaWxhdGF0aW9uIGFuZCBTaGVhciBTdHJhaW4gRmllbGRzIERlcml2ZWQgZnJvbSBTUE9ULTUgRGlzcGxhY2VtZW50czwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDU1Mjc2NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2QzY2UxNGQ5ZTYxMjQzN2M4Y2RlOGE4OWI1ZjZlMjA0LnNldENvbnRlbnQoaHRtbF85MDRlNGMxNDcxYzk0ZGVkYmY2MjliZjk4YjE3ODg1Yik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzkyOTJkODI5ZDJlZjQzMjQ4NjcxN2U0NjMwOTI5MzIwLmJpbmRQb3B1cChwb3B1cF9kM2NlMTRkOWU2MTI0MzdjOGNkZThhODliNWY2ZTIwNCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83OTZmYjgxMzAzMTI0NDkyOGY2ZDBlYzI3NDJhZTM0M19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzc5NmZiODEzMDMxMjQ0OTI4ZjZkMGVjMjc0MmFlMzQzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzc5NmZiODEzMDMxMjQ0OTI4ZjZkMGVjMjc0MmFlMzQzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfODMwYzg2YjY2YzJkNDUyZmE3YmM0NDE4NGJkZTY1ZTkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83OTZmYjgxMzAzMTI0NDkyOGY2ZDBlYzI3NDJhZTM0M19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzk2ZmI4MTMwMzEyNDQ5MjhmNmQwZWMyNzQyYWUzNDMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzc5NmZiODEzMDMxMjQ0OTI4ZjZkMGVjMjc0MmFlMzQzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjYuMTMwOTM1MDM3OTQ0MiwgNjQuMjkzODY2MTI2NzFdLCBbMjYuMTg2Mjk5MjA5MDg1NSwgNjQuMjkzODY2MTI2NzFdLCBbMjYuMTg2Mjk5MjA5MDg1NSwgNjQuNDA3MDQ4NzYyNzgyN10sIFsyNi4xMzA5MzUwMzc5NDQyLCA2NC40MDcwNDg3NjI3ODI3XSwgWzI2LjEzMDkzNTAzNzk0NDIsIDY0LjI5Mzg2NjEyNjcxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzUwZGZiNTkzMDE0NDRmNjI5ZDA2MmRiN2IzZDYwZDEwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2M0YzY5NDhiZGMzZDQ2OGQ5MWNlNDE5OTBkMGMwNmYwID0gJChgPGRpdiBpZD0iaHRtbF9jNGM2OTQ4YmRjM2Q0NjhkOTFjZTQxOTkwZDBjMDZmMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RyYWluX3NoXzE4LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTBkZmI1OTMwMTQ0NGY2MjlkMDYyZGI3YjNkNjBkMTAuc2V0Q29udGVudChodG1sX2M0YzY5NDhiZGMzZDQ2OGQ5MWNlNDE5OTBkMGMwNmYwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzk2ZmI4MTMwMzEyNDQ5MjhmNmQwZWMyNzQyYWUzNDMuYmluZFBvcHVwKHBvcHVwXzUwZGZiNTkzMDE0NDRmNjI5ZDA2MmRiN2IzZDYwZDEwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZiZTNjNjc5YzMyOTQwYTdiMmRmZGNlNGFjMDE5NGY0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZmJlM2M2NzljMzI5NDBhN2IyZGZkY2U0YWMwMTk0ZjQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZmJlM2M2NzljMzI5NDBhN2IyZGZkY2U0YWMwMTk0ZjRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZiZTNjNjc5YzMyOTQwYTdiMmRmZGNlNGFjMDE5NGY0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mYmUzYzY3OWMzMjk0MGE3YjJkZmRjZTRhYzAxOTRmNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZmJlM2M2NzljMzI5NDBhN2IyZGZkY2U0YWMwMTk0ZjRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi4zNzM2ODA3NzM0MTA1LCA2NC44MzMwMjg4MDQyNzk0XSwgWzI2LjQ2MjQzNDA5NDc3MzQsIDY0LjgzMzAyODgwNDI3OTRdLCBbMjYuNDYyNDM0MDk0NzczNCwgNjQuOTQ3MjUzNzY0NjUxMl0sIFsyNi4zNzM2ODA3NzM0MTA1LCA2NC45NDcyNTM3NjQ2NTEyXSwgWzI2LjM3MzY4MDc3MzQxMDUsIDY0LjgzMzAyODgwNDI3OTRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYWEyMDM4NDI0MGRlNGIwMDg3NmY1NzczNWYwYzIyNjEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfN2EwNzgzOTIyYWNiNDQwMDlkNWM5NDQ0NjIwYThjZDQgPSAkKGA8ZGl2IGlkPSJodG1sXzdhMDc4MzkyMmFjYjQ0MDA5ZDVjOTQ0NDYyMGE4Y2Q0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fZGlsXzEyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NTI3NjY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ28tc2Vpc21pYyBTdXJmYWNlIERpbGF0YXRpb24gYW5kIFNoZWFyIFN0cmFpbiBGaWVsZHMgRGVyaXZlZCBmcm9tIFNQT1QtNSBEaXNwbGFjZW1lbnRzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NTUyNzY3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYWEyMDM4NDI0MGRlNGIwMDg3NmY1NzczNWYwYzIyNjEuc2V0Q29udGVudChodG1sXzdhMDc4MzkyMmFjYjQ0MDA5ZDVjOTQ0NDYyMGE4Y2Q0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZmJlM2M2NzljMzI5NDBhN2IyZGZkY2U0YWMwMTk0ZjQuYmluZFBvcHVwKHBvcHVwX2FhMjAzODQyNDBkZTRiMDA4NzZmNTc3MzVmMGMyMjYxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2M1ZjJjNmE2ODkyNjRjODk5ZWQzYTA3ZTE4YjAxZjlhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYzVmMmM2YTY4OTI2NGM4OTllZDNhMDdlMThiMDFmOWEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYzVmMmM2YTY4OTI2NGM4OTllZDNhMDdlMThiMDFmOWFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2M1ZjJjNmE2ODkyNjRjODk5ZWQzYTA3ZTE4YjAxZjlhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jNWYyYzZhNjg5MjY0Yzg5OWVkM2EwN2UxOGIwMWY5YS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYzVmMmM2YTY4OTI2NGM4OTllZDNhMDdlMThiMDFmOWFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syNi43MzE1MjA0MzA1Mjk3LCA2NS4yOTQyMzQwNzE0Njk4XSwgWzI2LjgzMDU4Mzc2MjYxNTUsIDY1LjI5NDIzNDA3MTQ2OThdLCBbMjYuODMwNTgzNzYyNjE1NSwgNjUuMzYxNjExNTY4MTg2MV0sIFsyNi43MzE1MjA0MzA1Mjk3LCA2NS4zNjE2MTE1NjgxODYxXSwgWzI2LjczMTUyMDQzMDUyOTcsIDY1LjI5NDIzNDA3MTQ2OThdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYWE5ZWNmNDJmZDlkNDk0MDk0MTdjZDhlODc0NmI4ZmMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjkxMzZmNmYyZDRmNDQwYWJhMjg2NWNlZDQ4N2I2NGUgPSAkKGA8ZGl2IGlkPSJodG1sX2Y5MTM2ZjZmMmQ0ZjQ0MGFiYTI4NjVjZWQ0ODdiNjRlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJhaW5fc2hfMDYudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hYTllY2Y0MmZkOWQ0OTQwOTQxN2NkOGU4NzQ2YjhmYy5zZXRDb250ZW50KGh0bWxfZjkxMzZmNmYyZDRmNDQwYWJhMjg2NWNlZDQ4N2I2NGUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jNWYyYzZhNjg5MjY0Yzg5OWVkM2EwN2UxOGIwMWY5YS5iaW5kUG9wdXAocG9wdXBfYWE5ZWNmNDJmZDlkNDk0MDk0MTdjZDhlODc0NmI4ZmMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjBhNDhlZGE4ZjkyNDAwNGJmNDQxYmExY2NjZmY4YjVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mMGE0OGVkYThmOTI0MDA0YmY0NDFiYTFjY2NmZjhiNSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mMGE0OGVkYThmOTI0MDA0YmY0NDFiYTFjY2NmZjhiNV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjBhNDhlZGE4ZjkyNDAwNGJmNDQxYmExY2NjZmY4YjVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2YwYTQ4ZWRhOGY5MjQwMDRiZjQ0MWJhMWNjY2ZmOGI1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mMGE0OGVkYThmOTI0MDA0YmY0NDFiYTFjY2NmZjhiNV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjE3NTAxNTU4MzQ3NSwgNjQuNDA2OTEzMjQzNjMwMV0sIFsyNi4yMzAyODY1MDkyOTcyLCA2NC40MDY5MTMyNDM2MzAxXSwgWzI2LjIzMDI4NjUwOTI5NzIsIDY0LjUyMDE4ODQ2NTA5MjRdLCBbMjYuMTc1MDE1NTgzNDc1LCA2NC41MjAxODg0NjUwOTI0XSwgWzI2LjE3NTAxNTU4MzQ3NSwgNjQuNDA2OTEzMjQzNjMwMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zZmRjMGY5N2MwZTQ0OWU0ODU3NzdiYmRhMGIzMDI0YyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kNWNhYmJiZTQyYWE0ZWI1OTdhZjFlMmI5MTU3M2IzNSA9ICQoYDxkaXYgaWQ9Imh0bWxfZDVjYWJiYmU0MmFhNGViNTk3YWYxZTJiOTE1NzNiMzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMTcudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zZmRjMGY5N2MwZTQ0OWU0ODU3NzdiYmRhMGIzMDI0Yy5zZXRDb250ZW50KGh0bWxfZDVjYWJiYmU0MmFhNGViNTk3YWYxZTJiOTE1NzNiMzUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mMGE0OGVkYThmOTI0MDA0YmY0NDFiYTFjY2NmZjhiNS5iaW5kUG9wdXAocG9wdXBfM2ZkYzBmOTdjMGU0NDllNDg1Nzc3YmJkYTBiMzAyNGMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTlhNzYzMzAxNTlkNDcwMzgwYzdmYTE5NzE4MzJiZjdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xOWE3NjMzMDE1OWQ0NzAzODBjN2ZhMTk3MTgzMmJmNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xOWE3NjMzMDE1OWQ0NzAzODBjN2ZhMTk3MTgzMmJmN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTlhNzYzMzAxNTlkNDcwMzgwYzdmYTE5NzE4MzJiZjdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzE5YTc2MzMwMTU5ZDQ3MDM4MGM3ZmExOTcxODMyYmY3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xOWE3NjMzMDE1OWQ0NzAzODBjN2ZhMTk3MTgzMmJmN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjQwNjAzMzU4NjU0OSwgNjQuOTQ2MzA1Nzk4NDgzNV0sIFsyNi41Mjg1MjY4NDMyNzEzLCA2NC45NDYzMDU3OTg0ODM1XSwgWzI2LjUyODUyNjg0MzI3MTMsIDY1LjA2MTI0OTE1MTQzOTRdLCBbMjYuNDA2MDMzNTg2NTQ5LCA2NS4wNjEyNDkxNTE0Mzk0XSwgWzI2LjQwNjAzMzU4NjU0OSwgNjQuOTQ2MzA1Nzk4NDgzNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82OTg5Nzg2MTQxNjM0MTAwYjRkYzdjZjI1OWZkZDBhZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iNTE4MTY4NjY0Mjg0YWU5OWZlZWRmYTRkNzNlNDBkZiA9ICQoYDxkaXYgaWQ9Imh0bWxfYjUxODE2ODY2NDI4NGFlOTlmZWVkZmE0ZDczZTQwZGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMTEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82OTg5Nzg2MTQxNjM0MTAwYjRkYzdjZjI1OWZkZDBhZC5zZXRDb250ZW50KGh0bWxfYjUxODE2ODY2NDI4NGFlOTlmZWVkZmE0ZDczZTQwZGYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8xOWE3NjMzMDE1OWQ0NzAzODBjN2ZhMTk3MTgzMmJmNy5iaW5kUG9wdXAocG9wdXBfNjk4OTc4NjE0MTYzNDEwMGI0ZGM3Y2YyNTlmZGQwYWQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmExNGNiMGE3YzVhNGE5ZTk4OWI3OTg1MTc0YTlkZWZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iYTE0Y2IwYTdjNWE0YTllOTg5Yjc5ODUxNzRhOWRlZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iYTE0Y2IwYTdjNWE0YTllOTg5Yjc5ODUxNzRhOWRlZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzgzMGM4NmI2NmMyZDQ1MmZhN2JjNDQxODRiZGU2NWU5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmExNGNiMGE3YzVhNGE5ZTk4OWI3OTg1MTc0YTlkZWZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2JhMTRjYjBhN2M1YTRhOWU5ODliNzk4NTE3NGE5ZGVmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iYTE0Y2IwYTdjNWE0YTllOTg5Yjc5ODUxNzRhOWRlZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjEzMDkzNTAzNzk0NDIsIDY0LjI5Mzg2NjEyNjcxXSwgWzI2LjE4NjI5OTIwOTA4NTUsIDY0LjI5Mzg2NjEyNjcxXSwgWzI2LjE4NjI5OTIwOTA4NTUsIDY0LjQwNzA0ODc2Mjc4MjddLCBbMjYuMTMwOTM1MDM3OTQ0MiwgNjQuNDA3MDQ4NzYyNzgyN10sIFsyNi4xMzA5MzUwMzc5NDQyLCA2NC4yOTM4NjYxMjY3MV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hYTJhZjNkMDdhMjQ0MmI3OTc1Y2ZkMGE0NjAxNWY1MCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85ZjgyMGI5NGJhZTQ0MjQ2ODEyMjBhNjExOGNmOWVjYyA9ICQoYDxkaXYgaWQ9Imh0bWxfOWY4MjBiOTRiYWU0NDI0NjgxMjIwYTYxMThjZjllY2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cmFpbl9kaWxfMTgudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU1Mjc2NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDby1zZWlzbWljIFN1cmZhY2UgRGlsYXRhdGlvbiBhbmQgU2hlYXIgU3RyYWluIEZpZWxkcyBEZXJpdmVkIGZyb20gU1BPVC01IERpc3BsYWNlbWVudHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ1NTI3Njc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hYTJhZjNkMDdhMjQ0MmI3OTc1Y2ZkMGE0NjAxNWY1MC5zZXRDb250ZW50KGh0bWxfOWY4MjBiOTRiYWU0NDI0NjgxMjIwYTYxMThjZjllY2MpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iYTE0Y2IwYTdjNWE0YTllOTg5Yjc5ODUxNzRhOWRlZi5iaW5kUG9wdXAocG9wdXBfYWEyYWYzZDA3YTI0NDJiNzk3NWNmZDBhNDYwMTVmNTApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwXzFjZDRhOTEyYTY2ZjQ1NzY5NzMyODMxY2JmYmQ1M2Y4ID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kNzA2MjkwYzE4NWM0YWE3YjU1OTMyOWE2ZTg1ZTZmNF9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q3MDYyOTBjMTg1YzRhYTdiNTU5MzI5YTZlODVlNmY0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZDcwNjI5MGMxODVjNGFhN2I1NTkzMjlhNmU4NWU2ZjQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZDcwNjI5MGMxODVjNGFhN2I1NTkzMjlhNmU4NWU2ZjRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fZDcwNjI5MGMxODVjNGFhN2I1NTkzMjlhNmU4NWU2ZjRfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWNkNGE5MTJhNjZmNDU3Njk3MzI4MzFjYmZiZDUzZjgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kNzA2MjkwYzE4NWM0YWE3YjU1OTMyOWE2ZTg1ZTZmNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDcwNjI5MGMxODVjNGFhN2I1NTkzMjlhNmU4NWU2ZjQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Q3MDYyOTBjMTg1YzRhYTdiNTU5MzI5YTZlODVlNmY0X2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbMC4wLCAtNDMuMDE3OTc0MjY5ODkzMl0sIFsxNzQuMzQzMDI1NzIwNTQyLCAtNDMuMDE3OTc0MjY5ODkzMl0sIFsxNzQuMzQzMDI1NzIwNTQyLCAzMi4wXSwgWzAuMCwgMzIuMF0sIFswLjAsIC00My4wMTc5NzQyNjk4OTMyXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzMzODk4Y2I2ZGZiNGRkNjg4NDZiZDNjNjhhZTcwOTAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGUwMTRkNDc2Y2RmNDFjMWE2MDY2ZDIwOGIyN2YwZTUgPSAkKGA8ZGl2IGlkPSJodG1sXzhlMDE0ZDQ3NmNkZjQxYzFhNjA2NmQyMDhiMjdmMGU1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDY2NDU5MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBNYXAgb2YgQ28tU2Vpc21pYyBMYW5kc2xpZGVzICBmb3IgdGhlIE0gNy44IEthaWtvdXJhLCBOZXcgWmVhbGFuZCBFYXJ0aHF1YWtlPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjEyODcyODE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzMzMzg5OGNiNmRmYjRkZDY4ODQ2YmQzYzY4YWU3MDkwLnNldENvbnRlbnQoaHRtbF84ZTAxNGQ0NzZjZGY0MWMxYTYwNjZkMjA4YjI3ZjBlNSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Q3MDYyOTBjMTg1YzRhYTdiNTU5MzI5YTZlODVlNmY0LmJpbmRQb3B1cChwb3B1cF8zMzM4OThjYjZkZmI0ZGQ2ODg0NmJkM2M2OGFlNzA5MCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mY2IyMjYyNzkzYmQ0ZTA3YTFjMDU1NGQ5MWM2OTE5Nl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2ZjYjIyNjI3OTNiZDRlMDdhMWMwNTU0ZDkxYzY5MTk2ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2ZjYjIyNjI3OTNiZDRlMDdhMWMwNTU0ZDkxYzY5MTk2X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWNkNGE5MTJhNjZmNDU3Njk3MzI4MzFjYmZiZDUzZjgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mY2IyMjYyNzkzYmQ0ZTA3YTFjMDU1NGQ5MWM2OTE5Nl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZmNiMjI2Mjc5M2JkNGUwN2ExYzA1NTRkOTFjNjkxOTYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2ZjYjIyNjI3OTNiZDRlMDdhMWMwNTU0ZDkxYzY5MTk2X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMC4wLCAzMi4wXSwgWzMyLjAsIDMyLjBdLCBbMzIuMCwgMC4wXSwgWzAuMCwgMC4wXSwgWzAuMCwgMzIuMF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83NjQ4NWFmMmU3NWE0YzQwYjA1YmJiNzMxNDU1ZjRiMyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xNDdlNzdmMWZlZDA0NjEwYWIzZjkyNTZiYWU5NjliZCA9ICQoYDxkaXYgaWQ9Imh0bWxfMTQ3ZTc3ZjFmZWQwNDYxMGFiM2Y5MjU2YmFlOTY5YmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGttbF9zeW1ib2xfZG90IC0gcmVkQHNjYWxlPTEuMl8wLnBuZzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gcG5nPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDY2NDU5MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBNYXAgb2YgQ28tU2Vpc21pYyBMYW5kc2xpZGVzICBmb3IgdGhlIE0gNy44IEthaWtvdXJhLCBOZXcgWmVhbGFuZCBFYXJ0aHF1YWtlPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xMjg3MjgxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNzY0ODVhZjJlNzVhNGM0MGIwNWJiYjczMTQ1NWY0YjMuc2V0Q29udGVudChodG1sXzE0N2U3N2YxZmVkMDQ2MTBhYjNmOTI1NmJhZTk2OWJkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZmNiMjI2Mjc5M2JkNGUwN2ExYzA1NTRkOTFjNjkxOTYuYmluZFBvcHVwKHBvcHVwXzc2NDg1YWYyZTc1YTRjNDBiMDViYmI3MzE0NTVmNGIzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YxNjI4NWYyOWQ5MzRmMWNhZGEyODU5OTBkMzk2ODY5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZjE2Mjg1ZjI5ZDkzNGYxY2FkYTI4NTk5MGQzOTY4NjkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZjE2Mjg1ZjI5ZDkzNGYxY2FkYTI4NTk5MGQzOTY4Njlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xY2Q0YTkxMmE2NmY0NTc2OTczMjgzMWNiZmJkNTNmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YxNjI4NWYyOWQ5MzRmMWNhZGEyODU5OTBkMzk2ODY5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mMTYyODVmMjlkOTM0ZjFjYWRhMjg1OTkwZDM5Njg2OS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZjE2Mjg1ZjI5ZDkzNGYxY2FkYTI4NTk5MGQzOTY4NjlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxNzIuOTExMDkyMzI0LCAtNDMuMDExOTI2NjMwNV0sIFsxNzQuMjczNDU0NzMxNSwgLTQzLjAxMTkyNjYzMDVdLCBbMTc0LjI3MzQ1NDczMTUsIC00MS42MTM1MDU5OTEzXSwgWzE3Mi45MTEwOTIzMjQsIC00MS42MTM1MDU5OTEzXSwgWzE3Mi45MTEwOTIzMjQsIC00My4wMTE5MjY2MzA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzI2OTJmYjAwNmJiOTQwYmU5YmYyYjdkNGUzNzNmZWI4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2U5YWJmYWZkODE1NzQ2ZWFiOTUyZmQ4ZDY0MDBhY2E3ID0gJChgPGRpdiBpZD0iaHRtbF9lOWFiZmFmZDgxNTc0NmVhYjk1MmZkOGQ2NDAwYWNhNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gZG9jLmttbDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4ga21sPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDY2NDU5MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBNYXAgb2YgQ28tU2Vpc21pYyBMYW5kc2xpZGVzICBmb3IgdGhlIE0gNy44IEthaWtvdXJhLCBOZXcgWmVhbGFuZCBFYXJ0aHF1YWtlPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xMjg3MjgxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMjY5MmZiMDA2YmI5NDBiZTliZjJiN2Q0ZTM3M2ZlYjguc2V0Q29udGVudChodG1sX2U5YWJmYWZkODE1NzQ2ZWFiOTUyZmQ4ZDY0MDBhY2E3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZjE2Mjg1ZjI5ZDkzNGYxY2FkYTI4NTk5MGQzOTY4NjkuYmluZFBvcHVwKHBvcHVwXzI2OTJmYjAwNmJiOTQwYmU5YmYyYjdkNGUzNzNmZWI4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZhZGI4YmY3MTVmNzRjN2NhMTkyYTIxM2Y2MDczNzZiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZmFkYjhiZjcxNWY3NGM3Y2ExOTJhMjEzZjYwNzM3NmIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZmFkYjhiZjcxNWY3NGM3Y2ExOTJhMjEzZjYwNzM3NmJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xY2Q0YTkxMmE2NmY0NTc2OTczMjgzMWNiZmJkNTNmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZhZGI4YmY3MTVmNzRjN2NhMTkyYTIxM2Y2MDczNzZiX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mYWRiOGJmNzE1Zjc0YzdjYTE5MmEyMTNmNjA3Mzc2Yi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZmFkYjhiZjcxNWY3NGM3Y2ExOTJhMjEzZjYwNzM3NmJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxNzIuODc2MTE4NTIwMTExLCAtNDMuMDE3OTc0MjY5ODkzMl0sIFsxNzQuMzQzMDI1NzIwNTQyLCAtNDMuMDE3OTc0MjY5ODkzMl0sIFsxNzQuMzQzMDI1NzIwNTQyLCAtNDEuNTcxNDI1Mjk0ODczM10sIFsxNzIuODc2MTE4NTIwMTExLCAtNDEuNTcxNDI1Mjk0ODczM10sIFsxNzIuODc2MTE4NTIwMTExLCAtNDMuMDE3OTc0MjY5ODkzMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yYTU0ODBjMmVlZjE0NGZkYmQyMDVlMmJkYjk1MGViMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81ZGMwZWFhMzBhZjA0ZDdjYTlhODA4ZGFlZjM3ZTkyZiA9ICQoYDxkaXYgaWQ9Imh0bWxfNWRjMGVhYTMwYWYwNGQ3Y2E5YTgwOGRhZWYzN2U5MmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IExhbmRzbGlkZV9NYXBfVjJfQTIucGRmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBwZGY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjY0NTkwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE1hcCBvZiBDby1TZWlzbWljIExhbmRzbGlkZXMgIGZvciB0aGUgTSA3LjggS2Fpa291cmEsIE5ldyBaZWFsYW5kIEVhcnRocXVha2U8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjEyODcyODE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yYTU0ODBjMmVlZjE0NGZkYmQyMDVlMmJkYjk1MGViMS5zZXRDb250ZW50KGh0bWxfNWRjMGVhYTMwYWYwNGQ3Y2E5YTgwOGRhZWYzN2U5MmYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mYWRiOGJmNzE1Zjc0YzdjYTE5MmEyMTNmNjA3Mzc2Yi5iaW5kUG9wdXAocG9wdXBfMmE1NDgwYzJlZWYxNDRmZGJkMjA1ZTJiZGI5NTBlYjEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xY2EwZDQwOGVmMmI0ZTM0OWJkY2Y1ZTExMmRlNDMyYl9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzFjYTBkNDA4ZWYyYjRlMzQ5YmRjZjVlMTEyZGU0MzJiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMWNhMGQ0MDhlZjJiNGUzNDliZGNmNWUxMTJkZTQzMmIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMWNhMGQ0MDhlZjJiNGUzNDliZGNmNWUxMTJkZTQzMmJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fMWNhMGQ0MDhlZjJiNGUzNDliZGNmNWUxMTJkZTQzMmJfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xY2EwZDQwOGVmMmI0ZTM0OWJkY2Y1ZTExMmRlNDMyYl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMWNhMGQ0MDhlZjJiNGUzNDliZGNmNWUxMTJkZTQzMmIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzFjYTBkNDA4ZWYyYjRlMzQ5YmRjZjVlMTEyZGU0MzJiX2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbLTIxLjQ4MTY2Njg3MjA1ODcsIC0zNC4zODEyMTU1OTU3NjFdLCBbNjUuOTUwNDExMTUyODU0MiwgLTM0LjM4MTIxNTU5NTc2MV0sIFs2NS45NTA0MTExNTI4NTQyLCA3MS4zMzAzMTQyMDYxODQxXSwgWy0yMS40ODE2NjY4NzIwNTg3LCA3MS4zMzAzMTQyMDYxODQxXSwgWy0yMS40ODE2NjY4NzIwNTg3LCAtMzQuMzgxMjE1NTk1NzYxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMGRlODVjNzVlMmVkNDk5NWFlMDRmNzYxODI2NDI2Y2UgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYzI1NDg4ZjRjYjRjNDYwMTg3NzA3ODQ2OTBiMTgxNjkgPSAkKGA8ZGl2IGlkPSJodG1sX2MyNTQ4OGY0Y2I0YzQ2MDE4NzcwNzg0NjkwYjE4MTY5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMGRlODVjNzVlMmVkNDk5NWFlMDRmNzYxODI2NDI2Y2Uuc2V0Q29udGVudChodG1sX2MyNTQ4OGY0Y2I0YzQ2MDE4NzcwNzg0NjkwYjE4MTY5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMWNhMGQ0MDhlZjJiNGUzNDliZGNmNWUxMTJkZTQzMmIuYmluZFBvcHVwKHBvcHVwXzBkZTg1Yzc1ZTJlZDQ5OTVhZTA0Zjc2MTgyNjQyNmNlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc5NjdmOGNiNGNmMjRmMDBiNjVjMzQwMzk2OTYyYTMwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNzk2N2Y4Y2I0Y2YyNGYwMGI2NWMzNDAzOTY5NjJhMzAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNzk2N2Y4Y2I0Y2YyNGYwMGI2NWMzNDAzOTY5NjJhMzBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc5NjdmOGNiNGNmMjRmMDBiNjVjMzQwMzk2OTYyYTMwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83OTY3ZjhjYjRjZjI0ZjAwYjY1YzM0MDM5Njk2MmEzMC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNzk2N2Y4Y2I0Y2YyNGYwMGI2NWMzNDAzOTY5NjJhMzBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0MC42NzMxMzU5NzI1MzQ3LCAtNS43MDM0MzI5ODIwNTU1Nl0sIFs1MS4yNjA2MDg3MDY3OTk5LCAtNS43MDM0MzI5ODIwNTU1Nl0sIFs1MS4yNjA2MDg3MDY3OTk5LCAxMC4wNjI4NDQ4MzUwODAyXSwgWzQwLjY3MzEzNTk3MjUzNDcsIDEwLjA2Mjg0NDgzNTA4MDJdLCBbNDAuNjczMTM1OTcyNTM0NywgLTUuNzAzNDMyOTgyMDU1NTZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZWQyMTY1YTZkZmYwNDZkYzgyMjBmMzVjNjc1ZmI0NjQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZGZlY2MzY2I2MDllNGZhMTk0ZTkyN2FlM2RmYzRiNWEgPSAkKGA8ZGl2IGlkPSJodG1sX2RmZWNjM2NiNjA5ZTRmYTE5NGU5MjdhZTNkZmM0YjVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBHZW9fRnJhbmNlLnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzAyNTc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lZDIxNjVhNmRmZjA0NmRjODIyMGYzNWM2NzVmYjQ2NC5zZXRDb250ZW50KGh0bWxfZGZlY2MzY2I2MDllNGZhMTk0ZTkyN2FlM2RmYzRiNWEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83OTY3ZjhjYjRjZjI0ZjAwYjY1YzM0MDM5Njk2MmEzMC5iaW5kUG9wdXAocG9wdXBfZWQyMTY1YTZkZmYwNDZkYzgyMjBmMzVjNjc1ZmI0NjQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTJhYjMwM2IxNjdiNDliNWJkNjA0MmM2OWE4ZTJiZjNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hMmFiMzAzYjE2N2I0OWI1YmQ2MDQyYzY5YThlMmJmMyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hMmFiMzAzYjE2N2I0OWI1YmQ2MDQyYzY5YThlMmJmM19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTJhYjMwM2IxNjdiNDliNWJkNjA0MmM2OWE4ZTJiZjNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2EyYWIzMDNiMTY3YjQ5YjViZDYwNDJjNjlhOGUyYmYzLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hMmFiMzAzYjE2N2I0OWI1YmQ2MDQyYzY5YThlMmJmM19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQwLjY3MzEzNTk3MjUzNDcsIC01LjcwMzQzMjk4MjA1NTU2XSwgWzUxLjI2MDYwODcwNjc5OTksIC01LjcwMzQzMjk4MjA1NTU2XSwgWzUxLjI2MDYwODcwNjc5OTksIDEwLjA2Mjg0NDgzNTA4MDJdLCBbNDAuNjczMTM1OTcyNTM0NywgMTAuMDYyODQ0ODM1MDgwMl0sIFs0MC42NzMxMzU5NzI1MzQ3LCAtNS43MDM0MzI5ODIwNTU1Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mZjBlYjg3YzE1ZjM0YzU0OWE1YWM2ZjRjMDYyYmI1NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82MzA3YjM3MGUzMGI0ZjEwODIzZWJjZTlhNTJlZjkwNyA9ICQoYDxkaXYgaWQ9Imh0bWxfNjMwN2IzNzBlMzBiNGYxMDgyM2ViY2U5YTUyZWY5MDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEdlb19GcmFuY2UuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ZmMGViODdjMTVmMzRjNTQ5YTVhYzZmNGMwNjJiYjU0LnNldENvbnRlbnQoaHRtbF82MzA3YjM3MGUzMGI0ZjEwODIzZWJjZTlhNTJlZjkwNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2EyYWIzMDNiMTY3YjQ5YjViZDYwNDJjNjlhOGUyYmYzLmJpbmRQb3B1cChwb3B1cF9mZjBlYjg3YzE1ZjM0YzU0OWE1YWM2ZjRjMDYyYmI1NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84NWUyZDc2MDJhM2U0ZjZlOTdkNDdmZDYyNDVlOTRjZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzg1ZTJkNzYwMmEzZTRmNmU5N2Q0N2ZkNjI0NWU5NGNkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzg1ZTJkNzYwMmEzZTRmNmU5N2Q0N2ZkNjI0NWU5NGNkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84NWUyZDc2MDJhM2U0ZjZlOTdkNDdmZDYyNDVlOTRjZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fODVlMmQ3NjAyYTNlNGY2ZTk3ZDQ3ZmQ2MjQ1ZTk0Y2QuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzg1ZTJkNzYwMmEzZTRmNmU5N2Q0N2ZkNjI0NWU5NGNkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDAuNjczMTM1OTcyNTM0NywgLTUuNzAzNDMyOTgyMDU1NTZdLCBbNTEuMjYwNjA4NzA2Nzk5OSwgLTUuNzAzNDMyOTgyMDU1NTZdLCBbNTEuMjYwNjA4NzA2Nzk5OSwgMTAuMDYyODQ0ODM1MDgwMl0sIFs0MC42NzMxMzU5NzI1MzQ3LCAxMC4wNjI4NDQ4MzUwODAyXSwgWzQwLjY3MzEzNTk3MjUzNDcsIC01LjcwMzQzMjk4MjA1NTU2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzY0ZTllNzA1OGFmYTQ4YzZiYjVmYmY4MTBmNWY1MDg4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQyODJhYmNhMmQyOTRjMDNhMTEyMWYwNzlkMDc1NGJiID0gJChgPGRpdiBpZD0iaHRtbF80MjgyYWJjYTJkMjk0YzAzYTExMjFmMDc5ZDA3NTRiYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gR2VvX0ZyYW5jZS5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjRlOWU3MDU4YWZhNDhjNmJiNWZiZjgxMGY1ZjUwODguc2V0Q29udGVudChodG1sXzQyODJhYmNhMmQyOTRjMDNhMTEyMWYwNzlkMDc1NGJiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fODVlMmQ3NjAyYTNlNGY2ZTk3ZDQ3ZmQ2MjQ1ZTk0Y2QuYmluZFBvcHVwKHBvcHVwXzY0ZTllNzA1OGFmYTQ4YzZiYjVmYmY4MTBmNWY1MDg4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzA5MGU0NDNiNGMwZDRjM2NiZjQwODZkMzJiNWQxM2VhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMDkwZTQ0M2I0YzBkNGMzY2JmNDA4NmQzMmI1ZDEzZWEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMDkwZTQ0M2I0YzBkNGMzY2JmNDA4NmQzMmI1ZDEzZWFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzA5MGU0NDNiNGMwZDRjM2NiZjQwODZkMzJiNWQxM2VhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wOTBlNDQzYjRjMGQ0YzNjYmY0MDg2ZDMyYjVkMTNlYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDkwZTQ0M2I0YzBkNGMzY2JmNDA4NmQzMmI1ZDEzZWFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0NS42MzE5ODYyNDQ5MDc1LCA1Ljc3MjMzOTIzMDg1NDg4XSwgWzQ3Ljg4NTM4MjE5NTA2NSwgNS43NzIzMzkyMzA4NTQ4OF0sIFs0Ny44ODUzODIxOTUwNjUsIDEwLjk4MTk1MTQ2NTg4ODFdLCBbNDUuNjMxOTg2MjQ0OTA3NSwgMTAuOTgxOTUxNDY1ODg4MV0sIFs0NS42MzE5ODYyNDQ5MDc1LCA1Ljc3MjMzOTIzMDg1NDg4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzljOGE5NzI0NzIzYzQ0YTY5OTA1MjA4ODJiOWFhZTY1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzRhNzY3YWU4N2ZkYTQ0OWM5Y2VhN2MzMzY2MDljMGIyID0gJChgPGRpdiBpZD0iaHRtbF80YTc2N2FlODdmZGE0NDljOWNlYTdjMzM2NjA5YzBiMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFlfU3VyZmFjZV9CYXNlXzMyNjMyLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzAyNTc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85YzhhOTcyNDcyM2M0NGE2OTkwNTIwODgyYjlhYWU2NS5zZXRDb250ZW50KGh0bWxfNGE3NjdhZTg3ZmRhNDQ5YzljZWE3YzMzNjYwOWMwYjIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wOTBlNDQzYjRjMGQ0YzNjYmY0MDg2ZDMyYjVkMTNlYS5iaW5kUG9wdXAocG9wdXBfOWM4YTk3MjQ3MjNjNDRhNjk5MDUyMDg4MmI5YWFlNjUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODE1MjgwMGQ4MmZiNDFhNjg2MWNkZmE1MzlhMWMyNTVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84MTUyODAwZDgyZmI0MWE2ODYxY2RmYTUzOWExYzI1NSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84MTUyODAwZDgyZmI0MWE2ODYxY2RmYTUzOWExYzI1NV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODE1MjgwMGQ4MmZiNDFhNjg2MWNkZmE1MzlhMWMyNTVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzgxNTI4MDBkODJmYjQxYTY4NjFjZGZhNTM5YTFjMjU1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84MTUyODAwZDgyZmI0MWE2ODYxY2RmYTUzOWExYzI1NV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQ1LjYzMTk4NjI0NDkwNzUsIDUuNzcyMzM5MjMwODU0ODhdLCBbNDcuODg1MzgyMTk1MDY1LCA1Ljc3MjMzOTIzMDg1NDg4XSwgWzQ3Ljg4NTM4MjE5NTA2NSwgMTAuOTgxOTUxNDY1ODg4MV0sIFs0NS42MzE5ODYyNDQ5MDc1LCAxMC45ODE5NTE0NjU4ODgxXSwgWzQ1LjYzMTk4NjI0NDkwNzUsIDUuNzcyMzM5MjMwODU0ODhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfM2NlNmVmMTk0OWI3NDVlODkwMTE4Y2QyMWI5N2MxMmQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNmQwNzIzOTliOTE2NGRhYmIxNzk3NzA5M2RhYWM4ODcgPSAkKGA8ZGl2IGlkPSJodG1sXzZkMDcyMzk5YjkxNjRkYWJiMTc5NzcwOTNkYWFjODg3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQWV9TdXJmYWNlX0Jhc2VfMzI2MzIuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNjZTZlZjE5NDliNzQ1ZTg5MDExOGNkMjFiOTdjMTJkLnNldENvbnRlbnQoaHRtbF82ZDA3MjM5OWI5MTY0ZGFiYjE3OTc3MDkzZGFhYzg4Nyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzgxNTI4MDBkODJmYjQxYTY4NjFjZGZhNTM5YTFjMjU1LmJpbmRQb3B1cChwb3B1cF8zY2U2ZWYxOTQ5Yjc0NWU4OTAxMThjZDIxYjk3YzEyZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82YTkyNzhhN2QwYzk0MTgyODVkZDEyNmNhZGQ3NDZiZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzZhOTI3OGE3ZDBjOTQxODI4NWRkMTI2Y2FkZDc0NmJmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzZhOTI3OGE3ZDBjOTQxODI4NWRkMTI2Y2FkZDc0NmJmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82YTkyNzhhN2QwYzk0MTgyODVkZDEyNmNhZGQ3NDZiZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNmE5Mjc4YTdkMGM5NDE4Mjg1ZGQxMjZjYWRkNzQ2YmYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzZhOTI3OGE3ZDBjOTQxODI4NWRkMTI2Y2FkZDc0NmJmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDUuNjMxOTg2MjQ0OTA3NSwgNS43NzIzMzkyMzA4NTQ4OF0sIFs0Ny44ODUzODIxOTUwNjUsIDUuNzcyMzM5MjMwODU0ODhdLCBbNDcuODg1MzgyMTk1MDY1LCAxMC45ODE5NTE0NjU4ODgxXSwgWzQ1LjYzMTk4NjI0NDkwNzUsIDEwLjk4MTk1MTQ2NTg4ODFdLCBbNDUuNjMxOTg2MjQ0OTA3NSwgNS43NzIzMzkyMzA4NTQ4OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85OTcwNGI5MDcxOTk0NTg1OTgzMmUxY2Q5ODJlYzM1NSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85MGVkZDZhM2MyYjE0NmMwYTM0Mzc2NTZkZDY4MDBhYyA9ICQoYDxkaXYgaWQ9Imh0bWxfOTBlZGQ2YTNjMmIxNDZjMGEzNDM3NjU2ZGQ2ODAwYWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBZX1N1cmZhY2VfQmFzZV8zMjYzMi5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTk3MDRiOTA3MTk5NDU4NTk4MzJlMWNkOTgyZWMzNTUuc2V0Q29udGVudChodG1sXzkwZWRkNmEzYzJiMTQ2YzBhMzQzNzY1NmRkNjgwMGFjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNmE5Mjc4YTdkMGM5NDE4Mjg1ZGQxMjZjYWRkNzQ2YmYuYmluZFBvcHVwKHBvcHVwXzk5NzA0YjkwNzE5OTQ1ODU5ODMyZTFjZDk4MmVjMzU1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYyMGVkNzk5NjJhMDQxMmNhNTAwMjdmNTU1MDQ5MDI1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjIwZWQ3OTk2MmEwNDEyY2E1MDAyN2Y1NTUwNDkwMjUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjIwZWQ3OTk2MmEwNDEyY2E1MDAyN2Y1NTUwNDkwMjVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYyMGVkNzk5NjJhMDQxMmNhNTAwMjdmNTU1MDQ5MDI1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82MjBlZDc5OTYyYTA0MTJjYTUwMDI3ZjU1NTA0OTAyNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjIwZWQ3OTk2MmEwNDEyY2E1MDAyN2Y1NTUwNDkwMjVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0NS4yODQ2OTMzMTI2MDM5LCAxMy4zMDk0MjI0MzcxODkyXSwgWzQ3LjAxOTk1NDAzMTA1NDUsIDEzLjMwOTQyMjQzNzE4OTJdLCBbNDcuMDE5OTU0MDMxMDU0NSwgMTYuNjY0MjMxMTI3MjUwN10sIFs0NS4yODQ2OTMzMTI2MDM5LCAxNi42NjQyMzExMjcyNTA3XSwgWzQ1LjI4NDY5MzMxMjYwMzksIDEzLjMwOTQyMjQzNzE4OTJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfN2NjNDQzZTVkZjBjNGJiNDkzZTRmMTZiODIxZGZlNGEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODBkM2VkMjY5MDFkNDZmMGIxYWNlOWZiMzRmZTRjMmMgPSAkKGA8ZGl2IGlkPSJodG1sXzgwZDNlZDI2OTAxZDQ2ZjBiMWFjZTlmYjM0ZmU0YzJjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTbG92ZW5pYS5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2NjNDQzZTVkZjBjNGJiNDkzZTRmMTZiODIxZGZlNGEuc2V0Q29udGVudChodG1sXzgwZDNlZDI2OTAxZDQ2ZjBiMWFjZTlmYjM0ZmU0YzJjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjIwZWQ3OTk2MmEwNDEyY2E1MDAyN2Y1NTUwNDkwMjUuYmluZFBvcHVwKHBvcHVwXzdjYzQ0M2U1ZGYwYzRiYjQ5M2U0ZjE2YjgyMWRmZTRhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAzZDZkZmY1YWYzMzQ4NjZiMDI0YmQ5MTU2NTljMTQ0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMDNkNmRmZjVhZjMzNDg2NmIwMjRiZDkxNTY1OWMxNDQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMDNkNmRmZjVhZjMzNDg2NmIwMjRiZDkxNTY1OWMxNDRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAzZDZkZmY1YWYzMzQ4NjZiMDI0YmQ5MTU2NTljMTQ0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wM2Q2ZGZmNWFmMzM0ODY2YjAyNGJkOTE1NjU5YzE0NC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDNkNmRmZjVhZjMzNDg2NmIwMjRiZDkxNTY1OWMxNDRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0NS4yODQ2OTMzMTI2MDM5LCAxMy4zMDk0MjI0MzcxODkyXSwgWzQ3LjAxOTk1NDAzMTA1NDUsIDEzLjMwOTQyMjQzNzE4OTJdLCBbNDcuMDE5OTU0MDMxMDU0NSwgMTYuNjY0MjMxMTI3MjUwN10sIFs0NS4yODQ2OTMzMTI2MDM5LCAxNi42NjQyMzExMjcyNTA3XSwgWzQ1LjI4NDY5MzMxMjYwMzksIDEzLjMwOTQyMjQzNzE4OTJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOTRlMzc1MjZmMWJmNDU3MGFiMDliN2I2NjFkODgxMGEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMDg0Y2MzYTE0MTFhNDczMjgyM2VmNWRlZmJlOGZkMjYgPSAkKGA8ZGl2IGlkPSJodG1sXzA4NGNjM2ExNDExYTQ3MzI4MjNlZjVkZWZiZThmZDI2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTbG92ZW5pYS5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTRlMzc1MjZmMWJmNDU3MGFiMDliN2I2NjFkODgxMGEuc2V0Q29udGVudChodG1sXzA4NGNjM2ExNDExYTQ3MzI4MjNlZjVkZWZiZThmZDI2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMDNkNmRmZjVhZjMzNDg2NmIwMjRiZDkxNTY1OWMxNDQuYmluZFBvcHVwKHBvcHVwXzk0ZTM3NTI2ZjFiZjQ1NzBhYjA5YjdiNjYxZDg4MTBhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRhNGYzNWVmY2Q3NDQ1ZTFhMmRiNGIwY2MxOTMyNTZlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNGE0ZjM1ZWZjZDc0NDVlMWEyZGI0YjBjYzE5MzI1NmUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNGE0ZjM1ZWZjZDc0NDVlMWEyZGI0YjBjYzE5MzI1NmVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRhNGYzNWVmY2Q3NDQ1ZTFhMmRiNGIwY2MxOTMyNTZlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80YTRmMzVlZmNkNzQ0NWUxYTJkYjRiMGNjMTkzMjU2ZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNGE0ZjM1ZWZjZDc0NDVlMWEyZGI0YjBjYzE5MzI1NmVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0NS4yODQ2OTMzMTI2MDM5LCAxMy4zMDk0MjI0MzcxODkyXSwgWzQ3LjAxOTk1NDAzMTA1NDUsIDEzLjMwOTQyMjQzNzE4OTJdLCBbNDcuMDE5OTU0MDMxMDU0NSwgMTYuNjY0MjMxMTI3MjUwN10sIFs0NS4yODQ2OTMzMTI2MDM5LCAxNi42NjQyMzExMjcyNTA3XSwgWzQ1LjI4NDY5MzMxMjYwMzksIDEzLjMwOTQyMjQzNzE4OTJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNGE2MTNlY2RhYzlkNDZlNWJhNmEwNjcwODUyMmViODggPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzhiODI2NmFjYTFhNDJmMmFiYzEzOGZjMzU5NWU1Y2UgPSAkKGA8ZGl2IGlkPSJodG1sXzc4YjgyNjZhY2ExYTQyZjJhYmMxMzhmYzM1OTVlNWNlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTbG92ZW5pYS5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNGE2MTNlY2RhYzlkNDZlNWJhNmEwNjcwODUyMmViODguc2V0Q29udGVudChodG1sXzc4YjgyNjZhY2ExYTQyZjJhYmMxMzhmYzM1OTVlNWNlKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGE0ZjM1ZWZjZDc0NDVlMWEyZGI0YjBjYzE5MzI1NmUuYmluZFBvcHVwKHBvcHVwXzRhNjEzZWNkYWM5ZDQ2ZTViYTZhMDY3MDg1MjJlYjg4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzFhNjQ2Mzc3ZGVhODQzNDBiOGM3ZTM3ZTNhYzc1OTJiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMWE2NDYzNzdkZWE4NDM0MGI4YzdlMzdlM2FjNzU5MmIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMWE2NDYzNzdkZWE4NDM0MGI4YzdlMzdlM2FjNzU5MmJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzFhNjQ2Mzc3ZGVhODQzNDBiOGM3ZTM3ZTNhYzc1OTJiX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xYTY0NjM3N2RlYTg0MzQwYjhjN2UzN2UzYWM3NTkyYi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMWE2NDYzNzdkZWE4NDM0MGI4YzdlMzdlM2FjNzU5MmJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Ny4xNDE0MDYyMzE5OTA0LCA1LjU2NDc0NzcyNDkwODQzXSwgWzU1LjAxMDMxNzgyNTQ3MDgsIDUuNTY0NzQ3NzI0OTA4NDNdLCBbNTUuMDEwMzE3ODI1NDcwOCwgMTUuNTcxMzY4MTc4NDc3NF0sIFs0Ny4xNDE0MDYyMzE5OTA0LCAxNS41NzEzNjgxNzg0Nzc0XSwgWzQ3LjE0MTQwNjIzMTk5MDQsIDUuNTY0NzQ3NzI0OTA4NDNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOTMwYzc3ZjkwZTlhNDYwMWFjNjUxNWI2YjhhZjA0MTUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYTBiMDBlMDBjYTIzNDQ3OWFhMzQ5OTYxOWJiY2JjMzAgPSAkKGA8ZGl2IGlkPSJodG1sX2EwYjAwZTAwY2EyMzQ0NzlhYTM0OTk2MTliYmNiYzMwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBnZW9fZ2VybWFueV9ub19lcnJvcnNfdXRtX3dnczg0XzMyLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzAyNTc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85MzBjNzdmOTBlOWE0NjAxYWM2NTE1YjZiOGFmMDQxNS5zZXRDb250ZW50KGh0bWxfYTBiMDBlMDBjYTIzNDQ3OWFhMzQ5OTYxOWJiY2JjMzApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8xYTY0NjM3N2RlYTg0MzQwYjhjN2UzN2UzYWM3NTkyYi5iaW5kUG9wdXAocG9wdXBfOTMwYzc3ZjkwZTlhNDYwMWFjNjUxNWI2YjhhZjA0MTUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjVkYjljMzA2YThmNDlmMGJiOGI1ODIyMjRiZDJlOThfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNWRiOWMzMDZhOGY0OWYwYmI4YjU4MjIyNGJkMmU5OCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNWRiOWMzMDZhOGY0OWYwYmI4YjU4MjIyNGJkMmU5OF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjVkYjljMzA2YThmNDlmMGJiOGI1ODIyMjRiZDJlOThfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzI1ZGI5YzMwNmE4ZjQ5ZjBiYjhiNTgyMjI0YmQyZTk4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yNWRiOWMzMDZhOGY0OWYwYmI4YjU4MjIyNGJkMmU5OF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQ3LjE0MTQwNjIzMTk5MDQsIDUuNTY0NzQ3NzI0OTA4NDNdLCBbNTUuMDEwMzE3ODI1NDcwOCwgNS41NjQ3NDc3MjQ5MDg0M10sIFs1NS4wMTAzMTc4MjU0NzA4LCAxNS41NzEzNjgxNzg0Nzc0XSwgWzQ3LjE0MTQwNjIzMTk5MDQsIDE1LjU3MTM2ODE3ODQ3NzRdLCBbNDcuMTQxNDA2MjMxOTkwNCwgNS41NjQ3NDc3MjQ5MDg0M11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mMGZkNGIwNzU3MTI0Y2JhYTRkMDY5YzliMzM2NDZjZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lMzRkZjQxMjg0MjA0ZTc1ODI1NGQ3M2RiY2NiNjQwZCA9ICQoYDxkaXYgaWQ9Imh0bWxfZTM0ZGY0MTI4NDIwNGU3NTgyNTRkNzNkYmNjYjY0MGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGdlb19nZXJtYW55X25vX2Vycm9yc191dG1fd2dzODRfMzIuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2YwZmQ0YjA3NTcxMjRjYmFhNGQwNjljOWIzMzY0NmNkLnNldENvbnRlbnQoaHRtbF9lMzRkZjQxMjg0MjA0ZTc1ODI1NGQ3M2RiY2NiNjQwZCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzI1ZGI5YzMwNmE4ZjQ5ZjBiYjhiNTgyMjI0YmQyZTk4LmJpbmRQb3B1cChwb3B1cF9mMGZkNGIwNzU3MTI0Y2JhYTRkMDY5YzliMzM2NDZjZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wYzA5Mzc4NTA4YTc0NDVkOTFjY2Y5MmNlYTljMDNhZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzBjMDkzNzg1MDhhNzQ0NWQ5MWNjZjkyY2VhOWMwM2FlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzBjMDkzNzg1MDhhNzQ0NWQ5MWNjZjkyY2VhOWMwM2FlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wYzA5Mzc4NTA4YTc0NDVkOTFjY2Y5MmNlYTljMDNhZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMGMwOTM3ODUwOGE3NDQ1ZDkxY2NmOTJjZWE5YzAzYWUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzBjMDkzNzg1MDhhNzQ0NWQ5MWNjZjkyY2VhOWMwM2FlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDcuMTQxNDA2MjMxOTkwNCwgNS41NjQ3NDc3MjQ5MDg0M10sIFs1NS4wMTAzMTc4MjU0NzA4LCA1LjU2NDc0NzcyNDkwODQzXSwgWzU1LjAxMDMxNzgyNTQ3MDgsIDE1LjU3MTM2ODE3ODQ3NzRdLCBbNDcuMTQxNDA2MjMxOTkwNCwgMTUuNTcxMzY4MTc4NDc3NF0sIFs0Ny4xNDE0MDYyMzE5OTA0LCA1LjU2NDc0NzcyNDkwODQzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2VhZjM4MWEwOGY1NjQ3ZGE4N2FjNzUzNjM1YmY2MzcxID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZhNmRiMzMxOGVhOTQwNzM5NTI0YzhiZWYwOTE1Yjg1ID0gJChgPGRpdiBpZD0iaHRtbF82YTZkYjMzMThlYTk0MDczOTUyNGM4YmVmMDkxNWI4NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gZ2VvX2dlcm1hbnlfbm9fZXJyb3JzX3V0bV93Z3M4NF8zMi5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZWFmMzgxYTA4ZjU2NDdkYTg3YWM3NTM2MzViZjYzNzEuc2V0Q29udGVudChodG1sXzZhNmRiMzMxOGVhOTQwNzM5NTI0YzhiZWYwOTE1Yjg1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMGMwOTM3ODUwOGE3NDQ1ZDkxY2NmOTJjZWE5YzAzYWUuYmluZFBvcHVwKHBvcHVwX2VhZjM4MWEwOGY1NjQ3ZGE4N2FjNzUzNjM1YmY2MzcxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRmY2I5YmFjNTg0YjRkOGFhZTE0ODgxNTI4ZDU5ZDFlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNGZjYjliYWM1ODRiNGQ4YWFlMTQ4ODE1MjhkNTlkMWUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNGZjYjliYWM1ODRiNGQ4YWFlMTQ4ODE1MjhkNTlkMWVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRmY2I5YmFjNTg0YjRkOGFhZTE0ODgxNTI4ZDU5ZDFlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80ZmNiOWJhYzU4NGI0ZDhhYWUxNDg4MTUyOGQ1OWQxZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNGZjYjliYWM1ODRiNGQ4YWFlMTQ4ODE1MjhkNTlkMWVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0NC45MTc1OTY5NzY3NTYyLCAxMS43MjgwNTcyMzc2NzldLCBbNTAuMDA4MDUzNTcwOTcwNywgMTEuNzI4MDU3MjM3Njc5XSwgWzUwLjAwODA1MzU3MDk3MDcsIDE1LjY2MDcwMTg4MjQyMjldLCBbNDQuOTE3NTk2OTc2NzU2MiwgMTUuNjYwNzAxODgyNDIyOV0sIFs0NC45MTc1OTY5NzY3NTYyLCAxMS43MjgwNTcyMzc2NzldXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfN2NjNjA4Y2NkNTUxNDQ4MWEzMzU0N2ZkN2ZiYjI4Y2QgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMWFjNGQyNzk5ZWQ4NDhkOGI3Y2Q1MzBkZDQ0MzgxMmUgPSAkKGA8ZGl2IGlkPSJodG1sXzFhYzRkMjc5OWVkODQ4ZDhiN2NkNTMwZGQ0NDM4MTJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBrbTUwMF9hdXN0cmlhX3Rla19sLnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzAyNTc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83Y2M2MDhjY2Q1NTE0NDgxYTMzNTQ3ZmQ3ZmJiMjhjZC5zZXRDb250ZW50KGh0bWxfMWFjNGQyNzk5ZWQ4NDhkOGI3Y2Q1MzBkZDQ0MzgxMmUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl80ZmNiOWJhYzU4NGI0ZDhhYWUxNDg4MTUyOGQ1OWQxZS5iaW5kUG9wdXAocG9wdXBfN2NjNjA4Y2NkNTUxNDQ4MWEzMzU0N2ZkN2ZiYjI4Y2QpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjkyNzk0MzM1ZDc0NDRmNTgwMmMwOGM3Yjc2ZDU4ZmVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82OTI3OTQzMzVkNzQ0NGY1ODAyYzA4YzdiNzZkNThmZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82OTI3OTQzMzVkNzQ0NGY1ODAyYzA4YzdiNzZkNThmZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjkyNzk0MzM1ZDc0NDRmNTgwMmMwOGM3Yjc2ZDU4ZmVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzY5Mjc5NDMzNWQ3NDQ0ZjU4MDJjMDhjN2I3NmQ1OGZlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82OTI3OTQzMzVkNzQ0NGY1ODAyYzA4YzdiNzZkNThmZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQ0Ljg5MjAxNjI0MjQ0MjksIDExLjU5NDYxOTMxMDk0OTldLCBbNTAuMDUzNzAwOTc4NzY0OCwgMTEuNTk0NjE5MzEwOTQ5OV0sIFs1MC4wNTM3MDA5Nzg3NjQ4LCAxNS43MTA3NjIyNTA5NTgzXSwgWzQ0Ljg5MjAxNjI0MjQ0MjksIDE1LjcxMDc2MjI1MDk1ODNdLCBbNDQuODkyMDE2MjQyNDQyOSwgMTEuNTk0NjE5MzEwOTQ5OV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jOTk0ODVjOWM2Yjc0ZjM0YTAwNjFkNjY1YjE5ZmRkOCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wYmI4ZjM4OTEwZDA0OGY0YWFkYjI2N2NkZWM3ZGJmNiA9ICQoYDxkaXYgaWQ9Imh0bWxfMGJiOGYzODkxMGQwNDhmNGFhZGIyNjdjZGVjN2RiZjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGttNTAwX2F1c3RyaWFfZ2VvX2Yuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M5OTQ4NWM5YzZiNzRmMzRhMDA2MWQ2NjViMTlmZGQ4LnNldENvbnRlbnQoaHRtbF8wYmI4ZjM4OTEwZDA0OGY0YWFkYjI2N2NkZWM3ZGJmNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzY5Mjc5NDMzNWQ3NDQ0ZjU4MDJjMDhjN2I3NmQ1OGZlLmJpbmRQb3B1cChwb3B1cF9jOTk0ODVjOWM2Yjc0ZjM0YTAwNjFkNjY1YjE5ZmRkOCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YmUzMDYwOTUxNWQ0ODBhODMxYmRkMGZlZGIzZjAzOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRiZTMwNjA5NTE1ZDQ4MGE4MzFiZGQwZmVkYjNmMDM5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRiZTMwNjA5NTE1ZDQ4MGE4MzFiZGQwZmVkYjNmMDM5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YmUzMDYwOTUxNWQ0ODBhODMxYmRkMGZlZGIzZjAzOV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGJlMzA2MDk1MTVkNDgwYTgzMWJkZDBmZWRiM2YwMzkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRiZTMwNjA5NTE1ZDQ4MGE4MzFiZGQwZmVkYjNmMDM5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDQuOTE3NTk2OTc2NzU2MiwgMTEuNzI4MDU3MjM3Njc5XSwgWzUwLjAwODA1MzU3MDk3MDcsIDExLjcyODA1NzIzNzY3OV0sIFs1MC4wMDgwNTM1NzA5NzA3LCAxNS42NjA3MDE4ODI0MjI5XSwgWzQ0LjkxNzU5Njk3Njc1NjIsIDE1LjY2MDcwMTg4MjQyMjldLCBbNDQuOTE3NTk2OTc2NzU2MiwgMTEuNzI4MDU3MjM3Njc5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2MxZWY3MmIyNWRmNzRhNTFhMzhiOWRlYTM5NzQwNDc4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzYzYmVhODQ5NTczYzRkMTdiZDFkMGE2MTI3NWVmOGQ2ID0gJChgPGRpdiBpZD0iaHRtbF82M2JlYTg0OTU3M2M0ZDE3YmQxZDBhNjEyNzVlZjhkNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4ga201MDBfYXVzdHJpYV90ZWtfbC5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYzFlZjcyYjI1ZGY3NGE1MWEzOGI5ZGVhMzk3NDA0Nzguc2V0Q29udGVudChodG1sXzYzYmVhODQ5NTczYzRkMTdiZDFkMGE2MTI3NWVmOGQ2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGJlMzA2MDk1MTVkNDgwYTgzMWJkZDBmZWRiM2YwMzkuYmluZFBvcHVwKHBvcHVwX2MxZWY3MmIyNWRmNzRhNTFhMzhiOWRlYTM5NzQwNDc4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdlOWM1YjJkZjlhMDQxZDk4MTg3ZTcxYjhkZjA4YzMyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fN2U5YzViMmRmOWEwNDFkOTgxODdlNzFiOGRmMDhjMzIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fN2U5YzViMmRmOWEwNDFkOTgxODdlNzFiOGRmMDhjMzJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdlOWM1YjJkZjlhMDQxZDk4MTg3ZTcxYjhkZjA4YzMyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83ZTljNWIyZGY5YTA0MWQ5ODE4N2U3MWI4ZGYwOGMzMi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fN2U5YzViMmRmOWEwNDFkOTgxODdlNzFiOGRmMDhjMzJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Ni4yMzQ2MzcyOTczMTg3LCA5LjUyMzMyMjY4OTkzOTI4XSwgWzQ5LjE3NjY3NDQ1MDgyOTIsIDkuNTIzMzIyNjg5OTM5MjhdLCBbNDkuMTc2Njc0NDUwODI5MiwgMTcuMzAyNTI3NjQwMjg4OV0sIFs0Ni4yMzQ2MzcyOTczMTg3LCAxNy4zMDI1Mjc2NDAyODg5XSwgWzQ2LjIzNDYzNzI5NzMxODcsIDkuNTIzMzIyNjg5OTM5MjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMjk0NWVkZDhhZmIyNDgzNThhMjBmNWM2MzMzZjRhMjQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzU0NDgzMTMxOTZiNDU1ZDg0OTQyOGE4NmQ3YjhlMjIgPSAkKGA8ZGl2IGlkPSJodG1sXzc1NDQ4MzEzMTk2YjQ1NWQ4NDk0MjhhODZkN2I4ZTIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBrbTUwMF9hdXN0cmlhX2dlb19mXzMyNjMyLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzAyNTc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yOTQ1ZWRkOGFmYjI0ODM1OGEyMGY1YzYzMzNmNGEyNC5zZXRDb250ZW50KGh0bWxfNzU0NDgzMTMxOTZiNDU1ZDg0OTQyOGE4NmQ3YjhlMjIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83ZTljNWIyZGY5YTA0MWQ5ODE4N2U3MWI4ZGYwOGMzMi5iaW5kUG9wdXAocG9wdXBfMjk0NWVkZDhhZmIyNDgzNThhMjBmNWM2MzMzZjRhMjQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWM0OTk0NzEyYTIyNDk1OGE1ODVmMzA2NjM5ZTliNzdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lYzQ5OTQ3MTJhMjI0OTU4YTU4NWYzMDY2MzllOWI3NyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lYzQ5OTQ3MTJhMjI0OTU4YTU4NWYzMDY2MzllOWI3N19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWM0OTk0NzEyYTIyNDk1OGE1ODVmMzA2NjM5ZTliNzdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2VjNDk5NDcxMmEyMjQ5NThhNTg1ZjMwNjYzOWU5Yjc3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lYzQ5OTQ3MTJhMjI0OTU4YTU4NWYzMDY2MzllOWI3N19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQ0Ljg5MjAxNjI0MjQ0MjksIDExLjU5NDYxOTMxMDk0OTldLCBbNTAuMDUzNzAwOTc4NzY0OCwgMTEuNTk0NjE5MzEwOTQ5OV0sIFs1MC4wNTM3MDA5Nzg3NjQ4LCAxNS43MTA3NjIyNTA5NTgzXSwgWzQ0Ljg5MjAxNjI0MjQ0MjksIDE1LjcxMDc2MjI1MDk1ODNdLCBbNDQuODkyMDE2MjQyNDQyOSwgMTEuNTk0NjE5MzEwOTQ5OV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hNzE5ZWY2OTg1ZjM0MDIwOTBjODY5Y2NjNDU5Y2FjNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lNDk3MzQ3M2FiNjU0MzFhYjFiM2RhMmY5ZTU3MDAxOCA9ICQoYDxkaXYgaWQ9Imh0bWxfZTQ5NzM0NzNhYjY1NDMxYWIxYjNkYTJmOWU1NzAwMTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGttNTAwX2F1c3RyaWFfZ2VvX2Yuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2E3MTllZjY5ODVmMzQwMjA5MGM4NjljY2M0NTljYWM0LnNldENvbnRlbnQoaHRtbF9lNDk3MzQ3M2FiNjU0MzFhYjFiM2RhMmY5ZTU3MDAxOCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2VjNDk5NDcxMmEyMjQ5NThhNTg1ZjMwNjYzOWU5Yjc3LmJpbmRQb3B1cChwb3B1cF9hNzE5ZWY2OTg1ZjM0MDIwOTBjODY5Y2NjNDU5Y2FjNCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kODJkZjFiYjllYWY0ZDE5YWU3N2MxNGIwZTlhOTgzNF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Q4MmRmMWJiOWVhZjRkMTlhZTc3YzE0YjBlOWE5ODM0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Q4MmRmMWJiOWVhZjRkMTlhZTc3YzE0YjBlOWE5ODM0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kODJkZjFiYjllYWY0ZDE5YWU3N2MxNGIwZTlhOTgzNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDgyZGYxYmI5ZWFmNGQxOWFlNzdjMTRiMGU5YTk4MzQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Q4MmRmMWJiOWVhZjRkMTlhZTc3YzE0YjBlOWE5ODM0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDQuODkyMDE2MjQyNDQyOSwgMTEuNTk0NjE5MzEwOTQ5OV0sIFs1MC4wNTM3MDA5Nzg3NjQ4LCAxMS41OTQ2MTkzMTA5NDk5XSwgWzUwLjA1MzcwMDk3ODc2NDgsIDE1LjcxMDc2MjI1MDk1ODNdLCBbNDQuODkyMDE2MjQyNDQyOSwgMTUuNzEwNzYyMjUwOTU4M10sIFs0NC44OTIwMTYyNDI0NDI5LCAxMS41OTQ2MTkzMTA5NDk5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2Q4YTlkYzdjM2M5OTQxZjU5YTMzZjhmZmUxZjA2ZDQ0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2UxNzdiNDA1MGQ4ZDQyYjc5ZjliNDdiYjM0MmU2MWNkID0gJChgPGRpdiBpZD0iaHRtbF9lMTc3YjQwNTBkOGQ0MmI3OWY5YjQ3YmIzNDJlNjFjZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4ga201MDBfYXVzdHJpYV9nZW9fZi5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZDhhOWRjN2MzYzk5NDFmNTlhMzNmOGZmZTFmMDZkNDQuc2V0Q29udGVudChodG1sX2UxNzdiNDA1MGQ4ZDQyYjc5ZjliNDdiYjM0MmU2MWNkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZDgyZGYxYmI5ZWFmNGQxOWFlNzdjMTRiMGU5YTk4MzQuYmluZFBvcHVwKHBvcHVwX2Q4YTlkYzdjM2M5OTQxZjU5YTMzZjhmZmUxZjA2ZDQ0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQxNWY2YjA4ZGFmNzQ1ODRhNzUyY2RjZDBiZDk2YjNjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNDE1ZjZiMDhkYWY3NDU4NGE3NTJjZGNkMGJkOTZiM2MgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNDE1ZjZiMDhkYWY3NDU4NGE3NTJjZGNkMGJkOTZiM2Nfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQxNWY2YjA4ZGFmNzQ1ODRhNzUyY2RjZDBiZDk2YjNjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80MTVmNmIwOGRhZjc0NTg0YTc1MmNkY2QwYmQ5NmIzYy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNDE1ZjZiMDhkYWY3NDU4NGE3NTJjZGNkMGJkOTZiM2NfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0NC45MTc1OTY5NzY3NTYyLCAxMS43MjgwNTcyMzc2NzldLCBbNTAuMDA4MDUzNTcwOTcwNywgMTEuNzI4MDU3MjM3Njc5XSwgWzUwLjAwODA1MzU3MDk3MDcsIDE1LjY2MDcwMTg4MjQyMjldLCBbNDQuOTE3NTk2OTc2NzU2MiwgMTUuNjYwNzAxODgyNDIyOV0sIFs0NC45MTc1OTY5NzY3NTYyLCAxMS43MjgwNTcyMzc2NzldXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTdkNzIwYjAzMDZhNDYzMzg1ODMwMjYzNWU4Y2E3ZWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjZlMjQwYmUzOWQ3NGRlMmI3MDM4MzIzYTgyNDY5NDcgPSAkKGA8ZGl2IGlkPSJodG1sX2Y2ZTI0MGJlMzlkNzRkZTJiNzAzODMyM2E4MjQ2OTQ3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBrbTUwMF9hdXN0cmlhX3Rla19sLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzAyNTc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lN2Q3MjBiMDMwNmE0NjMzODU4MzAyNjM1ZThjYTdlZS5zZXRDb250ZW50KGh0bWxfZjZlMjQwYmUzOWQ3NGRlMmI3MDM4MzIzYTgyNDY5NDcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl80MTVmNmIwOGRhZjc0NTg0YTc1MmNkY2QwYmQ5NmIzYy5iaW5kUG9wdXAocG9wdXBfZTdkNzIwYjAzMDZhNDYzMzg1ODMwMjYzNWU4Y2E3ZWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjU1MDBjMzI3YjMxNDA5ZWE2Y2RiMWExMGFiMDUzNWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNTUwMGMzMjdiMzE0MDllYTZjZGIxYTEwYWIwNTM1YSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNTUwMGMzMjdiMzE0MDllYTZjZGIxYTEwYWIwNTM1YV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjU1MDBjMzI3YjMxNDA5ZWE2Y2RiMWExMGFiMDUzNWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzI1NTAwYzMyN2IzMTQwOWVhNmNkYjFhMTBhYjA1MzVhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yNTUwMGMzMjdiMzE0MDllYTZjZGIxYTEwYWIwNTM1YV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQ2LjIzNDYzNzI5NzMxODcsIDkuNTIzMzIyNjg5OTM5MjhdLCBbNDkuMTc2Njc0NDUwODI5MiwgOS41MjMzMjI2ODk5MzkyOF0sIFs0OS4xNzY2NzQ0NTA4MjkyLCAxNy4zMDI1Mjc2NDAyODg5XSwgWzQ2LjIzNDYzNzI5NzMxODcsIDE3LjMwMjUyNzY0MDI4ODldLCBbNDYuMjM0NjM3Mjk3MzE4NywgOS41MjMzMjI2ODk5MzkyOF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mZDZlNDY0MjdhOTE0NDZiYTRlNDQ0MzlhMmMwNzg0ZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83MzQwNTFmMGE5NmI0OTQyYTg1OWUzMjY4YWYwM2U5YSA9ICQoYDxkaXYgaWQ9Imh0bWxfNzM0MDUxZjBhOTZiNDk0MmE4NTllMzI2OGFmMDNlOWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGttNTAwX2F1c3RyaWFfZ2VvX2ZfMzI2MzIuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ZkNmU0NjQyN2E5MTQ0NmJhNGU0NDQzOWEyYzA3ODRlLnNldENvbnRlbnQoaHRtbF83MzQwNTFmMGE5NmI0OTQyYTg1OWUzMjY4YWYwM2U5YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzI1NTAwYzMyN2IzMTQwOWVhNmNkYjFhMTBhYjA1MzVhLmJpbmRQb3B1cChwb3B1cF9mZDZlNDY0MjdhOTE0NDZiYTRlNDQ0MzlhMmMwNzg0ZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YjFlODgwMGQ2ZGI0NzJjODQ0OGE1NmEwOTYzZjUwMV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRiMWU4ODAwZDZkYjQ3MmM4NDQ4YTU2YTA5NjNmNTAxID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRiMWU4ODAwZDZkYjQ3MmM4NDQ4YTU2YTA5NjNmNTAxX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YjFlODgwMGQ2ZGI0NzJjODQ0OGE1NmEwOTYzZjUwMV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGIxZTg4MDBkNmRiNDcyYzg0NDhhNTZhMDk2M2Y1MDEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRiMWU4ODAwZDZkYjQ3MmM4NDQ4YTU2YTA5NjNmNTAxX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDYuMjM0NjM3Mjk3MzE4NywgOS41MjMzMjI2ODk5MzkyOF0sIFs0OS4xNzY2NzQ0NTA4MjkyLCA5LjUyMzMyMjY4OTkzOTI4XSwgWzQ5LjE3NjY3NDQ1MDgyOTIsIDE3LjMwMjUyNzY0MDI4ODldLCBbNDYuMjM0NjM3Mjk3MzE4NywgMTcuMzAyNTI3NjQwMjg4OV0sIFs0Ni4yMzQ2MzcyOTczMTg3LCA5LjUyMzMyMjY4OTkzOTI4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2Q5ZjZmYTBlYThmNTQ3YTFiNDMwNTQyNjhjMTZjNTk2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2I3Zjg3ZGMxYTMxNjQxZTBiYzRmNTExMDhiYTIzNWFmID0gJChgPGRpdiBpZD0iaHRtbF9iN2Y4N2RjMWEzMTY0MWUwYmM0ZjUxMTA4YmEyMzVhZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4ga201MDBfYXVzdHJpYV9nZW9fZl8zMjYzMi5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZDlmNmZhMGVhOGY1NDdhMWI0MzA1NDI2OGMxNmM1OTYuc2V0Q29udGVudChodG1sX2I3Zjg3ZGMxYTMxNjQxZTBiYzRmNTExMDhiYTIzNWFmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGIxZTg4MDBkNmRiNDcyYzg0NDhhNTZhMDk2M2Y1MDEuYmluZFBvcHVwKHBvcHVwX2Q5ZjZmYTBlYThmNTQ3YTFiNDMwNTQyNjhjMTZjNTk2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JmMGY5YTQ1MWNhMDRmZTA5OWU2NzY3YTc3NWJjZTRiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmYwZjlhNDUxY2EwNGZlMDk5ZTY3NjdhNzc1YmNlNGIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmYwZjlhNDUxY2EwNGZlMDk5ZTY3NjdhNzc1YmNlNGJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JmMGY5YTQ1MWNhMDRmZTA5OWU2NzY3YTc3NWJjZTRiX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iZjBmOWE0NTFjYTA0ZmUwOTllNjc2N2E3NzViY2U0Yi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYmYwZjlhNDUxY2EwNGZlMDk5ZTY3NjdhNzc1YmNlNGJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0My41ODk4NzMyMTQ4MTAzLCA2LjU0MDA4NjMwNTk3NjU3XSwgWzQ3LjEwOTM0MzM0NjEzMzUsIDYuNTQwMDg2MzA1OTc2NTddLCBbNDcuMTA5MzQzMzQ2MTMzNSwgMTQuMDQzMDIwNTQyNDcyM10sIFs0My41ODk4NzMyMTQ4MTAzLCAxNC4wNDMwMjA1NDI0NzIzXSwgWzQzLjU4OTg3MzIxNDgxMDMsIDYuNTQwMDg2MzA1OTc2NTddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfM2E2ZGVjZjFlOTc1NDYxNjg1NjBlYzEyOGFlNWYyOTggPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzkzOWIwYmZlMTExNGEyM2I5NTA3OWYyY2Q3NmJjNjYgPSAkKGA8ZGl2IGlkPSJodG1sXzc5MzliMGJmZTExMTRhMjNiOTUwNzlmMmNkNzZiYzY2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBnZW9sb2dpYV93Z3M4NF91dG0zMl9DbGlwLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzAyNTc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zYTZkZWNmMWU5NzU0NjE2ODU2MGVjMTI4YWU1ZjI5OC5zZXRDb250ZW50KGh0bWxfNzkzOWIwYmZlMTExNGEyM2I5NTA3OWYyY2Q3NmJjNjYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iZjBmOWE0NTFjYTA0ZmUwOTllNjc2N2E3NzViY2U0Yi5iaW5kUG9wdXAocG9wdXBfM2E2ZGVjZjFlOTc1NDYxNjg1NjBlYzEyOGFlNWYyOTgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmRkZGRkY2M1M2I1NGRjNWI4MzUxYjY3MDA4ZWYxOWJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yZGRkZGRjYzUzYjU0ZGM1YjgzNTFiNjcwMDhlZjE5YiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yZGRkZGRjYzUzYjU0ZGM1YjgzNTFiNjcwMDhlZjE5Yl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmRkZGRkY2M1M2I1NGRjNWI4MzUxYjY3MDA4ZWYxOWJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzJkZGRkZGNjNTNiNTRkYzViODM1MWI2NzAwOGVmMTliLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yZGRkZGRjYzUzYjU0ZGM1YjgzNTFiNjcwMDhlZjE5Yl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQzLjU4OTg3MzIxNDgxMDMsIDYuNTQwMDg2MzA1OTc2NTddLCBbNDcuMTA5MzQzMzQ2MTMzNSwgNi41NDAwODYzMDU5NzY1N10sIFs0Ny4xMDkzNDMzNDYxMzM1LCAxNC4wNDMwMjA1NDI0NzIzXSwgWzQzLjU4OTg3MzIxNDgxMDMsIDE0LjA0MzAyMDU0MjQ3MjNdLCBbNDMuNTg5ODczMjE0ODEwMywgNi41NDAwODYzMDU5NzY1N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iODY0ZTlmYjNjYzc0MjllOWQyOTY1ZjE0NzNlOWFiOCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85NTQyYWFiODhjOTg0NzZlYTc2N2EyODNiYWMwZTcyNyA9ICQoYDxkaXYgaWQ9Imh0bWxfOTU0MmFhYjg4Yzk4NDc2ZWE3NjdhMjgzYmFjMGU3MjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGdlb2xvZ2lhX3dnczg0X3V0bTMyX0NsaXAuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2I4NjRlOWZiM2NjNzQyOWU5ZDI5NjVmMTQ3M2U5YWI4LnNldENvbnRlbnQoaHRtbF85NTQyYWFiODhjOTg0NzZlYTc2N2EyODNiYWMwZTcyNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzJkZGRkZGNjNTNiNTRkYzViODM1MWI2NzAwOGVmMTliLmJpbmRQb3B1cChwb3B1cF9iODY0ZTlmYjNjYzc0MjllOWQyOTY1ZjE0NzNlOWFiOCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hNTk1YTM4ZTM5NDA0N2Q2OTI4YzZjZmVhYmQzMzFjYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2E1OTVhMzhlMzk0MDQ3ZDY5MjhjNmNmZWFiZDMzMWNhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2E1OTVhMzhlMzk0MDQ3ZDY5MjhjNmNmZWFiZDMzMWNhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hNTk1YTM4ZTM5NDA0N2Q2OTI4YzZjZmVhYmQzMzFjYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYTU5NWEzOGUzOTQwNDdkNjkyOGM2Y2ZlYWJkMzMxY2EuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2E1OTVhMzhlMzk0MDQ3ZDY5MjhjNmNmZWFiZDMzMWNhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDMuNTg5ODczMjE0ODEwMywgNi41NDAwODYzMDU5NzY1N10sIFs0Ny4xMDkzNDMzNDYxMzM1LCA2LjU0MDA4NjMwNTk3NjU3XSwgWzQ3LjEwOTM0MzM0NjEzMzUsIDE0LjA0MzAyMDU0MjQ3MjNdLCBbNDMuNTg5ODczMjE0ODEwMywgMTQuMDQzMDIwNTQyNDcyM10sIFs0My41ODk4NzMyMTQ4MTAzLCA2LjU0MDA4NjMwNTk3NjU3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNjMmQzNDgwMzkzOTRiYTg5Njk3NWY4ODBjZmQzMDI1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzAyY2EwY2FlYjI0MTRjOWU5NDE5ZTJlMjg0NmEwZWE2ID0gJChgPGRpdiBpZD0iaHRtbF8wMmNhMGNhZWIyNDE0YzllOTQxOWUyZTI4NDZhMGVhNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gZ2VvbG9naWFfd2dzODRfdXRtMzJfQ2xpcC5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfM2MyZDM0ODAzOTM5NGJhODk2OTc1Zjg4MGNmZDMwMjUuc2V0Q29udGVudChodG1sXzAyY2EwY2FlYjI0MTRjOWU5NDE5ZTJlMjg0NmEwZWE2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYTU5NWEzOGUzOTQwNDdkNjkyOGM2Y2ZlYWJkMzMxY2EuYmluZFBvcHVwKHBvcHVwXzNjMmQzNDgwMzkzOTRiYTg5Njk3NWY4ODBjZmQzMDI1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YyODM4ZGIyZTIxNzQwNzZhMzgyMjNlYzU5NjYzNzkyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZjI4MzhkYjJlMjE3NDA3NmEzODIyM2VjNTk2NjM3OTIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZjI4MzhkYjJlMjE3NDA3NmEzODIyM2VjNTk2NjM3OTJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YyODM4ZGIyZTIxNzQwNzZhMzgyMjNlYzU5NjYzNzkyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mMjgzOGRiMmUyMTc0MDc2YTM4MjIzZWM1OTY2Mzc5Mi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZjI4MzhkYjJlMjE3NDA3NmEzODIyM2VjNTk2NjM3OTJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMjEuNDgxNjY2ODcyMDU4NywgNDYuMTM1MDM5MzU3OTA5OF0sIFstOC43NjY2MzQxNjM3ODYzNiwgNDYuMTM1MDM5MzU3OTA5OF0sIFstOC43NjY2MzQxNjM3ODYzNiwgNzEuMzMwMzE0MjA2MTg0MV0sIFstMjEuNDgxNjY2ODcyMDU4NywgNzEuMzMwMzE0MjA2MTg0MV0sIFstMjEuNDgxNjY2ODcyMDU4NywgNDYuMTM1MDM5MzU3OTA5OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83N2EyYzMwNjI3Yjc0MjJkOWY1ZjI3YzY3MmI0ODE3YSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kOWY3NWRiZTk1YTI0OTEyYWRlYzU4MTdkNWEzZmMyYSA9ICQoYDxkaXYgaWQ9Imh0bWxfZDlmNzVkYmU5NWEyNDkxMmFkZWM1ODE3ZDVhM2ZjMmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEdlby1MaU1fVjIucGRmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBwZGY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzc3YTJjMzA2MjdiNzQyMmQ5ZjVmMjdjNjcyYjQ4MTdhLnNldENvbnRlbnQoaHRtbF9kOWY3NWRiZTk1YTI0OTEyYWRlYzU4MTdkNWEzZmMyYSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2YyODM4ZGIyZTIxNzQwNzZhMzgyMjNlYzU5NjYzNzkyLmJpbmRQb3B1cChwb3B1cF83N2EyYzMwNjI3Yjc0MjJkOWY1ZjI3YzY3MmI0ODE3YSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81NTE2MzgyYjc3MmQ0OTgxYmVmMDI0YzAxYWY1YzQ1ZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzU1MTYzODJiNzcyZDQ5ODFiZWYwMjRjMDFhZjVjNDVlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzU1MTYzODJiNzcyZDQ5ODFiZWYwMjRjMDFhZjVjNDVlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMmFiYWQzM2IzY2FiNDVkZWJlZWQ1MWZhYmMwOWY1YWYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81NTE2MzgyYjc3MmQ0OTgxYmVmMDI0YzAxYWY1YzQ1ZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNTUxNjM4MmI3NzJkNDk4MWJlZjAyNGMwMWFmNWM0NWUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzU1MTYzODJiNzcyZDQ5ODFiZWYwMjRjMDFhZjVjNDVlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDcuNDkwNjkxODc2NzE5NSwgLTM0LjM4MTIxNTU5NTc2MV0sIFs2NS45NTA0MTExNTI4NTQyLCAtMzQuMzgxMjE1NTk1NzYxXSwgWzY1Ljk1MDQxMTE1Mjg1NDIsIC0xLjEyNTI5NTUzMjIzMTcxXSwgWzQ3LjQ5MDY5MTg3NjcxOTUsIC0xLjEyNTI5NTUzMjIzMTcxXSwgWzQ3LjQ5MDY5MTg3NjcxOTUsIC0zNC4zODEyMTU1OTU3NjFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYWU1YzgwNmIzM2Q2NGEwMmEwNjhmODljNThjMjFhOGUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTBlNzgzYjNhMjA3NDU5ODhmYTgwMzg1NGUzYTlhMGEgPSAkKGA8ZGl2IGlkPSJodG1sXzkwZTc4M2IzYTIwNzQ1OTg4ZmE4MDM4NTRlM2E5YTBhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBmdWxsX2dlb19saW1fMzAzNV9WMi5ncGtnPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBncGtnPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDI0MzIwNDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBuZXcgR2VvLUxpdGhvbG9naWNhbCBNYXAgKEdlby1MaU0pIGZvciBDZW50cmFsIEV1cm9wZSAoR2VybWFueSwgRnJhbmNlLCBTd2l0emVybGFuZCwgQXVzdHJpYSwgU2xvdmVuaWEsIGFuZCBOb3J0aGVybiBJdGFseSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzAyNTc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hZTVjODA2YjMzZDY0YTAyYTA2OGY4OWM1OGMyMWE4ZS5zZXRDb250ZW50KGh0bWxfOTBlNzgzYjNhMjA3NDU5ODhmYTgwMzg1NGUzYTlhMGEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81NTE2MzgyYjc3MmQ0OTgxYmVmMDI0YzAxYWY1YzQ1ZS5iaW5kUG9wdXAocG9wdXBfYWU1YzgwNmIzM2Q2NGEwMmEwNjhmODljNThjMjFhOGUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGIwMjBiMmY2M2YzNGRjYmFmZjViNmIwOWFmY2VhNzNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wYjAyMGIyZjYzZjM0ZGNiYWZmNWI2YjA5YWZjZWE3MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wYjAyMGIyZjYzZjM0ZGNiYWZmNWI2YjA5YWZjZWE3M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzJhYmFkMzNiM2NhYjQ1ZGViZWVkNTFmYWJjMDlmNWFmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGIwMjBiMmY2M2YzNGRjYmFmZjViNmIwOWFmY2VhNzNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzBiMDIwYjJmNjNmMzRkY2JhZmY1YjZiMDlhZmNlYTczLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wYjAyMGIyZjYzZjM0ZGNiYWZmNWI2YjA5YWZjZWE3M19hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0yMS40ODE2NjY4NzIwNTg3LCA0Ni4xMzUwMzkzNTc5MDk4XSwgWy04Ljc2NjYzNDE2Mzc4NjM2LCA0Ni4xMzUwMzkzNTc5MDk4XSwgWy04Ljc2NjYzNDE2Mzc4NjM2LCA3MS4zMzAzMTQyMDYxODQxXSwgWy0yMS40ODE2NjY4NzIwNTg3LCA3MS4zMzAzMTQyMDYxODQxXSwgWy0yMS40ODE2NjY4NzIwNTg3LCA0Ni4xMzUwMzkzNTc5MDk4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ExMTZjMGVjZWUwNjQ0Mzk4ZTAxNGY1ZWMxYjY1NTg3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2VhOWJlOWNiYzBhYjRmMjRiYmZiYTIxY2Y2Y2YxNWYwID0gJChgPGRpdiBpZD0iaHRtbF9lYTliZTljYmMwYWI0ZjI0YmJmYmEyMWNmNmNmMTVmMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gR2VvLUxpTV9WMi5wZGY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHBkZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAyNDMyMDQ0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgbmV3IEdlby1MaXRob2xvZ2ljYWwgTWFwIChHZW8tTGlNKSBmb3IgQ2VudHJhbCBFdXJvcGUgKEdlcm1hbnksIEZyYW5jZSwgU3dpdHplcmxhbmQsIEF1c3RyaWEsIFNsb3ZlbmlhLCBhbmQgTm9ydGhlcm4gSXRhbHkpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTMwMjU3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYTExNmMwZWNlZTA2NDQzOThlMDE0ZjVlYzFiNjU1ODcuc2V0Q29udGVudChodG1sX2VhOWJlOWNiYzBhYjRmMjRiYmZiYTIxY2Y2Y2YxNWYwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMGIwMjBiMmY2M2YzNGRjYmFmZjViNmIwOWFmY2VhNzMuYmluZFBvcHVwKHBvcHVwX2ExMTZjMGVjZWUwNjQ0Mzk4ZTAxNGY1ZWMxYjY1NTg3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YyNWFjMTRhZjZmNDQ2MGFiMDA5ZjZlNDE2ZDU1NTE5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZjI1YWMxNGFmNmY0NDYwYWIwMDlmNmU0MTZkNTU1MTkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZjI1YWMxNGFmNmY0NDYwYWIwMDlmNmU0MTZkNTU1MTlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YyNWFjMTRhZjZmNDQ2MGFiMDA5ZjZlNDE2ZDU1NTE5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mMjVhYzE0YWY2ZjQ0NjBhYjAwOWY2ZTQxNmQ1NTUxOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZjI1YWMxNGFmNmY0NDYwYWIwMDlmNmU0MTZkNTU1MTlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Ny40OTA2OTE4NzY3MTk1LCAtMzQuMzgxMjE1NTk1NzYxXSwgWzY1Ljk1MDQxMTE1Mjg1NDIsIC0zNC4zODEyMTU1OTU3NjFdLCBbNjUuOTUwNDExMTUyODU0MiwgLTEuMTI1Mjk1NTMyMjMxNzFdLCBbNDcuNDkwNjkxODc2NzE5NSwgLTEuMTI1Mjk1NTMyMjMxNzFdLCBbNDcuNDkwNjkxODc2NzE5NSwgLTM0LjM4MTIxNTU5NTc2MV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iZTljYzA2YTRkODk0OTUzYTU2NWQ1Yzk0OGFmNWZiMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82MWUzYjIzNmYwYzk0YmM2YTJkMWRhNGI4YjU3ZTJmNiA9ICQoYDxkaXYgaWQ9Imh0bWxfNjFlM2IyMzZmMGM5NGJjNmEyZDFkYTRiOGI1N2UyZjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGZ1bGxfZ2VvX2xpbV8zMDM1X1YyLmdwa2c8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdwa2c8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMjQzMjA0NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIG5ldyBHZW8tTGl0aG9sb2dpY2FsIE1hcCAoR2VvLUxpTSkgZm9yIENlbnRyYWwgRXVyb3BlIChHZXJtYW55LCBGcmFuY2UsIFN3aXR6ZXJsYW5kLCBBdXN0cmlhLCBTbG92ZW5pYSwgYW5kIE5vcnRoZXJuIEl0YWx5KTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzMDI1NzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2JlOWNjMDZhNGQ4OTQ5NTNhNTY1ZDVjOTQ4YWY1ZmIyLnNldENvbnRlbnQoaHRtbF82MWUzYjIzNmYwYzk0YmM2YTJkMWRhNGI4YjU3ZTJmNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2YyNWFjMTRhZjZmNDQ2MGFiMDA5ZjZlNDE2ZDU1NTE5LmJpbmRQb3B1cChwb3B1cF9iZTljYzA2YTRkODk0OTUzYTU2NWQ1Yzk0OGFmNWZiMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q3NTQ3ZmRkNjdiODRlMTY5YTkzYzY0MDJkN2E5ZTBhX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDc1NDdmZGQ2N2I4NGUxNjlhOTNjNjQwMmQ3YTllMGFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kNzU0N2ZkZDY3Yjg0ZTE2OWE5M2M2NDAyZDdhOWUwYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kNzU0N2ZkZDY3Yjg0ZTE2OWE5M2M2NDAyZDdhOWUwYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl9kNzU0N2ZkZDY3Yjg0ZTE2OWE5M2M2NDAyZDdhOWUwYV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q3NTQ3ZmRkNjdiODRlMTY5YTkzYzY0MDJkN2E5ZTBhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kNzU0N2ZkZDY3Yjg0ZTE2OWE5M2M2NDAyZDdhOWUwYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZDc1NDdmZGQ2N2I4NGUxNjlhOTNjNjQwMmQ3YTllMGFfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wNWFiY2Y3MGJkZDg0YzhhYmJiNjg1OTZhY2RmYWE5NSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kMDIzZGQzODhkZWQ0YmE5YTlhM2MxNTM2YTY4ZjQwMiA9ICQoYDxkaXYgaWQ9Imh0bWxfZDAyM2RkMzg4ZGVkNGJhOWE5YTNjMTUzNmE2OGY0MDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzA1YWJjZjcwYmRkODRjOGFiYmI2ODU5NmFjZGZhYTk1LnNldENvbnRlbnQoaHRtbF9kMDIzZGQzODhkZWQ0YmE5YTlhM2MxNTM2YTY4ZjQwMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Q3NTQ3ZmRkNjdiODRlMTY5YTkzYzY0MDJkN2E5ZTBhLmJpbmRQb3B1cChwb3B1cF8wNWFiY2Y3MGJkZDg0YzhhYmJiNjg1OTZhY2RmYWE5NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iZWNmMzYzY2NmYjA0M2RjODFjMjBhZmIxMzNmZTQ1Zl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2JlY2YzNjNjY2ZiMDQzZGM4MWMyMGFmYjEzM2ZlNDVmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2JlY2YzNjNjY2ZiMDQzZGM4MWMyMGFmYjEzM2ZlNDVmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iZWNmMzYzY2NmYjA0M2RjODFjMjBhZmIxMzNmZTQ1Zl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYmVjZjM2M2NjZmIwNDNkYzgxYzIwYWZiMTMzZmU0NWYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2JlY2YzNjNjY2ZiMDQzZGM4MWMyMGFmYjEzM2ZlNDVmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzU0NDQwYzMzZDY5NDQ2N2FhZTQxOTdlODUzNTI4MzFlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzA0ZDI3OWJkYzQ1YjQ1MWM5MGM5ZDkyMzU4NGFiMzY1ID0gJChgPGRpdiBpZD0iaHRtbF8wNGQyNzliZGM0NWI0NTFjOTBjOWQ5MjM1ODRhYjM2NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1Qtdm9sXzEwMV8zNC5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTQ0NDBjMzNkNjk0NDY3YWFlNDE5N2U4NTM1MjgzMWUuc2V0Q29udGVudChodG1sXzA0ZDI3OWJkYzQ1YjQ1MWM5MGM5ZDkyMzU4NGFiMzY1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYmVjZjM2M2NjZmIwNDNkYzgxYzIwYWZiMTMzZmU0NWYuYmluZFBvcHVwKHBvcHVwXzU0NDQwYzMzZDY5NDQ2N2FhZTQxOTdlODUzNTI4MzFlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM0NjFhNmQyYTYxZTQzMjA4NzBhYjM3ZTY4YzcyNDE1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzQ2MWE2ZDJhNjFlNDMyMDg3MGFiMzdlNjhjNzI0MTUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzQ2MWE2ZDJhNjFlNDMyMDg3MGFiMzdlNjhjNzI0MTVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM0NjFhNmQyYTYxZTQzMjA4NzBhYjM3ZTY4YzcyNDE1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zNDYxYTZkMmE2MWU0MzIwODcwYWIzN2U2OGM3MjQxNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzQ2MWE2ZDJhNjFlNDMyMDg3MGFiMzdlNjhjNzI0MTVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYmQ1ZTVmMjMxOWZmNDhjNjllZjM5YmY1NzIyYTkzZTkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYzBiZTk0NDRkOTJkNDMzZTk0MjdjOTM5YTNkODg0OGQgPSAkKGA8ZGl2IGlkPSJodG1sX2MwYmU5NDQ0ZDkyZDQzM2U5NDI3YzkzOWEzZDg4NDhkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQUkVDVC1jdHJsX25leHRfMjAwNF8yNC5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYmQ1ZTVmMjMxOWZmNDhjNjllZjM5YmY1NzIyYTkzZTkuc2V0Q29udGVudChodG1sX2MwYmU5NDQ0ZDkyZDQzM2U5NDI3YzkzOWEzZDg4NDhkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzQ2MWE2ZDJhNjFlNDMyMDg3MGFiMzdlNjhjNzI0MTUuYmluZFBvcHVwKHBvcHVwX2JkNWU1ZjIzMTlmZjQ4YzY5ZWYzOWJmNTcyMmE5M2U5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzFiYTRkZmZmYjI3ZjRjY2E5ODNiYTE4YTUyN2NiMTkwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMWJhNGRmZmZiMjdmNGNjYTk4M2JhMThhNTI3Y2IxOTAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMWJhNGRmZmZiMjdmNGNjYTk4M2JhMThhNTI3Y2IxOTBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzFiYTRkZmZmYjI3ZjRjY2E5ODNiYTE4YTUyN2NiMTkwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xYmE0ZGZmZmIyN2Y0Y2NhOTgzYmExOGE1MjdjYjE5MC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMWJhNGRmZmZiMjdmNGNjYTk4M2JhMThhNTI3Y2IxOTBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMTk5ZTQ1MGYzOGVmNDFjMThjZDIzZjFkZmViZDE1OTggPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZThhZjEyNzQzOTA2NGY3OTg5NTc2Y2NiOGZkZThiZDMgPSAkKGA8ZGl2IGlkPSJodG1sX2U4YWYxMjc0MzkwNjRmNzk4OTU3NmNjYjhmZGU4YmQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQUkVDVC1jdHJsXzczM18yNy5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTk5ZTQ1MGYzOGVmNDFjMThjZDIzZjFkZmViZDE1OTguc2V0Q29udGVudChodG1sX2U4YWYxMjc0MzkwNjRmNzk4OTU3NmNjYjhmZGU4YmQzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMWJhNGRmZmZiMjdmNGNjYTk4M2JhMThhNTI3Y2IxOTAuYmluZFBvcHVwKHBvcHVwXzE5OWU0NTBmMzhlZjQxYzE4Y2QyM2YxZGZlYmQxNTk4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2M5ZjcwNDY3ODFhZTRiZTM5ZmVmNjVjNzRjYzc0YzgyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYzlmNzA0Njc4MWFlNGJlMzlmZWY2NWM3NGNjNzRjODIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYzlmNzA0Njc4MWFlNGJlMzlmZWY2NWM3NGNjNzRjODJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2M5ZjcwNDY3ODFhZTRiZTM5ZmVmNjVjNzRjYzc0YzgyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jOWY3MDQ2NzgxYWU0YmUzOWZlZjY1Yzc0Y2M3NGM4Mi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYzlmNzA0Njc4MWFlNGJlMzlmZWY2NWM3NGNjNzRjODJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTNmYjQ5ZmY4ODNmNGU3NWFiMTNjOGI1YTc0MDI5N2MgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGViNDg5ZTEzMjQ1NGZiZjhjYjA4MTI1NTBiNTgyMWIgPSAkKGA8ZGl2IGlkPSJodG1sXzhlYjQ4OWUxMzI0NTRmYmY4Y2IwODEyNTUwYjU4MjFiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQUkVDVC1jdHJsX25leHRfbmV4dF8yMDFfMjkubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2UzZmI0OWZmODgzZjRlNzVhYjEzYzhiNWE3NDAyOTdjLnNldENvbnRlbnQoaHRtbF84ZWI0ODllMTMyNDU0ZmJmOGNiMDgxMjU1MGI1ODIxYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2M5ZjcwNDY3ODFhZTRiZTM5ZmVmNjVjNzRjYzc0YzgyLmJpbmRQb3B1cChwb3B1cF9lM2ZiNDlmZjg4M2Y0ZTc1YWIxM2M4YjVhNzQwMjk3YykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hODgzYjI3YmU1ZWE0OGVjODY2NjJmYjE0ZWIxODZlYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2E4ODNiMjdiZTVlYTQ4ZWM4NjY2MmZiMTRlYjE4NmVhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2E4ODNiMjdiZTVlYTQ4ZWM4NjY2MmZiMTRlYjE4NmVhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hODgzYjI3YmU1ZWE0OGVjODY2NjJmYjE0ZWIxODZlYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYTg4M2IyN2JlNWVhNDhlYzg2NjYyZmIxNGViMTg2ZWEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2E4ODNiMjdiZTVlYTQ4ZWM4NjY2MmZiMTRlYjE4NmVhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2I4NjQ4YTdhZDlmMjQ4OTJhNGU5NTI3YzI2ZjU5ZDg4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQyNDIzOTczNDIxMzRhYWZiNjZjZGMzN2EzNzFjNDFmID0gJChgPGRpdiBpZD0iaHRtbF80MjQyMzk3MzQyMTM0YWFmYjY2Y2RjMzdhMzcxYzQxZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1QtY3RybF9uZXh0XzczM18xMi5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYjg2NDhhN2FkOWYyNDg5MmE0ZTk1MjdjMjZmNTlkODguc2V0Q29udGVudChodG1sXzQyNDIzOTczNDIxMzRhYWZiNjZjZGMzN2EzNzFjNDFmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYTg4M2IyN2JlNWVhNDhlYzg2NjYyZmIxNGViMTg2ZWEuYmluZFBvcHVwKHBvcHVwX2I4NjQ4YTdhZDlmMjQ4OTJhNGU5NTI3YzI2ZjU5ZDg4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzMzYzZhZWVmNmMxYzQ5MjNiOTMyNTVkOTViOGQwN2FkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzNjNmFlZWY2YzFjNDkyM2I5MzI1NWQ5NWI4ZDA3YWQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzNjNmFlZWY2YzFjNDkyM2I5MzI1NWQ5NWI4ZDA3YWRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzMzYzZhZWVmNmMxYzQ5MjNiOTMyNTVkOTViOGQwN2FkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zM2M2YWVlZjZjMWM0OTIzYjkzMjU1ZDk1YjhkMDdhZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzNjNmFlZWY2YzFjNDkyM2I5MzI1NWQ5NWI4ZDA3YWRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNTMwMzJiOGE4MzI0NGY3MTgzMDI3YjBhZDVmYzlhZGMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZGZlMjI2MGY1MGQ5NGU2YWIwYzEyMmQxMzExZDM4MzcgPSAkKGA8ZGl2IGlkPSJodG1sX2RmZTIyNjBmNTBkOTRlNmFiMGMxMjJkMTMxMWQzODM3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQUkVDVC12b2xfNjMzXzE0Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81MzAzMmI4YTgzMjQ0ZjcxODMwMjdiMGFkNWZjOWFkYy5zZXRDb250ZW50KGh0bWxfZGZlMjI2MGY1MGQ5NGU2YWIwYzEyMmQxMzExZDM4MzcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zM2M2YWVlZjZjMWM0OTIzYjkzMjU1ZDk1YjhkMDdhZC5iaW5kUG9wdXAocG9wdXBfNTMwMzJiOGE4MzI0NGY3MTgzMDI3YjBhZDVmYzlhZGMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmQxY2E5MjYxODYwNDlhNGE5MzY0ODU4NTYxMTQ2NDlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82ZDFjYTkyNjE4NjA0OWE0YTkzNjQ4NTg1NjExNDY0OSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82ZDFjYTkyNjE4NjA0OWE0YTkzNjQ4NTg1NjExNDY0OV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmQxY2E5MjYxODYwNDlhNGE5MzY0ODU4NTYxMTQ2NDlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzZkMWNhOTI2MTg2MDQ5YTRhOTM2NDg1ODU2MTE0NjQ5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82ZDFjYTkyNjE4NjA0OWE0YTkzNjQ4NTg1NjExNDY0OV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81MWFlMmE3NTY4ZDI0MTZiYjdlNWFjYzJjNjNlYTU1ZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85ZmE3MDk3NjhhYzg0YThiOTA1MzdhMmM3ZGIxZjIxMyA9ICQoYDxkaXYgaWQ9Imh0bWxfOWZhNzA5NzY4YWM4NGE4YjkwNTM3YTJjN2RiMWYyMTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULXZvbF8zMDFfMzIubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzUxYWUyYTc1NjhkMjQxNmJiN2U1YWNjMmM2M2VhNTVmLnNldENvbnRlbnQoaHRtbF85ZmE3MDk3NjhhYzg0YThiOTA1MzdhMmM3ZGIxZjIxMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzZkMWNhOTI2MTg2MDQ5YTRhOTM2NDg1ODU2MTE0NjQ5LmJpbmRQb3B1cChwb3B1cF81MWFlMmE3NTY4ZDI0MTZiYjdlNWFjYzJjNjNlYTU1ZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xZjQ1YjJkOTBjMDk0ODU3YjQwMTA1ZjQzZjQ1ODEzMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzFmNDViMmQ5MGMwOTQ4NTdiNDAxMDVmNDNmNDU4MTMwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzFmNDViMmQ5MGMwOTQ4NTdiNDAxMDVmNDNmNDU4MTMwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xZjQ1YjJkOTBjMDk0ODU3YjQwMTA1ZjQzZjQ1ODEzMF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMWY0NWIyZDkwYzA5NDg1N2I0MDEwNWY0M2Y0NTgxMzAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzFmNDViMmQ5MGMwOTQ4NTdiNDAxMDVmNDNmNDU4MTMwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2RjZTkzYzcxZTg1MzQxYTQ5YzZhNTQ3NjNiNmM4NGY2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzA5NDNjOWFiN2FkOTQ4ZDQ5OWVmZTkyMTg0NDE0MDI2ID0gJChgPGRpdiBpZD0iaHRtbF8wOTQzYzlhYjdhZDk0OGQ0OTllZmU5MjE4NDQxNDAyNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1Qtdm9sX25leHRfMTAxXzE3Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kY2U5M2M3MWU4NTM0MWE0OWM2YTU0NzYzYjZjODRmNi5zZXRDb250ZW50KGh0bWxfMDk0M2M5YWI3YWQ5NDhkNDk5ZWZlOTIxODQ0MTQwMjYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8xZjQ1YjJkOTBjMDk0ODU3YjQwMTA1ZjQzZjQ1ODEzMC5iaW5kUG9wdXAocG9wdXBfZGNlOTNjNzFlODUzNDFhNDljNmE1NDc2M2I2Yzg0ZjYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDFhNzU3NTI5OGEwNDc2OThhMmE2ZDkzOTQyMGIwZDZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wMWE3NTc1Mjk4YTA0NzY5OGEyYTZkOTM5NDIwYjBkNiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wMWE3NTc1Mjk4YTA0NzY5OGEyYTZkOTM5NDIwYjBkNl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDFhNzU3NTI5OGEwNDc2OThhMmE2ZDkzOTQyMGIwZDZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzAxYTc1NzUyOThhMDQ3Njk4YTJhNmQ5Mzk0MjBiMGQ2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wMWE3NTc1Mjk4YTA0NzY5OGEyYTZkOTM5NDIwYjBkNl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wNjA0YmEyYjc1NzI0NTAwYTMxNWViMDgzNDBlY2ZjNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yNDU3ZDgzOGYxM2I0OGYzOTU2OWM1MjBmYmUyZTQxMiA9ICQoYDxkaXYgaWQ9Imh0bWxfMjQ1N2Q4MzhmMTNiNDhmMzk1NjljNTIwZmJlMmU0MTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULWN0cmxfNjMzXzE0Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wNjA0YmEyYjc1NzI0NTAwYTMxNWViMDgzNDBlY2ZjNi5zZXRDb250ZW50KGh0bWxfMjQ1N2Q4MzhmMTNiNDhmMzk1NjljNTIwZmJlMmU0MTIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wMWE3NTc1Mjk4YTA0NzY5OGEyYTZkOTM5NDIwYjBkNi5iaW5kUG9wdXAocG9wdXBfMDYwNGJhMmI3NTcyNDUwMGEzMTVlYjA4MzQwZWNmYzYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTM0ZjM3MzJjZGE2NDRiMGJjZmQ5N2ZkMjNhNzUyNDFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xMzRmMzczMmNkYTY0NGIwYmNmZDk3ZmQyM2E3NTI0MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xMzRmMzczMmNkYTY0NGIwYmNmZDk3ZmQyM2E3NTI0MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTM0ZjM3MzJjZGE2NDRiMGJjZmQ5N2ZkMjNhNzUyNDFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzEzNGYzNzMyY2RhNjQ0YjBiY2ZkOTdmZDIzYTc1MjQxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xMzRmMzczMmNkYTY0NGIwYmNmZDk3ZmQyM2E3NTI0MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82YTY5OTkyYWQxNjU0MGM5YTUwMWJhNjAxMmMzZTdhZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wZjcyOTZhYWFiNTY0YTMyYTRhMzE0OWNjMWJiZTY3YiA9ICQoYDxkaXYgaWQ9Imh0bWxfMGY3Mjk2YWFhYjU2NGEzMmE0YTMxNDljYzFiYmU2N2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULXZvbF9uZXh0XzIwMDRfMjQubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzZhNjk5OTJhZDE2NTQwYzlhNTAxYmE2MDEyYzNlN2FkLnNldENvbnRlbnQoaHRtbF8wZjcyOTZhYWFiNTY0YTMyYTRhMzE0OWNjMWJiZTY3Yik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzEzNGYzNzMyY2RhNjQ0YjBiY2ZkOTdmZDIzYTc1MjQxLmJpbmRQb3B1cChwb3B1cF82YTY5OTkyYWQxNjU0MGM5YTUwMWJhNjAxMmMzZTdhZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85MjdhMDFmOTUyMzA0YjkyYTNhMDUyNGRhNjk0NjlhN19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzkyN2EwMWY5NTIzMDRiOTJhM2EwNTI0ZGE2OTQ2OWE3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzkyN2EwMWY5NTIzMDRiOTJhM2EwNTI0ZGE2OTQ2OWE3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85MjdhMDFmOTUyMzA0YjkyYTNhMDUyNGRhNjk0NjlhN19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOTI3YTAxZjk1MjMwNGI5MmEzYTA1MjRkYTY5NDY5YTcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzkyN2EwMWY5NTIzMDRiOTJhM2EwNTI0ZGE2OTQ2OWE3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2YyOWQ2ZmVkMWVhNjQ2OTM4YWRmN2FmZWFkNTQwNjk4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2EzMjc4OTRhMmE3MDQ0OTBhZDdkNTc4NzVlZmFmNmE5ID0gJChgPGRpdiBpZD0iaHRtbF9hMzI3ODk0YTJhNzA0NDkwYWQ3ZDU3ODc1ZWZhZjZhOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1Qtdm9sXzIwMDRfMjMubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2YyOWQ2ZmVkMWVhNjQ2OTM4YWRmN2FmZWFkNTQwNjk4LnNldENvbnRlbnQoaHRtbF9hMzI3ODk0YTJhNzA0NDkwYWQ3ZDU3ODc1ZWZhZjZhOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzkyN2EwMWY5NTIzMDRiOTJhM2EwNTI0ZGE2OTQ2OWE3LmJpbmRQb3B1cChwb3B1cF9mMjlkNmZlZDFlYTY0NjkzOGFkZjdhZmVhZDU0MDY5OCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zNWZkMzMxNDBmZjk0MGMzOTVmZGY3ZGYzM2Q2Y2U4OV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzM1ZmQzMzE0MGZmOTQwYzM5NWZkZjdkZjMzZDZjZTg5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzM1ZmQzMzE0MGZmOTQwYzM5NWZkZjdkZjMzZDZjZTg5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zNWZkMzMxNDBmZjk0MGMzOTVmZGY3ZGYzM2Q2Y2U4OV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzVmZDMzMTQwZmY5NDBjMzk1ZmRmN2RmMzNkNmNlODkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzM1ZmQzMzE0MGZmOTQwYzM5NWZkZjdkZjMzZDZjZTg5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzJmYjMxY2MyNmVmODRhYWI4ZGNiYjRlNDlmZjQxOGFiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2MyNWI3OWNhNWFjMjRlZjZhNmJkYTZlMTIyZmFjNTczID0gJChgPGRpdiBpZD0iaHRtbF9jMjViNzljYTVhYzI0ZWY2YTZiZGE2ZTEyMmZhYzU3MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1Qtdm9sX25leHRfMjAxXzIwLm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yZmIzMWNjMjZlZjg0YWFiOGRjYmI0ZTQ5ZmY0MThhYi5zZXRDb250ZW50KGh0bWxfYzI1Yjc5Y2E1YWMyNGVmNmE2YmRhNmUxMjJmYWM1NzMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zNWZkMzMxNDBmZjk0MGMzOTVmZGY3ZGYzM2Q2Y2U4OS5iaW5kUG9wdXAocG9wdXBfMmZiMzFjYzI2ZWY4NGFhYjhkY2JiNGU0OWZmNDE4YWIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmU5NTQ5MTdlYzNiNDg3Yzk5MGY1NzIxMWU4NGQ3NmNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iZTk1NDkxN2VjM2I0ODdjOTkwZjU3MjExZTg0ZDc2YyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iZTk1NDkxN2VjM2I0ODdjOTkwZjU3MjExZTg0ZDc2Y19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmU5NTQ5MTdlYzNiNDg3Yzk5MGY1NzIxMWU4NGQ3NmNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2JlOTU0OTE3ZWMzYjQ4N2M5OTBmNTcyMTFlODRkNzZjLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iZTk1NDkxN2VjM2I0ODdjOTkwZjU3MjExZTg0ZDc2Y19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mYTkyOWVjZjBmNDU0ODhjOWQ4ZDk1YTM3MTgzZTYyNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iYzIyODZhNTMyOGQ0MTE1YjcyNTJiMDE2Y2ZhNWZkNSA9ICQoYDxkaXYgaWQ9Imh0bWxfYmMyMjg2YTUzMjhkNDExNWI3MjUyYjAxNmNmYTVmZDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULWN0cmxfMjAwNF8yMy5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmE5MjllY2YwZjQ1NDg4YzlkOGQ5NWEzNzE4M2U2Mjcuc2V0Q29udGVudChodG1sX2JjMjI4NmE1MzI4ZDQxMTViNzI1MmIwMTZjZmE1ZmQ1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYmU5NTQ5MTdlYzNiNDg3Yzk5MGY1NzIxMWU4NGQ3NmMuYmluZFBvcHVwKHBvcHVwX2ZhOTI5ZWNmMGY0NTQ4OGM5ZDhkOTVhMzcxODNlNjI3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRiMmQxMzc4ZWI1YTRhYjhhNGU3NDg2YjA4OGQxZTcwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNGIyZDEzNzhlYjVhNGFiOGE0ZTc0ODZiMDg4ZDFlNzAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNGIyZDEzNzhlYjVhNGFiOGE0ZTc0ODZiMDg4ZDFlNzBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRiMmQxMzc4ZWI1YTRhYjhhNGU3NDg2YjA4OGQxZTcwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80YjJkMTM3OGViNWE0YWI4YTRlNzQ4NmIwODhkMWU3MC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNGIyZDEzNzhlYjVhNGFiOGE0ZTc0ODZiMDg4ZDFlNzBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNGQyNDQzZjg2NWU1NGUzNmIwZWNjMmE1Y2I0NjMzYTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNGQ2MDlkMTAwOTQ4NGIyYzkzZjg1Nzc0Y2Y4MDBlM2IgPSAkKGA8ZGl2IGlkPSJodG1sXzRkNjA5ZDEwMDk0ODRiMmM5M2Y4NTc3NGNmODAwZTNiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQUkVDVC12b2xfbmV4dF83MzNfMTIubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzRkMjQ0M2Y4NjVlNTRlMzZiMGVjYzJhNWNiNDYzM2ExLnNldENvbnRlbnQoaHRtbF80ZDYwOWQxMDA5NDg0YjJjOTNmODU3NzRjZjgwMGUzYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzRiMmQxMzc4ZWI1YTRhYjhhNGU3NDg2YjA4OGQxZTcwLmJpbmRQb3B1cChwb3B1cF80ZDI0NDNmODY1ZTU0ZTM2YjBlY2MyYTVjYjQ2MzNhMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81MWViNTU1MjMyYjU0MDBkYjMzZjg3YzA2YWMzNmJmYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzUxZWI1NTUyMzJiNTQwMGRiMzNmODdjMDZhYzM2YmZhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzUxZWI1NTUyMzJiNTQwMGRiMzNmODdjMDZhYzM2YmZhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81MWViNTU1MjMyYjU0MDBkYjMzZjg3YzA2YWMzNmJmYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNTFlYjU1NTIzMmI1NDAwZGIzM2Y4N2MwNmFjMzZiZmEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzUxZWI1NTUyMzJiNTQwMGRiMzNmODdjMDZhYzM2YmZhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE3M2I2NTQ3MmE5MDRlMzNhYTY2YjgxZjVkMGE4OTIwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JkZWU4Mjc3YzMyNTQ0NGNiMTY1OGY2ZjM5ZmEwMjA0ID0gJChgPGRpdiBpZD0iaHRtbF9iZGVlODI3N2MzMjU0NDRjYjE2NThmNmYzOWZhMDIwNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1QtY3RybF8zMDFfMTkubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzE3M2I2NTQ3MmE5MDRlMzNhYTY2YjgxZjVkMGE4OTIwLnNldENvbnRlbnQoaHRtbF9iZGVlODI3N2MzMjU0NDRjYjE2NThmNmYzOWZhMDIwNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzUxZWI1NTUyMzJiNTQwMGRiMzNmODdjMDZhYzM2YmZhLmJpbmRQb3B1cChwb3B1cF8xNzNiNjU0NzJhOTA0ZTMzYWE2NmI4MWY1ZDBhODkyMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85NTc0NWYxZjU4NTc0OTliOThlMGI5Mzc1NDQ2ZWYzZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzk1NzQ1ZjFmNTg1NzQ5OWI5OGUwYjkzNzU0NDZlZjNkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzk1NzQ1ZjFmNTg1NzQ5OWI5OGUwYjkzNzU0NDZlZjNkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85NTc0NWYxZjU4NTc0OTliOThlMGI5Mzc1NDQ2ZWYzZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOTU3NDVmMWY1ODU3NDk5Yjk4ZTBiOTM3NTQ0NmVmM2QuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzk1NzQ1ZjFmNTg1NzQ5OWI5OGUwYjkzNzU0NDZlZjNkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzdkNTJjYTNmOWJhYzQxMzE4NGFhNGQ0NTZhNWIxZWQwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzBlOGRmN2E0YjQxNzQ1ZDJhOTE3MmM1ZDM5MDY4OWQzID0gJChgPGRpdiBpZD0iaHRtbF8wZThkZjdhNGI0MTc0NWQyYTkxNzJjNWQzOTA2ODlkMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1QtY3RybF9uZXh0XzYzM18xMy5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2Q1MmNhM2Y5YmFjNDEzMTg0YWE0ZDQ1NmE1YjFlZDAuc2V0Q29udGVudChodG1sXzBlOGRmN2E0YjQxNzQ1ZDJhOTE3MmM1ZDM5MDY4OWQzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTU3NDVmMWY1ODU3NDk5Yjk4ZTBiOTM3NTQ0NmVmM2QuYmluZFBvcHVwKHBvcHVwXzdkNTJjYTNmOWJhYzQxMzE4NGFhNGQ0NTZhNWIxZWQwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzNmMDliNjc1ZmIwNjRlNjlhYjc0NWQ2YTA0MzIyYjFkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fM2YwOWI2NzVmYjA2NGU2OWFiNzQ1ZDZhMDQzMjJiMWQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fM2YwOWI2NzVmYjA2NGU2OWFiNzQ1ZDZhMDQzMjJiMWRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzNmMDliNjc1ZmIwNjRlNjlhYjc0NWQ2YTA0MzIyYjFkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zZjA5YjY3NWZiMDY0ZTY5YWI3NDVkNmEwNDMyMmIxZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fM2YwOWI2NzVmYjA2NGU2OWFiNzQ1ZDZhMDQzMjJiMWRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZjI1ZTIxNDgyYTkwNGRmYmE3YjFiY2QxNTFiOGI0NTMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNTVkY2FiZGU4ZGM0NDljNDk5NWM0OTY5MzAxODMyYTUgPSAkKGA8ZGl2IGlkPSJodG1sXzU1ZGNhYmRlOGRjNDQ5YzQ5OTVjNDk2OTMwMTgzMmE1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQUkVDVC1jdHJsX25leHRfNjMzXzIwLm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mMjVlMjE0ODJhOTA0ZGZiYTdiMWJjZDE1MWI4YjQ1My5zZXRDb250ZW50KGh0bWxfNTVkY2FiZGU4ZGM0NDljNDk5NWM0OTY5MzAxODMyYTUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zZjA5YjY3NWZiMDY0ZTY5YWI3NDVkNmEwNDMyMmIxZC5iaW5kUG9wdXAocG9wdXBfZjI1ZTIxNDgyYTkwNGRmYmE3YjFiY2QxNTFiOGI0NTMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmUxMmRiYTU1YzgwNDMxYWIzZmZhZTRjNzg3MWJjNDdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yZTEyZGJhNTVjODA0MzFhYjNmZmFlNGM3ODcxYmM0NyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yZTEyZGJhNTVjODA0MzFhYjNmZmFlNGM3ODcxYmM0N19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmUxMmRiYTU1YzgwNDMxYWIzZmZhZTRjNzg3MWJjNDdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzJlMTJkYmE1NWM4MDQzMWFiM2ZmYWU0Yzc4NzFiYzQ3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yZTEyZGJhNTVjODA0MzFhYjNmZmFlNGM3ODcxYmM0N19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81ZmVjOTE5NTM5MjI0NzZmYTM0NDMzYTc4NDY5ODAzZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81MDhhZjI2YTEwMDQ0MTFhYjI1MGE2YjlmZjkyODUxNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNTA4YWYyNmExMDA0NDExYWIyNTBhNmI5ZmY5Mjg1MTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULWN0cmxfNzMzXzM1Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81ZmVjOTE5NTM5MjI0NzZmYTM0NDMzYTc4NDY5ODAzZS5zZXRDb250ZW50KGh0bWxfNTA4YWYyNmExMDA0NDExYWIyNTBhNmI5ZmY5Mjg1MTUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yZTEyZGJhNTVjODA0MzFhYjNmZmFlNGM3ODcxYmM0Ny5iaW5kUG9wdXAocG9wdXBfNWZlYzkxOTUzOTIyNDc2ZmEzNDQzM2E3ODQ2OTgwM2UpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDNiMjMxNzMyYTExNGEzMjk3Y2YyNDlmOWI5MGM0ODhfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80M2IyMzE3MzJhMTE0YTMyOTdjZjI0OWY5YjkwYzQ4OCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80M2IyMzE3MzJhMTE0YTMyOTdjZjI0OWY5YjkwYzQ4OF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDNiMjMxNzMyYTExNGEzMjk3Y2YyNDlmOWI5MGM0ODhfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQzYjIzMTczMmExMTRhMzI5N2NmMjQ5ZjliOTBjNDg4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80M2IyMzE3MzJhMTE0YTMyOTdjZjI0OWY5YjkwYzQ4OF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wYmVhMDE5OTkwN2E0NTFjODU3ZTUyNTY5MTI4OTQyNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85YTU1MzA3YzJlOTE0Y2RmOGRkZDFiYTY3MTU2MjMwNSA9ICQoYDxkaXYgaWQ9Imh0bWxfOWE1NTMwN2MyZTkxNGNkZjhkZGQxYmE2NzE1NjIzMDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULXZvbF9uZXh0XzYzM18xMy5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMGJlYTAxOTk5MDdhNDUxYzg1N2U1MjU2OTEyODk0Mjcuc2V0Q29udGVudChodG1sXzlhNTUzMDdjMmU5MTRjZGY4ZGRkMWJhNjcxNTYyMzA1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNDNiMjMxNzMyYTExNGEzMjk3Y2YyNDlmOWI5MGM0ODguYmluZFBvcHVwKHBvcHVwXzBiZWEwMTk5OTA3YTQ1MWM4NTdlNTI1NjkxMjg5NDI3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzk0Mzg4ZWEwMzJhZDRkN2VhZDQ1YzNmZTM1NTIwOGMxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOTQzODhlYTAzMmFkNGQ3ZWFkNDVjM2ZlMzU1MjA4YzEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOTQzODhlYTAzMmFkNGQ3ZWFkNDVjM2ZlMzU1MjA4YzFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzk0Mzg4ZWEwMzJhZDRkN2VhZDQ1YzNmZTM1NTIwOGMxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85NDM4OGVhMDMyYWQ0ZDdlYWQ0NWMzZmUzNTUyMDhjMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOTQzODhlYTAzMmFkNGQ3ZWFkNDVjM2ZlMzU1MjA4YzFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMDMxMmExOWRmYmFiNDUzMzhiNjA2MTY0OThiOWE5YTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNmRkZWI1ZmI4MGMwNDUwYWEwZTEyOTA4OGU1ZGU1YmIgPSAkKGA8ZGl2IGlkPSJodG1sXzZkZGViNWZiODBjMDQ1MGFhMGUxMjkwODhlNWRlNWJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQUkVDVC12b2xfNzMzXzI3Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wMzEyYTE5ZGZiYWI0NTMzOGI2MDYxNjQ5OGI5YTlhMS5zZXRDb250ZW50KGh0bWxfNmRkZWI1ZmI4MGMwNDUwYWEwZTEyOTA4OGU1ZGU1YmIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85NDM4OGVhMDMyYWQ0ZDdlYWQ0NWMzZmUzNTUyMDhjMS5iaW5kUG9wdXAocG9wdXBfMDMxMmExOWRmYmFiNDUzMzhiNjA2MTY0OThiOWE5YTEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTVhZDlhNTEzNGJkNGM1Mzg1Nzg0MmIwNjU2MWQ2NWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85NWFkOWE1MTM0YmQ0YzUzODU3ODQyYjA2NTYxZDY1YSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85NWFkOWE1MTM0YmQ0YzUzODU3ODQyYjA2NTYxZDY1YV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTVhZDlhNTEzNGJkNGM1Mzg1Nzg0MmIwNjU2MWQ2NWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzk1YWQ5YTUxMzRiZDRjNTM4NTc4NDJiMDY1NjFkNjVhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85NWFkOWE1MTM0YmQ0YzUzODU3ODQyYjA2NTYxZDY1YV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zZWZiZmQ3NzlhZDM0MGIyOWVhNjJhMTI2ZjVhNDRkOCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85MzhhMGM0YThlMmQ0ODA2ODlkMDJkYWE0ZjlmNTcwYyA9ICQoYDxkaXYgaWQ9Imh0bWxfOTM4YTBjNGE4ZTJkNDgwNjg5ZDAyZGFhNGY5ZjU3MGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULXZvbF83MzNfMzUubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNlZmJmZDc3OWFkMzQwYjI5ZWE2MmExMjZmNWE0NGQ4LnNldENvbnRlbnQoaHRtbF85MzhhMGM0YThlMmQ0ODA2ODlkMDJkYWE0ZjlmNTcwYyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzk1YWQ5YTUxMzRiZDRjNTM4NTc4NDJiMDY1NjFkNjVhLmJpbmRQb3B1cChwb3B1cF8zZWZiZmQ3NzlhZDM0MGIyOWVhNjJhMTI2ZjVhNDRkOCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNmViYTBkM2JhM2E0MWRiOGYwNDg0M2ExNDk1MWZjOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y2ZWJhMGQzYmEzYTQxZGI4ZjA0ODQzYTE0OTUxZmM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y2ZWJhMGQzYmEzYTQxZGI4ZjA0ODQzYTE0OTUxZmM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNmViYTBkM2JhM2E0MWRiOGYwNDg0M2ExNDk1MWZjOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjZlYmEwZDNiYTNhNDFkYjhmMDQ4NDNhMTQ5NTFmYzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y2ZWJhMGQzYmEzYTQxZGI4ZjA0ODQzYTE0OTUxZmM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBlNTE0NjNkOTU1YTQxOWRhYWI5MzU5NTk3YWE2YmRhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2MwY2UwYTM2ZTM3NjRjZmRhNWQ3NDljNTRiOGMwNWFlID0gJChgPGRpdiBpZD0iaHRtbF9jMGNlMGEzNmUzNzY0Y2ZkYTVkNzQ5YzU0YjhjMDVhZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1QtY3RybF9uZXh0XzIwMDRfMTIubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzBlNTE0NjNkOTU1YTQxOWRhYWI5MzU5NTk3YWE2YmRhLnNldENvbnRlbnQoaHRtbF9jMGNlMGEzNmUzNzY0Y2ZkYTVkNzQ5YzU0YjhjMDVhZSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Y2ZWJhMGQzYmEzYTQxZGI4ZjA0ODQzYTE0OTUxZmM4LmJpbmRQb3B1cChwb3B1cF8wZTUxNDYzZDk1NWE0MTlkYWFiOTM1OTU5N2FhNmJkYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ZDYwMThlZDNlYjI0MTYyOTNmZGIwNWY3NzkyNjZmY19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzhkNjAxOGVkM2ViMjQxNjI5M2ZkYjA1Zjc3OTI2NmZjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzhkNjAxOGVkM2ViMjQxNjI5M2ZkYjA1Zjc3OTI2NmZjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ZDYwMThlZDNlYjI0MTYyOTNmZGIwNWY3NzkyNjZmY19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOGQ2MDE4ZWQzZWIyNDE2MjkzZmRiMDVmNzc5MjY2ZmMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzhkNjAxOGVkM2ViMjQxNjI5M2ZkYjA1Zjc3OTI2NmZjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzY0YjJjMmFiNTliMTQ5YTE4M2E2ZWJjNmY5NTE1NGNjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzVhZDY3ODA4NDIyNTQxZjM5MjAyNDhhNDAwMTA0YTY3ID0gJChgPGRpdiBpZD0iaHRtbF81YWQ2NzgwODQyMjU0MWYzOTIwMjQ4YTQwMDEwNGE2NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1Qtdm9sXzMwMV8xOS5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjRiMmMyYWI1OWIxNDlhMTgzYTZlYmM2Zjk1MTU0Y2Muc2V0Q29udGVudChodG1sXzVhZDY3ODA4NDIyNTQxZjM5MjAyNDhhNDAwMTA0YTY3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOGQ2MDE4ZWQzZWIyNDE2MjkzZmRiMDVmNzc5MjY2ZmMuYmluZFBvcHVwKHBvcHVwXzY0YjJjMmFiNTliMTQ5YTE4M2E2ZWJjNmY5NTE1NGNjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2M4ZjNlY2Q5YmIwMTQ0Y2Q5YmFlYjU0NjVhZDI1OWViX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYzhmM2VjZDliYjAxNDRjZDliYWViNTQ2NWFkMjU5ZWIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYzhmM2VjZDliYjAxNDRjZDliYWViNTQ2NWFkMjU5ZWJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2M4ZjNlY2Q5YmIwMTQ0Y2Q5YmFlYjU0NjVhZDI1OWViX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jOGYzZWNkOWJiMDE0NGNkOWJhZWI1NDY1YWQyNTllYi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYzhmM2VjZDliYjAxNDRjZDliYWViNTQ2NWFkMjU5ZWJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDUuNzQwODkyNzM2OGUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjUyYWRmYzFiNTY1NDU1YjkxM2M4ZjdhNDY4OTUwYTkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDEzYThkZDA1ODk0NGI3YTgwZmYxYjVkYmU4ODIxOWIgPSAkKGA8ZGl2IGlkPSJodG1sX2QxM2E4ZGQwNTg5NDRiN2E4MGZmMWI1ZGJlODgyMTliIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQUkVDVC1jdHJsX25leHRfMTAxXzE3Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iNTJhZGZjMWI1NjU0NTViOTEzYzhmN2E0Njg5NTBhOS5zZXRDb250ZW50KGh0bWxfZDEzYThkZDA1ODk0NGI3YTgwZmYxYjVkYmU4ODIxOWIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jOGYzZWNkOWJiMDE0NGNkOWJhZWI1NDY1YWQyNTllYi5iaW5kUG9wdXAocG9wdXBfYjUyYWRmYzFiNTY1NDU1YjkxM2M4ZjdhNDY4OTUwYTkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTk1NzIwY2M5ZTA3NDZlZmE0Y2MzNjM0NDcyNDdjMjJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xOTU3MjBjYzllMDc0NmVmYTRjYzM2MzQ0NzI0N2MyMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xOTU3MjBjYzllMDc0NmVmYTRjYzM2MzQ0NzI0N2MyMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTk1NzIwY2M5ZTA3NDZlZmE0Y2MzNjM0NDcyNDdjMjJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzE5NTcyMGNjOWUwNzQ2ZWZhNGNjMzYzNDQ3MjQ3YzIyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xOTU3MjBjYzllMDc0NmVmYTRjYzM2MzQ0NzI0N2MyMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83MmMzNGNlNWJlYzI0OTQ5OTQ4NjE0M2IyMjQ0NTZjYiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kYTNlMjc0NTM2NmE0NWZlYjczZDVhN2JiNzk3YjlmYiA9ICQoYDxkaXYgaWQ9Imh0bWxfZGEzZTI3NDUzNjZhNDVmZWI3M2Q1YTdiYjc5N2I5ZmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULWN0cmxfbmV4dF8yMDFfMjAubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzcyYzM0Y2U1YmVjMjQ5NDk5NDg2MTQzYjIyNDQ1NmNiLnNldENvbnRlbnQoaHRtbF9kYTNlMjc0NTM2NmE0NWZlYjczZDVhN2JiNzk3YjlmYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzE5NTcyMGNjOWUwNzQ2ZWZhNGNjMzYzNDQ3MjQ3YzIyLmJpbmRQb3B1cChwb3B1cF83MmMzNGNlNWJlYzI0OTQ5OTQ4NjE0M2IyMjQ0NTZjYikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYTBlNzZiYzM0MmY0M2FkYWY5NmU0OThiOWMzN2NkM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzJhMGU3NmJjMzQyZjQzYWRhZjk2ZTQ5OGI5YzM3Y2QzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzJhMGU3NmJjMzQyZjQzYWRhZjk2ZTQ5OGI5YzM3Y2QzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYTBlNzZiYzM0MmY0M2FkYWY5NmU0OThiOWMzN2NkM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMmEwZTc2YmMzNDJmNDNhZGFmOTZlNDk4YjljMzdjZDMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzJhMGU3NmJjMzQyZjQzYWRhZjk2ZTQ5OGI5YzM3Y2QzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2JiOGY2YzBmYTZhNDQzMjk5MmNlMDg5NGQ0NmJjOGI4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2I2OGFiNTNkYWMyZjRjYmM5M2UxZTI3ZDA5N2MxZTM2ID0gJChgPGRpdiBpZD0iaHRtbF9iNjhhYjUzZGFjMmY0Y2JjOTNlMWUyN2QwOTdjMWUzNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1Qtdm9sX25leHRfNjMzXzIwLm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iYjhmNmMwZmE2YTQ0MzI5OTJjZTA4OTRkNDZiYzhiOC5zZXRDb250ZW50KGh0bWxfYjY4YWI1M2RhYzJmNGNiYzkzZTFlMjdkMDk3YzFlMzYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yYTBlNzZiYzM0MmY0M2FkYWY5NmU0OThiOWMzN2NkMy5iaW5kUG9wdXAocG9wdXBfYmI4ZjZjMGZhNmE0NDMyOTkyY2UwODk0ZDQ2YmM4YjgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDgwOTFhMTVjMmZhNDIxN2E5OTViZDM3YTRhMzcwMjhfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kODA5MWExNWMyZmE0MjE3YTk5NWJkMzdhNGEzNzAyOCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kODA5MWExNWMyZmE0MjE3YTk5NWJkMzdhNGEzNzAyOF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDgwOTFhMTVjMmZhNDIxN2E5OTViZDM3YTRhMzcwMjhfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Q4MDkxYTE1YzJmYTQyMTdhOTk1YmQzN2E0YTM3MDI4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kODA5MWExNWMyZmE0MjE3YTk5NWJkMzdhNGEzNzAyOF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yN2RjOWQ5ZjA4Yjg0YzE0YmE5ZjIwM2U3MDkxODRiNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xNzZlODE1MDAwZDU0ZTllYThlNjY3Y2YyMzYzZDMxNSA9ICQoYDxkaXYgaWQ9Imh0bWxfMTc2ZTgxNTAwMGQ1NGU5ZWE4ZTY2N2NmMjM2M2QzMTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGNsaW1hdG9sb2d5Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yN2RjOWQ5ZjA4Yjg0YzE0YmE5ZjIwM2U3MDkxODRiNy5zZXRDb250ZW50KGh0bWxfMTc2ZTgxNTAwMGQ1NGU5ZWE4ZTY2N2NmMjM2M2QzMTUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9kODA5MWExNWMyZmE0MjE3YTk5NWJkMzdhNGEzNzAyOC5iaW5kUG9wdXAocG9wdXBfMjdkYzlkOWYwOGI4NGMxNGJhOWYyMDNlNzA5MTg0YjcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDUyZGFjYWNkZDI2NGE4ZTk4MDYxMWY4YTFhZTg5NDlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kNTJkYWNhY2RkMjY0YThlOTgwNjExZjhhMWFlODk0OSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kNTJkYWNhY2RkMjY0YThlOTgwNjExZjhhMWFlODk0OV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDUyZGFjYWNkZDI2NGE4ZTk4MDYxMWY4YTFhZTg5NDlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Q1MmRhY2FjZGQyNjRhOGU5ODA2MTFmOGExYWU4OTQ5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kNTJkYWNhY2RkMjY0YThlOTgwNjExZjhhMWFlODk0OV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV0sIFsxMjkuMzc1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1OS4zNzY1MDc4NzUwMzU5XSwgWzg4LjEyNSwgNS43NDA4OTI3MzY4ZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85N2YwNjg0NDRhZWI0NmEzOTU4NDMxYjg3MmVlOGNkOCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84YzUwNDA2ZDM4M2U0NDFhOTBhMjE0OWFiODdlZTQ2OCA9ICQoYDxkaXYgaWQ9Imh0bWxfOGM1MDQwNmQzODNlNDQxYTkwYTIxNDlhYjg3ZWU0NjgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFBSRUNULXZvbF9uZXh0XzIwMDRfMTIubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzk3ZjA2ODQ0NGFlYjQ2YTM5NTg0MzFiODcyZWU4Y2Q4LnNldENvbnRlbnQoaHRtbF84YzUwNDA2ZDM4M2U0NDFhOTBhMjE0OWFiODdlZTQ2OCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Q1MmRhY2FjZGQyNjRhOGU5ODA2MTFmOGExYWU4OTQ5LmJpbmRQb3B1cChwb3B1cF85N2YwNjg0NDRhZWI0NmEzOTU4NDMxYjg3MmVlOGNkOCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kOTk4ZTc5YjUyYjI0MmRiODhkNDkxY2M1Y2U2YmRlZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Q5OThlNzliNTJiMjQyZGI4OGQ0OTFjYzVjZTZiZGVmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Q5OThlNzliNTJiMjQyZGI4OGQ0OTFjYzVjZTZiZGVmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kOTk4ZTc5YjUyYjI0MmRiODhkNDkxY2M1Y2U2YmRlZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDk5OGU3OWI1MmIyNDJkYjg4ZDQ5MWNjNWNlNmJkZWYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Q5OThlNzliNTJiMjQyZGI4OGQ0OTFjYzVjZTZiZGVmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzZkMjMwODUwNTM1NTRhZGRiNzBiNWU0ZjNjZjVmNmMyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzNjYmFhMzg4NjNjZTRlNTY5Mzk4ODNhZTg5OTdhYTVhID0gJChgPGRpdiBpZD0iaHRtbF8zY2JhYTM4ODYzY2U0ZTU2OTM5ODgzYWU4OTk3YWE1YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1Qtdm9sX25leHRfbmV4dF8yMDFfMjkubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzZkMjMwODUwNTM1NTRhZGRiNzBiNWU0ZjNjZjVmNmMyLnNldENvbnRlbnQoaHRtbF8zY2JhYTM4ODYzY2U0ZTU2OTM5ODgzYWU4OTk3YWE1YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Q5OThlNzliNTJiMjQyZGI4OGQ0OTFjYzVjZTZiZGVmLmJpbmRQb3B1cChwb3B1cF82ZDIzMDg1MDUzNTU0YWRkYjcwYjVlNGYzY2Y1ZjZjMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lNzM2ODhmZGE2ZDA0MTNmYWE1ODE4Yzc0M2I2YWFkM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2U3MzY4OGZkYTZkMDQxM2ZhYTU4MThjNzQzYjZhYWQzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2U3MzY4OGZkYTZkMDQxM2ZhYTU4MThjNzQzYjZhYWQzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lNzM2ODhmZGE2ZDA0MTNmYWE1ODE4Yzc0M2I2YWFkM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZTczNjg4ZmRhNmQwNDEzZmFhNTgxOGM3NDNiNmFhZDMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2U3MzY4OGZkYTZkMDQxM2ZhYTU4MThjNzQzYjZhYWQzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzAxYmIzODMxZjcxNTQyYjZhNTc5ZmU0NjA1YWFhZjk0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2RlOGExY2RhMDczMzQzNmQ4ZmEzNTNiYWUxNWRhYmE2ID0gJChgPGRpdiBpZD0iaHRtbF9kZThhMWNkYTA3MzM0MzZkOGZhMzUzYmFlMTVkYWJhNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1QtY3RybF8xMDFfMzQubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzAxYmIzODMxZjcxNTQyYjZhNTc5ZmU0NjA1YWFhZjk0LnNldENvbnRlbnQoaHRtbF9kZThhMWNkYTA3MzM0MzZkOGZhMzUzYmFlMTVkYWJhNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2U3MzY4OGZkYTZkMDQxM2ZhYTU4MThjNzQzYjZhYWQzLmJpbmRQb3B1cChwb3B1cF8wMWJiMzgzMWY3MTU0MmI2YTU3OWZlNDYwNWFhYWY5NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mYTVhN2Q4M2QzNGE0MjhmOGQyMDI2YTI0YWZkMzUyY19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2ZhNWE3ZDgzZDM0YTQyOGY4ZDIwMjZhMjRhZmQzNTJjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2ZhNWE3ZDgzZDM0YTQyOGY4ZDIwMjZhMjRhZmQzNTJjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mYTVhN2Q4M2QzNGE0MjhmOGQyMDI2YTI0YWZkMzUyY19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZmE1YTdkODNkMzRhNDI4ZjhkMjAyNmEyNGFmZDM1MmMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2ZhNWE3ZDgzZDM0YTQyOGY4ZDIwMjZhMjRhZmQzNTJjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XSwgWzEyOS4zNzUsIDUuNzQwODkyNzM2OGUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA3ODc1MDM1OV0sIFs4OC4xMjUsIDU5LjM3NjUwNzg3NTAzNTldLCBbODguMTI1LCA1Ljc0MDg5MjczNjhlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2Y3MjdjNGMyNGJkYzQwN2JiYzNlODZjMmRhNzExODRlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2EyZWRmZjkyYTI4ODQxMjE4ZDFjNzY1ZDhhMTcxMDJhID0gJChgPGRpdiBpZD0iaHRtbF9hMmVkZmY5MmEyODg0MTIxOGQxYzc2NWQ4YTE3MTAyYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUFJFQ1QtY3RybF8zMDFfMzIubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Y3MjdjNGMyNGJkYzQwN2JiYzNlODZjMmRhNzExODRlLnNldENvbnRlbnQoaHRtbF9hMmVkZmY5MmEyODg0MTIxOGQxYzc2NWQ4YTE3MTAyYSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2ZhNWE3ZDgzZDM0YTQyOGY4ZDIwMjZhMjRhZmQzNTJjLmJpbmRQb3B1cChwb3B1cF9mNzI3YzRjMjRiZGM0MDdiYmMzZTg2YzJkYTcxMTg0ZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMjJjMTQzY2Q2M2Y0MDY1OGJjMWM5N2EyZWUxZmVlYl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzMyMmMxNDNjZDYzZjQwNjU4YmMxYzk3YTJlZTFmZWViID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzMyMmMxNDNjZDYzZjQwNjU4YmMxYzk3YTJlZTFmZWViX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMjJjMTQzY2Q2M2Y0MDY1OGJjMWM5N2EyZWUxZmVlYl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzIyYzE0M2NkNjNmNDA2NThiYzFjOTdhMmVlMWZlZWIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzMyMmMxNDNjZDYzZjQwNjU4YmMxYzk3YTJlZTFmZWViX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2RmYTEwYTk5YzY2NzQ2NzZiMmUwZDM5YzcxNGQyZTBiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzdlNDQwNTYwYThlZjQ2Y2VhODc2NTY5ZDQ4NDE4NzliID0gJChgPGRpdiBpZD0iaHRtbF83ZTQ0MDU2MGE4ZWY0NmNlYTg3NjU2OWQ0ODQxODc5YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU09JTC12b2xfbmV4dF9uZXh0XzIwMV8yOS5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZGZhMTBhOTljNjY3NDY3NmIyZTBkMzljNzE0ZDJlMGIuc2V0Q29udGVudChodG1sXzdlNDQwNTYwYThlZjQ2Y2VhODc2NTY5ZDQ4NDE4NzliKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzIyYzE0M2NkNjNmNDA2NThiYzFjOTdhMmVlMWZlZWIuYmluZFBvcHVwKHBvcHVwX2RmYTEwYTk5YzY2NzQ2NzZiMmUwZDM5YzcxNGQyZTBiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM3NGY1MDEzZjBjZDRmZDJhZWJiNGQ1YTE1NWZhNmU0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzc0ZjUwMTNmMGNkNGZkMmFlYmI0ZDVhMTU1ZmE2ZTQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzc0ZjUwMTNmMGNkNGZkMmFlYmI0ZDVhMTU1ZmE2ZTRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM3NGY1MDEzZjBjZDRmZDJhZWJiNGQ1YTE1NWZhNmU0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zNzRmNTAxM2YwY2Q0ZmQyYWViYjRkNWExNTVmYTZlNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzc0ZjUwMTNmMGNkNGZkMmFlYmI0ZDVhMTU1ZmE2ZTRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTY1ODgxMjA4YmNkNDhmNGEzNDM1ZDQ2ODg4YTk1N2QgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDU2ZGI3NzdhZTMyNGEzMWExMjBjMjg5NTY2MjE1NGEgPSAkKGA8ZGl2IGlkPSJodG1sX2Q1NmRiNzc3YWUzMjRhMzFhMTIwYzI4OTU2NjIxNTRhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTT0lMLXZvbF9uZXh0XzIwMDRfMTIubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2U2NTg4MTIwOGJjZDQ4ZjRhMzQzNWQ0Njg4OGE5NTdkLnNldENvbnRlbnQoaHRtbF9kNTZkYjc3N2FlMzI0YTMxYTEyMGMyODk1NjYyMTU0YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzM3NGY1MDEzZjBjZDRmZDJhZWJiNGQ1YTE1NWZhNmU0LmJpbmRQb3B1cChwb3B1cF9lNjU4ODEyMDhiY2Q0OGY0YTM0MzVkNDY4ODhhOTU3ZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80NmZmZmI4YjU1ZjY0YTBmYjBiM2Q1OTc2NjAyYzFjZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzQ2ZmZmYjhiNTVmNjRhMGZiMGIzZDU5NzY2MDJjMWNkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzQ2ZmZmYjhiNTVmNjRhMGZiMGIzZDU5NzY2MDJjMWNkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80NmZmZmI4YjU1ZjY0YTBmYjBiM2Q1OTc2NjAyYzFjZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNDZmZmZiOGI1NWY2NGEwZmIwYjNkNTk3NjYwMmMxY2QuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzQ2ZmZmYjhiNTVmNjRhMGZiMGIzZDU5NzY2MDJjMWNkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2U4ZTM3MTIxNTMwMjQ3NDE4YzMyMWM1MDA2MzMzNTY4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2YxNDk4NTFhZDkwYzQxMGFiOWVmOWI4NjFkZmQ0ZDljID0gJChgPGRpdiBpZD0iaHRtbF9mMTQ5ODUxYWQ5MGM0MTBhYjllZjliODYxZGZkNGQ5YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU09JTC12b2xfMTAxXzM0Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lOGUzNzEyMTUzMDI0NzQxOGMzMjFjNTAwNjMzMzU2OC5zZXRDb250ZW50KGh0bWxfZjE0OTg1MWFkOTBjNDEwYWI5ZWY5Yjg2MWRmZDRkOWMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl80NmZmZmI4YjU1ZjY0YTBmYjBiM2Q1OTc2NjAyYzFjZC5iaW5kUG9wdXAocG9wdXBfZThlMzcxMjE1MzAyNDc0MThjMzIxYzUwMDYzMzM1NjgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjRmYjBhMjk0MGZlNGEyY2FjNDViNTg1OTVlNjVlYWVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82NGZiMGEyOTQwZmU0YTJjYWM0NWI1ODU5NWU2NWVhZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82NGZiMGEyOTQwZmU0YTJjYWM0NWI1ODU5NWU2NWVhZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjRmYjBhMjk0MGZlNGEyY2FjNDViNTg1OTVlNjVlYWVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzY0ZmIwYTI5NDBmZTRhMmNhYzQ1YjU4NTk1ZTY1ZWFlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82NGZiMGEyOTQwZmU0YTJjYWM0NWI1ODU5NWU2NWVhZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wMGI4MDFiODJiNjE0M2EwOTBmODMzYzY5N2RlYjRjOCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xYjA4YjVhNWExOTg0NTUwYmVhZjI4MWY5Y2FlNzhmZiA9ICQoYDxkaXYgaWQ9Imh0bWxfMWIwOGI1YTVhMTk4NDU1MGJlYWYyODFmOWNhZTc4ZmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNPSUwtdm9sX25leHRfMjAxXzIwLm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wMGI4MDFiODJiNjE0M2EwOTBmODMzYzY5N2RlYjRjOC5zZXRDb250ZW50KGh0bWxfMWIwOGI1YTVhMTk4NDU1MGJlYWYyODFmOWNhZTc4ZmYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82NGZiMGEyOTQwZmU0YTJjYWM0NWI1ODU5NWU2NWVhZS5iaW5kUG9wdXAocG9wdXBfMDBiODAxYjgyYjYxNDNhMDkwZjgzM2M2OTdkZWI0YzgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNGI0ZTBhZTA4OTEzNDEyNjhiMGU1MDRiZTE1NGM1NTdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80YjRlMGFlMDg5MTM0MTI2OGIwZTUwNGJlMTU0YzU1NyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80YjRlMGFlMDg5MTM0MTI2OGIwZTUwNGJlMTU0YzU1N19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNGI0ZTBhZTA4OTEzNDEyNjhiMGU1MDRiZTE1NGM1NTdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzRiNGUwYWUwODkxMzQxMjY4YjBlNTA0YmUxNTRjNTU3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80YjRlMGFlMDg5MTM0MTI2OGIwZTUwNGJlMTU0YzU1N19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80MzhiZjUwYjY0OGI0NjZiOWEzMWE4YjIzNWNmNTk1YyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hNWNmNDMzNjkyZTU0YjM1OGEyMjQ4YzRiOTE2ZWE2YSA9ICQoYDxkaXYgaWQ9Imh0bWxfYTVjZjQzMzY5MmU1NGIzNThhMjI0OGM0YjkxNmVhNmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNPSUwtdm9sXzczM18yNy5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDM4YmY1MGI2NDhiNDY2YjlhMzFhOGIyMzVjZjU5NWMuc2V0Q29udGVudChodG1sX2E1Y2Y0MzM2OTJlNTRiMzU4YTIyNDhjNGI5MTZlYTZhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGI0ZTBhZTA4OTEzNDEyNjhiMGU1MDRiZTE1NGM1NTcuYmluZFBvcHVwKHBvcHVwXzQzOGJmNTBiNjQ4YjQ2NmI5YTMxYThiMjM1Y2Y1OTVjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVmYmEyODk2NTljZTRlNTQ4Zjc1ZWZjNTNiOTNhMzc3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNWZiYTI4OTY1OWNlNGU1NDhmNzVlZmM1M2I5M2EzNzcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNWZiYTI4OTY1OWNlNGU1NDhmNzVlZmM1M2I5M2EzNzdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVmYmEyODk2NTljZTRlNTQ4Zjc1ZWZjNTNiOTNhMzc3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81ZmJhMjg5NjU5Y2U0ZTU0OGY3NWVmYzUzYjkzYTM3Ny5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNWZiYTI4OTY1OWNlNGU1NDhmNzVlZmM1M2I5M2EzNzdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOTY3ZTA1NjJmMWM4NDVmOTlkMWYzYzEyYjFiNmMxMmMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjNlYzJmMjUwYTNhNDNhMjkwZjNiMGQ4MjY5NzE0ZjAgPSAkKGA8ZGl2IGlkPSJodG1sXzIzZWMyZjI1MGEzYTQzYTI5MGYzYjBkODI2OTcxNGYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTT0lMLXZvbF82MzNfMTQubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzk2N2UwNTYyZjFjODQ1Zjk5ZDFmM2MxMmIxYjZjMTJjLnNldENvbnRlbnQoaHRtbF8yM2VjMmYyNTBhM2E0M2EyOTBmM2IwZDgyNjk3MTRmMCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzVmYmEyODk2NTljZTRlNTQ4Zjc1ZWZjNTNiOTNhMzc3LmJpbmRQb3B1cChwb3B1cF85NjdlMDU2MmYxYzg0NWY5OWQxZjNjMTJiMWI2YzEyYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80OThjNWI5NzRjNjU0YzhkYjBiY2ZlNDkyMGU4NGFmM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzQ5OGM1Yjk3NGM2NTRjOGRiMGJjZmU0OTIwZTg0YWYzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzQ5OGM1Yjk3NGM2NTRjOGRiMGJjZmU0OTIwZTg0YWYzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80OThjNWI5NzRjNjU0YzhkYjBiY2ZlNDkyMGU4NGFmM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNDk4YzViOTc0YzY1NGM4ZGIwYmNmZTQ5MjBlODRhZjMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzQ5OGM1Yjk3NGM2NTRjOGRiMGJjZmU0OTIwZTg0YWYzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzIzOGJmZGYzYWY2OTRlMjU5YjY3OTA1ZGJjZDdkZWNhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzFhM2RkZmRmOWUwMjQ3N2NiYTBkZGUzZmNhMzdiMTIwID0gJChgPGRpdiBpZD0iaHRtbF8xYTNkZGZkZjllMDI0NzdjYmEwZGRlM2ZjYTM3YjEyMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU09JTC12b2xfbmV4dF83MzNfMTIubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzIzOGJmZGYzYWY2OTRlMjU5YjY3OTA1ZGJjZDdkZWNhLnNldENvbnRlbnQoaHRtbF8xYTNkZGZkZjllMDI0NzdjYmEwZGRlM2ZjYTM3YjEyMCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQ5OGM1Yjk3NGM2NTRjOGRiMGJjZmU0OTIwZTg0YWYzLmJpbmRQb3B1cChwb3B1cF8yMzhiZmRmM2FmNjk0ZTI1OWI2NzkwNWRiY2Q3ZGVjYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yOGFkMzIzMzBiNjI0Yjc4YjVjMDIyYmI1ZTYzZGNmNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzI4YWQzMjMzMGI2MjRiNzhiNWMwMjJiYjVlNjNkY2Y1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzI4YWQzMjMzMGI2MjRiNzhiNWMwMjJiYjVlNjNkY2Y1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yOGFkMzIzMzBiNjI0Yjc4YjVjMDIyYmI1ZTYzZGNmNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMjhhZDMyMzMwYjYyNGI3OGI1YzAyMmJiNWU2M2RjZjUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzI4YWQzMjMzMGI2MjRiNzhiNWMwMjJiYjVlNjNkY2Y1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2YyOGJjY2M1NGFiNDRkZjRhMDgwNWNkY2VjNGZjZDYyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzA3NjJhMDIzNzUyMzRiYWE5YmU5NTdiMmFlOGU5YzE0ID0gJChgPGRpdiBpZD0iaHRtbF8wNzYyYTAyMzc1MjM0YmFhOWJlOTU3YjJhZThlOWMxNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU09JTC12b2xfNzMzXzM1Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mMjhiY2NjNTRhYjQ0ZGY0YTA4MDVjZGNlYzRmY2Q2Mi5zZXRDb250ZW50KGh0bWxfMDc2MmEwMjM3NTIzNGJhYTliZTk1N2IyYWU4ZTljMTQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yOGFkMzIzMzBiNjI0Yjc4YjVjMDIyYmI1ZTYzZGNmNS5iaW5kUG9wdXAocG9wdXBfZjI4YmNjYzU0YWI0NGRmNGEwODA1Y2RjZWM0ZmNkNjIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzliZjdjZTk3NThmNGQ5MGE3YzEwZWM3MTdlMDViMWZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jOWJmN2NlOTc1OGY0ZDkwYTdjMTBlYzcxN2UwNWIxZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jOWJmN2NlOTc1OGY0ZDkwYTdjMTBlYzcxN2UwNWIxZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzliZjdjZTk3NThmNGQ5MGE3YzEwZWM3MTdlMDViMWZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2M5YmY3Y2U5NzU4ZjRkOTBhN2MxMGVjNzE3ZTA1YjFmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jOWJmN2NlOTc1OGY0ZDkwYTdjMTBlYzcxN2UwNWIxZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wZTY4MThkNzQwNTg0Y2M0YmFjMWNmZWIxMThiNDg5ZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82YWM3ODc2MGY1NzY0NmE1ODc5YmUxNjk5ZTY1YTdiYSA9ICQoYDxkaXYgaWQ9Imh0bWxfNmFjNzg3NjBmNTc2NDZhNTg3OWJlMTY5OWU2NWE3YmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNPSUwtdm9sX25leHRfNjMzXzIwLm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wZTY4MThkNzQwNTg0Y2M0YmFjMWNmZWIxMThiNDg5ZS5zZXRDb250ZW50KGh0bWxfNmFjNzg3NjBmNTc2NDZhNTg3OWJlMTY5OWU2NWE3YmEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jOWJmN2NlOTc1OGY0ZDkwYTdjMTBlYzcxN2UwNWIxZi5iaW5kUG9wdXAocG9wdXBfMGU2ODE4ZDc0MDU4NGNjNGJhYzFjZmViMTE4YjQ4OWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTQ0NzY0MzgxYmQwNGI2MGFlNDYxMzBkMTBjOTU0ZjVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85NDQ3NjQzODFiZDA0YjYwYWU0NjEzMGQxMGM5NTRmNSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85NDQ3NjQzODFiZDA0YjYwYWU0NjEzMGQxMGM5NTRmNV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTQ0NzY0MzgxYmQwNGI2MGFlNDYxMzBkMTBjOTU0ZjVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzk0NDc2NDM4MWJkMDRiNjBhZTQ2MTMwZDEwYzk1NGY1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85NDQ3NjQzODFiZDA0YjYwYWU0NjEzMGQxMGM5NTRmNV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85N2ZlMzA5YjA3Yzg0MWUwOWI5MzU4OWZkNTc2Mzk3ZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zZTdhOGE5NmJjOGI0MjU1YTFmMzFkNTQwNjZiNzllNiA9ICQoYDxkaXYgaWQ9Imh0bWxfM2U3YThhOTZiYzhiNDI1NWExZjMxZDU0MDY2Yjc5ZTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNPSUwtdm9sXzMwMV8zMi5uYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gbmM8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzk3MTQ3NzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIGZvciB0aGUgcGFwZXI6ICJPbmUgRHJvdWdodCBhbmQgT25lIFZvbGNhbmljIEVydXB0aW9uIEluZmx1ZW5jZWQgdGhlIEhpc3Rvcnkgb2YgQ2hpbmE6IFRoZSBsYXRlIE1pbmcgRHluYXN0eSBNZWdhLWRyb3VnaHQiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zOTcxNDc4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTdmZTMwOWIwN2M4NDFlMDliOTM1ODlmZDU3NjM5N2Uuc2V0Q29udGVudChodG1sXzNlN2E4YTk2YmM4YjQyNTVhMWYzMWQ1NDA2NmI3OWU2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTQ0NzY0MzgxYmQwNGI2MGFlNDYxMzBkMTBjOTU0ZjUuYmluZFBvcHVwKHBvcHVwXzk3ZmUzMDliMDdjODQxZTA5YjkzNTg5ZmQ1NzYzOTdlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVhM2IyZmJiZmI2MDRmM2ZiNmFkMzQ5ZjVhYjZkMDAzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNWEzYjJmYmJmYjYwNGYzZmI2YWQzNDlmNWFiNmQwMDMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNWEzYjJmYmJmYjYwNGYzZmI2YWQzNDlmNWFiNmQwMDNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81YzhmN2QzOTk0NWQ0MTVkYmE4ZjVkOWZjNWM3ZjVkZik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVhM2IyZmJiZmI2MDRmM2ZiNmFkMzQ5ZjVhYjZkMDAzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81YTNiMmZiYmZiNjA0ZjNmYjZhZDM0OWY1YWI2ZDAwMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNWEzYjJmYmJmYjYwNGYzZmI2YWQzNDlmNWFiNmQwMDNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOGYwMTQ0NTBjNjQ2NDkyZjk1ZmQyNjA0Mjg4M2MyMDIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODAyM2M0ZTA0ZGNhNDgwNThiMDM5ZTgyY2RlZjgzMmEgPSAkKGA8ZGl2IGlkPSJodG1sXzgwMjNjNGUwNGRjYTQ4MDU4YjAzOWU4MmNkZWY4MzJhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTT0lMLXZvbF9uZXh0XzIwMDRfMjQubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzhmMDE0NDUwYzY0NjQ5MmY5NWZkMjYwNDI4ODNjMjAyLnNldENvbnRlbnQoaHRtbF84MDIzYzRlMDRkY2E0ODA1OGIwMzllODJjZGVmODMyYSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzVhM2IyZmJiZmI2MDRmM2ZiNmFkMzQ5ZjVhYjZkMDAzLmJpbmRQb3B1cChwb3B1cF84ZjAxNDQ1MGM2NDY0OTJmOTVmZDI2MDQyODgzYzIwMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ZGU5NjFkYWY2M2M0ODNkOWFiYTJmZTViMDI5OWM0NF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzhkZTk2MWRhZjYzYzQ4M2Q5YWJhMmZlNWIwMjk5YzQ0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzhkZTk2MWRhZjYzYzQ4M2Q5YWJhMmZlNWIwMjk5YzQ0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ZGU5NjFkYWY2M2M0ODNkOWFiYTJmZTViMDI5OWM0NF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOGRlOTYxZGFmNjNjNDgzZDlhYmEyZmU1YjAyOTljNDQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzhkZTk2MWRhZjYzYzQ4M2Q5YWJhMmZlNWIwMjk5YzQ0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzA3MmVhZWM4ODNiYzRlYjdhYTkwYmQwMTRiYjc4YTZmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JjODkyNjA2Mzk0MjQwOTZhMjZmNjE3NDI3NmU5YjUzID0gJChgPGRpdiBpZD0iaHRtbF9iYzg5MjYwNjM5NDI0MDk2YTI2ZjYxNzQyNzZlOWI1MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU09JTC12b2xfbmV4dF8xMDFfMTcubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzA3MmVhZWM4ODNiYzRlYjdhYTkwYmQwMTRiYjc4YTZmLnNldENvbnRlbnQoaHRtbF9iYzg5MjYwNjM5NDI0MDk2YTI2ZjYxNzQyNzZlOWI1Myk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzhkZTk2MWRhZjYzYzQ4M2Q5YWJhMmZlNWIwMjk5YzQ0LmJpbmRQb3B1cChwb3B1cF8wNzJlYWVjODgzYmM0ZWI3YWE5MGJkMDE0YmI3OGE2ZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NTJhNjY0NjYyOWU0Y2YzODc1MmM4NWFlMDMyYWY5Y19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzY1MmE2NjQ2NjI5ZTRjZjM4NzUyYzg1YWUwMzJhZjljID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzY1MmE2NjQ2NjI5ZTRjZjM4NzUyYzg1YWUwMzJhZjljX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NTJhNjY0NjYyOWU0Y2YzODc1MmM4NWFlMDMyYWY5Y19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjUyYTY2NDY2MjllNGNmMzg3NTJjODVhZTAzMmFmOWMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY1MmE2NjQ2NjI5ZTRjZjM4NzUyYzg1YWUwMzJhZjljX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzVjOTc0OWM3YzhhMzQ5NjVhYmQ4OWIwODcyYWQ0ZTI2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzAxOTY1NWE4YmNhNjQyODhhMmJjYjM0OWM0ZThkYThmID0gJChgPGRpdiBpZD0iaHRtbF8wMTk2NTVhOGJjYTY0Mjg4YTJiY2IzNDljNGU4ZGE4ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU09JTC12b2xfMzAxXzE5Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81Yzk3NDljN2M4YTM0OTY1YWJkODliMDg3MmFkNGUyNi5zZXRDb250ZW50KGh0bWxfMDE5NjU1YThiY2E2NDI4OGEyYmNiMzQ5YzRlOGRhOGYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82NTJhNjY0NjYyOWU0Y2YzODc1MmM4NWFlMDMyYWY5Yy5iaW5kUG9wdXAocG9wdXBfNWM5NzQ5YzdjOGEzNDk2NWFiZDg5YjA4NzJhZDRlMjYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmEzNWE1NzI4MjZhNDdlOGIwYTIxZjBlYTQ1YzA5NDNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iYTM1YTU3MjgyNmE0N2U4YjBhMjFmMGVhNDVjMDk0MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iYTM1YTU3MjgyNmE0N2U4YjBhMjFmMGVhNDVjMDk0M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmEzNWE1NzI4MjZhNDdlOGIwYTIxZjBlYTQ1YzA5NDNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2JhMzVhNTcyODI2YTQ3ZThiMGEyMWYwZWE0NWMwOTQzLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iYTM1YTU3MjgyNmE0N2U4YjBhMjFmMGVhNDVjMDk0M19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yNmM0MmIzM2MzOGQ0MTdiYjQ3MWFiYjQzZmM0NzI5ZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84MjZkNGZlNmRhY2M0MTY0OTY1NmU4MWFhYjI3OGQzMSA9ICQoYDxkaXYgaWQ9Imh0bWxfODI2ZDRmZTZkYWNjNDE2NDk2NTZlODFhYWIyNzhkMzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGNsaW1hdG9sb2d5Lm5jPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBuYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTcxNDc3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgZm9yIHRoZSBwYXBlcjogIk9uZSBEcm91Z2h0IGFuZCBPbmUgVm9sY2FuaWMgRXJ1cHRpb24gSW5mbHVlbmNlZCB0aGUgSGlzdG9yeSBvZiBDaGluYTogVGhlIGxhdGUgTWluZyBEeW5hc3R5IE1lZ2EtZHJvdWdodCI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM5NzE0Nzg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yNmM0MmIzM2MzOGQ0MTdiYjQ3MWFiYjQzZmM0NzI5ZC5zZXRDb250ZW50KGh0bWxfODI2ZDRmZTZkYWNjNDE2NDk2NTZlODFhYWIyNzhkMzEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iYTM1YTU3MjgyNmE0N2U4YjBhMjFmMGVhNDVjMDk0My5iaW5kUG9wdXAocG9wdXBfMjZjNDJiMzNjMzhkNDE3YmI0NzFhYmI0M2ZjNDcyOWQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGMxYzU5MjMyMzI4NDU2OWE0ZmJlM2RkOTE4NTUzZjdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wYzFjNTkyMzIzMjg0NTY5YTRmYmUzZGQ5MTg1NTNmNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wYzFjNTkyMzIzMjg0NTY5YTRmYmUzZGQ5MTg1NTNmN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGMxYzU5MjMyMzI4NDU2OWE0ZmJlM2RkOTE4NTUzZjdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzBjMWM1OTIzMjMyODQ1NjlhNGZiZTNkZDkxODU1M2Y3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wYzFjNTkyMzIzMjg0NTY5YTRmYmUzZGQ5MTg1NTNmN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDUuNzQ4MjcxOTQyZS0wNV0sIFsxMjkuMzc1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNTkuMzc2NTA2MzA0NzQwOV0sIFs4OC4xMjUsIDUuNzQ4MjcxOTQyZS0wNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mNzA2OGI5YjhjMTc0YTUxYWFlYzAxMzI3MjY3YmU5MiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yOTFhNjUxZDUwZTc0ZDBhOGRjNWMyMTRkODFiZjAxMiA9ICQoYDxkaXYgaWQ9Imh0bWxfMjkxYTY1MWQ1MGU3NGQwYThkYzVjMjE0ZDgxYmYwMTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNPSUwtdm9sXzIwMDRfMjMubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Y3MDY4YjliOGMxNzRhNTFhYWVjMDEzMjcyNjdiZTkyLnNldENvbnRlbnQoaHRtbF8yOTFhNjUxZDUwZTc0ZDBhOGRjNWMyMTRkODFiZjAxMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzBjMWM1OTIzMjMyODQ1NjlhNGZiZTNkZDkxODU1M2Y3LmJpbmRQb3B1cChwb3B1cF9mNzA2OGI5YjhjMTc0YTUxYWFlYzAxMzI3MjY3YmU5MikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNjdjNzI1ODVhNzI0NmMxOTM2YWRiOTA2YjkxN2MzM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzI2N2M3MjU4NWE3MjQ2YzE5MzZhZGI5MDZiOTE3YzMzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzI2N2M3MjU4NWE3MjQ2YzE5MzZhZGI5MDZiOTE3YzMzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWM4ZjdkMzk5NDVkNDE1ZGJhOGY1ZDlmYzVjN2Y1ZGYpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNjdjNzI1ODVhNzI0NmMxOTM2YWRiOTA2YjkxN2MzM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMjY3YzcyNTg1YTcyNDZjMTkzNmFkYjkwNmI5MTdjMzMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzI2N2M3MjU4NWE3MjQ2YzE5MzZhZGI5MDZiOTE3YzMzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODguMTI1LCA1Ljc0ODI3MTk0MmUtMDVdLCBbMTI5LjM3NSwgNS43NDgyNzE5NDJlLTA1XSwgWzEyOS4zNzUsIDU5LjM3NjUwNjMwNDc0MDldLCBbODguMTI1LCA1OS4zNzY1MDYzMDQ3NDA5XSwgWzg4LjEyNSwgNS43NDgyNzE5NDJlLTA1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzRkNzkxOTJlNTIzODRmMWQ5ODQ0ZmEyMjg5YWU0Mjc3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NlZWYzMjYxZTRhNjQwMmI4MjE0NWE2MmE2ZTdjMGEzID0gJChgPGRpdiBpZD0iaHRtbF9jZWVmMzI2MWU0YTY0MDJiODIxNDVhNjJhNmU3YzBhMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU09JTC12b2xfbmV4dF82MzNfMTMubmM8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IG5jPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5NzE0Nzc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBmb3IgdGhlIHBhcGVyOiAiT25lIERyb3VnaHQgYW5kIE9uZSBWb2xjYW5pYyBFcnVwdGlvbiBJbmZsdWVuY2VkIHRoZSBIaXN0b3J5IG9mIENoaW5hOiBUaGUgbGF0ZSBNaW5nIER5bmFzdHkgTWVnYS1kcm91Z2h0IjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzk3MTQ3ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzRkNzkxOTJlNTIzODRmMWQ5ODQ0ZmEyMjg5YWU0Mjc3LnNldENvbnRlbnQoaHRtbF9jZWVmMzI2MWU0YTY0MDJiODIxNDVhNjJhNmU3YzBhMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzI2N2M3MjU4NWE3MjQ2YzE5MzZhZGI5MDZiOTE3YzMzLmJpbmRQb3B1cChwb3B1cF80ZDc5MTkyZTUyMzg0ZjFkOTg0NGZhMjI4OWFlNDI3NykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfOTYyZDNjY2U0OGE1NDJkMGEyZjFiYmJiMDI3OWI1MjUgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzNkNWZlMzE3ZDAxNDQ4MDc4MmE4OGI1YmMwMjlhOTM1X3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2Q1ZmUzMTdkMDE0NDgwNzgyYTg4YjViYzAyOWE5MzVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zZDVmZTMxN2QwMTQ0ODA3ODJhODhiNWJjMDI5YTkzNSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zZDVmZTMxN2QwMTQ0ODA3ODJhODhiNWJjMDI5YTkzNV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl8zZDVmZTMxN2QwMTQ0ODA3ODJhODhiNWJjMDI5YTkzNV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF85NjJkM2NjZTQ4YTU0MmQwYTJmMWJiYmIwMjc5YjUyNSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzNkNWZlMzE3ZDAxNDQ4MDc4MmE4OGI1YmMwMjlhOTM1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zZDVmZTMxN2QwMTQ0ODA3ODJhODhiNWJjMDI5YTkzNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fM2Q1ZmUzMTdkMDE0NDgwNzgyYTg4YjViYzAyOWE5MzVfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stNjcuOTE5LCAtNjcuMjldLCBbMTY3LjM2LCAtNjcuMjldLCBbMTY3LjM2LCAtNDYuMzkzXSwgWy02Ny45MTksIC00Ni4zOTNdLCBbLTY3LjkxOSwgLTY3LjI5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzNhOGUwN2U2Njg4NDMwNWI3NmMxNGFiNjY5NTdhOTQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOThlZGJiMjc0M2NkNDc0MzgwNTE2MjEzMmQ5YjA2NDQgPSAkKGA8ZGl2IGlkPSJodG1sXzk4ZWRiYjI3NDNjZDQ3NDM4MDUxNjIxMzJkOWIwNjQ0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMyNTA5Nzk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gU2Vhd2F0ZXIgY2hyb21pdW0gY29uY2VudHJhdGlvbnMgYW5kIGlzb3RvcGUgY29tcG9zaXRpb25zIGluIHRoZSBTb3V0aGVybiBPY2VhbiBkdXJpbmcgdGhlIGF1c3RyYWwgc3VtbWVyIG9mIDIwMTYvMjAxNywgb24gYm9hcmQgdGhlIEFudGFyY3RpYyBDaXJjdW1uYXZpZ2F0aW9uIEV4cGVkaXRpb24gKEFDRSkuPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjMyNTA5ODA8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2MzYThlMDdlNjY4ODQzMDViNzZjMTRhYjY2OTU3YTk0LnNldENvbnRlbnQoaHRtbF85OGVkYmIyNzQzY2Q0NzQzODA1MTYyMTMyZDliMDY0NCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzNkNWZlMzE3ZDAxNDQ4MDc4MmE4OGI1YmMwMjlhOTM1LmJpbmRQb3B1cChwb3B1cF9jM2E4ZTA3ZTY2ODg0MzA1Yjc2YzE0YWI2Njk1N2E5NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84YTI3YTY2NWZhODc0OTIxYTg4YmM3MWU4YjdiNmMzZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzhhMjdhNjY1ZmE4NzQ5MjFhODhiYzcxZThiN2I2YzNlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzhhMjdhNjY1ZmE4NzQ5MjFhODhiYzcxZThiN2I2YzNlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfOTYyZDNjY2U0OGE1NDJkMGEyZjFiYmJiMDI3OWI1MjUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84YTI3YTY2NWZhODc0OTIxYTg4YmM3MWU4YjdiNmMzZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOGEyN2E2NjVmYTg3NDkyMWE4OGJjNzFlOGI3YjZjM2UuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzhhMjdhNjY1ZmE4NzQ5MjFhODhiYzcxZThiN2I2YzNlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTY3LjkxOSwgLTY3LjI5XSwgWzE2Ny4zNiwgLTY3LjI5XSwgWzE2Ny4zNiwgLTQ2LjM5M10sIFstNjcuOTE5LCAtNDYuMzkzXSwgWy02Ny45MTksIC02Ny4yOV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83ZGI0YTM2YmFiMTU0NjEwOTIyM2E4Y2EwNDZiYTM5ZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yMGVjMDU4YjcyOTg0OThmYjBhOTQzZWVjYTYyNDhkMyA9ICQoYDxkaXYgaWQ9Imh0bWxfMjBlYzA1OGI3Mjk4NDk4ZmIwYTk0M2VlY2E2MjQ4ZDMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGFjZV9jaHJvbWl1bV9pc290b3BlX2NvbmNlbnRyYXRpb24uY3N2PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBjc3Y8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlQ1NWPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzI1MDk3OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBTZWF3YXRlciBjaHJvbWl1bSBjb25jZW50cmF0aW9ucyBhbmQgaXNvdG9wZSBjb21wb3NpdGlvbnMgaW4gdGhlIFNvdXRoZXJuIE9jZWFuIGR1cmluZyB0aGUgYXVzdHJhbCBzdW1tZXIgb2YgMjAxNi8yMDE3LCBvbiBib2FyZCB0aGUgQW50YXJjdGljIENpcmN1bW5hdmlnYXRpb24gRXhwZWRpdGlvbiAoQUNFKS48L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjMyNTA5ODA8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83ZGI0YTM2YmFiMTU0NjEwOTIyM2E4Y2EwNDZiYTM5Zi5zZXRDb250ZW50KGh0bWxfMjBlYzA1OGI3Mjk4NDk4ZmIwYTk0M2VlY2E2MjQ4ZDMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84YTI3YTY2NWZhODc0OTIxYTg4YmM3MWU4YjdiNmMzZS5iaW5kUG9wdXAocG9wdXBfN2RiNGEzNmJhYjE1NDYxMDkyMjNhOGNhMDQ2YmEzOWYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwXzM5MTlhZjZmNDA2MjRlYTViNTFjMWUyODNlYzBmNWUwID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82ODRhYmM3ODQyOWU0MmJhODBiZWZjNWQ0N2VlYTFmMV9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY4NGFiYzc4NDI5ZTQyYmE4MGJlZmM1ZDQ3ZWVhMWYxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjg0YWJjNzg0MjllNDJiYTgwYmVmYzVkNDdlZWExZjEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjg0YWJjNzg0MjllNDJiYTgwYmVmYzVkNDdlZWExZjFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fNjg0YWJjNzg0MjllNDJiYTgwYmVmYzVkNDdlZWExZjFfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMzkxOWFmNmY0MDYyNGVhNWI1MWMxZTI4M2VjMGY1ZTApOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82ODRhYmM3ODQyOWU0MmJhODBiZWZjNWQ0N2VlYTFmMV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjg0YWJjNzg0MjllNDJiYTgwYmVmYzVkNDdlZWExZjEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY4NGFiYzc4NDI5ZTQyYmE4MGJlZmM1ZDQ3ZWVhMWYxX2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbNTAuNjc0MTgzNjM1MjgzOSwgMi41Mjk1OTUzNjg5NTY1MV0sIFs1MS40OTU0NzMxMjkzNzg2LCAyLjUyOTU5NTM2ODk1NjUxXSwgWzUxLjQ5NTQ3MzEyOTM3ODYsIDUuOTM2NDI3NzM2Mzc1NjhdLCBbNTAuNjc0MTgzNjM1MjgzOSwgNS45MzY0Mjc3MzYzNzU2OF0sIFs1MC42NzQxODM2MzUyODM5LCAyLjUyOTU5NTM2ODk1NjUxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMTVjNDU0NTU1ZTVmNDgzN2FjM2FiODBlNDcwOWU3YjkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfY2I0ODA1ZTliZWIwNDJhZWE4YjQ1ZmUwZWE4YjgzZDEgPSAkKGA8ZGl2IGlkPSJodG1sX2NiNDgwNWU5YmViMDQyYWVhOGI0NWZlMGVhOGI4M2QxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzODYyMDc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUmVkaXN0cmlidXRpb24gb2YgdGhlIG1hcCB3aXRoIHRoZSBlY29yZWdpb25zIG9mIEZsYW5kZXJzICh2ZXJzaW9uIDIwMDIpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjMzODYyMDg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzE1YzQ1NDU1NWU1ZjQ4MzdhYzNhYjgwZTQ3MDllN2I5LnNldENvbnRlbnQoaHRtbF9jYjQ4MDVlOWJlYjA0MmFlYThiNDVmZTBlYThiODNkMSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzY4NGFiYzc4NDI5ZTQyYmE4MGJlZmM1ZDQ3ZWVhMWYxLmJpbmRQb3B1cChwb3B1cF8xNWM0NTQ1NTVlNWY0ODM3YWMzYWI4MGU0NzA5ZTdiOSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MDViOTFiYjc2NjM0YTYwYTRlOWM3YjMwYjUzYTViM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzcwNWI5MWJiNzY2MzRhNjBhNGU5YzdiMzBiNTNhNWIzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzcwNWI5MWJiNzY2MzRhNjBhNGU5YzdiMzBiNTNhNWIzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMzkxOWFmNmY0MDYyNGVhNWI1MWMxZTI4M2VjMGY1ZTApOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MDViOTFiYjc2NjM0YTYwYTRlOWM3YjMwYjUzYTViM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzA1YjkxYmI3NjYzNGE2MGE0ZTljN2IzMGI1M2E1YjMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzcwNWI5MWJiNzY2MzRhNjBhNGU5YzdiMzBiNTNhNWIzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTAuNjc0MTgzNjM1MjgzOSwgMi41Mjk1OTUzNjg5NTY1MV0sIFs1MS40OTU0NzMxMjkzNzg2LCAyLjUyOTU5NTM2ODk1NjUxXSwgWzUxLjQ5NTQ3MzEyOTM3ODYsIDUuOTM2NDI3NzM2Mzc1NjhdLCBbNTAuNjc0MTgzNjM1MjgzOSwgNS45MzY0Mjc3MzYzNzU2OF0sIFs1MC42NzQxODM2MzUyODM5LCAyLjUyOTU5NTM2ODk1NjUxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2RlNTUzZjVjN2MyYTQ0NzQ5NWQ4NjM2NWU1NGIzOGZkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZhY2IxY2ZmYzI5MTRiZDI5YjczMGU4MDc5NjVhMjEyID0gJChgPGRpdiBpZD0iaHRtbF82YWNiMWNmZmMyOTE0YmQyOWI3MzBlODA3OTY1YTIxMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gZWNvcmVnaW9ucy5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzg2MjA3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFJlZGlzdHJpYnV0aW9uIG9mIHRoZSBtYXAgd2l0aCB0aGUgZWNvcmVnaW9ucyBvZiBGbGFuZGVycyAodmVyc2lvbiAyMDAyKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzM4NjIwODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2RlNTUzZjVjN2MyYTQ0NzQ5NWQ4NjM2NWU1NGIzOGZkLnNldENvbnRlbnQoaHRtbF82YWNiMWNmZmMyOTE0YmQyOWI3MzBlODA3OTY1YTIxMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzcwNWI5MWJiNzY2MzRhNjBhNGU5YzdiMzBiNTNhNWIzLmJpbmRQb3B1cChwb3B1cF9kZTU1M2Y1YzdjMmE0NDc0OTVkODYzNjVlNTRiMzhmZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMDQ4ODJhZjhlYTg0ZTA0OGZiN2Q5ZDZmNjI1YzMzZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzMwNDg4MmFmOGVhODRlMDQ4ZmI3ZDlkNmY2MjVjMzNlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzMwNDg4MmFmOGVhODRlMDQ4ZmI3ZDlkNmY2MjVjMzNlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMzkxOWFmNmY0MDYyNGVhNWI1MWMxZTI4M2VjMGY1ZTApOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMDQ4ODJhZjhlYTg0ZTA0OGZiN2Q5ZDZmNjI1YzMzZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzA0ODgyYWY4ZWE4NGUwNDhmYjdkOWQ2ZjYyNWMzM2UuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzMwNDg4MmFmOGVhODRlMDQ4ZmI3ZDlkNmY2MjVjMzNlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTAuNjc0MTgzNjM1MjgzOSwgMi41Mjk1OTUzNjg5NTY1MV0sIFs1MS40OTU0NzMxMjkzNzg2LCAyLjUyOTU5NTM2ODk1NjUxXSwgWzUxLjQ5NTQ3MzEyOTM3ODYsIDUuOTM2NDI3NzM2Mzc1NjhdLCBbNTAuNjc0MTgzNjM1MjgzOSwgNS45MzY0Mjc3MzYzNzU2OF0sIFs1MC42NzQxODM2MzUyODM5LCAyLjUyOTU5NTM2ODk1NjUxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2JmNTdkM2Y2MWRmZjQ2OTM5N2JmMzAxNzgzNGRlM2EwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FmYzIxZDQ3OTEwODQ0OWI5NmU3Y2ZlOTViNjdlYTM5ID0gJChgPGRpdiBpZD0iaHRtbF9hZmMyMWQ0NzkxMDg0NDliOTZlN2NmZTk1YjY3ZWEzOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gZWNvcmVnaW9ucy5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzg2MjA3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFJlZGlzdHJpYnV0aW9uIG9mIHRoZSBtYXAgd2l0aCB0aGUgZWNvcmVnaW9ucyBvZiBGbGFuZGVycyAodmVyc2lvbiAyMDAyKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzM4NjIwODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2JmNTdkM2Y2MWRmZjQ2OTM5N2JmMzAxNzgzNGRlM2EwLnNldENvbnRlbnQoaHRtbF9hZmMyMWQ0NzkxMDg0NDliOTZlN2NmZTk1YjY3ZWEzOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzMwNDg4MmFmOGVhODRlMDQ4ZmI3ZDlkNmY2MjVjMzNlLmJpbmRQb3B1cChwb3B1cF9iZjU3ZDNmNjFkZmY0NjkzOTdiZjMwMTc4MzRkZTNhMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82OTBhNDA0NzJiNDA0Yjk2YTBlNWI2MjUzZmE2ZWY3NF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzY5MGE0MDQ3MmI0MDRiOTZhMGU1YjYyNTNmYTZlZjc0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzY5MGE0MDQ3MmI0MDRiOTZhMGU1YjYyNTNmYTZlZjc0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMzkxOWFmNmY0MDYyNGVhNWI1MWMxZTI4M2VjMGY1ZTApOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82OTBhNDA0NzJiNDA0Yjk2YTBlNWI2MjUzZmE2ZWY3NF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjkwYTQwNDcyYjQwNGI5NmEwZTViNjI1M2ZhNmVmNzQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY5MGE0MDQ3MmI0MDRiOTZhMGU1YjYyNTNmYTZlZjc0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTAuNjc0MTgzNjM1MjgzOSwgMi41Mjk1OTUzNjg5NTY1MV0sIFs1MS40OTU0NzMxMjkzNzg2LCAyLjUyOTU5NTM2ODk1NjUxXSwgWzUxLjQ5NTQ3MzEyOTM3ODYsIDUuOTM2NDI3NzM2Mzc1NjhdLCBbNTAuNjc0MTgzNjM1MjgzOSwgNS45MzY0Mjc3MzYzNzU2OF0sIFs1MC42NzQxODM2MzUyODM5LCAyLjUyOTU5NTM2ODk1NjUxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzg0YTA2NWZhOWM0NTQwNWRhYjZkNDE4NzEwYzViMjYzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2M5M2QyNjgwNDBhODQ1MjZhNWZjOTQyZWI5MDU5ZTlhID0gJChgPGRpdiBpZD0iaHRtbF9jOTNkMjY4MDQwYTg0NTI2YTVmYzk0MmViOTA1OWU5YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gZWNvcmVnaW9ucy5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzg2MjA3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFJlZGlzdHJpYnV0aW9uIG9mIHRoZSBtYXAgd2l0aCB0aGUgZWNvcmVnaW9ucyBvZiBGbGFuZGVycyAodmVyc2lvbiAyMDAyKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzM4NjIwODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzg0YTA2NWZhOWM0NTQwNWRhYjZkNDE4NzEwYzViMjYzLnNldENvbnRlbnQoaHRtbF9jOTNkMjY4MDQwYTg0NTI2YTVmYzk0MmViOTA1OWU5YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzY5MGE0MDQ3MmI0MDRiOTZhMGU1YjYyNTNmYTZlZjc0LmJpbmRQb3B1cChwb3B1cF84NGEwNjVmYTljNDU0MDVkYWI2ZDQxODcxMGM1YjI2MykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfMDVlNjhiN2E3MWIwNDU1Njg5N2Y1NDJiNTBmNzU3Y2MgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzI0NmJmYTU4MDk2YzRlYmNhOGYzMDY3OTAyZjAxMTgxX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjQ2YmZhNTgwOTZjNGViY2E4ZjMwNjc5MDJmMDExODFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNDZiZmE1ODA5NmM0ZWJjYThmMzA2NzkwMmYwMTE4MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNDZiZmE1ODA5NmM0ZWJjYThmMzA2NzkwMmYwMTE4MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl8yNDZiZmE1ODA5NmM0ZWJjYThmMzA2NzkwMmYwMTE4MV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8wNWU2OGI3YTcxYjA0NTU2ODk3ZjU0MmI1MGY3NTdjYyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzI0NmJmYTU4MDk2YzRlYmNhOGYzMDY3OTAyZjAxMTgxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yNDZiZmE1ODA5NmM0ZWJjYThmMzA2NzkwMmYwMTE4MS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMjQ2YmZhNTgwOTZjNGViY2E4ZjMwNjc5MDJmMDExODFfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stODAuMjU2MDU0NTY2NjQyLCAtMy4wMDkxMDc5NDU2MDMzMl0sIFstNzguMDEyOTIwNzkzODk1NCwgLTMuMDA5MTA3OTQ1NjAzMzJdLCBbLTc4LjAxMjkyMDc5Mzg5NTQsIC0wLjc5MTU3ODQyMDM3OTY2NV0sIFstODAuMjU2MDU0NTY2NjQyLCAtMC43OTE1Nzg0MjAzNzk2NjVdLCBbLTgwLjI1NjA1NDU2NjY0MiwgLTMuMDA5MTA3OTQ1NjAzMzJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83ODViM2M5MjgzZjE0ZGE0OTQzNDIwOGZkZGZkMzM0MCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iZDAzZjUyZmY4MTU0YzIwYjcyODQxNzA1ZDBiNzFiOCA9ICQoYDxkaXYgaWQ9Imh0bWxfYmQwM2Y1MmZmODE1NGMyMGI3Mjg0MTcwNWQwYjcxYjgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzcwNjIwNjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBQYWxsYXRhbmdhIEZhdWx0IFN5c3RlbSBNYXBzIGFuZCBQaWN0dXJlczwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby4zNzA2MjA3PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83ODViM2M5MjgzZjE0ZGE0OTQzNDIwOGZkZGZkMzM0MC5zZXRDb250ZW50KGh0bWxfYmQwM2Y1MmZmODE1NGMyMGI3Mjg0MTcwNWQwYjcxYjgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yNDZiZmE1ODA5NmM0ZWJjYThmMzA2NzkwMmYwMTE4MS5iaW5kUG9wdXAocG9wdXBfNzg1YjNjOTI4M2YxNGRhNDk0MzQyMDhmZGRmZDMzNDApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTkwOTgzMTljNmI0NDQ4Njk1ZjdjNDU5Y2ViZjg5NzBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85OTA5ODMxOWM2YjQ0NDg2OTVmN2M0NTljZWJmODk3MCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85OTA5ODMxOWM2YjQ0NDg2OTVmN2M0NTljZWJmODk3MF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzA1ZTY4YjdhNzFiMDQ1NTY4OTdmNTQyYjUwZjc1N2NjKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTkwOTgzMTljNmI0NDQ4Njk1ZjdjNDU5Y2ViZjg5NzBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzk5MDk4MzE5YzZiNDQ0ODY5NWY3YzQ1OWNlYmY4OTcwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85OTA5ODMxOWM2YjQ0NDg2OTVmN2M0NTljZWJmODk3MF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy04MC4yNTYwNTQ1NjY2NDIsIC0zLjAwOTEwNzk0NTYwMzMyXSwgWy03OC4wMTI5MjA3OTM4OTU0LCAtMy4wMDkxMDc5NDU2MDMzMl0sIFstNzguMDEyOTIwNzkzODk1NCwgLTAuNzkxNTc4NDIwMzc5NjY1XSwgWy04MC4yNTYwNTQ1NjY2NDIsIC0wLjc5MTU3ODQyMDM3OTY2NV0sIFstODAuMjU2MDU0NTY2NjQyLCAtMy4wMDkxMDc5NDU2MDMzMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hZGNmNDdmMWM1ZmU0ZmE0ODQ5ZGU1YzdkNzA4MDBmYiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85NWZmMjYyMzdjYTg0ZDk1OTdkZTgyOTMxMzU2N2U2MSA9ICQoYDxkaXYgaWQ9Imh0bWxfOTVmZjI2MjM3Y2E4NGQ5NTk3ZGU4MjkzMTM1NjdlNjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IExpbmVfREVNLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM3MDYyMDY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUGFsbGF0YW5nYSBGYXVsdCBTeXN0ZW0gTWFwcyBhbmQgUGljdHVyZXM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MDYyMDc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hZGNmNDdmMWM1ZmU0ZmE0ODQ5ZGU1YzdkNzA4MDBmYi5zZXRDb250ZW50KGh0bWxfOTVmZjI2MjM3Y2E4NGQ5NTk3ZGU4MjkzMTM1NjdlNjEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85OTA5ODMxOWM2YjQ0NDg2OTVmN2M0NTljZWJmODk3MC5iaW5kUG9wdXAocG9wdXBfYWRjZjQ3ZjFjNWZlNGZhNDg0OWRlNWM3ZDcwODAwZmIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDQzMjEwNThkNjM1NDUyMWE5ZTllZjNhYTQxMTZmNDBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kNDMyMTA1OGQ2MzU0NTIxYTllOWVmM2FhNDExNmY0MCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kNDMyMTA1OGQ2MzU0NTIxYTllOWVmM2FhNDExNmY0MF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzA1ZTY4YjdhNzFiMDQ1NTY4OTdmNTQyYjUwZjc1N2NjKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDQzMjEwNThkNjM1NDUyMWE5ZTllZjNhYTQxMTZmNDBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Q0MzIxMDU4ZDYzNTQ1MjFhOWU5ZWYzYWE0MTE2ZjQwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kNDMyMTA1OGQ2MzU0NTIxYTllOWVmM2FhNDExNmY0MF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy04MC4yNTYwNTQ1NjY2NDIsIC0zLjAwOTEwNzk0NTYwMzMyXSwgWy03OC4wMTI5MjA3OTM4OTU0LCAtMy4wMDkxMDc5NDU2MDMzMl0sIFstNzguMDEyOTIwNzkzODk1NCwgLTAuNzkxNTc4NDIwMzc5NjY1XSwgWy04MC4yNTYwNTQ1NjY2NDIsIC0wLjc5MTU3ODQyMDM3OTY2NV0sIFstODAuMjU2MDU0NTY2NjQyLCAtMy4wMDkxMDc5NDU2MDMzMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lZjdhMjhiNzcxZDc0NjdkODdkZmIxMTgxODQ0MDg0YyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yN2Y0ODRiNzM1MjE0ZjMyOTE4MzE1Y2U1NTUxNGRjNiA9ICQoYDxkaXYgaWQ9Imh0bWxfMjdmNDg0YjczNTIxNGYzMjkxODMxNWNlNTU1MTRkYzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IExpbmVfREVNLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM3MDYyMDY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUGFsbGF0YW5nYSBGYXVsdCBTeXN0ZW0gTWFwcyBhbmQgUGljdHVyZXM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MDYyMDc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lZjdhMjhiNzcxZDc0NjdkODdkZmIxMTgxODQ0MDg0Yy5zZXRDb250ZW50KGh0bWxfMjdmNDg0YjczNTIxNGYzMjkxODMxNWNlNTU1MTRkYzYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9kNDMyMTA1OGQ2MzU0NTIxYTllOWVmM2FhNDExNmY0MC5iaW5kUG9wdXAocG9wdXBfZWY3YTI4Yjc3MWQ3NDY3ZDg3ZGZiMTE4MTg0NDA4NGMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzFmYmYyZDE2YzI5NDYzN2FjNjc5MDAyZDIwYmUzNTNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jMWZiZjJkMTZjMjk0NjM3YWM2NzkwMDJkMjBiZTM1MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jMWZiZjJkMTZjMjk0NjM3YWM2NzkwMDJkMjBiZTM1M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzA1ZTY4YjdhNzFiMDQ1NTY4OTdmNTQyYjUwZjc1N2NjKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzFmYmYyZDE2YzI5NDYzN2FjNjc5MDAyZDIwYmUzNTNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2MxZmJmMmQxNmMyOTQ2MzdhYzY3OTAwMmQyMGJlMzUzLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jMWZiZjJkMTZjMjk0NjM3YWM2NzkwMDJkMjBiZTM1M19hZGQoeyJjb29yZGluYXRlcyI6IFtbWy04MC4yNTYwNTQ1NjY2NDIsIC0zLjAwOTEwNzk0NTYwMzMyXSwgWy03OC4wMTI5MjA3OTM4OTU0LCAtMy4wMDkxMDc5NDU2MDMzMl0sIFstNzguMDEyOTIwNzkzODk1NCwgLTAuNzkxNTc4NDIwMzc5NjY1XSwgWy04MC4yNTYwNTQ1NjY2NDIsIC0wLjc5MTU3ODQyMDM3OTY2NV0sIFstODAuMjU2MDU0NTY2NjQyLCAtMy4wMDkxMDc5NDU2MDMzMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yYzM4OWM3NWJhYzc0ZjgyYjU2MTIwMGU5ZDBlZWVjNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lY2Y1NTIwOWQ5ZjA0NDgwYTExZjA0NmJjNTlmZTM5OSA9ICQoYDxkaXYgaWQ9Imh0bWxfZWNmNTUyMDlkOWYwNDQ4MGExMWYwNDZiYzU5ZmUzOTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IExpbmVfREVNLnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM3MDYyMDY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUGFsbGF0YW5nYSBGYXVsdCBTeXN0ZW0gTWFwcyBhbmQgUGljdHVyZXM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MDYyMDc8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yYzM4OWM3NWJhYzc0ZjgyYjU2MTIwMGU5ZDBlZWVjNC5zZXRDb250ZW50KGh0bWxfZWNmNTUyMDlkOWYwNDQ4MGExMWYwNDZiYzU5ZmUzOTkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jMWZiZjJkMTZjMjk0NjM3YWM2NzkwMDJkMjBiZTM1My5iaW5kUG9wdXAocG9wdXBfMmMzODljNzViYWM3NGY4MmI1NjEyMDBlOWQwZWVlYzQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwXzhhYTlkOWM3NmI1OTQ1ODY5YmE3MGJmNjY0NWVlOGU3ID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hNzU0ZWJjM2I2MTI0NjJlYjUzYTJmZTQ1ZTQ5M2Q0Yl9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E3NTRlYmMzYjYxMjQ2MmViNTNhMmZlNDVlNDkzZDRiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYTc1NGViYzNiNjEyNDYyZWI1M2EyZmU0NWU0OTNkNGIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYTc1NGViYzNiNjEyNDYyZWI1M2EyZmU0NWU0OTNkNGJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fYTc1NGViYzNiNjEyNDYyZWI1M2EyZmU0NWU0OTNkNGJfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfOGFhOWQ5Yzc2YjU5NDU4NjliYTcwYmY2NjQ1ZWU4ZTcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hNzU0ZWJjM2I2MTI0NjJlYjUzYTJmZTQ1ZTQ5M2Q0Yl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYTc1NGViYzNiNjEyNDYyZWI1M2EyZmU0NWU0OTNkNGIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2E3NTRlYmMzYjYxMjQ2MmViNTNhMmZlNDVlNDkzZDRiX2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbOTEuMTQ1NTAxNjM5ODc2NSwgMzEuNTM4OTY0OTQ1MzU5OF0sIFs5MS4zMTA1ODUzNTAyMzQ3LCAzMS41Mzg5NjQ5NDUzNTk4XSwgWzkxLjMxMDU4NTM1MDIzNDcsIDMxLjg5NjExODczMTg5MDVdLCBbOTEuMTQ1NTAxNjM5ODc2NSwgMzEuODk2MTE4NzMxODkwNV0sIFs5MS4xNDU1MDE2Mzk4NzY1LCAzMS41Mzg5NjQ5NDUzNTk4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTVhYzAxZTg5NGQ2NDA2YWFkNmVkMDM2NDJhOWE3NzMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODAzODY4ZGE1YTA1NDQ0ODgwMjc0MjliZDUyZDA1YjMgPSAkKGA8ZGl2IGlkPSJodG1sXzgwMzg2OGRhNWEwNTQ0NDg4MDI3NDI5YmQ1MmQwNWIzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEzMDAwNTc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVUFWIHN1cnZleWluZyBkYXRhIGFsb25nIHRoZSBEb25nIENvIEZhdWx0IGFuZCBpdHMgdHJhY2VzLCBpbiBjZW50cmFsIFRpYmV0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjEzMDAwNTg8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS1OQy00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2U1YWMwMWU4OTRkNjQwNmFhZDZlZDAzNjQyYTlhNzczLnNldENvbnRlbnQoaHRtbF84MDM4NjhkYTVhMDU0NDQ4ODAyNzQyOWJkNTJkMDViMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2E3NTRlYmMzYjYxMjQ2MmViNTNhMmZlNDVlNDkzZDRiLmJpbmRQb3B1cChwb3B1cF9lNWFjMDFlODk0ZDY0MDZhYWQ2ZWQwMzY0MmE5YTc3MykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNTY3MzM3OGZiZTc0ZDZhOTAwMjBmMTcwNzU5ZTNlOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzI1NjczMzc4ZmJlNzRkNmE5MDAyMGYxNzA3NTllM2U4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzI1NjczMzc4ZmJlNzRkNmE5MDAyMGYxNzA3NTllM2U4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfOGFhOWQ5Yzc2YjU5NDU4NjliYTcwYmY2NjQ1ZWU4ZTcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNTY3MzM3OGZiZTc0ZDZhOTAwMjBmMTcwNzU5ZTNlOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMjU2NzMzNzhmYmU3NGQ2YTkwMDIwZjE3MDc1OWUzZTguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzI1NjczMzc4ZmJlNzRkNmE5MDAyMGYxNzA3NTllM2U4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbOTEuMjc5NjI4NTk3NzAyNywgMzEuODI5MzMxODQ0NTM1MV0sIFs5MS4yODgzOTA5Njc5NTQ0LCAzMS44MjkzMzE4NDQ1MzUxXSwgWzkxLjI4ODM5MDk2Nzk1NDQsIDMxLjgzNTQ4Mzg2MzM4NjldLCBbOTEuMjc5NjI4NTk3NzAyNywgMzEuODM1NDgzODYzMzg2OV0sIFs5MS4yNzk2Mjg1OTc3MDI3LCAzMS44MjkzMzE4NDQ1MzUxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzFlMjY2YzU0MmViNzQ0ZTY4MTYzMDIzZWE1ZWJlMDVjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzk4YWRmM2Y4MGRjZjQzN2JhMmJjOTdjMWUwM2VkMTljID0gJChgPGRpdiBpZD0iaHRtbF85OGFkZjNmODBkY2Y0MzdiYTJiYzk3YzFlMDNlZDE5YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gRENGJTIwVUFWJTIwZGF0YS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxMzAwMDU3PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFVBViBzdXJ2ZXlpbmcgZGF0YSBhbG9uZyB0aGUgRG9uZyBDbyBGYXVsdCBhbmQgaXRzIHRyYWNlcywgaW4gY2VudHJhbCBUaWJldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMTMwMDA1ODwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLU5DLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzFlMjY2YzU0MmViNzQ0ZTY4MTYzMDIzZWE1ZWJlMDVjLnNldENvbnRlbnQoaHRtbF85OGFkZjNmODBkY2Y0MzdiYTJiYzk3YzFlMDNlZDE5Yyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzI1NjczMzc4ZmJlNzRkNmE5MDAyMGYxNzA3NTllM2U4LmJpbmRQb3B1cChwb3B1cF8xZTI2NmM1NDJlYjc0NGU2ODE2MzAyM2VhNWViZTA1YykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hYjU3YTAwYjhkMGM0MjRmYWZiZDRiM2QwMDUzZjJkOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2FiNTdhMDBiOGQwYzQyNGZhZmJkNGIzZDAwNTNmMmQ5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2FiNTdhMDBiOGQwYzQyNGZhZmJkNGIzZDAwNTNmMmQ5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfOGFhOWQ5Yzc2YjU5NDU4NjliYTcwYmY2NjQ1ZWU4ZTcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hYjU3YTAwYjhkMGM0MjRmYWZiZDRiM2QwMDUzZjJkOV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYWI1N2EwMGI4ZDBjNDI0ZmFmYmQ0YjNkMDA1M2YyZDkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2FiNTdhMDBiOGQwYzQyNGZhZmJkNGIzZDAwNTNmMmQ5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbOTEuMTQ1NTAxNjM5ODc2NSwgMzEuNTM4OTY0OTQ1MzU5OF0sIFs5MS4zMTA1ODUzNTAyMzQ3LCAzMS41Mzg5NjQ5NDUzNTk4XSwgWzkxLjMxMDU4NTM1MDIzNDcsIDMxLjg5NjExODczMTg5MDVdLCBbOTEuMTQ1NTAxNjM5ODc2NSwgMzEuODk2MTE4NzMxODkwNV0sIFs5MS4xNDU1MDE2Mzk4NzY1LCAzMS41Mzg5NjQ5NDUzNTk4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzVmZjU3ZDc5YTc4ZDRiMzE5NmYxMGQ5NjhhNGViYzQyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQ0ODUzNzAwMGI0YTQzMmRiNDlhMTEwNmFlMjhjZTc3ID0gJChgPGRpdiBpZD0iaHRtbF80NDg1MzcwMDBiNGE0MzJkYjQ5YTExMDZhZTI4Y2U3NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gZG9jLmttbDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4ga21sPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEzMDAwNTc8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVUFWIHN1cnZleWluZyBkYXRhIGFsb25nIHRoZSBEb25nIENvIEZhdWx0IGFuZCBpdHMgdHJhY2VzLCBpbiBjZW50cmFsIFRpYmV0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xMzAwMDU4PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktTkMtNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNWZmNTdkNzlhNzhkNGIzMTk2ZjEwZDk2OGE0ZWJjNDIuc2V0Q29udGVudChodG1sXzQ0ODUzNzAwMGI0YTQzMmRiNDlhMTEwNmFlMjhjZTc3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYWI1N2EwMGI4ZDBjNDI0ZmFmYmQ0YjNkMDA1M2YyZDkuYmluZFBvcHVwKHBvcHVwXzVmZjU3ZDc5YTc4ZDRiMzE5NmYxMGQ5NjhhNGViYzQyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDllM2VlNTgyNjIxNDUwNGFiMTA1YWFkNTAzMjhhMzZfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wOWUzZWU1ODI2MjE0NTA0YWIxMDVhYWQ1MDMyOGEzNl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzA5ZTNlZTU4MjYyMTQ1MDRhYjEwNWFhZDUwMzI4YTM2ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzA5ZTNlZTU4MjYyMTQ1MDRhYjEwNWFhZDUwMzI4YTM2X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzA5ZTNlZTU4MjYyMTQ1MDRhYjEwNWFhZDUwMzI4YTM2X3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDllM2VlNTgyNjIxNDUwNGFiMTA1YWFkNTAzMjhhMzZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzA5ZTNlZTU4MjYyMTQ1MDRhYjEwNWFhZDUwMzI4YTM2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wOWUzZWU1ODI2MjE0NTA0YWIxMDVhYWQ1MDMyOGEzNl9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWy0xODAuMCwgLTkwLjBdLCBbMTgwLjAsIC05MC4wXSwgWzE4MC4wLCA5MC4wXSwgWy0xODAuMCwgOTAuMF0sIFstMTgwLjAsIC05MC4wXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZjI0NjExYjFhMmEyNDYxZjkxMTE1ZWY0ZjFkNjQ3OGEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMmViZmJlNDFkMmFlNGNlNjhkMzc2MGQ2NTI4YzY5N2IgPSAkKGA8ZGl2IGlkPSJodG1sXzJlYmZiZTQxZDJhZTRjZTY4ZDM3NjBkNjUyOGM2OTdiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj4yMDEyLTA1LTA2LzIwMTUtMDMtMjU8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mMjQ2MTFiMWEyYTI0NjFmOTExMTVlZjRmMWQ2NDc4YS5zZXRDb250ZW50KGh0bWxfMmViZmJlNDFkMmFlNGNlNjhkMzc2MGQ2NTI4YzY5N2IpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wOWUzZWU1ODI2MjE0NTA0YWIxMDVhYWQ1MDMyOGEzNi5iaW5kUG9wdXAocG9wdXBfZjI0NjExYjFhMmEyNDYxZjkxMTE1ZWY0ZjFkNjQ3OGEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzMxYTliN2QxOTJiNDIzNTkxZWUyZGFiYWQ1Y2QzMWZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zMzFhOWI3ZDE5MmI0MjM1OTFlZTJkYWJhZDVjZDMxZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zMzFhOWI3ZDE5MmI0MjM1OTFlZTJkYWJhZDVjZDMxZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzMxYTliN2QxOTJiNDIzNTkxZWUyZGFiYWQ1Y2QzMWZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzMzMWE5YjdkMTkyYjQyMzU5MWVlMmRhYmFkNWNkMzFmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zMzFhOWI3ZDE5MmI0MjM1OTFlZTJkYWJhZDVjZDMxZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMTkuNTQ4Mzc0NzkxMDg1LCAtNTYuNzMxNjQxNzM1NjIzM10sIFstMTE5LjE2NjI0MjE5ODYxMSwgLTU2LjczMTY0MTczNTYyMzNdLCBbLTExOS4xNjYyNDIxOTg2MTEsIC01Ni40OTkwOTE5Mjk2MTk0XSwgWy0xMTkuNTQ4Mzc0NzkxMDg1LCAtNTYuNDk5MDkxOTI5NjE5NF0sIFstMTE5LjU0ODM3NDc5MTA4NSwgLTU2LjczMTY0MTczNTYyMzNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzhjZWJmZjc5MzhhNGM5MGJmMGFiMTdiMjI4OWYyMmUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMTBmMWYzN2RkODYwNDJhMmI4NmZkYTJlODI2MmI4NTQgPSAkKGA8ZGl2IGlkPSJodG1sXzEwZjFmMzdkZDg2MDQyYTJiODZmZGEyZTgyNjJiODU0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAwZmQuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzM4Y2ViZmY3OTM4YTRjOTBiZjBhYjE3YjIyODlmMjJlLnNldENvbnRlbnQoaHRtbF8xMGYxZjM3ZGQ4NjA0MmEyYjg2ZmRhMmU4MjYyYjg1NCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzMzMWE5YjdkMTkyYjQyMzU5MWVlMmRhYmFkNWNkMzFmLmJpbmRQb3B1cChwb3B1cF8zOGNlYmZmNzkzOGE0YzkwYmYwYWIxN2IyMjg5ZjIyZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kMTY0MzZiZDY3OTc0YTY0YTljOTk1MTgxMWJiZjQwMl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2QxNjQzNmJkNjc5NzRhNjRhOWM5OTUxODExYmJmNDAyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2QxNjQzNmJkNjc5NzRhNjRhOWM5OTUxODExYmJmNDAyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kMTY0MzZiZDY3OTc0YTY0YTljOTk1MTgxMWJiZjQwMl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDE2NDM2YmQ2Nzk3NGE2NGE5Yzk5NTE4MTFiYmY0MDIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2QxNjQzNmJkNjc5NzRhNjRhOWM5OTUxODExYmJmNDAyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE4MC4wLCAtOTAuMF0sIFsxODAuMCwgLTkwLjBdLCBbMTgwLjAsIDkwLjBdLCBbLTE4MC4wLCA5MC4wXSwgWy0xODAuMCwgLTkwLjBdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNWUwMmFjZWUyNjZkNDgzOGI1NzIxNDYxOGVhMjBjMDUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjY3ZjQzZWRmOGRmNGJiY2E3OTFkNGU1NzhjNjFmYzYgPSAkKGA8ZGl2IGlkPSJodG1sX2Y2N2Y0M2VkZjhkZjRiYmNhNzkxZDRlNTc4YzYxZmM2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAwMDQuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzVlMDJhY2VlMjY2ZDQ4MzhiNTcyMTQ2MThlYTIwYzA1LnNldENvbnRlbnQoaHRtbF9mNjdmNDNlZGY4ZGY0YmJjYTc5MWQ0ZTU3OGM2MWZjNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2QxNjQzNmJkNjc5NzRhNjRhOWM5OTUxODExYmJmNDAyLmJpbmRQb3B1cChwb3B1cF81ZTAyYWNlZTI2NmQ0ODM4YjU3MjE0NjE4ZWEyMGMwNSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85ZmNjMGUwNzZmYmE0MGQ1YmM1NzRlNmM5YTIwZmUzNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzlmY2MwZTA3NmZiYTQwZDViYzU3NGU2YzlhMjBmZTM1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzlmY2MwZTA3NmZiYTQwZDViYzU3NGU2YzlhMjBmZTM1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85ZmNjMGUwNzZmYmE0MGQ1YmM1NzRlNmM5YTIwZmUzNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOWZjYzBlMDc2ZmJhNDBkNWJjNTc0ZTZjOWEyMGZlMzUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzlmY2MwZTA3NmZiYTQwZDViYzU3NGU2YzlhMjBmZTM1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTExOS42MzgyNTUxNTY5MjMsIC01Ni45MzExODE4MTQxOTUxXSwgWy0xMTguODIwMzQ0MzM1Njg5LCAtNTYuOTMxMTgxODE0MTk1MV0sIFstMTE4LjgyMDM0NDMzNTY4OSwgLTU2LjQyNTY4OTQ0NjExM10sIFstMTE5LjYzODI1NTE1NjkyMywgLTU2LjQyNTY4OTQ0NjExM10sIFstMTE5LjYzODI1NTE1NjkyMywgLTU2LjkzMTE4MTgxNDE5NTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNTE0NmFjNTI4OGUyNDJmYzkwNWNkMmZhNzQ2MzUzZDkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDAyYzUxOTcyY2M3NDdiYTg3MDIxOTgyMjFlODM1NTcgPSAkKGA8ZGl2IGlkPSJodG1sX2QwMmM1MTk3MmNjNzQ3YmE4NzAyMTk4MjIxZTgzNTU3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAxNzQuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzUxNDZhYzUyODhlMjQyZmM5MDVjZDJmYTc0NjM1M2Q5LnNldENvbnRlbnQoaHRtbF9kMDJjNTE5NzJjYzc0N2JhODcwMjE5ODIyMWU4MzU1Nyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzlmY2MwZTA3NmZiYTQwZDViYzU3NGU2YzlhMjBmZTM1LmJpbmRQb3B1cChwb3B1cF81MTQ2YWM1Mjg4ZTI0MmZjOTA1Y2QyZmE3NDYzNTNkOSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85Nzk2Yzk3YWUzNGQ0MjU4ODRhNTZmYzkyMWE2NjM0MV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzk3OTZjOTdhZTM0ZDQyNTg4NGE1NmZjOTIxYTY2MzQxID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzk3OTZjOTdhZTM0ZDQyNTg4NGE1NmZjOTIxYTY2MzQxX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85Nzk2Yzk3YWUzNGQ0MjU4ODRhNTZmYzkyMWE2NjM0MV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOTc5NmM5N2FlMzRkNDI1ODg0YTU2ZmM5MjFhNjYzNDEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzk3OTZjOTdhZTM0ZDQyNTg4NGE1NmZjOTIxYTY2MzQxX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTExOS43NDc5OTU4MTkyMTMsIC01Ny4wNDMyNzQ3NzQ4MTAyXSwgWy0xMTguNzY5NjU5MjY5MDY5LCAtNTcuMDQzMjc0Nzc0ODEwMl0sIFstMTE4Ljc2OTY1OTI2OTA2OSwgLTU2LjQxOTg5MTczMjc5MTFdLCBbLTExOS43NDc5OTU4MTkyMTMsIC01Ni40MTk4OTE3MzI3OTExXSwgWy0xMTkuNzQ3OTk1ODE5MjEzLCAtNTcuMDQzMjc0Nzc0ODEwMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85ZTVkZTI4MzUxMDY0NmU5OWRhNzExNGMwYWJlYzQ2MiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wMzI4M2M1NGNhZmQ0OGUxYTU4ZTI0MjA4YTIzMzBiNyA9ICQoYDxkaXYgaWQ9Imh0bWxfMDMyODNjNTRjYWZkNDhlMWE1OGUyNDIwOGEyMzMwYjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDE1MC5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOWU1ZGUyODM1MTA2NDZlOTlkYTcxMTRjMGFiZWM0NjIuc2V0Q29udGVudChodG1sXzAzMjgzYzU0Y2FmZDQ4ZTFhNThlMjQyMDhhMjMzMGI3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTc5NmM5N2FlMzRkNDI1ODg0YTU2ZmM5MjFhNjYzNDEuYmluZFBvcHVwKHBvcHVwXzllNWRlMjgzNTEwNjQ2ZTk5ZGE3MTE0YzBhYmVjNDYyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQwN2UxMWJiZTc3YzQ1Y2JiMzYxMWJmNjAxM2IwMTBmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNDA3ZTExYmJlNzdjNDVjYmIzNjExYmY2MDEzYjAxMGYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNDA3ZTExYmJlNzdjNDVjYmIzNjExYmY2MDEzYjAxMGZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQwN2UxMWJiZTc3YzQ1Y2JiMzYxMWJmNjAxM2IwMTBmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80MDdlMTFiYmU3N2M0NWNiYjM2MTFiZjYwMTNiMDEwZi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNDA3ZTExYmJlNzdjNDVjYmIzNjExYmY2MDEzYjAxMGZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5LjY1MzQzMjY3OTc0MSwgLTU2LjkzMTE4MTgxNDE0NTNdLCBbLTExOC44MjAzNDQzMzYwMzksIC01Ni45MzExODE4MTQxNDUzXSwgWy0xMTguODIwMzQ0MzM2MDM5LCAtNTYuNDIxNTk4MjE3MzYwNl0sIFstMTE5LjY1MzQzMjY3OTc0MSwgLTU2LjQyMTU5ODIxNzM2MDZdLCBbLTExOS42NTM0MzI2Nzk3NDEsIC01Ni45MzExODE4MTQxNDUzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2JiNGIzZDQ1M2IwNjQxZDJhMzI5ZTRjZjEwNDgwYmU3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Q5NmE5MjBjMmYzMzQ0M2ZiMmFiMzM3NzFjODJhNzEwID0gJChgPGRpdiBpZD0iaHRtbF9kOTZhOTIwYzJmMzM0NDNmYjJhYjMzNzcxYzgyYTcxMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMTk4LmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzkxNDYwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgcGVydGFpbmluZyB0byAnQ2FuIGFydGVzaWFuIGdyb3VuZHdhdGVyIGFuZCBlYXJ0aHF1YWtlLWluZHVjZWQgYXF1aWZlciBsZWFrYWdlIGV4YWNlcmJhdGUgdGhlIG1hbmlmZXN0YXRpb24gb2YgbGlxdWVmYWN0aW9uPyc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTE0NjE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iYjRiM2Q0NTNiMDY0MWQyYTMyOWU0Y2YxMDQ4MGJlNy5zZXRDb250ZW50KGh0bWxfZDk2YTkyMGMyZjMzNDQzZmIyYWIzMzc3MWM4MmE3MTApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl80MDdlMTFiYmU3N2M0NWNiYjM2MTFiZjYwMTNiMDEwZi5iaW5kUG9wdXAocG9wdXBfYmI0YjNkNDUzYjA2NDFkMmEzMjllNGNmMTA0ODBiZTcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWRmODViOWJlZTMyNDc4Nzg4MmIzMGVmYTRkZDhhNTFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85ZGY4NWI5YmVlMzI0Nzg3ODgyYjMwZWZhNGRkOGE1MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85ZGY4NWI5YmVlMzI0Nzg3ODgyYjMwZWZhNGRkOGE1MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWRmODViOWJlZTMyNDc4Nzg4MmIzMGVmYTRkZDhhNTFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzlkZjg1YjliZWUzMjQ3ODc4ODJiMzBlZmE0ZGQ4YTUxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85ZGY4NWI5YmVlMzI0Nzg3ODgyYjMwZWZhNGRkOGE1MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMTkuNzcxODk3MzEzNDYxLCAtNTYuODcyNjY3NzI0Nzc2MV0sIFstMTE4LjkxMzIwMTA4MzgzOSwgLTU2Ljg3MjY2NzcyNDc3NjFdLCBbLTExOC45MTMyMDEwODM4MzksIC01Ni40MTM2NjQ4Njc2MjIyXSwgWy0xMTkuNzcxODk3MzEzNDYxLCAtNTYuNDEzNjY0ODY3NjIyMl0sIFstMTE5Ljc3MTg5NzMxMzQ2MSwgLTU2Ljg3MjY2NzcyNDc3NjFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZWJmOGMxNDllYjhiNDcwYmJkMGI1OTZkZWViNDIxYWIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYmNhODc3Y2VhNDJhNDA4MjgzZmRhYmY4Y2M0ZDU2M2YgPSAkKGA8ZGl2IGlkPSJodG1sX2JjYTg3N2NlYTQyYTQwODI4M2ZkYWJmOGNjNGQ1NjNmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAxMWUuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ViZjhjMTQ5ZWI4YjQ3MGJiZDBiNTk2ZGVlYjQyMWFiLnNldENvbnRlbnQoaHRtbF9iY2E4NzdjZWE0MmE0MDgyODNmZGFiZjhjYzRkNTYzZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzlkZjg1YjliZWUzMjQ3ODc4ODJiMzBlZmE0ZGQ4YTUxLmJpbmRQb3B1cChwb3B1cF9lYmY4YzE0OWViOGI0NzBiYmQwYjU5NmRlZWI0MjFhYikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMzE3ZDMwMjAyYjg0OTMxYWYzZjE3OWUyNmVkOTBlM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzMzMTdkMzAyMDJiODQ5MzFhZjNmMTc5ZTI2ZWQ5MGUzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzMzMTdkMzAyMDJiODQ5MzFhZjNmMTc5ZTI2ZWQ5MGUzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMzE3ZDMwMjAyYjg0OTMxYWYzZjE3OWUyNmVkOTBlM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzMxN2QzMDIwMmI4NDkzMWFmM2YxNzllMjZlZDkwZTMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzMzMTdkMzAyMDJiODQ5MzFhZjNmMTc5ZTI2ZWQ5MGUzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTExOS42MjY0ODQ5NzI2MjcsIC01Ni45MTc1NjU4NzIyMTg0XSwgWy0xMTguODIwMzQ0MzM1Njg5LCAtNTYuOTE3NTY1ODcyMjE4NF0sIFstMTE4LjgyMDM0NDMzNTY4OSwgLTU2LjQyNTU0ODM5Mzc0MzNdLCBbLTExOS42MjY0ODQ5NzI2MjcsIC01Ni40MjU1NDgzOTM3NDMzXSwgWy0xMTkuNjI2NDg0OTcyNjI3LCAtNTYuOTE3NTY1ODcyMjE4NF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84NzRmMjVkNTJiZGM0NTU4YTFlY2RkMDdlNWM5OTg0YiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yY2E3NzcwYTAzNjg0YTUxYTA1NjcyNGIzMzYyOTI3NSA9ICQoYDxkaXYgaWQ9Imh0bWxfMmNhNzc3MGEwMzY4NGE1MWEwNTY3MjRiMzM2MjkyNzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDE3My5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODc0ZjI1ZDUyYmRjNDU1OGExZWNkZDA3ZTVjOTk4NGIuc2V0Q29udGVudChodG1sXzJjYTc3NzBhMDM2ODRhNTFhMDU2NzI0YjMzNjI5Mjc1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzMxN2QzMDIwMmI4NDkzMWFmM2YxNzllMjZlZDkwZTMuYmluZFBvcHVwKHBvcHVwXzg3NGYyNWQ1MmJkYzQ1NThhMWVjZGQwN2U1Yzk5ODRiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZiNGE4NzM3ZTZhZTRkOTM5MGMxMjdjYTBjYzRkODcwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNmI0YTg3MzdlNmFlNGQ5MzkwYzEyN2NhMGNjNGQ4NzAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNmI0YTg3MzdlNmFlNGQ5MzkwYzEyN2NhMGNjNGQ4NzBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZiNGE4NzM3ZTZhZTRkOTM5MGMxMjdjYTBjYzRkODcwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82YjRhODczN2U2YWU0ZDkzOTBjMTI3Y2EwY2M0ZDg3MC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNmI0YTg3MzdlNmFlNGQ5MzkwYzEyN2NhMGNjNGQ4NzBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5LjU0ODM3NDc5MTA4NSwgLTU2LjczMTY0MTczNTYyMzNdLCBbLTExOS4xNjYyNDIxOTg2MTEsIC01Ni43MzE2NDE3MzU2MjMzXSwgWy0xMTkuMTY2MjQyMTk4NjExLCAtNTYuNDk5MDkxOTI5NjE5NF0sIFstMTE5LjU0ODM3NDc5MTA4NSwgLTU2LjQ5OTA5MTkyOTYxOTRdLCBbLTExOS41NDgzNzQ3OTEwODUsIC01Ni43MzE2NDE3MzU2MjMzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzJlZjgyZjBlM2U2ZjRjMjc5MzU0ZDNhNzE4NGQzNGM0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzBkMGQxYzRjMDllMTQ3MGM5ZTAyZmU1MzYzNzM3ZWU5ID0gJChgPGRpdiBpZD0iaHRtbF8wZDBkMWM0YzA5ZTE0NzBjOWUwMmZlNTM2MzczN2VlOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMGY4LmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzkxNDYwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgcGVydGFpbmluZyB0byAnQ2FuIGFydGVzaWFuIGdyb3VuZHdhdGVyIGFuZCBlYXJ0aHF1YWtlLWluZHVjZWQgYXF1aWZlciBsZWFrYWdlIGV4YWNlcmJhdGUgdGhlIG1hbmlmZXN0YXRpb24gb2YgbGlxdWVmYWN0aW9uPyc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTE0NjE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yZWY4MmYwZTNlNmY0YzI3OTM1NGQzYTcxODRkMzRjNC5zZXRDb250ZW50KGh0bWxfMGQwZDFjNGMwOWUxNDcwYzllMDJmZTUzNjM3MzdlZTkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82YjRhODczN2U2YWU0ZDkzOTBjMTI3Y2EwY2M0ZDg3MC5iaW5kUG9wdXAocG9wdXBfMmVmODJmMGUzZTZmNGMyNzkzNTRkM2E3MTg0ZDM0YzQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjdlYmMwNzVjZjQ2NGE5NmEwNzVjOWEwZGFhMDZlZDJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mN2ViYzA3NWNmNDY0YTk2YTA3NWM5YTBkYWEwNmVkMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mN2ViYzA3NWNmNDY0YTk2YTA3NWM5YTBkYWEwNmVkMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjdlYmMwNzVjZjQ2NGE5NmEwNzVjOWEwZGFhMDZlZDJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Y3ZWJjMDc1Y2Y0NjRhOTZhMDc1YzlhMGRhYTA2ZWQyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mN2ViYzA3NWNmNDY0YTk2YTA3NWM5YTBkYWEwNmVkMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMzgxNzI1NjIxMzE1LCAtNTguMzcxNjQ5NjY5MTUxN10sIFstMTE1LjgzNTQ2MTY0MDAwNCwgLTU4LjM3MTY0OTY2OTE1MTddLCBbLTExNS44MzU0NjE2NDAwMDQsIC01NS40NzQyMzQxMzI5MzU1XSwgWy0xMjEuMzgxNzI1NjIxMzE1LCAtNTUuNDc0MjM0MTMyOTM1NV0sIFstMTIxLjM4MTcyNTYyMTMxNSwgLTU4LjM3MTY0OTY2OTE1MTddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjAxM2NjOWZiMTlmNGFhOTg5NGQyZmM4OGIxZTEyOWMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODJlMmE1N2ZhYjUwNDM4OTlkMWFjY2RmNDAxYjg3MDQgPSAkKGA8ZGl2IGlkPSJodG1sXzgyZTJhNTdmYWI1MDQzODk5ZDFhY2NkZjQwMWI4NzA0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAxNGUuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzYwMTNjYzlmYjE5ZjRhYTk4OTRkMmZjODhiMWUxMjljLnNldENvbnRlbnQoaHRtbF84MmUyYTU3ZmFiNTA0Mzg5OWQxYWNjZGY0MDFiODcwNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Y3ZWJjMDc1Y2Y0NjRhOTZhMDc1YzlhMGRhYTA2ZWQyLmJpbmRQb3B1cChwb3B1cF82MDEzY2M5ZmIxOWY0YWE5ODk0ZDJmYzg4YjFlMTI5YykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMDg3ZWNkMzYzM2I0NWIxYTRjNTZlYTRkZWY5YTVjZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzMwODdlY2QzNjMzYjQ1YjFhNGM1NmVhNGRlZjlhNWNkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzMwODdlY2QzNjMzYjQ1YjFhNGM1NmVhNGRlZjlhNWNkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMDg3ZWNkMzYzM2I0NWIxYTRjNTZlYTRkZWY5YTVjZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzA4N2VjZDM2MzNiNDViMWE0YzU2ZWE0ZGVmOWE1Y2QuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzMwODdlY2QzNjMzYjQ1YjFhNGM1NmVhNGRlZjlhNWNkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTExOS42Mzg4MDk0MjQ4NzYsIC01Ni45MzExODE4MTQxOTUxXSwgWy0xMTguODIwMzQ0MzM1Njg5LCAtNTYuOTMxMTgxODE0MTk1MV0sIFstMTE4LjgyMDM0NDMzNTY4OSwgLTU2LjQyNTU0MDEwMzc5MDRdLCBbLTExOS42Mzg4MDk0MjQ4NzYsIC01Ni40MjU1NDAxMDM3OTA0XSwgWy0xMTkuNjM4ODA5NDI0ODc2LCAtNTYuOTMxMTgxODE0MTk1MV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mMWE4NjBhNjBjMDk0MjFlOTQ4MWM4ZjdhYjYyZDRhYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83NTAyYmI0MjYzOWQ0NTVkYmYxMDc5YTgyNTAzOTg3ZSA9ICQoYDxkaXYgaWQ9Imh0bWxfNzUwMmJiNDI2MzlkNDU1ZGJmMTA3OWE4MjUwMzk4N2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDE1ZC5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZjFhODYwYTYwYzA5NDIxZTk0ODFjOGY3YWI2MmQ0YWEuc2V0Q29udGVudChodG1sXzc1MDJiYjQyNjM5ZDQ1NWRiZjEwNzlhODI1MDM5ODdlKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzA4N2VjZDM2MzNiNDViMWE0YzU2ZWE0ZGVmOWE1Y2QuYmluZFBvcHVwKHBvcHVwX2YxYTg2MGE2MGMwOTQyMWU5NDgxYzhmN2FiNjJkNGFhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MzMzg4NTc0OGIwMTRhOTY4MzBjYzJhNzMwNDVjOTI1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYzMzODg1NzQ4YjAxNGE5NjgzMGNjMmE3MzA0NWM5MjUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYzMzODg1NzQ4YjAxNGE5NjgzMGNjMmE3MzA0NWM5MjVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MzMzg4NTc0OGIwMTRhOTY4MzBjYzJhNzMwNDVjOTI1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jMzM4ODU3NDhiMDE0YTk2ODMwY2MyYTczMDQ1YzkyNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYzMzODg1NzQ4YjAxNGE5NjgzMGNjMmE3MzA0NWM5MjVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5LjY1MzQzMjY3OTIwNSwgLTU2LjkzMTE4MTgxNDE5NTFdLCBbLTExOC44MjAzNDQzMzU2ODksIC01Ni45MzExODE4MTQxOTUxXSwgWy0xMTguODIwMzQ0MzM1Njg5LCAtNTYuNDIxNTk4MjE3Mjc3OF0sIFstMTE5LjY1MzQzMjY3OTIwNSwgLTU2LjQyMTU5ODIxNzI3NzhdLCBbLTExOS42NTM0MzI2NzkyMDUsIC01Ni45MzExODE4MTQxOTUxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzJmNTMzYWNjMzc5YTRlNDhhN2RkZTlhNDNlODRhZTU3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzg5MmM1Y2ZjNTljZjRkMGU4MDhhYzc3OTY5ZWUxMDM2ID0gJChgPGRpdiBpZD0iaHRtbF84OTJjNWNmYzU5Y2Y0ZDBlODA4YWM3Nzk2OWVlMTAzNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMTYzLmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzkxNDYwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgcGVydGFpbmluZyB0byAnQ2FuIGFydGVzaWFuIGdyb3VuZHdhdGVyIGFuZCBlYXJ0aHF1YWtlLWluZHVjZWQgYXF1aWZlciBsZWFrYWdlIGV4YWNlcmJhdGUgdGhlIG1hbmlmZXN0YXRpb24gb2YgbGlxdWVmYWN0aW9uPyc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTE0NjE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yZjUzM2FjYzM3OWE0ZTQ4YTdkZGU5YTQzZTg0YWU1Ny5zZXRDb250ZW50KGh0bWxfODkyYzVjZmM1OWNmNGQwZTgwOGFjNzc5NjllZTEwMzYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jMzM4ODU3NDhiMDE0YTk2ODMwY2MyYTczMDQ1YzkyNS5iaW5kUG9wdXAocG9wdXBfMmY1MzNhY2MzNzlhNGU0OGE3ZGRlOWE0M2U4NGFlNTcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjcyOWExMjM2NzkxNGI2MGI2NWJkNTg1MzUyNjkwNTdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iNzI5YTEyMzY3OTE0YjYwYjY1YmQ1ODUzNTI2OTA1NyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iNzI5YTEyMzY3OTE0YjYwYjY1YmQ1ODUzNTI2OTA1N19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjcyOWExMjM2NzkxNGI2MGI2NWJkNTg1MzUyNjkwNTdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2I3MjlhMTIzNjc5MTRiNjBiNjViZDU4NTM1MjY5MDU3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iNzI5YTEyMzY3OTE0YjYwYjY1YmQ1ODUzNTI2OTA1N19hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMTkuNzQ2OTgxOTAxNzgsIC01Ny4wMjQzOTE1ODY1NDc4XSwgWy0xMTguODQ4MjI3ODY3NjczLCAtNTcuMDI0MzkxNTg2NTQ3OF0sIFstMTE4Ljg0ODIyNzg2NzY3MywgLTU2LjQzMTYwMjA0MDUwNzldLCBbLTExOS43NDY5ODE5MDE3OCwgLTU2LjQzMTYwMjA0MDUwNzldLCBbLTExOS43NDY5ODE5MDE3OCwgLTU3LjAyNDM5MTU4NjU0NzhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjk3ZTBhNTUzYmI5NDhkZDg3YzFkM2Q3ODAzMjE0ZjMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYTBjN2VjNTQ4NWUzNGJlMmFiY2E1ZjYxNjNiZmUxNGIgPSAkKGA8ZGl2IGlkPSJodG1sX2EwYzdlYzU0ODVlMzRiZTJhYmNhNWY2MTYzYmZlMTRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAxNTEuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2I5N2UwYTU1M2JiOTQ4ZGQ4N2MxZDNkNzgwMzIxNGYzLnNldENvbnRlbnQoaHRtbF9hMGM3ZWM1NDg1ZTM0YmUyYWJjYTVmNjE2M2JmZTE0Yik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2I3MjlhMTIzNjc5MTRiNjBiNjViZDU4NTM1MjY5MDU3LmJpbmRQb3B1cChwb3B1cF9iOTdlMGE1NTNiYjk0OGRkODdjMWQzZDc4MDMyMTRmMykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNDk4M2VkMGQyODc0MmM1ODdiMDYzYWU3MWU0MTg5YV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzI0OTgzZWQwZDI4NzQyYzU4N2IwNjNhZTcxZTQxODlhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzI0OTgzZWQwZDI4NzQyYzU4N2IwNjNhZTcxZTQxODlhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNDk4M2VkMGQyODc0MmM1ODdiMDYzYWU3MWU0MTg5YV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMjQ5ODNlZDBkMjg3NDJjNTg3YjA2M2FlNzFlNDE4OWEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzI0OTgzZWQwZDI4NzQyYzU4N2IwNjNhZTcxZTQxODlhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTExOS42NTgzMzI0MzUxMjMsIC01Ni45MzE0NDA4NDM2NjEyXSwgWy0xMTguODE5ODc4MDY3Mjg0LCAtNTYuOTMxNDQwODQzNjYxMl0sIFstMTE4LjgxOTg3ODA2NzI4NCwgLTU2LjQyMDE0NjAwNjkxNV0sIFstMTE5LjY1ODMzMjQzNTEyMywgLTU2LjQyMDE0NjAwNjkxNV0sIFstMTE5LjY1ODMzMjQzNTEyMywgLTU2LjkzMTQ0MDg0MzY2MTJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjFjMWI0ZDIxMmM1NDg5NmE3YmMzN2M5YjEyYjlmMmQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjhiYzQ0MzQ1MjBmNDU5NDgwN2Q5NTJjMTdiN2RjZDAgPSAkKGA8ZGl2IGlkPSJodG1sXzI4YmM0NDM0NTIwZjQ1OTQ4MDdkOTUyYzE3YjdkY2QwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAwN2YuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzYxYzFiNGQyMTJjNTQ4OTZhN2JjMzdjOWIxMmI5ZjJkLnNldENvbnRlbnQoaHRtbF8yOGJjNDQzNDUyMGY0NTk0ODA3ZDk1MmMxN2I3ZGNkMCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzI0OTgzZWQwZDI4NzQyYzU4N2IwNjNhZTcxZTQxODlhLmJpbmRQb3B1cChwb3B1cF82MWMxYjRkMjEyYzU0ODk2YTdiYzM3YzliMTJiOWYyZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hNDM4NDZmZGQ0OGI0ZTg2OGZmMWE1MTYzYWYyOTMyM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2E0Mzg0NmZkZDQ4YjRlODY4ZmYxYTUxNjNhZjI5MzIzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2E0Mzg0NmZkZDQ4YjRlODY4ZmYxYTUxNjNhZjI5MzIzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hNDM4NDZmZGQ0OGI0ZTg2OGZmMWE1MTYzYWYyOTMyM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYTQzODQ2ZmRkNDhiNGU4NjhmZjFhNTE2M2FmMjkzMjMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2E0Mzg0NmZkZDQ4YjRlODY4ZmYxYTUxNjNhZjI5MzIzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTExOS41NDkzNTEyMjQ2ODQsIC01Ni43NTU5Mjk3MjQ1NTIzXSwgWy0xMTkuMTAxNDE5NTI0Mjk4LCAtNTYuNzU1OTI5NzI0NTUyM10sIFstMTE5LjEwMTQxOTUyNDI5OCwgLTU2LjQ5MDE5OTczOTkwNjJdLCBbLTExOS41NDkzNTEyMjQ2ODQsIC01Ni40OTAxOTk3Mzk5MDYyXSwgWy0xMTkuNTQ5MzUxMjI0Njg0LCAtNTYuNzU1OTI5NzI0NTUyM11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wZjg2MmYxYzQ1MTE0OGU3YWQyNTY5MjMwZjlhMDg0MCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iZjJkMDdlNTA2MDM0ZjEyOTI0YWE3ZjlkMWFkMzc4OSA9ICQoYDxkaXYgaWQ9Imh0bWxfYmYyZDA3ZTUwNjAzNGYxMjkyNGFhN2Y5ZDFhZDM3ODkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDEzOC5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMGY4NjJmMWM0NTExNDhlN2FkMjU2OTIzMGY5YTA4NDAuc2V0Q29udGVudChodG1sX2JmMmQwN2U1MDYwMzRmMTI5MjRhYTdmOWQxYWQzNzg5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYTQzODQ2ZmRkNDhiNGU4NjhmZjFhNTE2M2FmMjkzMjMuYmluZFBvcHVwKHBvcHVwXzBmODYyZjFjNDUxMTQ4ZTdhZDI1NjkyMzBmOWEwODQwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAwOGZkOWY2MGI3ZjRmMTdiNzdkYjlhMDFjMGExOTExX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMDA4ZmQ5ZjYwYjdmNGYxN2I3N2RiOWEwMWMwYTE5MTEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMDA4ZmQ5ZjYwYjdmNGYxN2I3N2RiOWEwMWMwYTE5MTFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAwOGZkOWY2MGI3ZjRmMTdiNzdkYjlhMDFjMGExOTExX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wMDhmZDlmNjBiN2Y0ZjE3Yjc3ZGI5YTAxYzBhMTkxMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDA4ZmQ5ZjYwYjdmNGYxN2I3N2RiOWEwMWMwYTE5MTFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5LjY1MzM5NzcyMTQ5LCAtNTYuOTMxNDA5MzM0MTYyNF0sIFstMTE4LjgyMDAwMTI0MjYwOSwgLTU2LjkzMTQwOTMzNDE2MjRdLCBbLTExOC44MjAwMDEyNDI2MDksIC01Ni40MjE0Nzg1NDg4Mzg0XSwgWy0xMTkuNjUzMzk3NzIxNDksIC01Ni40MjE0Nzg1NDg4Mzg0XSwgWy0xMTkuNjUzMzk3NzIxNDksIC01Ni45MzE0MDkzMzQxNjI0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2FiMTUzOWU2ZmQ2MjQ4YTVhMTFlNmViYjRiZjUzMDM1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzljMmNmZjYzNDQwMjQ2NzE4OWNjOWMyYjA5MDM5ODVmID0gJChgPGRpdiBpZD0iaHRtbF85YzJjZmY2MzQ0MDI0NjcxODljYzljMmIwOTAzOTg1ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMTk5LmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzkxNDYwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgcGVydGFpbmluZyB0byAnQ2FuIGFydGVzaWFuIGdyb3VuZHdhdGVyIGFuZCBlYXJ0aHF1YWtlLWluZHVjZWQgYXF1aWZlciBsZWFrYWdlIGV4YWNlcmJhdGUgdGhlIG1hbmlmZXN0YXRpb24gb2YgbGlxdWVmYWN0aW9uPyc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTE0NjE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hYjE1MzllNmZkNjI0OGE1YTExZTZlYmI0YmY1MzAzNS5zZXRDb250ZW50KGh0bWxfOWMyY2ZmNjM0NDAyNDY3MTg5Y2M5YzJiMDkwMzk4NWYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wMDhmZDlmNjBiN2Y0ZjE3Yjc3ZGI5YTAxYzBhMTkxMS5iaW5kUG9wdXAocG9wdXBfYWIxNTM5ZTZmZDYyNDhhNWExMWU2ZWJiNGJmNTMwMzUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmU4MTBjYjZiOTYyNDM3Y2E3ZmU4NGI4M2UwNjMwNTJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yZTgxMGNiNmI5NjI0MzdjYTdmZTg0YjgzZTA2MzA1MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yZTgxMGNiNmI5NjI0MzdjYTdmZTg0YjgzZTA2MzA1Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmU4MTBjYjZiOTYyNDM3Y2E3ZmU4NGI4M2UwNjMwNTJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzJlODEwY2I2Yjk2MjQzN2NhN2ZlODRiODNlMDYzMDUyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yZTgxMGNiNmI5NjI0MzdjYTdmZTg0YjgzZTA2MzA1Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMTkuNTMxMDMyNTA4MDUxLCAtNTYuODc4MzE2NjU4NTY5XSwgWy0xMTguNzgzOTUzMDY2MTQsIC01Ni44NzgzMTY2NTg1NjldLCBbLTExOC43ODM5NTMwNjYxNCwgLTU2LjY1MTc4ODkwMjQ3NzldLCBbLTExOS41MzEwMzI1MDgwNTEsIC01Ni42NTE3ODg5MDI0Nzc5XSwgWy0xMTkuNTMxMDMyNTA4MDUxLCAtNTYuODc4MzE2NjU4NTY5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2E0MmYwOTUwZjlhYTQ2NjNiMjgxNmRjNjRmNmEyOGVhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzlkMGMzNWVhZmM1MDRkMzdiMmRjNDQ0MTQzOWNhMjRiID0gJChgPGRpdiBpZD0iaHRtbF85ZDBjMzVlYWZjNTA0ZDM3YjJkYzQ0NDE0MzljYTI0YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMTQ3LmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzkxNDYwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgcGVydGFpbmluZyB0byAnQ2FuIGFydGVzaWFuIGdyb3VuZHdhdGVyIGFuZCBlYXJ0aHF1YWtlLWluZHVjZWQgYXF1aWZlciBsZWFrYWdlIGV4YWNlcmJhdGUgdGhlIG1hbmlmZXN0YXRpb24gb2YgbGlxdWVmYWN0aW9uPyc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTE0NjE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hNDJmMDk1MGY5YWE0NjYzYjI4MTZkYzY0ZjZhMjhlYS5zZXRDb250ZW50KGh0bWxfOWQwYzM1ZWFmYzUwNGQzN2IyZGM0NDQxNDM5Y2EyNGIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yZTgxMGNiNmI5NjI0MzdjYTdmZTg0YjgzZTA2MzA1Mi5iaW5kUG9wdXAocG9wdXBfYTQyZjA5NTBmOWFhNDY2M2IyODE2ZGM2NGY2YTI4ZWEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMWFmMDVkYjg0YjI3NGY4M2E1YmM5ZTk2YTY5MmVkNThfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xYWYwNWRiODRiMjc0ZjgzYTViYzllOTZhNjkyZWQ1OCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xYWYwNWRiODRiMjc0ZjgzYTViYzllOTZhNjkyZWQ1OF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMWFmMDVkYjg0YjI3NGY4M2E1YmM5ZTk2YTY5MmVkNThfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzFhZjA1ZGI4NGIyNzRmODNhNWJjOWU5NmE2OTJlZDU4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xYWYwNWRiODRiMjc0ZjgzYTViYzllOTZhNjkyZWQ1OF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMTkuNDY3ODgxODE4NDQ2LCAtNTYuODI2Mjg3MDU4MzUzNl0sIFstMTE4LjkwNTMyNDc4MTE4OSwgLTU2LjgyNjI4NzA1ODM1MzZdLCBbLTExOC45MDUzMjQ3ODExODksIC01Ni42NDI4OTAyOTQ0MzM0XSwgWy0xMTkuNDY3ODgxODE4NDQ2LCAtNTYuNjQyODkwMjk0NDMzNF0sIFstMTE5LjQ2Nzg4MTgxODQ0NiwgLTU2LjgyNjI4NzA1ODM1MzZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYTUwNmY4MjAxNDZhNGVhNzgzZjdkZGU4YTI5NWNmODAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMDJjY2EzNzJlNTY5NDNiMDk3YzliYWEyMDMzMWM5M2UgPSAkKGA8ZGl2IGlkPSJodG1sXzAyY2NhMzcyZTU2OTQzYjA5N2M5YmFhMjAzMzFjOTNlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAxNDguZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2E1MDZmODIwMTQ2YTRlYTc4M2Y3ZGRlOGEyOTVjZjgwLnNldENvbnRlbnQoaHRtbF8wMmNjYTM3MmU1Njk0M2IwOTdjOWJhYTIwMzMxYzkzZSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzFhZjA1ZGI4NGIyNzRmODNhNWJjOWU5NmE2OTJlZDU4LmJpbmRQb3B1cChwb3B1cF9hNTA2ZjgyMDE0NmE0ZWE3ODNmN2RkZThhMjk1Y2Y4MCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kMTgyYmIyNTcyY2Q0NzcxYTM4ZDMyZDI4YjI1MjQzY19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2QxODJiYjI1NzJjZDQ3NzFhMzhkMzJkMjhiMjUyNDNjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2QxODJiYjI1NzJjZDQ3NzFhMzhkMzJkMjhiMjUyNDNjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kMTgyYmIyNTcyY2Q0NzcxYTM4ZDMyZDI4YjI1MjQzY19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDE4MmJiMjU3MmNkNDc3MWEzOGQzMmQyOGIyNTI0M2MuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2QxODJiYjI1NzJjZDQ3NzFhMzhkMzJkMjhiMjUyNDNjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTExOS42NTg4MDYxODM2NzcsIC01Ni45MzE1MzA1NzIzMjY3XSwgWy0xMTguODIwMzQ0MzM1NDM1LCAtNTYuOTMxNTMwNTcyMzI2N10sIFstMTE4LjgyMDM0NDMzNTQzNSwgLTU2LjQyMDIzMzg5MzM0MDNdLCBbLTExOS42NTg4MDYxODM2NzcsIC01Ni40MjAyMzM4OTMzNDAzXSwgWy0xMTkuNjU4ODA2MTgzNjc3LCAtNTYuOTMxNTMwNTcyMzI2N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lYzA5MjQ3MjYxNTE0MzViODQ0MGQyMDRmOWQyZWM4NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mYjA1YmFmNWJmZmQ0OTkxYWQ1NDkyMmEzNzY1MTdlYiA9ICQoYDxkaXYgaWQ9Imh0bWxfZmIwNWJhZjViZmZkNDk5MWFkNTQ5MjJhMzc2NTE3ZWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDFhNi5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZWMwOTI0NzI2MTUxNDM1Yjg0NDBkMjA0ZjlkMmVjODQuc2V0Q29udGVudChodG1sX2ZiMDViYWY1YmZmZDQ5OTFhZDU0OTIyYTM3NjUxN2ViKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZDE4MmJiMjU3MmNkNDc3MWEzOGQzMmQyOGIyNTI0M2MuYmluZFBvcHVwKHBvcHVwX2VjMDkyNDcyNjE1MTQzNWI4NDQwZDIwNGY5ZDJlYzg0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U4MzliOGU2NjVjMDRkNGNhZWZjZmRiOWMwMzg2ZThiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTgzOWI4ZTY2NWMwNGQ0Y2FlZmNmZGI5YzAzODZlOGIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTgzOWI4ZTY2NWMwNGQ0Y2FlZmNmZGI5YzAzODZlOGJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U4MzliOGU2NjVjMDRkNGNhZWZjZmRiOWMwMzg2ZThiX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lODM5YjhlNjY1YzA0ZDRjYWVmY2ZkYjljMDM4NmU4Yi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTgzOWI4ZTY2NWMwNGQ0Y2FlZmNmZGI5YzAzODZlOGJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5LjY1ODMzMjQzNTEyMywgLTU2LjkzMTQ0MDg0MzY2MTJdLCBbLTExOC44MTk4NzgwNjcyODQsIC01Ni45MzE0NDA4NDM2NjEyXSwgWy0xMTguODE5ODc4MDY3Mjg0LCAtNTYuNDIwMTQ2MDA2OTE1XSwgWy0xMTkuNjU4MzMyNDM1MTIzLCAtNTYuNDIwMTQ2MDA2OTE1XSwgWy0xMTkuNjU4MzMyNDM1MTIzLCAtNTYuOTMxNDQwODQzNjYxMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80ZjBmYmNiNDM3ZGM0YTc3ODNmOTI1YTc3M2JjZmZiZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zNjVlMTI1NGU1Mjg0ZTlmYjdjZDMyNmEyYmNlNTdhYSA9ICQoYDxkaXYgaWQ9Imh0bWxfMzY1ZTEyNTRlNTI4NGU5ZmI3Y2QzMjZhMmJjZTU3YWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDE0Zi5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNGYwZmJjYjQzN2RjNGE3NzgzZjkyNWE3NzNiY2ZmYmUuc2V0Q29udGVudChodG1sXzM2NWUxMjU0ZTUyODRlOWZiN2NkMzI2YTJiY2U1N2FhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTgzOWI4ZTY2NWMwNGQ0Y2FlZmNmZGI5YzAzODZlOGIuYmluZFBvcHVwKHBvcHVwXzRmMGZiY2I0MzdkYzRhNzc4M2Y5MjVhNzczYmNmZmJlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM2OGFlODJkYzQzMDQzMjdhNjNkZTg5MjljMWQ1NmY0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzY4YWU4MmRjNDMwNDMyN2E2M2RlODkyOWMxZDU2ZjQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzY4YWU4MmRjNDMwNDMyN2E2M2RlODkyOWMxZDU2ZjRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM2OGFlODJkYzQzMDQzMjdhNjNkZTg5MjljMWQ1NmY0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zNjhhZTgyZGM0MzA0MzI3YTYzZGU4OTI5YzFkNTZmNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzY4YWU4MmRjNDMwNDMyN2E2M2RlODkyOWMxZDU2ZjRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5LjY1ODMzMjQzNTEyMywgLTU2LjkzMTQ0MDg0MzY2MTJdLCBbLTExOC44MTk4NzgwNjcyODQsIC01Ni45MzE0NDA4NDM2NjEyXSwgWy0xMTguODE5ODc4MDY3Mjg0LCAtNTYuNDIwMTQ2MDA2OTE1XSwgWy0xMTkuNjU4MzMyNDM1MTIzLCAtNTYuNDIwMTQ2MDA2OTE1XSwgWy0xMTkuNjU4MzMyNDM1MTIzLCAtNTYuOTMxNDQwODQzNjYxMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84YzM5MDI0ZTY5YzM0NTdmYWI3OWM5YWQ1N2YyNDRhMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zNWQ1YzljODNlNDY0MjJmYTNjNGMzYjQ4Y2NhNDE4YSA9ICQoYDxkaXYgaWQ9Imh0bWxfMzVkNWM5YzgzZTQ2NDIyZmEzYzRjM2I0OGNjYTQxOGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDA4YS5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOGMzOTAyNGU2OWMzNDU3ZmFiNzljOWFkNTdmMjQ0YTIuc2V0Q29udGVudChodG1sXzM1ZDVjOWM4M2U0NjQyMmZhM2M0YzNiNDhjY2E0MThhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzY4YWU4MmRjNDMwNDMyN2E2M2RlODkyOWMxZDU2ZjQuYmluZFBvcHVwKHBvcHVwXzhjMzkwMjRlNjljMzQ1N2ZhYjc5YzlhZDU3ZjI0NGEyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZkOGJmNzk3Y2FhMzQyNmU5NDAzODUxOGI2YTMzNDY2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZmQ4YmY3OTdjYWEzNDI2ZTk0MDM4NTE4YjZhMzM0NjYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZmQ4YmY3OTdjYWEzNDI2ZTk0MDM4NTE4YjZhMzM0NjZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZkOGJmNzk3Y2FhMzQyNmU5NDAzODUxOGI2YTMzNDY2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mZDhiZjc5N2NhYTM0MjZlOTQwMzg1MThiNmEzMzQ2Ni5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZmQ4YmY3OTdjYWEzNDI2ZTk0MDM4NTE4YjZhMzM0NjZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5LjY1ODMzMjQzNTEyMywgLTU2LjkzMTQ0MDg0MzY2MTJdLCBbLTExOC44MTk4NzgwNjcyODQsIC01Ni45MzE0NDA4NDM2NjEyXSwgWy0xMTguODE5ODc4MDY3Mjg0LCAtNTYuNDIwMTQ2MDA2OTE1XSwgWy0xMTkuNjU4MzMyNDM1MTIzLCAtNTYuNDIwMTQ2MDA2OTE1XSwgWy0xMTkuNjU4MzMyNDM1MTIzLCAtNTYuOTMxNDQwODQzNjYxMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82YjY2ZGFmNTE5NmE0ZTljYjM0NjQ0MTVmOTAyYWNkMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wNTdjNDBkMzFiNmQ0MzMwYjVmZmViYTAzOGNiN2M1OCA9ICQoYDxkaXYgaWQ9Imh0bWxfMDU3YzQwZDMxYjZkNDMzMGI1ZmZlYmEwMzhjYjdjNTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDAxZS5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNmI2NmRhZjUxOTZhNGU5Y2IzNDY0NDE1ZjkwMmFjZDEuc2V0Q29udGVudChodG1sXzA1N2M0MGQzMWI2ZDQzMzBiNWZmZWJhMDM4Y2I3YzU4KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZmQ4YmY3OTdjYWEzNDI2ZTk0MDM4NTE4YjZhMzM0NjYuYmluZFBvcHVwKHBvcHVwXzZiNjZkYWY1MTk2YTRlOWNiMzQ2NDQxNWY5MDJhY2QxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzNjOGEwOGVhOWVhMTQ5ZjY5ODRkYTI3NzM0YjE1ZDNhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fM2M4YTA4ZWE5ZWExNDlmNjk4NGRhMjc3MzRiMTVkM2EgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fM2M4YTA4ZWE5ZWExNDlmNjk4NGRhMjc3MzRiMTVkM2Ffb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzNjOGEwOGVhOWVhMTQ5ZjY5ODRkYTI3NzM0YjE1ZDNhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zYzhhMDhlYTllYTE0OWY2OTg0ZGEyNzczNGIxNWQzYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fM2M4YTA4ZWE5ZWExNDlmNjk4NGRhMjc3MzRiMTVkM2FfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5LjY1ODg0NDg0NjAyNSwgLTU2LjkzMTQ0MDg0MzY2MTJdLCBbLTExOC44MTk4NzgwNjcyODQsIC01Ni45MzE0NDA4NDM2NjEyXSwgWy0xMTguODE5ODc4MDY3Mjg0LCAtNTYuNDIwMDA3Nzc5OTkwNF0sIFstMTE5LjY1ODg0NDg0NjAyNSwgLTU2LjQyMDAwNzc3OTk5MDRdLCBbLTExOS42NTg4NDQ4NDYwMjUsIC01Ni45MzE0NDA4NDM2NjEyXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQyZDcwM2RlNjIzNzQ3OWU5ZjA1MjEyZGJmODE5NWQ3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzIzYjdjOGFhOTFmZDQyYmE4MGVjZWRmZjg4ZTNlYzcwID0gJChgPGRpdiBpZD0iaHRtbF8yM2I3YzhhYTkxZmQ0MmJhODBlY2VkZmY4OGUzZWM3MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMDJiLmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzkxNDYwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgcGVydGFpbmluZyB0byAnQ2FuIGFydGVzaWFuIGdyb3VuZHdhdGVyIGFuZCBlYXJ0aHF1YWtlLWluZHVjZWQgYXF1aWZlciBsZWFrYWdlIGV4YWNlcmJhdGUgdGhlIG1hbmlmZXN0YXRpb24gb2YgbGlxdWVmYWN0aW9uPyc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTE0NjE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80MmQ3MDNkZTYyMzc0NzllOWYwNTIxMmRiZjgxOTVkNy5zZXRDb250ZW50KGh0bWxfMjNiN2M4YWE5MWZkNDJiYTgwZWNlZGZmODhlM2VjNzApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zYzhhMDhlYTllYTE0OWY2OTg0ZGEyNzczNGIxNWQzYS5iaW5kUG9wdXAocG9wdXBfNDJkNzAzZGU2MjM3NDc5ZTlmMDUyMTJkYmY4MTk1ZDcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTAyYzdkNDI2MDJkNDJkZmJlYzRlMjg4YmIyYTBmYmVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hMDJjN2Q0MjYwMmQ0MmRmYmVjNGUyODhiYjJhMGZiZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hMDJjN2Q0MjYwMmQ0MmRmYmVjNGUyODhiYjJhMGZiZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTAyYzdkNDI2MDJkNDJkZmJlYzRlMjg4YmIyYTBmYmVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2EwMmM3ZDQyNjAyZDQyZGZiZWM0ZTI4OGJiMmEwZmJlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hMDJjN2Q0MjYwMmQ0MmRmYmVjNGUyODhiYjJhMGZiZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMTkuODUwODUzOTUzMzM0LCAtNTcuMzE0ODYyNzIzMTcwOV0sIFstMTE4LjE1ODAwOTA0NDU0LCAtNTcuMzE0ODYyNzIzMTcwOV0sIFstMTE4LjE1ODAwOTA0NDU0LCAtNTYuMzg2NTI2ODExNDU0OF0sIFstMTE5Ljg1MDg1Mzk1MzMzNCwgLTU2LjM4NjUyNjgxMTQ1NDhdLCBbLTExOS44NTA4NTM5NTMzMzQsIC01Ny4zMTQ4NjI3MjMxNzA5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzgwNWIxZGEyMmI2ZTQ5Y2Q4NzEzZjFkOWFiMjM1Nzc2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQyOWQyYjA1ODQyZTRkODA4ZjQ5ZGYxZDAyMDMwMDUxID0gJChgPGRpdiBpZD0iaHRtbF80MjlkMmIwNTg0MmU0ZDgwOGY0OWRmMWQwMjAzMDA1MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMTlhLmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzkxNDYwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgcGVydGFpbmluZyB0byAnQ2FuIGFydGVzaWFuIGdyb3VuZHdhdGVyIGFuZCBlYXJ0aHF1YWtlLWluZHVjZWQgYXF1aWZlciBsZWFrYWdlIGV4YWNlcmJhdGUgdGhlIG1hbmlmZXN0YXRpb24gb2YgbGlxdWVmYWN0aW9uPyc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTE0NjE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84MDViMWRhMjJiNmU0OWNkODcxM2YxZDlhYjIzNTc3Ni5zZXRDb250ZW50KGh0bWxfNDI5ZDJiMDU4NDJlNGQ4MDhmNDlkZjFkMDIwMzAwNTEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hMDJjN2Q0MjYwMmQ0MmRmYmVjNGUyODhiYjJhMGZiZS5iaW5kUG9wdXAocG9wdXBfODA1YjFkYTIyYjZlNDljZDg3MTNmMWQ5YWIyMzU3NzYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTJhNWU3Nzk3M2ZiNGY2NTk3N2Y4ZGNmM2FmYmZiNjlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xMmE1ZTc3OTczZmI0ZjY1OTc3ZjhkY2YzYWZiZmI2OSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xMmE1ZTc3OTczZmI0ZjY1OTc3ZjhkY2YzYWZiZmI2OV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdkMDBhMjdmNzdmZDQwMGZiNDY1MmYxZGU1MzE3NDI3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTJhNWU3Nzk3M2ZiNGY2NTk3N2Y4ZGNmM2FmYmZiNjlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzEyYTVlNzc5NzNmYjRmNjU5NzdmOGRjZjNhZmJmYjY5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xMmE1ZTc3OTczZmI0ZjY1OTc3ZjhkY2YzYWZiZmI2OV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMTkuNjU4ODQ0ODQ2MDI1LCAtNTYuOTMxNDQwODQzNjYxMl0sIFstMTE4LjgxOTg3ODA2NzI4NCwgLTU2LjkzMTQ0MDg0MzY2MTJdLCBbLTExOC44MTk4NzgwNjcyODQsIC01Ni40MjAwMDc3Nzk5OTA0XSwgWy0xMTkuNjU4ODQ0ODQ2MDI1LCAtNTYuNDIwMDA3Nzc5OTkwNF0sIFstMTE5LjY1ODg0NDg0NjAyNSwgLTU2LjkzMTQ0MDg0MzY2MTJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMWQ5M2YwY2EzODRmNGIyMThiNTBkNGYxNmFmZWFjNzggPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGEwZWJiMjAwNTAzNDNhMzg1NDY1MjRlNTYxMDFhZDQgPSAkKGA8ZGl2IGlkPSJodG1sXzhhMGViYjIwMDUwMzQzYTM4NTQ2NTI0ZTU2MTAxYWQ0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAwMmEuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTE0NjA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YSBwZXJ0YWluaW5nIHRvICdDYW4gYXJ0ZXNpYW4gZ3JvdW5kd2F0ZXIgYW5kIGVhcnRocXVha2UtaW5kdWNlZCBhcXVpZmVyIGxlYWthZ2UgZXhhY2VyYmF0ZSB0aGUgbWFuaWZlc3RhdGlvbiBvZiBsaXF1ZWZhY3Rpb24/JzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5MTQ2MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzFkOTNmMGNhMzg0ZjRiMjE4YjUwZDRmMTZhZmVhYzc4LnNldENvbnRlbnQoaHRtbF84YTBlYmIyMDA1MDM0M2EzODU0NjUyNGU1NjEwMWFkNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzEyYTVlNzc5NzNmYjRmNjU5NzdmOGRjZjNhZmJmYjY5LmJpbmRQb3B1cChwb3B1cF8xZDkzZjBjYTM4NGY0YjIxOGI1MGQ0ZjE2YWZlYWM3OCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jMWNlMGY1MTdjMDE0MTU1YWMyN2FlZTdiOTc0YTA2N19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2MxY2UwZjUxN2MwMTQxNTVhYzI3YWVlN2I5NzRhMDY3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2MxY2UwZjUxN2MwMTQxNTVhYzI3YWVlN2I5NzRhMDY3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfN2QwMGEyN2Y3N2ZkNDAwZmI0NjUyZjFkZTUzMTc0MjcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jMWNlMGY1MTdjMDE0MTU1YWMyN2FlZTdiOTc0YTA2N19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYzFjZTBmNTE3YzAxNDE1NWFjMjdhZWU3Yjk3NGEwNjcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2MxY2UwZjUxN2MwMTQxNTVhYzI3YWVlN2I5NzRhMDY3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTExOS42MjkwMTMxMTg1NjgsIC01Ni44NDk1MzcxMzE0NjQ1XSwgWy0xMTkuMDM1MDM3NTE5MTgzLCAtNTYuODQ5NTM3MTMxNDY0NV0sIFstMTE5LjAzNTAzNzUxOTE4MywgLTU2LjQzNjk3NjU1NzM3NzhdLCBbLTExOS42MjkwMTMxMTg1NjgsIC01Ni40MzY5NzY1NTczNzc4XSwgWy0xMTkuNjI5MDEzMTE4NTY4LCAtNTYuODQ5NTM3MTMxNDY0NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mYzljMDllNGFhN2U0MjI1YWM2NjU5MTAyYTk5NmFhYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84MDM0YjUwODI4MTY0N2FkOGQ3MzhjZTU1NGMwNzhhYyA9ICQoYDxkaXYgaWQ9Imh0bWxfODAzNGI1MDgyODE2NDdhZDhkNzM4Y2U1NTRjMDc4YWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDEzYS5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5MTQ2MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYXRhIHBlcnRhaW5pbmcgdG8gJ0NhbiBhcnRlc2lhbiBncm91bmR3YXRlciBhbmQgZWFydGhxdWFrZS1pbmR1Y2VkIGFxdWlmZXIgbGVha2FnZSBleGFjZXJiYXRlIHRoZSBtYW5pZmVzdGF0aW9uIG9mIGxpcXVlZmFjdGlvbj8nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MzkxNDYxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmM5YzA5ZTRhYTdlNDIyNWFjNjY1OTEwMmE5OTZhYWMuc2V0Q29udGVudChodG1sXzgwMzRiNTA4MjgxNjQ3YWQ4ZDczOGNlNTU0YzA3OGFjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYzFjZTBmNTE3YzAxNDE1NWFjMjdhZWU3Yjk3NGEwNjcuYmluZFBvcHVwKHBvcHVwX2ZjOWMwOWU0YWE3ZTQyMjVhYzY2NTkxMDJhOTk2YWFjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc1ZGJiM2JjODU0YTQ4NTZiMDVlMTliMDQ5OGMwMDliX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNzVkYmIzYmM4NTRhNDg1NmIwNWUxOWIwNDk4YzAwOWIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNzVkYmIzYmM4NTRhNDg1NmIwNWUxOWIwNDk4YzAwOWJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc1ZGJiM2JjODU0YTQ4NTZiMDVlMTliMDQ5OGMwMDliX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83NWRiYjNiYzg1NGE0ODU2YjA1ZTE5YjA0OThjMDA5Yi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNzVkYmIzYmM4NTRhNDg1NmIwNWUxOWIwNDk4YzAwOWJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTE5Ljg1NDk2NjMwMjk0OSwgLTU3LjI3NTc4OTMxNTk0OTldLCBbLTExOC4yODMzMjE4Njg3NDUsIC01Ny4yNzU3ODkzMTU5NDk5XSwgWy0xMTguMjgzMzIxODY4NzQ1LCAtNTYuNDI4MDAyMzc3NTc4OV0sIFstMTE5Ljg1NDk2NjMwMjk0OSwgLTU2LjQyODAwMjM3NzU3ODldLCBbLTExOS44NTQ5NjYzMDI5NDksIC01Ny4yNzU3ODkzMTU5NDk5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBhMDdiNzllN2RlZjRlZTE4NmM4MWFjMTVkY2M4MGFhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FjMzkyYjczNWY5YjRhNjI5OTY5NzE5MjNiNzgwOTcyID0gJChgPGRpdiBpZD0iaHRtbF9hYzM5MmI3MzVmOWI0YTYyOTk2OTcxOTIzYjc4MDk3MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMTQzLmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzkxNDYwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGEgcGVydGFpbmluZyB0byAnQ2FuIGFydGVzaWFuIGdyb3VuZHdhdGVyIGFuZCBlYXJ0aHF1YWtlLWluZHVjZWQgYXF1aWZlciBsZWFrYWdlIGV4YWNlcmJhdGUgdGhlIG1hbmlmZXN0YXRpb24gb2YgbGlxdWVmYWN0aW9uPyc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTE0NjE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wYTA3Yjc5ZTdkZWY0ZWUxODZjODFhYzE1ZGNjODBhYS5zZXRDb250ZW50KGh0bWxfYWMzOTJiNzM1ZjliNGE2Mjk5Njk3MTkyM2I3ODA5NzIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83NWRiYjNiYzg1NGE0ODU2YjA1ZTE5YjA0OThjMDA5Yi5iaW5kUG9wdXAocG9wdXBfMGEwN2I3OWU3ZGVmNGVlMTg2YzgxYWMxNWRjYzgwYWEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwX2M3ZjA1ZmQ1Nzg4NDRkNmU4ZDE0MjIzZmNhYjZjYzA4ID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jMDkyODRlYWE0MjU0MWJhYjQyMjBkNDk1ODk2N2I0Yl9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MwOTI4NGVhYTQyNTQxYmFiNDIyMGQ0OTU4OTY3YjRiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYzA5Mjg0ZWFhNDI1NDFiYWI0MjIwZDQ5NTg5NjdiNGIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYzA5Mjg0ZWFhNDI1NDFiYWI0MjIwZDQ5NTg5NjdiNGJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fYzA5Mjg0ZWFhNDI1NDFiYWI0MjIwZDQ5NTg5NjdiNGJfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYzdmMDVmZDU3ODg0NGQ2ZThkMTQyMjNmY2FiNmNjMDgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jMDkyODRlYWE0MjU0MWJhYjQyMjBkNDk1ODk2N2I0Yl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYzA5Mjg0ZWFhNDI1NDFiYWI0MjIwZDQ5NTg5NjdiNGIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2MwOTI4NGVhYTQyNTQxYmFiNDIyMGQ0OTU4OTY3YjRiX2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbLTE4MC4wLCAtNTAuMDUyNTE3XSwgWzE4MC4wLCAtNTAuMDUyNTE3XSwgWzE4MC4wLCA5MC4wXSwgWy0xODAuMCwgOTAuMF0sIFstMTgwLjAsIC01MC4wNTI1MTddXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81Y2RlNDUzZTQxOTg0ZDk1YTI1NTg1MjU3NWVlYTcwNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wMWZhMDkyMjE1YzI0OGU0YWI5ZDAzMGQ0MWZmY2U3NCA9ICQoYDxkaXYgaWQ9Imh0bWxfMDFmYTA5MjIxNWMyNDhlNGFiOWQwMzBkNDFmZmNlNzQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzU1ODI4NTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEaWdpdGFsIHZlcnNpb25zIG9mIGx1bmFyIGdlb2xvZ2ljYWwgbWFwczwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby4zNTU4Mjg2PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81Y2RlNDUzZTQxOTg0ZDk1YTI1NTg1MjU3NWVlYTcwNi5zZXRDb250ZW50KGh0bWxfMDFmYTA5MjIxNWMyNDhlNGFiOWQwMzBkNDFmZmNlNzQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jMDkyODRlYWE0MjU0MWJhYjQyMjBkNDk1ODk2N2I0Yi5iaW5kUG9wdXAocG9wdXBfNWNkZTQ1M2U0MTk4NGQ5NWEyNTU4NTI1NzVlZWE3MDYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTMxYjU3NWY1YjAxNDBlY2I0ZjBkOTk0YTc1OTg0OTFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lMzFiNTc1ZjViMDE0MGVjYjRmMGQ5OTRhNzU5ODQ5MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lMzFiNTc1ZjViMDE0MGVjYjRmMGQ5OTRhNzU5ODQ5MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2M3ZjA1ZmQ1Nzg4NDRkNmU4ZDE0MjIzZmNhYjZjYzA4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTMxYjU3NWY1YjAxNDBlY2I0ZjBkOTk0YTc1OTg0OTFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2UzMWI1NzVmNWIwMTQwZWNiNGYwZDk5NGE3NTk4NDkxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lMzFiNTc1ZjViMDE0MGVjYjRmMGQ5OTRhNzU5ODQ5MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xODAuMCwgMjkuMjUzNjMyXSwgWzE4MC4wLCAyOS4yNTM2MzJdLCBbMTgwLjAsIDkwLjBdLCBbLTE4MC4wLCA5MC4wXSwgWy0xODAuMCwgMjkuMjUzNjMyXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2QwODUyNGY2Njg5YTRhYTZhZjAzNDE1YTU5MTRiM2I0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZlNDY3NDNhYWEwZTQ1YjY4ODczZDRjNzNhOTViZTFhID0gJChgPGRpdiBpZD0iaHRtbF82ZTQ2NzQzYWFhMGU0NWI2ODg3M2Q0YzczYTk1YmUxYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMDA0LmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNTU4Mjg1PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERpZ2l0YWwgdmVyc2lvbnMgb2YgbHVuYXIgZ2VvbG9naWNhbCBtYXBzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTU4Mjg2PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZDA4NTI0ZjY2ODlhNGFhNmFmMDM0MTVhNTkxNGIzYjQuc2V0Q29udGVudChodG1sXzZlNDY3NDNhYWEwZTQ1YjY4ODczZDRjNzNhOTViZTFhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTMxYjU3NWY1YjAxNDBlY2I0ZjBkOTk0YTc1OTg0OTEuYmluZFBvcHVwKHBvcHVwX2QwODUyNGY2Njg5YTRhYTZhZjAzNDE1YTU5MTRiM2I0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc2ZGViNTllZWQyNzQ0OGQ5NjIxNGU4ZDJlMDcxNzMxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNzZkZWI1OWVlZDI3NDQ4ZDk2MjE0ZThkMmUwNzE3MzEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNzZkZWI1OWVlZDI3NDQ4ZDk2MjE0ZThkMmUwNzE3MzFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jN2YwNWZkNTc4ODQ0ZDZlOGQxNDIyM2ZjYWI2Y2MwOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc2ZGViNTllZWQyNzQ0OGQ5NjIxNGU4ZDJlMDcxNzMxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83NmRlYjU5ZWVkMjc0NDhkOTYyMTRlOGQyZTA3MTczMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNzZkZWI1OWVlZDI3NDQ4ZDk2MjE0ZThkMmUwNzE3MzFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTgwLjAsIC01MC4wNTI1MTddLCBbMTgwLjAsIC01MC4wNTI1MTddLCBbMTgwLjAsIDUwLjBdLCBbLTE4MC4wLCA1MC4wXSwgWy0xODAuMCwgLTUwLjA1MjUxN11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lZDgyY2FiMGZjYzQ0MmMwOWNiYzUyYmNjNTY0NzFmYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80OTgwNmE2OTE3ZTQ0ZjBiYWUyODQ1NDM2ZDk5NWZiMiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDk4MDZhNjkxN2U0NGYwYmFlMjg0NTQzNmQ5OTVmYjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDAzYy5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzU1ODI4NTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEaWdpdGFsIHZlcnNpb25zIG9mIGx1bmFyIGdlb2xvZ2ljYWwgbWFwczwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzU1ODI4NjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2VkODJjYWIwZmNjNDQyYzA5Y2JjNTJiY2M1NjQ3MWZhLnNldENvbnRlbnQoaHRtbF80OTgwNmE2OTE3ZTQ0ZjBiYWUyODQ1NDM2ZDk5NWZiMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzc2ZGViNTllZWQyNzQ0OGQ5NjIxNGU4ZDJlMDcxNzMxLmJpbmRQb3B1cChwb3B1cF9lZDgyY2FiMGZjYzQ0MmMwOWNiYzUyYmNjNTY0NzFmYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfNjNiN2Y5ZmE4YWMzNDI0ZDkzNDEyOTc4N2YxOTJmMTkgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAyNTc2ODFkYjA1OTQ0YmQ5ZjhmNGNjNTdhZDE2ODQ4X3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDI1NzY4MWRiMDU5NDRiZDlmOGY0Y2M1N2FkMTY4NDhfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wMjU3NjgxZGIwNTk0NGJkOWY4ZjRjYzU3YWQxNjg0OCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wMjU3NjgxZGIwNTk0NGJkOWY4ZjRjYzU3YWQxNjg0OF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl8wMjU3NjgxZGIwNTk0NGJkOWY4ZjRjYzU3YWQxNjg0OF9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF82M2I3ZjlmYThhYzM0MjRkOTM0MTI5Nzg3ZjE5MmYxOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAyNTc2ODFkYjA1OTQ0YmQ5ZjhmNGNjNTdhZDE2ODQ4X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wMjU3NjgxZGIwNTk0NGJkOWY4ZjRjYzU3YWQxNjg0OC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDI1NzY4MWRiMDU5NDRiZDlmOGY0Y2M1N2FkMTY4NDhfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stMy41OTkwNjQsIDEuMF0sIFs5Ni4wLCAxLjBdLCBbOTYuMCwgNDguMF0sIFstMy41OTkwNjQsIDQ4LjBdLCBbLTMuNTk5MDY0LCAxLjBdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yYzJjZTU4ODIzMzk0NTBmOTA5MzMzODdlMDBlOWE2YiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80YjQ2MTg5ZGVkMDE0NzMzYTBhZmY2NGY4YjU2YTQ5MyA9ICQoYDxkaXYgaWQ9Imh0bWxfNGI0NjE4OWRlZDAxNDczM2EwYWZmNjRmOGI1NmE0OTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDcxNjMxMDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBTdHJ1Y3R1cmluZyBvZiBwbGFudCBjb21tdW5pdGllcyBhY3Jvc3MgYWdyaWN1bHR1cmFsIGxhbmRzY2FwZSBtb3NhaWNzOiBUaGUgaW1wb3J0YW5jZSBvZiBjb25uZWN0aXZpdHkgYW5kIHRoZSBzY2FsZSBvZiBlZmZlY3Q8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTA2MS9kcnlhZC5zN2g0NGoxM2I8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yYzJjZTU4ODIzMzk0NTBmOTA5MzMzODdlMDBlOWE2Yi5zZXRDb250ZW50KGh0bWxfNGI0NjE4OWRlZDAxNDczM2EwYWZmNjRmOGI1NmE0OTMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wMjU3NjgxZGIwNTk0NGJkOWY4ZjRjYzU3YWQxNjg0OC5iaW5kUG9wdXAocG9wdXBfMmMyY2U1ODgyMzM5NDUwZjkwOTMzMzg3ZTAwZTlhNmIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZGEyODljMGRmMDQ4NGYyOTkwYmVlNmZkMDY3ZjM2Yjhfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kYTI4OWMwZGYwNDg0ZjI5OTBiZWU2ZmQwNjdmMzZiOCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kYTI4OWMwZGYwNDg0ZjI5OTBiZWU2ZmQwNjdmMzZiOF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzYzYjdmOWZhOGFjMzQyNGQ5MzQxMjk3ODdmMTkyZjE5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZGEyODljMGRmMDQ4NGYyOTkwYmVlNmZkMDY3ZjM2YjhfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2RhMjg5YzBkZjA0ODRmMjk5MGJlZTZmZDA2N2YzNmI4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kYTI4OWMwZGYwNDg0ZjI5OTBiZWU2ZmQwNjdmMzZiOF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0zLjU5OTA2NCwgMS4wXSwgWzk2LjAsIDEuMF0sIFs5Ni4wLCA0OC4wXSwgWy0zLjU5OTA2NCwgNDguMF0sIFstMy41OTkwNjQsIDEuMF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kODdkNGExYjU5ZWQ0ZjY0YjRmYTBiYjdlOWZkYWY4NSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iYjkzNzdhNzNkNzk0ZjQwOGE1MjYxYzMyNDg4MTViZiA9ICQoYDxkaXYgaWQ9Imh0bWxfYmI5Mzc3YTczZDc5NGY0MDhhNTI2MWMzMjQ4ODE1YmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IE1jTGVpc2hfZXRhbF9TcGF0aWFsX0RyeWFkLmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ3MTYzMTA8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gU3RydWN0dXJpbmcgb2YgcGxhbnQgY29tbXVuaXRpZXMgYWNyb3NzIGFncmljdWx0dXJhbCBsYW5kc2NhcGUgbW9zYWljczogVGhlIGltcG9ydGFuY2Ugb2YgY29ubmVjdGl2aXR5IGFuZCB0aGUgc2NhbGUgb2YgZWZmZWN0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnM3aDQ0ajEzYjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kODdkNGExYjU5ZWQ0ZjY0YjRmYTBiYjdlOWZkYWY4NS5zZXRDb250ZW50KGh0bWxfYmI5Mzc3YTczZDc5NGY0MDhhNTI2MWMzMjQ4ODE1YmYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9kYTI4OWMwZGYwNDg0ZjI5OTBiZWU2ZmQwNjdmMzZiOC5iaW5kUG9wdXAocG9wdXBfZDg3ZDRhMWI1OWVkNGY2NGI0ZmEwYmI3ZTlmZGFmODUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwX2UzNTliZWFkMGI2YjQxZGZhMTgxOGU2YTkxNWE1ZDZiID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xZTI3YjJjYzA1MTM0YzIxODU0YWJlNDQ0NzZkNThhYl9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzFlMjdiMmNjMDUxMzRjMjE4NTRhYmU0NDQ3NmQ1OGFiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMWUyN2IyY2MwNTEzNGMyMTg1NGFiZTQ0NDc2ZDU4YWIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMWUyN2IyY2MwNTEzNGMyMTg1NGFiZTQ0NDc2ZDU4YWJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fMWUyN2IyY2MwNTEzNGMyMTg1NGFiZTQ0NDc2ZDU4YWJfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZTM1OWJlYWQwYjZiNDFkZmExODE4ZTZhOTE1YTVkNmIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xZTI3YjJjYzA1MTM0YzIxODU0YWJlNDQ0NzZkNThhYl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMWUyN2IyY2MwNTEzNGMyMTg1NGFiZTQ0NDc2ZDU4YWIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzFlMjdiMmNjMDUxMzRjMjE4NTRhYmU0NDQ3NmQ1OGFiX2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbLTEyMi41MDAxMjU5MTkyMTMsIDMyLjQ2MjI1NDE2NzA1MzNdLCBbLTExNS4wMDA4NTc3MzI3NDEsIDMyLjQ2MjI1NDE2NzA1MzNdLCBbLTExNS4wMDA4NTc3MzI3NDEsIDM2LjQ5OTg4NjQzNTI2MjNdLCBbLTEyMi41MDAxMjU5MTkyMTMsIDM2LjQ5OTg4NjQzNTI2MjNdLCBbLTEyMi41MDAxMjU5MTkyMTMsIDMyLjQ2MjI1NDE2NzA1MzNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81NzRlZTkyNDE4MzY0MjNkOWQ3NTBmYWI0ZTlmYmM3MCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80NmFmNzAwZmRkNDc0ZjdlOGNiNzMxZGQ5ZTQxNzdhMiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDZhZjcwMGZkZDQ3NGY3ZThjYjczMWRkOWU0MTc3YTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU5OTU3NjwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBSYXN0ZXIgY2xhc3NpZmljYXRpb24gYW5kIG1hcHBpbmcgb2YgZWNvbG9naWNhbCB1bml0cyBvZiBTb3V0aGVybiBDYWxpZm9ybmlhPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjI1MzM4L0I4NDMySDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzU3NGVlOTI0MTgzNjQyM2Q5ZDc1MGZhYjRlOWZiYzcwLnNldENvbnRlbnQoaHRtbF80NmFmNzAwZmRkNDc0ZjdlOGNiNzMxZGQ5ZTQxNzdhMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzFlMjdiMmNjMDUxMzRjMjE4NTRhYmU0NDQ3NmQ1OGFiLmJpbmRQb3B1cChwb3B1cF81NzRlZTkyNDE4MzY0MjNkOWQ3NTBmYWI0ZTlmYmM3MCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84N2MyODM0OTk1MzM0YzMzYTY3OWIwOGIyNjI0NWIzOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzg3YzI4MzQ5OTUzMzRjMzNhNjc5YjA4YjI2MjQ1YjM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzg3YzI4MzQ5OTUzMzRjMzNhNjc5YjA4YjI2MjQ1YjM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZTM1OWJlYWQwYjZiNDFkZmExODE4ZTZhOTE1YTVkNmIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84N2MyODM0OTk1MzM0YzMzYTY3OWIwOGIyNjI0NWIzOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fODdjMjgzNDk5NTMzNGMzM2E2NzliMDhiMjYyNDViMzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzg3YzI4MzQ5OTUzMzRjMzNhNjc5YjA4YjI2MjQ1YjM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEyMi41MDAxMjU5MTkyMTMsIDMyLjQ2MjI1NDE2NzA1MzNdLCBbLTExNS4wMDA4NTc3MzI3NDEsIDMyLjQ2MjI1NDE2NzA1MzNdLCBbLTExNS4wMDA4NTc3MzI3NDEsIDM2LjQ5OTg4NjQzNTI2MjNdLCBbLTEyMi41MDAxMjU5MTkyMTMsIDM2LjQ5OTg4NjQzNTI2MjNdLCBbLTEyMi41MDAxMjU5MTkyMTMsIDMyLjQ2MjI1NDE2NzA1MzNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNmExNzk0MTVjYjJhNDUwYWFhZTFhY2MwOGU4ODcwMzEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjRjYmUxYWNhYzk3NDRjM2IxNmU1YjZmNDRmZThkMGIgPSAkKGA8ZGl2IGlkPSJodG1sX2Y0Y2JlMWFjYWM5NzQ0YzNiMTZlNWI2ZjQ0ZmU4ZDBiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTQ3BhbTM3bjMzLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1OTk1NzY8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUmFzdGVyIGNsYXNzaWZpY2F0aW9uIGFuZCBtYXBwaW5nIG9mIGVjb2xvZ2ljYWwgdW5pdHMgb2YgU291dGhlcm4gQ2FsaWZvcm5pYTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMjUzMzgvQjg0MzJIPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzZhMTc5NDE1Y2IyYTQ1MGFhYWUxYWNjMDhlODg3MDMxLnNldENvbnRlbnQoaHRtbF9mNGNiZTFhY2FjOTc0NGMzYjE2ZTViNmY0NGZlOGQwYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzg3YzI4MzQ5OTUzMzRjMzNhNjc5YjA4YjI2MjQ1YjM4LmJpbmRQb3B1cChwb3B1cF82YTE3OTQxNWNiMmE0NTBhYWFlMWFjYzA4ZTg4NzAzMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfM2IwZjQxZWM0NzAwNGVmMTlkNDdmMDJkMzAzMWQ5MjQgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZjMjNlNDU3NzA1MzQ2MWY4N2VmYjFhMTIwZTNjZTdjX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmMyM2U0NTc3MDUzNDYxZjg3ZWZiMWExMjBlM2NlN2Nfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mYzIzZTQ1NzcwNTM0NjFmODdlZmIxYTEyMGUzY2U3YyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mYzIzZTQ1NzcwNTM0NjFmODdlZmIxYTEyMGUzY2U3Y19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl9mYzIzZTQ1NzcwNTM0NjFmODdlZmIxYTEyMGUzY2U3Y19zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8zYjBmNDFlYzQ3MDA0ZWYxOWQ0N2YwMmQzMDMxZDkyNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZjMjNlNDU3NzA1MzQ2MWY4N2VmYjFhMTIwZTNjZTdjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mYzIzZTQ1NzcwNTM0NjFmODdlZmIxYTEyMGUzY2U3Yy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZmMyM2U0NTc3MDUzNDYxZjg3ZWZiMWExMjBlM2NlN2NfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stMTI0Ljc2MjU4MTExNjc4NCwgMjQuNTM5ODM4Njk1MjQyNl0sIFstNjYuOTQ5NTQyMDQ3ODYwNiwgMjQuNTM5ODM4Njk1MjQyNl0sIFstNjYuOTQ5NTQyMDQ3ODYwNiwgNDkuMDAzNzQ1MTEyNzg5NF0sIFstMTI0Ljc2MjU4MTExNjc4NCwgNDkuMDAzNzQ1MTEyNzg5NF0sIFstMTI0Ljc2MjU4MTExNjc4NCwgMjQuNTM5ODM4Njk1MjQyNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzAwMWM2NzRhM2I2OTQwNTZiNzgzMjcxMjIzNzljMTdiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Y0OWRlODFhYjcyZDRkZjA5MzIwMWI4NjkyZDI4NjIwID0gJChgPGRpdiBpZD0iaHRtbF9mNDlkZTgxYWI3MmQ0ZGYwOTMyMDFiODY5MmQyODYyMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2MzkzMjE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gT3V0cHV0IGZpbGVzIGNvcnJlc3BvbmRpbmcgdG8gIkNvbnRpbmVudGFsIHBhdHRlcm5zIG9mIHN1Ym1hcmluZSBncm91bmR3YXRlciBkaXNjaGFyZ2UgcmV2ZWFsIGNvYXN0YWwgdnVsbmVyYWJpbGl0aWVzIjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby41ODg3MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+MTk5OS0wNy0xNS8yMDEyLTAxLTIwPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMDAxYzY3NGEzYjY5NDA1NmI3ODMyNzEyMjM3OWMxN2Iuc2V0Q29udGVudChodG1sX2Y0OWRlODFhYjcyZDRkZjA5MzIwMWI4NjkyZDI4NjIwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZmMyM2U0NTc3MDUzNDYxZjg3ZWZiMWExMjBlM2NlN2MuYmluZFBvcHVwKHBvcHVwXzAwMWM2NzRhM2I2OTQwNTZiNzgzMjcxMjIzNzljMTdiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRlMDljOGUzZjY4MzRkNzViMjQ4MTc3OTI4ODU3NzA2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNGUwOWM4ZTNmNjgzNGQ3NWIyNDgxNzc5Mjg4NTc3MDYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNGUwOWM4ZTNmNjgzNGQ3NWIyNDgxNzc5Mjg4NTc3MDZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8zYjBmNDFlYzQ3MDA0ZWYxOWQ0N2YwMmQzMDMxZDkyNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRlMDljOGUzZjY4MzRkNzViMjQ4MTc3OTI4ODU3NzA2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80ZTA5YzhlM2Y2ODM0ZDc1YjI0ODE3NzkyODg1NzcwNi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNGUwOWM4ZTNmNjgzNGQ3NWIyNDgxNzc5Mjg4NTc3MDZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTI0LjczMzY1NTMzOTQ0LCAyNC42MzA0NDUwMjQwNjg1XSwgWy02Ni45NDk1NDIwNDc4NjA2LCAyNC42MzA0NDUwMjQwNjg1XSwgWy02Ni45NDk1NDIwNDc4NjA2LCA0OS4wMDM3NDUxMTI3ODk0XSwgWy0xMjQuNzMzNjU1MzM5NDQsIDQ5LjAwMzc0NTExMjc4OTRdLCBbLTEyNC43MzM2NTUzMzk0NCwgMjQuNjMwNDQ1MDI0MDY4NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hZjdkODg5MjYyNWY0YTBjYTQ1N2E0NjE4NTExNWE0NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85YmFmNTliN2UzNDk0ZmEzOTc0MDhiODgxYTI1YTEwNiA9ICQoYDxkaXYgaWQ9Imh0bWxfOWJhZjU5YjdlMzQ5NGZhMzk3NDA4Yjg4MWEyNWExMDYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IENhdGNobWVudF9DT05VU19jb2FzdGxpbmUuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjM5MzIxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE91dHB1dCBmaWxlcyBjb3JyZXNwb25kaW5nIHRvICJDb250aW5lbnRhbCBwYXR0ZXJucyBvZiBzdWJtYXJpbmUgZ3JvdW5kd2F0ZXIgZGlzY2hhcmdlIHJldmVhbCBjb2FzdGFsIHZ1bG5lcmFiaWxpdGllcyI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjU4ODcxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYWY3ZDg4OTI2MjVmNGEwY2E0NTdhNDYxODUxMTVhNDQuc2V0Q29udGVudChodG1sXzliYWY1OWI3ZTM0OTRmYTM5NzQwOGI4ODFhMjVhMTA2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGUwOWM4ZTNmNjgzNGQ3NWIyNDgxNzc5Mjg4NTc3MDYuYmluZFBvcHVwKHBvcHVwX2FmN2Q4ODkyNjI1ZjRhMGNhNDU3YTQ2MTg1MTE1YTQ0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2VlYWY5MzEyZTQyMDRkYzZiYjM1NmNhMTcyNzgwYWRkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZWVhZjkzMTJlNDIwNGRjNmJiMzU2Y2ExNzI3ODBhZGQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZWVhZjkzMTJlNDIwNGRjNmJiMzU2Y2ExNzI3ODBhZGRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8zYjBmNDFlYzQ3MDA0ZWYxOWQ0N2YwMmQzMDMxZDkyNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2VlYWY5MzEyZTQyMDRkYzZiYjM1NmNhMTcyNzgwYWRkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lZWFmOTMxMmU0MjA0ZGM2YmIzNTZjYTE3Mjc4MGFkZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZWVhZjkzMTJlNDIwNGRjNmJiMzU2Y2ExNzI3ODBhZGRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTI0LjczMzY1NTMzOTQ0LCAyNC42MzA0NDUwMjQwNjg1XSwgWy02Ni45NDk1NDIwNDc4NjA2LCAyNC42MzA0NDUwMjQwNjg1XSwgWy02Ni45NDk1NDIwNDc4NjA2LCA0OS4wMDM3NDUxMTI3ODk0XSwgWy0xMjQuNzMzNjU1MzM5NDQsIDQ5LjAwMzc0NTExMjc4OTRdLCBbLTEyNC43MzM2NTUzMzk0NCwgMjQuNjMwNDQ1MDI0MDY4NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80YTNkYjZiOTI2Yzg0NmY1YWVkNmQ1YjM4N2Y5ODE1ZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82YzhhZWFhNmZlZWE0ZDBlYWMxNTdiYzc1ZjUzZGQwNyA9ICQoYDxkaXYgaWQ9Imh0bWxfNmM4YWVhYTZmZWVhNGQwZWFjMTU3YmM3NWY1M2RkMDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IENhdGNobWVudF9DT05VU19jb2FzdGxpbmUuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjM5MzIxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE91dHB1dCBmaWxlcyBjb3JyZXNwb25kaW5nIHRvICJDb250aW5lbnRhbCBwYXR0ZXJucyBvZiBzdWJtYXJpbmUgZ3JvdW5kd2F0ZXIgZGlzY2hhcmdlIHJldmVhbCBjb2FzdGFsIHZ1bG5lcmFiaWxpdGllcyI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjU4ODcxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNGEzZGI2YjkyNmM4NDZmNWFlZDZkNWIzODdmOTgxNWYuc2V0Q29udGVudChodG1sXzZjOGFlYWE2ZmVlYTRkMGVhYzE1N2JjNzVmNTNkZDA3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZWVhZjkzMTJlNDIwNGRjNmJiMzU2Y2ExNzI3ODBhZGQuYmluZFBvcHVwKHBvcHVwXzRhM2RiNmI5MjZjODQ2ZjVhZWQ2ZDViMzg3Zjk4MTVmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdjOTZiYjRjYmYxNjRmMTk4MzA2MjhhYmE4MGM3MDdlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fN2M5NmJiNGNiZjE2NGYxOTgzMDYyOGFiYTgwYzcwN2UgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fN2M5NmJiNGNiZjE2NGYxOTgzMDYyOGFiYTgwYzcwN2Vfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8zYjBmNDFlYzQ3MDA0ZWYxOWQ0N2YwMmQzMDMxZDkyNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdjOTZiYjRjYmYxNjRmMTk4MzA2MjhhYmE4MGM3MDdlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83Yzk2YmI0Y2JmMTY0ZjE5ODMwNjI4YWJhODBjNzA3ZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fN2M5NmJiNGNiZjE2NGYxOTgzMDYyOGFiYTgwYzcwN2VfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTI0LjczMzY1NTMzOTQ0LCAyNC42MzA0NDUwMjQwNjg1XSwgWy02Ni45NDk1NDIwNDc4NjA2LCAyNC42MzA0NDUwMjQwNjg1XSwgWy02Ni45NDk1NDIwNDc4NjA2LCA0OS4wMDM3NDUxMTI3ODk0XSwgWy0xMjQuNzMzNjU1MzM5NDQsIDQ5LjAwMzc0NTExMjc4OTRdLCBbLTEyNC43MzM2NTUzMzk0NCwgMjQuNjMwNDQ1MDI0MDY4NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84ZDg0YjY2NTNlMzc0YTU0OWU2YWRhNzE3NjUyYzYyNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yMDAzM2E5YjUxZjA0YWZmOTI0YzM0MjQ0MTZjNjA2MyA9ICQoYDxkaXYgaWQ9Imh0bWxfMjAwMzNhOWI1MWYwNGFmZjkyNGMzNDI0NDE2YzYwNjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IENhdGNobWVudF9DT05VU19jb2FzdGxpbmUuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjM5MzIxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE91dHB1dCBmaWxlcyBjb3JyZXNwb25kaW5nIHRvICJDb250aW5lbnRhbCBwYXR0ZXJucyBvZiBzdWJtYXJpbmUgZ3JvdW5kd2F0ZXIgZGlzY2hhcmdlIHJldmVhbCBjb2FzdGFsIHZ1bG5lcmFiaWxpdGllcyI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjU4ODcxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOGQ4NGI2NjUzZTM3NGE1NDllNmFkYTcxNzY1MmM2MjQuc2V0Q29udGVudChodG1sXzIwMDMzYTliNTFmMDRhZmY5MjRjMzQyNDQxNmM2MDYzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fN2M5NmJiNGNiZjE2NGYxOTgzMDYyOGFiYTgwYzcwN2UuYmluZFBvcHVwKHBvcHVwXzhkODRiNjY1M2UzNzRhNTQ5ZTZhZGE3MTc2NTJjNjI0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzE4NmRjY2Q4MGYwMzRjNTFiNzAxMTk4Y2FkYjU2MTg5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMTg2ZGNjZDgwZjAzNGM1MWI3MDExOThjYWRiNTYxODkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMTg2ZGNjZDgwZjAzNGM1MWI3MDExOThjYWRiNTYxODlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8zYjBmNDFlYzQ3MDA0ZWYxOWQ0N2YwMmQzMDMxZDkyNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzE4NmRjY2Q4MGYwMzRjNTFiNzAxMTk4Y2FkYjU2MTg5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xODZkY2NkODBmMDM0YzUxYjcwMTE5OGNhZGI1NjE4OS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMTg2ZGNjZDgwZjAzNGM1MWI3MDExOThjYWRiNTYxODlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTI0LjcxODU3MjQzOTU3OCwgMjQuNjQ4ODM2MTQ4ODA4MV0sIFstNjYuOTUxNDg0NjI4NDcwNywgMjQuNjQ4ODM2MTQ4ODA4MV0sIFstNjYuOTUxNDg0NjI4NDcwNywgNDguOTkwNTg2MjM0Njk4Nl0sIFstMTI0LjcxODU3MjQzOTU3OCwgNDguOTkwNTg2MjM0Njk4Nl0sIFstMTI0LjcxODU3MjQzOTU3OCwgMjQuNjQ4ODM2MTQ4ODA4MV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mNGYxYWJmNTU3ZGY0ZDliODJmZTkxYWVmY2ExY2RhNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81Y2FlY2JkODMzZTA0OGM3YjYxYjA5YjVjYjUyZGVjMCA9ICQoYDxkaXYgaWQ9Imh0bWxfNWNhZWNiZDgzM2UwNDhjN2I2MWIwOWI1Y2I1MmRlYzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IENhdGNobWVudF9DT05VU19jb2FzdGxpbmVfY2VudHJvaWQuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjM5MzIxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE91dHB1dCBmaWxlcyBjb3JyZXNwb25kaW5nIHRvICJDb250aW5lbnRhbCBwYXR0ZXJucyBvZiBzdWJtYXJpbmUgZ3JvdW5kd2F0ZXIgZGlzY2hhcmdlIHJldmVhbCBjb2FzdGFsIHZ1bG5lcmFiaWxpdGllcyI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjU4ODcxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZjRmMWFiZjU1N2RmNGQ5YjgyZmU5MWFlZmNhMWNkYTQuc2V0Q29udGVudChodG1sXzVjYWVjYmQ4MzNlMDQ4YzdiNjFiMDliNWNiNTJkZWMwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMTg2ZGNjZDgwZjAzNGM1MWI3MDExOThjYWRiNTYxODkuYmluZFBvcHVwKHBvcHVwX2Y0ZjFhYmY1NTdkZjRkOWI4MmZlOTFhZWZjYTFjZGE0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzMyNTMwZWJmNGI3YTQ4MzFiYWUyYjZlZWI1ODQxN2MwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzI1MzBlYmY0YjdhNDgzMWJhZTJiNmVlYjU4NDE3YzAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzI1MzBlYmY0YjdhNDgzMWJhZTJiNmVlYjU4NDE3YzBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8zYjBmNDFlYzQ3MDA0ZWYxOWQ0N2YwMmQzMDMxZDkyNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzMyNTMwZWJmNGI3YTQ4MzFiYWUyYjZlZWI1ODQxN2MwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zMjUzMGViZjRiN2E0ODMxYmFlMmI2ZWViNTg0MTdjMC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzI1MzBlYmY0YjdhNDgzMWJhZTJiNmVlYjU4NDE3YzBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTI0LjcxODU3MjQzOTU3OCwgMjQuNjQ4ODM2MTQ4ODA4MV0sIFstNjYuOTUxNDg0NjI4NDcwNywgMjQuNjQ4ODM2MTQ4ODA4MV0sIFstNjYuOTUxNDg0NjI4NDcwNywgNDguOTkwNTg2MjM0Njk4Nl0sIFstMTI0LjcxODU3MjQzOTU3OCwgNDguOTkwNTg2MjM0Njk4Nl0sIFstMTI0LjcxODU3MjQzOTU3OCwgMjQuNjQ4ODM2MTQ4ODA4MV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iMjgzYjc5Y2ZhNTI0NTNhYTY3Nzk4MGY0MjhlYzZmMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iMWRhMTMyOWE3ZjU0YTRlOTM5MmE0NWM4ZjQ0MTc0NCA9ICQoYDxkaXYgaWQ9Imh0bWxfYjFkYTEzMjlhN2Y1NGE0ZTkzOTJhNDVjOGY0NDE3NDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IENhdGNobWVudF9DT05VU19jb2FzdGxpbmVfY2VudHJvaWQuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjM5MzIxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE91dHB1dCBmaWxlcyBjb3JyZXNwb25kaW5nIHRvICJDb250aW5lbnRhbCBwYXR0ZXJucyBvZiBzdWJtYXJpbmUgZ3JvdW5kd2F0ZXIgZGlzY2hhcmdlIHJldmVhbCBjb2FzdGFsIHZ1bG5lcmFiaWxpdGllcyI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjU4ODcxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYjI4M2I3OWNmYTUyNDUzYWE2Nzc5ODBmNDI4ZWM2ZjIuc2V0Q29udGVudChodG1sX2IxZGExMzI5YTdmNTRhNGU5MzkyYTQ1YzhmNDQxNzQ0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzI1MzBlYmY0YjdhNDgzMWJhZTJiNmVlYjU4NDE3YzAuYmluZFBvcHVwKHBvcHVwX2IyODNiNzljZmE1MjQ1M2FhNjc3OTgwZjQyOGVjNmYyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2UxYTFlNzQ0NTcwODQyZGJiYzE0ZmYzNWEzODAwZDdmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTFhMWU3NDQ1NzA4NDJkYmJjMTRmZjM1YTM4MDBkN2YgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTFhMWU3NDQ1NzA4NDJkYmJjMTRmZjM1YTM4MDBkN2Zfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8zYjBmNDFlYzQ3MDA0ZWYxOWQ0N2YwMmQzMDMxZDkyNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2UxYTFlNzQ0NTcwODQyZGJiYzE0ZmYzNWEzODAwZDdmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lMWExZTc0NDU3MDg0MmRiYmMxNGZmMzVhMzgwMGQ3Zi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTFhMWU3NDQ1NzA4NDJkYmJjMTRmZjM1YTM4MDBkN2ZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTI0LjcxODU3MjQzOTU3OCwgMjQuNjQ4ODM2MTQ4ODA4MV0sIFstNjYuOTUxNDg0NjI4NDcwNywgMjQuNjQ4ODM2MTQ4ODA4MV0sIFstNjYuOTUxNDg0NjI4NDcwNywgNDguOTkwNTg2MjM0Njk4Nl0sIFstMTI0LjcxODU3MjQzOTU3OCwgNDguOTkwNTg2MjM0Njk4Nl0sIFstMTI0LjcxODU3MjQzOTU3OCwgMjQuNjQ4ODM2MTQ4ODA4MV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82ODczYTNmNmRmMWQ0MmNiYjdiMzA4YmMyOTc3ZTJjMyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84ZjE0ZmY1ZjAyYjU0NTA4YTJkMWRkMWQyM2Y5NzlhZSA9ICQoYDxkaXYgaWQ9Imh0bWxfOGYxNGZmNWYwMmI1NDUwOGEyZDFkZDFkMjNmOTc5YWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IENhdGNobWVudF9DT05VU19jb2FzdGxpbmVfY2VudHJvaWQuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjM5MzIxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE91dHB1dCBmaWxlcyBjb3JyZXNwb25kaW5nIHRvICJDb250aW5lbnRhbCBwYXR0ZXJucyBvZiBzdWJtYXJpbmUgZ3JvdW5kd2F0ZXIgZGlzY2hhcmdlIHJldmVhbCBjb2FzdGFsIHZ1bG5lcmFiaWxpdGllcyI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjU4ODcxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjg3M2EzZjZkZjFkNDJjYmI3YjMwOGJjMjk3N2UyYzMuc2V0Q29udGVudChodG1sXzhmMTRmZjVmMDJiNTQ1MDhhMmQxZGQxZDIzZjk3OWFlKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTFhMWU3NDQ1NzA4NDJkYmJjMTRmZjM1YTM4MDBkN2YuYmluZFBvcHVwKHBvcHVwXzY4NzNhM2Y2ZGYxZDQyY2JiN2IzMDhiYzI5NzdlMmMzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q2ZmRkN2FmYmJkODQ0Y2E5MDhiMzNjNjQwMTM2ODQyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZDZmZGQ3YWZiYmQ4NDRjYTkwOGIzM2M2NDAxMzY4NDIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZDZmZGQ3YWZiYmQ4NDRjYTkwOGIzM2M2NDAxMzY4NDJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8zYjBmNDFlYzQ3MDA0ZWYxOWQ0N2YwMmQzMDMxZDkyNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q2ZmRkN2FmYmJkODQ0Y2E5MDhiMzNjNjQwMTM2ODQyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kNmZkZDdhZmJiZDg0NGNhOTA4YjMzYzY0MDEzNjg0Mi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZDZmZGQ3YWZiYmQ4NDRjYTkwOGIzM2M2NDAxMzY4NDJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTI0Ljc2MjU4MTExNjc4NCwgMjQuNTM5ODM4Njk1MjQyNl0sIFstNjYuOTQ5ODI4NDA2NTIwNSwgMjQuNTM5ODM4Njk1MjQyNl0sIFstNjYuOTQ5ODI4NDA2NTIwNSwgNDguOTk5ODM3NzIzOTQyNV0sIFstMTI0Ljc2MjU4MTExNjc4NCwgNDguOTk5ODM3NzIzOTQyNV0sIFstMTI0Ljc2MjU4MTExNjc4NCwgMjQuNTM5ODM4Njk1MjQyNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lNGE2YjY3MjZjMzc0MWM3ODljODI5MGQ4ZmY2ZTIxZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81YThiZDRjYmMzMjE0NDUwOTVmYzE5N2Y0NmY4NWE0NyA9ICQoYDxkaXYgaWQ9Imh0bWxfNWE4YmQ0Y2JjMzIxNDQ1MDk1ZmMxOTdmNDZmODVhNDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IE5IREZsb3dsaW5lX0NPTlVTX2NvYXN0bGluZS5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2MzkzMjE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gT3V0cHV0IGZpbGVzIGNvcnJlc3BvbmRpbmcgdG8gIkNvbnRpbmVudGFsIHBhdHRlcm5zIG9mIHN1Ym1hcmluZSBncm91bmR3YXRlciBkaXNjaGFyZ2UgcmV2ZWFsIGNvYXN0YWwgdnVsbmVyYWJpbGl0aWVzIjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNTg4NzE8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lNGE2YjY3MjZjMzc0MWM3ODljODI5MGQ4ZmY2ZTIxZC5zZXRDb250ZW50KGh0bWxfNWE4YmQ0Y2JjMzIxNDQ1MDk1ZmMxOTdmNDZmODVhNDcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9kNmZkZDdhZmJiZDg0NGNhOTA4YjMzYzY0MDEzNjg0Mi5iaW5kUG9wdXAocG9wdXBfZTRhNmI2NzI2YzM3NDFjNzg5YzgyOTBkOGZmNmUyMWQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjQyN2M0YjQ1NDUwNGRmZGI0MmZiZGI1MzEyMTBkZTdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mNDI3YzRiNDU0NTA0ZGZkYjQyZmJkYjUzMTIxMGRlNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mNDI3YzRiNDU0NTA0ZGZkYjQyZmJkYjUzMTIxMGRlN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzNiMGY0MWVjNDcwMDRlZjE5ZDQ3ZjAyZDMwMzFkOTI0KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjQyN2M0YjQ1NDUwNGRmZGI0MmZiZGI1MzEyMTBkZTdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Y0MjdjNGI0NTQ1MDRkZmRiNDJmYmRiNTMxMjEwZGU3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mNDI3YzRiNDU0NTA0ZGZkYjQyZmJkYjUzMTIxMGRlN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjQuNzYyNTgxMTE2Nzg0LCAyNC41Mzk4Mzg2OTUyNDI2XSwgWy02Ni45NDk4Mjg0MDY1MjA1LCAyNC41Mzk4Mzg2OTUyNDI2XSwgWy02Ni45NDk4Mjg0MDY1MjA1LCA0OC45OTk4Mzc3MjM5NDI1XSwgWy0xMjQuNzYyNTgxMTE2Nzg0LCA0OC45OTk4Mzc3MjM5NDI1XSwgWy0xMjQuNzYyNTgxMTE2Nzg0LCAyNC41Mzk4Mzg2OTUyNDI2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzVjYjRjMmE0NjY0MzQzYTg5Zjc4YmZhOTFiMGZhNTI0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzc0OTgwODM3MWQyMzQ3N2I4OTljNTFkOTcyMjVhMzcwID0gJChgPGRpdiBpZD0iaHRtbF83NDk4MDgzNzFkMjM0NzdiODk5YzUxZDk3MjI1YTM3MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gTkhERmxvd2xpbmVfQ09OVVNfY29hc3RsaW5lLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDYzOTMyMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBPdXRwdXQgZmlsZXMgY29ycmVzcG9uZGluZyB0byAiQ29udGluZW50YWwgcGF0dGVybnMgb2Ygc3VibWFyaW5lIGdyb3VuZHdhdGVyIGRpc2NoYXJnZSByZXZlYWwgY29hc3RhbCB2dWxuZXJhYmlsaXRpZXMiPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby41ODg3MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzVjYjRjMmE0NjY0MzQzYTg5Zjc4YmZhOTFiMGZhNTI0LnNldENvbnRlbnQoaHRtbF83NDk4MDgzNzFkMjM0NzdiODk5YzUxZDk3MjI1YTM3MCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Y0MjdjNGI0NTQ1MDRkZmRiNDJmYmRiNTMxMjEwZGU3LmJpbmRQb3B1cChwb3B1cF81Y2I0YzJhNDY2NDM0M2E4OWY3OGJmYTkxYjBmYTUyNCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80ZWQ1YzY5M2NhOWI0N2FhYjc3ZDgxZGE5ZTQzYTUxZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRlZDVjNjkzY2E5YjQ3YWFiNzdkODFkYTllNDNhNTFlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRlZDVjNjkzY2E5YjQ3YWFiNzdkODFkYTllNDNhNTFlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfM2IwZjQxZWM0NzAwNGVmMTlkNDdmMDJkMzAzMWQ5MjQpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80ZWQ1YzY5M2NhOWI0N2FhYjc3ZDgxZGE5ZTQzYTUxZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGVkNWM2OTNjYTliNDdhYWI3N2Q4MWRhOWU0M2E1MWUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRlZDVjNjkzY2E5YjQ3YWFiNzdkODFkYTllNDNhNTFlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEyNC43NjI1ODExMTY3ODQsIDI0LjUzOTgzODY5NTI0MjZdLCBbLTY2Ljk0OTgyODQwNjUyMDUsIDI0LjUzOTgzODY5NTI0MjZdLCBbLTY2Ljk0OTgyODQwNjUyMDUsIDQ4Ljk5OTgzNzcyMzk0MjVdLCBbLTEyNC43NjI1ODExMTY3ODQsIDQ4Ljk5OTgzNzcyMzk0MjVdLCBbLTEyNC43NjI1ODExMTY3ODQsIDI0LjUzOTgzODY5NTI0MjZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNTFkNGY2Mjk2YjljNDM3YThiZDQzNTdjMDNkMjlmYmIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjMyMWYyODA3MjQ4NGM4YmJlZTQ1MjIwNWExZWJkZmEgPSAkKGA8ZGl2IGlkPSJodG1sXzIzMjFmMjgwNzI0ODRjOGJiZWU0NTIyMDVhMWViZGZhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBOSERGbG93bGluZV9DT05VU19jb2FzdGxpbmUuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjM5MzIxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE91dHB1dCBmaWxlcyBjb3JyZXNwb25kaW5nIHRvICJDb250aW5lbnRhbCBwYXR0ZXJucyBvZiBzdWJtYXJpbmUgZ3JvdW5kd2F0ZXIgZGlzY2hhcmdlIHJldmVhbCBjb2FzdGFsIHZ1bG5lcmFiaWxpdGllcyI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjU4ODcxPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTFkNGY2Mjk2YjljNDM3YThiZDQzNTdjMDNkMjlmYmIuc2V0Q29udGVudChodG1sXzIzMjFmMjgwNzI0ODRjOGJiZWU0NTIyMDVhMWViZGZhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGVkNWM2OTNjYTliNDdhYWI3N2Q4MWRhOWU0M2E1MWUuYmluZFBvcHVwKHBvcHVwXzUxZDRmNjI5NmI5YzQzN2E4YmQ0MzU3YzAzZDI5ZmJiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF80ZGM1MGM0OWM3ODE0MzU5YjI1NjA4Mzk2ZDg0ZDJiZCA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTM2M2QwNTIwMzJiNGEzNjk5Y2VmZDQ2ODI5ZmUyMTZfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81MzYzZDA1MjAzMmI0YTM2OTljZWZkNDY4MjlmZTIxNl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzUzNjNkMDUyMDMyYjRhMzY5OWNlZmQ0NjgyOWZlMjE2ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzUzNjNkMDUyMDMyYjRhMzY5OWNlZmQ0NjgyOWZlMjE2X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzUzNjNkMDUyMDMyYjRhMzY5OWNlZmQ0NjgyOWZlMjE2X3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzRkYzUwYzQ5Yzc4MTQzNTliMjU2MDgzOTZkODRkMmJkKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTM2M2QwNTIwMzJiNGEzNjk5Y2VmZDQ2ODI5ZmUyMTZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzUzNjNkMDUyMDMyYjRhMzY5OWNlZmQ0NjgyOWZlMjE2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81MzYzZDA1MjAzMmI0YTM2OTljZWZkNDY4MjlmZTIxNl9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWzkzLjcxMDc3NDMxMjM0OTEsIC0xMC4yNTA5MjQ1MzQ4MzA3XSwgWzE0Mi40ODcxODMyNjk0NDMsIC0xMC4yNTA5MjQ1MzQ4MzA3XSwgWzE0Mi40ODcxODMyNjk0NDMsIDE5LjU5MzE0ODA0MDc1MzddLCBbOTMuNzEwNzc0MzEyMzQ5MSwgMTkuNTkzMTQ4MDQwNzUzN10sIFs5My43MTA3NzQzMTIzNDkxLCAtMTAuMjUwOTI0NTM0ODMwN11dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzUzOWZlMzViNWJhYjRhMmU4MzBiNmVmOTQyNWQ5YzUwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FhOTBkMjhmNjRmOTQ2MTJhZGQ3N2I5ZjYwZGFiNzlmID0gJChgPGRpdiBpZD0iaHRtbF9hYTkwZDI4ZjY0Zjk0NjEyYWRkNzdiOWY2MGRhYjc5ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2MzAyNDE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ291bnRyeSBib3JkZXJzIGFuZCBzaG9yZWxpbmVzIGFyb3VuZCB0aGUgU0FGRSBQcm9qZWN0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjM0OTIxMjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzUzOWZlMzViNWJhYjRhMmU4MzBiNmVmOTQyNWQ5YzUwLnNldENvbnRlbnQoaHRtbF9hYTkwZDI4ZjY0Zjk0NjEyYWRkNzdiOWY2MGRhYjc5Zik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzUzNjNkMDUyMDMyYjRhMzY5OWNlZmQ0NjgyOWZlMjE2LmJpbmRQb3B1cChwb3B1cF81MzlmZTM1YjViYWI0YTJlODMwYjZlZjk0MjVkOWM1MCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kYTc2NGE2NTJkM2E0NjNlYjY3NTQzODIwZjgwZTM1Zl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2RhNzY0YTY1MmQzYTQ2M2ViNjc1NDM4MjBmODBlMzVmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2RhNzY0YTY1MmQzYTQ2M2ViNjc1NDM4MjBmODBlMzVmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNGRjNTBjNDljNzgxNDM1OWIyNTYwODM5NmQ4NGQyYmQpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kYTc2NGE2NTJkM2E0NjNlYjY3NTQzODIwZjgwZTM1Zl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZGE3NjRhNjUyZDNhNDYzZWI2NzU0MzgyMGY4MGUzNWYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2RhNzY0YTY1MmQzYTQ2M2ViNjc1NDM4MjBmODBlMzVmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMTA3LjM1MTgwMTMwOTc5MSwgLTUuNjU0MDQwOTU4MjI5NjhdLCBbMTI1LjQxMjg4MTA1NDg1MSwgLTUuNjU0MDQwOTU4MjI5NjhdLCBbMTI1LjQxMjg4MTA1NDg1MSwgMTEuMzE2MDY1OTYxNDYzOF0sIFsxMDcuMzUxODAxMzA5NzkxLCAxMS4zMTYwNjU5NjE0NjM4XSwgWzEwNy4zNTE4MDEzMDk3OTEsIC01LjY1NDA0MDk1ODIyOTY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBhZWUwYjgyNDI0NDQ4MjJiZDJmZTEzYWM4ZTQyMWNiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzM2Mzg0MzM5M2YzMDRjOGQ4MTdiMDQ3YjljMGQzNGZmID0gJChgPGRpdiBpZD0iaHRtbF8zNjM4NDMzOTNmMzA0YzhkODE3YjA0N2I5YzBkMzRmZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU0FGRV9SZWdpb25hbF9HU0hIU19TaG9yZWxpbmVfZnVsbF9VVE01ME5fV0dTODQuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjMwMjQxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvdW50cnkgYm9yZGVycyBhbmQgc2hvcmVsaW5lcyBhcm91bmQgdGhlIFNBRkUgUHJvamVjdDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ5MjEyNjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzBhZWUwYjgyNDI0NDQ4MjJiZDJmZTEzYWM4ZTQyMWNiLnNldENvbnRlbnQoaHRtbF8zNjM4NDMzOTNmMzA0YzhkODE3YjA0N2I5YzBkMzRmZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2RhNzY0YTY1MmQzYTQ2M2ViNjc1NDM4MjBmODBlMzVmLmJpbmRQb3B1cChwb3B1cF8wYWVlMGI4MjQyNDQ0ODIyYmQyZmUxM2FjOGU0MjFjYikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMmMzZDAwYTFiYmY0ZmUzODdkYTkxMTNmMmU3MDkzOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2IyYzNkMDBhMWJiZjRmZTM4N2RhOTExM2YyZTcwOTM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2IyYzNkMDBhMWJiZjRmZTM4N2RhOTExM2YyZTcwOTM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNGRjNTBjNDljNzgxNDM1OWIyNTYwODM5NmQ4NGQyYmQpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMmMzZDAwYTFiYmY0ZmUzODdkYTkxMTNmMmU3MDkzOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYjJjM2QwMGExYmJmNGZlMzg3ZGE5MTEzZjJlNzA5MzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2IyYzNkMDBhMWJiZjRmZTM4N2RhOTExM2YyZTcwOTM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMTA3LjM1MTgwMTMwOTc5MSwgLTUuNjU0MDQwOTU4MjI5NjhdLCBbMTI1LjQxMjg4MTA1NDg1MSwgLTUuNjU0MDQwOTU4MjI5NjhdLCBbMTI1LjQxMjg4MTA1NDg1MSwgMTEuMzE2MDY1OTYxNDYzOF0sIFsxMDcuMzUxODAxMzA5NzkxLCAxMS4zMTYwNjU5NjE0NjM4XSwgWzEwNy4zNTE4MDEzMDk3OTEsIC01LjY1NDA0MDk1ODIyOTY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2M3MjhlNDljNWZlNDQxMDNhZDM1NWU0ZDJmY2MyYWIwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZiMjNmMTZhMTkzNzRkMmZhNTk2NTlkZWZlYWMzMTU0ID0gJChgPGRpdiBpZD0iaHRtbF82YjIzZjE2YTE5Mzc0ZDJmYTU5NjU5ZGVmZWFjMzE1NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU0FGRV9SZWdpb25hbF9HU0hIU19TaG9yZWxpbmVfZnVsbF9VVE01ME5fV0dTODQuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjMwMjQxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvdW50cnkgYm9yZGVycyBhbmQgc2hvcmVsaW5lcyBhcm91bmQgdGhlIFNBRkUgUHJvamVjdDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ5MjEyNjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M3MjhlNDljNWZlNDQxMDNhZDM1NWU0ZDJmY2MyYWIwLnNldENvbnRlbnQoaHRtbF82YjIzZjE2YTE5Mzc0ZDJmYTU5NjU5ZGVmZWFjMzE1NCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2IyYzNkMDBhMWJiZjRmZTM4N2RhOTExM2YyZTcwOTM4LmJpbmRQb3B1cChwb3B1cF9jNzI4ZTQ5YzVmZTQ0MTAzYWQzNTVlNGQyZmNjMmFiMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wZTZhNzk1MjVjZWQ0Yzc0YWEzMzliYTUxZDNjZWNmN19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzBlNmE3OTUyNWNlZDRjNzRhYTMzOWJhNTFkM2NlY2Y3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzBlNmE3OTUyNWNlZDRjNzRhYTMzOWJhNTFkM2NlY2Y3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNGRjNTBjNDljNzgxNDM1OWIyNTYwODM5NmQ4NGQyYmQpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wZTZhNzk1MjVjZWQ0Yzc0YWEzMzliYTUxZDNjZWNmN19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMGU2YTc5NTI1Y2VkNGM3NGFhMzM5YmE1MWQzY2VjZjcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzBlNmE3OTUyNWNlZDRjNzRhYTMzOWJhNTFkM2NlY2Y3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbOTMuNzEwNzc0MzEyMzQ5MSwgLTEwLjI1MDkyNDUzNDgzMDddLCBbMTQyLjQ4NzE4MzI2OTQ0MywgLTEwLjI1MDkyNDUzNDgzMDddLCBbMTQyLjQ4NzE4MzI2OTQ0MywgMTkuNTkzMTQ4MDQwNzUzN10sIFs5My43MTA3NzQzMTIzNDkxLCAxOS41OTMxNDgwNDA3NTM3XSwgWzkzLjcxMDc3NDMxMjM0OTEsIC0xMC4yNTA5MjQ1MzQ4MzA3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzI5ZmQxYjg5MGM1OTQwMTE4ODY3ODllMzg0NDM5MjRhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzBlN2MyM2JkZjhiYTQ0N2Y4N2RiNTRkYjA4NzdkZTI5ID0gJChgPGRpdiBpZD0iaHRtbF8wZTdjMjNiZGY4YmE0NDdmODdkYjU0ZGIwODc3ZGUyOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU0FGRV9SZWdpb25hbF9EQ1dfVVRNNTBOX1dHUzg0LnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDYzMDI0MTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb3VudHJ5IGJvcmRlcnMgYW5kIHNob3JlbGluZXMgYXJvdW5kIHRoZSBTQUZFIFByb2plY3Q8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM0OTIxMjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yOWZkMWI4OTBjNTk0MDExODg2Nzg5ZTM4NDQzOTI0YS5zZXRDb250ZW50KGh0bWxfMGU3YzIzYmRmOGJhNDQ3Zjg3ZGI1NGRiMDg3N2RlMjkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wZTZhNzk1MjVjZWQ0Yzc0YWEzMzliYTUxZDNjZWNmNy5iaW5kUG9wdXAocG9wdXBfMjlmZDFiODkwYzU5NDAxMTg4Njc4OWUzODQ0MzkyNGEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjc2NjlhYTBkNmY5NDNmMjkzMDgwNWU3MWYyODgyNzJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNzY2OWFhMGQ2Zjk0M2YyOTMwODA1ZTcxZjI4ODI3MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNzY2OWFhMGQ2Zjk0M2YyOTMwODA1ZTcxZjI4ODI3Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzRkYzUwYzQ5Yzc4MTQzNTliMjU2MDgzOTZkODRkMmJkKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjc2NjlhYTBkNmY5NDNmMjkzMDgwNWU3MWYyODgyNzJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzI3NjY5YWEwZDZmOTQzZjI5MzA4MDVlNzFmMjg4MjcyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yNzY2OWFhMGQ2Zjk0M2YyOTMwODA1ZTcxZjI4ODI3Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzEwNy4zNTE4MDEzMDk3OTEsIC01LjY1NDA0MDk1ODIyOTY4XSwgWzEyNS40MTI4ODEwNTQ4NTEsIC01LjY1NDA0MDk1ODIyOTY4XSwgWzEyNS40MTI4ODEwNTQ4NTEsIDExLjMxNjA2NTk2MTQ2MzhdLCBbMTA3LjM1MTgwMTMwOTc5MSwgMTEuMzE2MDY1OTYxNDYzOF0sIFsxMDcuMzUxODAxMzA5NzkxLCAtNS42NTQwNDA5NTgyMjk2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83MDJkZDFmZTQwZmQ0OWI0YTkxNWY0Mzc1YmMwMmNjNSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xZDAyNmY3OWViMjI0YzU3YmY2YWNmYjE3MTVlM2EwMyA9ICQoYDxkaXYgaWQ9Imh0bWxfMWQwMjZmNzllYjIyNGM1N2JmNmFjZmIxNzE1ZTNhMDMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNBRkVfUmVnaW9uYWxfR1NISFNfU2hvcmVsaW5lX2Z1bGxfVVRNNTBOX1dHUzg0LnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDYzMDI0MTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb3VudHJ5IGJvcmRlcnMgYW5kIHNob3JlbGluZXMgYXJvdW5kIHRoZSBTQUZFIFByb2plY3Q8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM0OTIxMjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83MDJkZDFmZTQwZmQ0OWI0YTkxNWY0Mzc1YmMwMmNjNS5zZXRDb250ZW50KGh0bWxfMWQwMjZmNzllYjIyNGM1N2JmNmFjZmIxNzE1ZTNhMDMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yNzY2OWFhMGQ2Zjk0M2YyOTMwODA1ZTcxZjI4ODI3Mi5iaW5kUG9wdXAocG9wdXBfNzAyZGQxZmU0MGZkNDliNGE5MTVmNDM3NWJjMDJjYzUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjU5MTQ3NWIzNjU2NGZhMGFiOGY5NGZhODMzN2FiZDJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82NTkxNDc1YjM2NTY0ZmEwYWI4Zjk0ZmE4MzM3YWJkMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82NTkxNDc1YjM2NTY0ZmEwYWI4Zjk0ZmE4MzM3YWJkMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzRkYzUwYzQ5Yzc4MTQzNTliMjU2MDgzOTZkODRkMmJkKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjU5MTQ3NWIzNjU2NGZhMGFiOGY5NGZhODMzN2FiZDJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzY1OTE0NzViMzY1NjRmYTBhYjhmOTRmYTgzMzdhYmQyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82NTkxNDc1YjM2NTY0ZmEwYWI4Zjk0ZmE4MzM3YWJkMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzkzLjcxMDc3NDMxMjM0OTEsIC0xMC4yNTA5MjQ1MzQ4MzA3XSwgWzE0Mi40ODcxODMyNjk0NDMsIC0xMC4yNTA5MjQ1MzQ4MzA3XSwgWzE0Mi40ODcxODMyNjk0NDMsIDE5LjU5MzE0ODA0MDc1MzddLCBbOTMuNzEwNzc0MzEyMzQ5MSwgMTkuNTkzMTQ4MDQwNzUzN10sIFs5My43MTA3NzQzMTIzNDkxLCAtMTAuMjUwOTI0NTM0ODMwN11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kMjFkYzU3OGZkM2I0Mjc1YWY0YjIzMGZhZTVkNjJjOSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84MTE0YTZjZGU5MDA0ODk3ODljNTZiN2E1MjFkNzVkMiA9ICQoYDxkaXYgaWQ9Imh0bWxfODExNGE2Y2RlOTAwNDg5Nzg5YzU2YjdhNTIxZDc1ZDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNBRkVfUmVnaW9uYWxfRENXX1VUTTUwTl9XR1M4NC5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2MzAyNDE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ291bnRyeSBib3JkZXJzIGFuZCBzaG9yZWxpbmVzIGFyb3VuZCB0aGUgU0FGRSBQcm9qZWN0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNDkyMTI2PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZDIxZGM1NzhmZDNiNDI3NWFmNGIyMzBmYWU1ZDYyYzkuc2V0Q29udGVudChodG1sXzgxMTRhNmNkZTkwMDQ4OTc4OWM1NmI3YTUyMWQ3NWQyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjU5MTQ3NWIzNjU2NGZhMGFiOGY5NGZhODMzN2FiZDIuYmluZFBvcHVwKHBvcHVwX2QyMWRjNTc4ZmQzYjQyNzVhZjRiMjMwZmFlNWQ2MmM5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY3MGQwZjRmMjRlYTRlZmY5YmExNzAwYWE0N2Y1ZTNhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjcwZDBmNGYyNGVhNGVmZjliYTE3MDBhYTQ3ZjVlM2EgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjcwZDBmNGYyNGVhNGVmZjliYTE3MDBhYTQ3ZjVlM2Ffb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF80ZGM1MGM0OWM3ODE0MzU5YjI1NjA4Mzk2ZDg0ZDJiZCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY3MGQwZjRmMjRlYTRlZmY5YmExNzAwYWE0N2Y1ZTNhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82NzBkMGY0ZjI0ZWE0ZWZmOWJhMTcwMGFhNDdmNWUzYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjcwZDBmNGYyNGVhNGVmZjliYTE3MDBhYTQ3ZjVlM2FfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxMDcuMzUxOTAwNDU1MzgzLCAtNS42NTMzMzk0MjkxNjk4Nl0sIFsxMjUuNDEyNzk0MjA4MjYsIC01LjY1MzMzOTQyOTE2OTg2XSwgWzEyNS40MTI3OTQyMDgyNiwgMTEuMzEzMTEyNTIwMzU4N10sIFsxMDcuMzUxOTAwNDU1MzgzLCAxMS4zMTMxMTI1MjAzNTg3XSwgWzEwNy4zNTE5MDA0NTUzODMsIC01LjY1MzMzOTQyOTE2OTg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzhiYzBmYzQ3NmE4NDRiZWM4N2IxZGMzZDUyNzEzYjA5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzcyYWNkZWE3ZDk1MjRlNDNiZWFkNDZjNWYzMTAxZTIyID0gJChgPGRpdiBpZD0iaHRtbF83MmFjZGVhN2Q5NTI0ZTQzYmVhZDQ2YzVmMzEwMWUyMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU0FGRV9SZWdpb25hbF9HU0hIU19TaG9yZWxpbmVfaW50bWRfVVRNNTBOX1dHUzg0LmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDYzMDI0MTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb3VudHJ5IGJvcmRlcnMgYW5kIHNob3JlbGluZXMgYXJvdW5kIHRoZSBTQUZFIFByb2plY3Q8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM0OTIxMjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84YmMwZmM0NzZhODQ0YmVjODdiMWRjM2Q1MjcxM2IwOS5zZXRDb250ZW50KGh0bWxfNzJhY2RlYTdkOTUyNGU0M2JlYWQ0NmM1ZjMxMDFlMjIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82NzBkMGY0ZjI0ZWE0ZWZmOWJhMTcwMGFhNDdmNWUzYS5iaW5kUG9wdXAocG9wdXBfOGJjMGZjNDc2YTg0NGJlYzg3YjFkYzNkNTI3MTNiMDkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmQ4MDJjMTY5ZTAwNGYxZGI4MDk3MzE3NmQwN2FkZTBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82ZDgwMmMxNjllMDA0ZjFkYjgwOTczMTc2ZDA3YWRlMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82ZDgwMmMxNjllMDA0ZjFkYjgwOTczMTc2ZDA3YWRlMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzRkYzUwYzQ5Yzc4MTQzNTliMjU2MDgzOTZkODRkMmJkKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmQ4MDJjMTY5ZTAwNGYxZGI4MDk3MzE3NmQwN2FkZTBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzZkODAyYzE2OWUwMDRmMWRiODA5NzMxNzZkMDdhZGUwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82ZDgwMmMxNjllMDA0ZjFkYjgwOTczMTc2ZDA3YWRlMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzEwNy4zNTE5MDA0NTUzODMsIC01LjY1MzMzOTQyOTE2OTg2XSwgWzEyNS40MTI3OTQyMDgyNiwgLTUuNjUzMzM5NDI5MTY5ODZdLCBbMTI1LjQxMjc5NDIwODI2LCAxMS4zMTMxMTI1MjAzNTg3XSwgWzEwNy4zNTE5MDA0NTUzODMsIDExLjMxMzExMjUyMDM1ODddLCBbMTA3LjM1MTkwMDQ1NTM4MywgLTUuNjUzMzM5NDI5MTY5ODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYTUwOWE2MDA4MmRiNGQ5NWFkNjNhZDBmNDk1OGRiMDkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMmEyZmRkNjdkODNmNGZlMGEwOGM5NTRmYTg4MDNkMzkgPSAkKGA8ZGl2IGlkPSJodG1sXzJhMmZkZDY3ZDgzZjRmZTBhMDhjOTU0ZmE4ODAzZDM5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTQUZFX1JlZ2lvbmFsX0dTSEhTX1Nob3JlbGluZV9pbnRtZF9VVE01ME5fV0dTODQuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjMwMjQxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvdW50cnkgYm9yZGVycyBhbmQgc2hvcmVsaW5lcyBhcm91bmQgdGhlIFNBRkUgUHJvamVjdDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ5MjEyNjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2E1MDlhNjAwODJkYjRkOTVhZDYzYWQwZjQ5NThkYjA5LnNldENvbnRlbnQoaHRtbF8yYTJmZGQ2N2Q4M2Y0ZmUwYTA4Yzk1NGZhODgwM2QzOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzZkODAyYzE2OWUwMDRmMWRiODA5NzMxNzZkMDdhZGUwLmJpbmRQb3B1cChwb3B1cF9hNTA5YTYwMDgyZGI0ZDk1YWQ2M2FkMGY0OTU4ZGIwOSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mZGYyMjE3NWMwNTY0NmUzYjBjZTVmMzFhZjkwOGMyZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2ZkZjIyMTc1YzA1NjQ2ZTNiMGNlNWYzMWFmOTA4YzJmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2ZkZjIyMTc1YzA1NjQ2ZTNiMGNlNWYzMWFmOTA4YzJmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNGRjNTBjNDljNzgxNDM1OWIyNTYwODM5NmQ4NGQyYmQpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mZGYyMjE3NWMwNTY0NmUzYjBjZTVmMzFhZjkwOGMyZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZmRmMjIxNzVjMDU2NDZlM2IwY2U1ZjMxYWY5MDhjMmYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2ZkZjIyMTc1YzA1NjQ2ZTNiMGNlNWYzMWFmOTA4YzJmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbOTMuNzEwNzc0MzEyMzQ5MSwgLTEwLjI1MDkyNDUzNDgzMDddLCBbMTQyLjQ4NzE4MzI2OTQ0MywgLTEwLjI1MDkyNDUzNDgzMDddLCBbMTQyLjQ4NzE4MzI2OTQ0MywgMTkuNTkzMTQ4MDQwNzUzN10sIFs5My43MTA3NzQzMTIzNDkxLCAxOS41OTMxNDgwNDA3NTM3XSwgWzkzLjcxMDc3NDMxMjM0OTEsIC0xMC4yNTA5MjQ1MzQ4MzA3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzJmYjQzNDdiYjI3ODRjNmU5OWEzN2NiNzE2ZDQzYjc4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzg3NWE0ZWQ5ODY4YzQxMTJhY2ZiZGRlM2QzODg2ZjIxID0gJChgPGRpdiBpZD0iaHRtbF84NzVhNGVkOTg2OGM0MTEyYWNmYmRkZTNkMzg4NmYyMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU0FGRV9SZWdpb25hbF9EQ1dfVVRNNTBOX1dHUzg0LnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDYzMDI0MTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb3VudHJ5IGJvcmRlcnMgYW5kIHNob3JlbGluZXMgYXJvdW5kIHRoZSBTQUZFIFByb2plY3Q8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM0OTIxMjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yZmI0MzQ3YmIyNzg0YzZlOTlhMzdjYjcxNmQ0M2I3OC5zZXRDb250ZW50KGh0bWxfODc1YTRlZDk4NjhjNDExMmFjZmJkZGUzZDM4ODZmMjEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mZGYyMjE3NWMwNTY0NmUzYjBjZTVmMzFhZjkwOGMyZi5iaW5kUG9wdXAocG9wdXBfMmZiNDM0N2JiMjc4NGM2ZTk5YTM3Y2I3MTZkNDNiNzgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWQ1NDgwYzBkNTk3NGU4YmIxMjI4MjQyZmUzMmY5MTlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81ZDU0ODBjMGQ1OTc0ZThiYjEyMjgyNDJmZTMyZjkxOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81ZDU0ODBjMGQ1OTc0ZThiYjEyMjgyNDJmZTMyZjkxOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzRkYzUwYzQ5Yzc4MTQzNTliMjU2MDgzOTZkODRkMmJkKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWQ1NDgwYzBkNTk3NGU4YmIxMjI4MjQyZmUzMmY5MTlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzVkNTQ4MGMwZDU5NzRlOGJiMTIyODI0MmZlMzJmOTE5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81ZDU0ODBjMGQ1OTc0ZThiYjEyMjgyNDJmZTMyZjkxOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzEwNy4zNTE5MDA0NTUzODMsIC01LjY1MzMzOTQyOTE2OTg2XSwgWzEyNS40MTI3OTQyMDgyNiwgLTUuNjUzMzM5NDI5MTY5ODZdLCBbMTI1LjQxMjc5NDIwODI2LCAxMS4zMTMxMTI1MjAzNTg3XSwgWzEwNy4zNTE5MDA0NTUzODMsIDExLjMxMzExMjUyMDM1ODddLCBbMTA3LjM1MTkwMDQ1NTM4MywgLTUuNjUzMzM5NDI5MTY5ODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZjdhZDA3MWZkZDZmNDdmZmFlZjVkNGFhYzA1NDU0ZWMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMWNjN2Q3MmYzZDYxNDc3Mzg3ZjFmZTkzNzdkMzBmYmQgPSAkKGA8ZGl2IGlkPSJodG1sXzFjYzdkNzJmM2Q2MTQ3NzM4N2YxZmU5Mzc3ZDMwZmJkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTQUZFX1JlZ2lvbmFsX0dTSEhTX1Nob3JlbGluZV9pbnRtZF9VVE01ME5fV0dTODQuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjMwMjQxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvdW50cnkgYm9yZGVycyBhbmQgc2hvcmVsaW5lcyBhcm91bmQgdGhlIFNBRkUgUHJvamVjdDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ5MjEyNjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Y3YWQwNzFmZGQ2ZjQ3ZmZhZWY1ZDRhYWMwNTQ1NGVjLnNldENvbnRlbnQoaHRtbF8xY2M3ZDcyZjNkNjE0NzczODdmMWZlOTM3N2QzMGZiZCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzVkNTQ4MGMwZDU5NzRlOGJiMTIyODI0MmZlMzJmOTE5LmJpbmRQb3B1cChwb3B1cF9mN2FkMDcxZmRkNmY0N2ZmYWVmNWQ0YWFjMDU0NTRlYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfNDE1NzM2ZGVlZmVkNDEyMDk1NDMxYmM5Nzg5ZTkwOWMgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhlYWMyYjYzMjBiZjQ2YThhMGFkM2VmNjQyNTNhNGJkX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGVhYzJiNjMyMGJmNDZhOGEwYWQzZWY2NDI1M2E0YmRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84ZWFjMmI2MzIwYmY0NmE4YTBhZDNlZjY0MjUzYTRiZCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84ZWFjMmI2MzIwYmY0NmE4YTBhZDNlZjY0MjUzYTRiZF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl84ZWFjMmI2MzIwYmY0NmE4YTBhZDNlZjY0MjUzYTRiZF9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF80MTU3MzZkZWVmZWQ0MTIwOTU0MzFiYzk3ODllOTA5Yyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhlYWMyYjYzMjBiZjQ2YThhMGFkM2VmNjQyNTNhNGJkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84ZWFjMmI2MzIwYmY0NmE4YTBhZDNlZjY0MjUzYTRiZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOGVhYzJiNjMyMGJmNDZhOGEwYWQzZWY2NDI1M2E0YmRfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1sxMi4yMjI3ODg4MjU0MjIzLCAtMS42ODYzNjcxMzYyNTExMV0sIFsxMi40ODU1NDc0NDgzMTIsIC0xLjY4NjM2NzEzNjI1MTExXSwgWzEyLjQ4NTU0NzQ0ODMxMiwgLTEuMzg5MDkxOTcyMDQzMzZdLCBbMTIuMjIyNzg4ODI1NDIyMywgLTEuMzg5MDkxOTcyMDQzMzZdLCBbMTIuMjIyNzg4ODI1NDIyMywgLTEuNjg2MzY3MTM2MjUxMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yNTZmMzE2ZDc3NTI0ZDJjYTNlNWU2YTc4ZjA1MjA2MiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yOTI1MTY0M2U2OGM0MWNlOGNkMTA1Y2IxNzI4ZDAwOSA9ICQoYDxkaXYgaWQ9Imh0bWxfMjkyNTE2NDNlNjhjNDFjZThjZDEwNWNiMTcyOGQwMDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTI5MTM4NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBPdWFnYWRvdWdvdSBsYW5kIHVzZSBtYXAgYXQgc3RyZWV0IGJsb2NrIGxldmVsPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjMyMzgzMDI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5NSVQ8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzI1NmYzMTZkNzc1MjRkMmNhM2U1ZTZhNzhmMDUyMDYyLnNldENvbnRlbnQoaHRtbF8yOTI1MTY0M2U2OGM0MWNlOGNkMTA1Y2IxNzI4ZDAwOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzhlYWMyYjYzMjBiZjQ2YThhMGFkM2VmNjQyNTNhNGJkLmJpbmRQb3B1cChwb3B1cF8yNTZmMzE2ZDc3NTI0ZDJjYTNlNWU2YTc4ZjA1MjA2MikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85ZTVmMzZiNzBlODE0ZjhkODBkYTI0ZGYyNWU0NGUzM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzllNWYzNmI3MGU4MTRmOGQ4MGRhMjRkZjI1ZTQ0ZTMzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzllNWYzNmI3MGU4MTRmOGQ4MGRhMjRkZjI1ZTQ0ZTMzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNDE1NzM2ZGVlZmVkNDEyMDk1NDMxYmM5Nzg5ZTkwOWMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85ZTVmMzZiNzBlODE0ZjhkODBkYTI0ZGYyNWU0NGUzM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOWU1ZjM2YjcwZTgxNGY4ZDgwZGEyNGRmMjVlNDRlMzMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzllNWYzNmI3MGU4MTRmOGQ4MGRhMjRkZjI1ZTQ0ZTMzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMTIuMjIyNzg4ODI1NDIyMywgLTEuNjg2MzY3MTM2MjUxMTFdLCBbMTIuNDg1NTQ3NDQ4MzEyLCAtMS42ODYzNjcxMzYyNTExMV0sIFsxMi40ODU1NDc0NDgzMTIsIC0xLjM4OTA5MTk3MjA0MzM2XSwgWzEyLjIyMjc4ODgyNTQyMjMsIC0xLjM4OTA5MTk3MjA0MzM2XSwgWzEyLjIyMjc4ODgyNTQyMjMsIC0xLjY4NjM2NzEzNjI1MTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2I3MmE2MTQ4ZDM0MjRjYmRhNjExNWYzYmUyM2NlNGI3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzFiNTM3YTBkYTc5NjQyOGFiYWM5MjBjMTZhMzk3ODk3ID0gJChgPGRpdiBpZD0iaHRtbF8xYjUzN2EwZGE3OTY0MjhhYmFjOTIwYzE2YTM5Nzg5NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gT3VhZ2Fkb3Vnb3VfbGFuZHVzZS5ncGtnPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBncGtnPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEyOTEzODQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gT3VhZ2Fkb3Vnb3UgbGFuZCB1c2UgbWFwIGF0IHN0cmVldCBibG9jayBsZXZlbDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzIzODMwMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPk1JVDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2I3MmE2MTQ4ZDM0MjRjYmRhNjExNWYzYmUyM2NlNGI3LnNldENvbnRlbnQoaHRtbF8xYjUzN2EwZGE3OTY0MjhhYmFjOTIwYzE2YTM5Nzg5Nyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzllNWYzNmI3MGU4MTRmOGQ4MGRhMjRkZjI1ZTQ0ZTMzLmJpbmRQb3B1cChwb3B1cF9iNzJhNjE0OGQzNDI0Y2JkYTYxMTVmM2JlMjNjZTRiNykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfZjkyMzgzODE4ZTZmNDBkYzliOWY4NTVhNjU3NTk2ZTggPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U1ODEwNDgwYjYyNTQxOWY5ZmMzNjQ2NzFhMzhmYzA1X3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTU4MTA0ODBiNjI1NDE5ZjlmYzM2NDY3MWEzOGZjMDVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lNTgxMDQ4MGI2MjU0MTlmOWZjMzY0NjcxYTM4ZmMwNSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lNTgxMDQ4MGI2MjU0MTlmOWZjMzY0NjcxYTM4ZmMwNV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl9lNTgxMDQ4MGI2MjU0MTlmOWZjMzY0NjcxYTM4ZmMwNV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mOTIzODM4MThlNmY0MGRjOWI5Zjg1NWE2NTc1OTZlOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U1ODEwNDgwYjYyNTQxOWY5ZmMzNjQ2NzFhMzhmYzA1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lNTgxMDQ4MGI2MjU0MTlmOWZjMzY0NjcxYTM4ZmMwNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTU4MTA0ODBiNjI1NDE5ZjlmYzM2NDY3MWEzOGZjMDVfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1sxNC42NDYwOTQyODc1MzcyLCAtMTcuNTMwNTM5MTgzOTIyNF0sIFsxNC44NDY3NDI3MzcyODgsIC0xNy41MzA1MzkxODM5MjI0XSwgWzE0Ljg0Njc0MjczNzI4OCwgLTE3LjExMTAyMjY4NDk1NDNdLCBbMTQuNjQ2MDk0Mjg3NTM3MiwgLTE3LjExMTAyMjY4NDk1NDNdLCBbMTQuNjQ2MDk0Mjg3NTM3MiwgLTE3LjUzMDUzOTE4MzkyMjRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hZDFiMGU3ZGY0NjY0ZTI2OTI2YzAzNjQwZmM4YjIxYiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hMTIwYWQ2YWIzNWI0MWMwOGQwYWE3ZmY4NjZjMDBiYSA9ICQoYDxkaXYgaWQ9Imh0bWxfYTEyMGFkNmFiMzViNDFjMDhkMGFhN2ZmODY2YzAwYmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTI5MTM4ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYWthciBsYW5kIHVzZSBtYXAgYXQgc3RyZWV0IGJsb2NrIGxldmVsPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjEyOTEzODk8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5NSVQ8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2FkMWIwZTdkZjQ2NjRlMjY5MjZjMDM2NDBmYzhiMjFiLnNldENvbnRlbnQoaHRtbF9hMTIwYWQ2YWIzNWI0MWMwOGQwYWE3ZmY4NjZjMDBiYSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2U1ODEwNDgwYjYyNTQxOWY5ZmMzNjQ2NzFhMzhmYzA1LmJpbmRQb3B1cChwb3B1cF9hZDFiMGU3ZGY0NjY0ZTI2OTI2YzAzNjQwZmM4YjIxYikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jNmMyNGRjNjM3N2E0ZmRjOTQ4ODJlMGNlMjczNzdmMl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2M2YzI0ZGM2Mzc3YTRmZGM5NDg4MmUwY2UyNzM3N2YyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2M2YzI0ZGM2Mzc3YTRmZGM5NDg4MmUwY2UyNzM3N2YyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjkyMzgzODE4ZTZmNDBkYzliOWY4NTVhNjU3NTk2ZTgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jNmMyNGRjNjM3N2E0ZmRjOTQ4ODJlMGNlMjczNzdmMl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYzZjMjRkYzYzNzdhNGZkYzk0ODgyZTBjZTI3Mzc3ZjIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2M2YzI0ZGM2Mzc3YTRmZGM5NDg4MmUwY2UyNzM3N2YyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMTQuNjQ2MDk0Mjg3NTM3MiwgLTE3LjUzMDUzOTE4MzkyMjRdLCBbMTQuODQ2NzQyNzM3Mjg4LCAtMTcuNTMwNTM5MTgzOTIyNF0sIFsxNC44NDY3NDI3MzcyODgsIC0xNy4xMTEwMjI2ODQ5NTQzXSwgWzE0LjY0NjA5NDI4NzUzNzIsIC0xNy4xMTEwMjI2ODQ5NTQzXSwgWzE0LjY0NjA5NDI4NzUzNzIsIC0xNy41MzA1MzkxODM5MjI0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2UxOTI1MjBjZmExMjQ0ZjY5ZDY4YmMxZDg4YWU5MjQ4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzg4NTEzNWNiNTNlZTRlZDk5MTEyMzg0NmVhN2E1ODJkID0gJChgPGRpdiBpZD0iaHRtbF84ODUxMzVjYjUzZWU0ZWQ5OTExMjM4NDZlYTdhNTgyZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gT3VhZ2FfbGFuZHVzZV8zMjYyOC5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxMjkxMzg4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERha2FyIGxhbmQgdXNlIG1hcCBhdCBzdHJlZXQgYmxvY2sgbGV2ZWw8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjEyOTEzODk8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5NSVQ8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lMTkyNTIwY2ZhMTI0NGY2OWQ2OGJjMWQ4OGFlOTI0OC5zZXRDb250ZW50KGh0bWxfODg1MTM1Y2I1M2VlNGVkOTkxMTIzODQ2ZWE3YTU4MmQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jNmMyNGRjNjM3N2E0ZmRjOTQ4ODJlMGNlMjczNzdmMi5iaW5kUG9wdXAocG9wdXBfZTE5MjUyMGNmYTEyNDRmNjlkNjhiYzFkODhhZTkyNDgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzdhMWI0NzhmN2Q1NDEzY2EyNzEyOWIxNjg2MjkxNDJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83N2ExYjQ3OGY3ZDU0MTNjYTI3MTI5YjE2ODYyOTE0MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83N2ExYjQ3OGY3ZDU0MTNjYTI3MTI5YjE2ODYyOTE0Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2Y5MjM4MzgxOGU2ZjQwZGM5YjlmODU1YTY1NzU5NmU4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzdhMWI0NzhmN2Q1NDEzY2EyNzEyOWIxNjg2MjkxNDJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzc3YTFiNDc4ZjdkNTQxM2NhMjcxMjliMTY4NjI5MTQyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83N2ExYjQ3OGY3ZDU0MTNjYTI3MTI5YjE2ODYyOTE0Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzE0LjY0NjA5NDI4NzUzNzIsIC0xNy41MzA1MzkxODM5MjI0XSwgWzE0Ljg0Njc0MjczNzI4OCwgLTE3LjUzMDUzOTE4MzkyMjRdLCBbMTQuODQ2NzQyNzM3Mjg4LCAtMTcuMTExMDIyNjg0OTU0M10sIFsxNC42NDYwOTQyODc1MzcyLCAtMTcuMTExMDIyNjg0OTU0M10sIFsxNC42NDYwOTQyODc1MzcyLCAtMTcuNTMwNTM5MTgzOTIyNF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yYzEzNGY0YjIyYmY0NjllYjAwOGY2Y2M2NWQxM2U1ZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jZGZkYzFiNzBlNDA0MjE5YmUwMTc1YzE4ZDk4MDU2ZiA9ICQoYDxkaXYgaWQ9Imh0bWxfY2RmZGMxYjcwZTQwNDIxOWJlMDE3NWMxOGQ5ODA1NmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IE91YWdhX2xhbmR1c2VfMzI2Mjguc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTI5MTM4ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBEYWthciBsYW5kIHVzZSBtYXAgYXQgc3RyZWV0IGJsb2NrIGxldmVsPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xMjkxMzg5PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+TUlUPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMmMxMzRmNGIyMmJmNDY5ZWIwMDhmNmNjNjVkMTNlNWUuc2V0Q29udGVudChodG1sX2NkZmRjMWI3MGU0MDQyMTliZTAxNzVjMThkOTgwNTZmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzdhMWI0NzhmN2Q1NDEzY2EyNzEyOWIxNjg2MjkxNDIuYmluZFBvcHVwKHBvcHVwXzJjMTM0ZjRiMjJiZjQ2OWViMDA4ZjZjYzY1ZDEzZTVlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU1N2I0NjRiNjRhZDRkYTU4MDEwNDI0NzBmY2UyNmUzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTU3YjQ2NGI2NGFkNGRhNTgwMTA0MjQ3MGZjZTI2ZTMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTU3YjQ2NGI2NGFkNGRhNTgwMTA0MjQ3MGZjZTI2ZTNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mOTIzODM4MThlNmY0MGRjOWI5Zjg1NWE2NTc1OTZlOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU1N2I0NjRiNjRhZDRkYTU4MDEwNDI0NzBmY2UyNmUzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81NTdiNDY0YjY0YWQ0ZGE1ODAxMDQyNDcwZmNlMjZlMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTU3YjQ2NGI2NGFkNGRhNTgwMTA0MjQ3MGZjZTI2ZTNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxNC42NDYwOTQyODc1MzcyLCAtMTcuNTMwNTM5MTgzOTIyNF0sIFsxNC44NDY3NDI3MzcyODgsIC0xNy41MzA1MzkxODM5MjI0XSwgWzE0Ljg0Njc0MjczNzI4OCwgLTE3LjExMTAyMjY4NDk1NDNdLCBbMTQuNjQ2MDk0Mjg3NTM3MiwgLTE3LjExMTAyMjY4NDk1NDNdLCBbMTQuNjQ2MDk0Mjg3NTM3MiwgLTE3LjUzMDUzOTE4MzkyMjRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzM3MjliN2Q0MzgxNGQ3ODhmZDZkOTAwNmRlZDI5ZjEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODFhMDEyYjA4ZTUyNGEwMDg2YjdlZGY1ZTMxNjdmNWEgPSAkKGA8ZGl2IGlkPSJodG1sXzgxYTAxMmIwOGU1MjRhMDA4NmI3ZWRmNWUzMTY3ZjVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBPdWFnYV9sYW5kdXNlXzMyNjI4LnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEyOTEzODg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGFrYXIgbGFuZCB1c2UgbWFwIGF0IHN0cmVldCBibG9jayBsZXZlbDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMTI5MTM4OTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPk1JVDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2MzNzI5YjdkNDM4MTRkNzg4ZmQ2ZDkwMDZkZWQyOWYxLnNldENvbnRlbnQoaHRtbF84MWEwMTJiMDhlNTI0YTAwODZiN2VkZjVlMzE2N2Y1YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzU1N2I0NjRiNjRhZDRkYTU4MDEwNDI0NzBmY2UyNmUzLmJpbmRQb3B1cChwb3B1cF9jMzcyOWI3ZDQzODE0ZDc4OGZkNmQ5MDA2ZGVkMjlmMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfZTkyNDhkN2E2ZDhjNDFjZjk2ZmQ2MTdmNGUzMGJmMGEgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2M4OTZlOWJlMWRjNDQwZTk5M2VhM2FhZDYyY2VjNWNkX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzg5NmU5YmUxZGM0NDBlOTkzZWEzYWFkNjJjZWM1Y2Rfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jODk2ZTliZTFkYzQ0MGU5OTNlYTNhYWQ2MmNlYzVjZCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jODk2ZTliZTFkYzQ0MGU5OTNlYTNhYWQ2MmNlYzVjZF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl9jODk2ZTliZTFkYzQ0MGU5OTNlYTNhYWQ2MmNlYzVjZF9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9lOTI0OGQ3YTZkOGM0MWNmOTZmZDYxN2Y0ZTMwYmYwYSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2M4OTZlOWJlMWRjNDQwZTk5M2VhM2FhZDYyY2VjNWNkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jODk2ZTliZTFkYzQ0MGU5OTNlYTNhYWQ2MmNlYzVjZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYzg5NmU5YmUxZGM0NDBlOTkzZWEzYWFkNjJjZWM1Y2RfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stMTE0Ljg2NjcsIDE0LjY1XSwgWy04OS43NSwgMTQuNjVdLCBbLTg5Ljc1LCAzMi4xMzMzXSwgWy0xMTQuODY2NywgMzIuMTMzM10sIFstMTE0Ljg2NjcsIDE0LjY1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYTc3MWM5YjAyOGU5NDg5ZTkxZTEwYWE0MDQxMTU5NDQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTdjOWI2MGNhODY2NGI4ZWEyYzc1NDY0YzdlODc0MGQgPSAkKGA8ZGl2IGlkPSJodG1sXzk3YzliNjBjYTg2NjRiOGVhMmM3NTQ2NGM3ZTg3NDBkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM5ODE0MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gSXMgZHJvdWdodCB0b2xlcmFuY2UgYSBkb21lc3RpY2F0aW9uIHRyYWl0IGluIHRlcGFyeSBiZWFuPzogQWxsZWxpYyBkaXZlcnNpdHkgYXQgYWJpb3RpYyBzdHJlc3MgcmVzcG9uc2l2ZSBnZW5lcyBpbiBjdWx0aXZhdGVkIFBoYXNlb2x1cyBhY3V0aWZvbGl1cyBBLiBHcmF5IGFuZCBpdHMgd2lsZCByZWxhdGl2ZXM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTA2MS9kcnlhZC5iZzc5Y25wOGo8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hNzcxYzliMDI4ZTk0ODllOTFlMTBhYTQwNDExNTk0NC5zZXRDb250ZW50KGh0bWxfOTdjOWI2MGNhODY2NGI4ZWEyYzc1NDY0YzdlODc0MGQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jODk2ZTliZTFkYzQ0MGU5OTNlYTNhYWQ2MmNlYzVjZC5iaW5kUG9wdXAocG9wdXBfYTc3MWM5YjAyOGU5NDg5ZTkxZTEwYWE0MDQxMTU5NDQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fN2JlZDJlN2JjYWEyNDcwNThjYjdhMmRkNmQyM2YxNjVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83YmVkMmU3YmNhYTI0NzA1OGNiN2EyZGQ2ZDIzZjE2NSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83YmVkMmU3YmNhYTI0NzA1OGNiN2EyZGQ2ZDIzZjE2NV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2U5MjQ4ZDdhNmQ4YzQxY2Y5NmZkNjE3ZjRlMzBiZjBhKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fN2JlZDJlN2JjYWEyNDcwNThjYjdhMmRkNmQyM2YxNjVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzdiZWQyZTdiY2FhMjQ3MDU4Y2I3YTJkZDZkMjNmMTY1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83YmVkMmU3YmNhYTI0NzA1OGNiN2EyZGQ2ZDIzZjE2NV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMTQuODY2NywgMTQuNjVdLCBbLTg5Ljc1LCAxNC42NV0sIFstODkuNzUsIDMyLjEzMzNdLCBbLTExNC44NjY3LCAzMi4xMzMzXSwgWy0xMTQuODY2NywgMTQuNjVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfM2ZkNWMzNWEwYWJmNDFiMWEzNTc2YTRhM2I0YWY0ZGMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMWMzYzk3NWYwN2E4NGRlNjg0NDFmYzlmY2RkNzNmNTkgPSAkKGA8ZGl2IGlkPSJodG1sXzFjM2M5NzVmMDdhODRkZTY4NDQxZmM5ZmNkZDczZjU5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBESS5jc3Y8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGNzdjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVDU1Y8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzOTgxNDExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IElzIGRyb3VnaHQgdG9sZXJhbmNlIGEgZG9tZXN0aWNhdGlvbiB0cmFpdCBpbiB0ZXBhcnkgYmVhbj86IEFsbGVsaWMgZGl2ZXJzaXR5IGF0IGFiaW90aWMgc3RyZXNzIHJlc3BvbnNpdmUgZ2VuZXMgaW4gY3VsdGl2YXRlZCBQaGFzZW9sdXMgYWN1dGlmb2xpdXMgQS4gR3JheSBhbmQgaXRzIHdpbGQgcmVsYXRpdmVzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLmJnNzljbnA4ajwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zZmQ1YzM1YTBhYmY0MWIxYTM1NzZhNGEzYjRhZjRkYy5zZXRDb250ZW50KGh0bWxfMWMzYzk3NWYwN2E4NGRlNjg0NDFmYzlmY2RkNzNmNTkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83YmVkMmU3YmNhYTI0NzA1OGNiN2EyZGQ2ZDIzZjE2NS5iaW5kUG9wdXAocG9wdXBfM2ZkNWMzNWEwYWJmNDFiMWEzNTc2YTRhM2I0YWY0ZGMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwXzU3ODdjZjEyMjY2YTQyYThhNzcwZjRkYjkzZWFkMGEyID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82YmE2YmZlNmMzMjU0MzcwYjg4YjBjMzU0NjlkODI1N19zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZiYTZiZmU2YzMyNTQzNzBiODhiMGMzNTQ2OWQ4MjU3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNmJhNmJmZTZjMzI1NDM3MGI4OGIwYzM1NDY5ZDgyNTcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNmJhNmJmZTZjMzI1NDM3MGI4OGIwYzM1NDY5ZDgyNTdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fNmJhNmJmZTZjMzI1NDM3MGI4OGIwYzM1NDY5ZDgyNTdfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTc4N2NmMTIyNjZhNDJhOGE3NzBmNGRiOTNlYWQwYTIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82YmE2YmZlNmMzMjU0MzcwYjg4YjBjMzU0NjlkODI1N19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNmJhNmJmZTZjMzI1NDM3MGI4OGIwYzM1NDY5ZDgyNTcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzZiYTZiZmU2YzMyNTQzNzBiODhiMGMzNTQ2OWQ4MjU3X2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbLTEuMDUzMzA3NiwgNDEuOTgwODAzOF0sIFszNy42MzEyMzQyLCA0MS45ODA4MDM4XSwgWzM3LjYzMTIzNDIsIDU1Ljc2NDYyODFdLCBbLTEuMDUzMzA3NiwgNTUuNzY0NjI4MV0sIFstMS4wNTMzMDc2LCA0MS45ODA4MDM4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfM2JkN2UxMWY5YWVmNDM0ZmIwMjJhODI5M2M1NjM0NzUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfM2Y3M2FjZjc0MTIwNGVkYjlkMzNiMWY1OGQ0ZDg3ZjIgPSAkKGA8ZGl2IGlkPSJodG1sXzNmNzNhY2Y3NDEyMDRlZGI5ZDMzYjFmNThkNGQ4N2YyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ0ODU4ODE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gSGlzdG9yaWNhbCB1bmNlcnRhaW50eSBpbiBHcmVnb3J5IG9mIFRvdXJzJ3MgSGlzdG9yeSBvZiB0aGUgRnJhbmtzIChib29rIDcpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjQ0ODU4ODI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNiZDdlMTFmOWFlZjQzNGZiMDIyYTgyOTNjNTYzNDc1LnNldENvbnRlbnQoaHRtbF8zZjczYWNmNzQxMjA0ZWRiOWQzM2IxZjU4ZDRkODdmMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzZiYTZiZmU2YzMyNTQzNzBiODhiMGMzNTQ2OWQ4MjU3LmJpbmRQb3B1cChwb3B1cF8zYmQ3ZTExZjlhZWY0MzRmYjAyMmE4MjkzYzU2MzQ3NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hMjAxYmU0NTIzMzE0ZDcxYWUxNmRjZTE3YmM1MTAwNF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2EyMDFiZTQ1MjMzMTRkNzFhZTE2ZGNlMTdiYzUxMDA0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2EyMDFiZTQ1MjMzMTRkNzFhZTE2ZGNlMTdiYzUxMDA0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTc4N2NmMTIyNjZhNDJhOGE3NzBmNGRiOTNlYWQwYTIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hMjAxYmU0NTIzMzE0ZDcxYWUxNmRjZTE3YmM1MTAwNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYTIwMWJlNDUyMzMxNGQ3MWFlMTZkY2UxN2JjNTEwMDQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2EyMDFiZTQ1MjMzMTRkNzFhZTE2ZGNlMTdiYzUxMDA0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEuMDUzMzA3NiwgNDEuOTgwODAzOF0sIFszNy42MzEyMzQyLCA0MS45ODA4MDM4XSwgWzM3LjYzMTIzNDIsIDU1Ljc2NDYyODFdLCBbLTEuMDUzMzA3NiwgNTUuNzY0NjI4MV0sIFstMS4wNTMzMDc2LCA0MS45ODA4MDM4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzYzZjU5YzFjYTQ3NjQ3YTA4ODUzZGE5NGY2N2Y5YTg0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQyZTAyNDQwZTFlYTQ0YjA4MmRlNjJmZDliNjRlZmY0ID0gJChgPGRpdiBpZD0iaHRtbF80MmUwMjQ0MGUxZWE0NGIwODJkZTYyZmQ5YjY0ZWZmNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gdW5jZXJ0YWludHlfbWFwcGluZ193aXRocHJlY2lzZV9hbmRfZ2VuZXJhbF9nZW9kYXRhLmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ0ODU4ODE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gSGlzdG9yaWNhbCB1bmNlcnRhaW50eSBpbiBHcmVnb3J5IG9mIFRvdXJzJ3MgSGlzdG9yeSBvZiB0aGUgRnJhbmtzIChib29rIDcpPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40NDg1ODgyPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjNmNTljMWNhNDc2NDdhMDg4NTNkYTk0ZjY3ZjlhODQuc2V0Q29udGVudChodG1sXzQyZTAyNDQwZTFlYTQ0YjA4MmRlNjJmZDliNjRlZmY0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYTIwMWJlNDUyMzMxNGQ3MWFlMTZkY2UxN2JjNTEwMDQuYmluZFBvcHVwKHBvcHVwXzYzZjU5YzFjYTQ3NjQ3YTA4ODUzZGE5NGY2N2Y5YTg0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF9jNjZlNjRkNTgxOGY0N2JlOWZiN2UxZDc2NzQwNjE2MyA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGZjMWFlZGI2YjYxNDI3ZjlhZGE3NTNmMWZjMzQ1MzVfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ZmMxYWVkYjZiNjE0MjdmOWFkYTc1M2YxZmMzNDUzNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzhmYzFhZWRiNmI2MTQyN2Y5YWRhNzUzZjFmYzM0NTM1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzhmYzFhZWRiNmI2MTQyN2Y5YWRhNzUzZjFmYzM0NTM1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzhmYzFhZWRiNmI2MTQyN2Y5YWRhNzUzZjFmYzM0NTM1X3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2M2NmU2NGQ1ODE4ZjQ3YmU5ZmI3ZTFkNzY3NDA2MTYzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGZjMWFlZGI2YjYxNDI3ZjlhZGE3NTNmMWZjMzQ1MzVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzhmYzFhZWRiNmI2MTQyN2Y5YWRhNzUzZjFmYzM0NTM1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84ZmMxYWVkYjZiNjE0MjdmOWFkYTc1M2YxZmMzNDUzNV9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWy03NC4wNzc2Njc3OTAxOTQ3LCAtNzQuMDc3OTY2OTQ5MjQ0OV0sIFs0MC44OTY1NTAwNDE3Mzk3LCAtNzQuMDc3OTY2OTQ5MjQ0OV0sIFs0MC44OTY1NTAwNDE3Mzk3LCA0MC44OTY1Mzk1OTgzOTAxXSwgWy03NC4wNzc2Njc3OTAxOTQ3LCA0MC44OTY1Mzk1OTgzOTAxXSwgWy03NC4wNzc2Njc3OTAxOTQ3LCAtNzQuMDc3OTY2OTQ5MjQ0OV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzZiMWE1NThhOTBlNTQyYTI4NmVjYmExNDc3MTI0NTJjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2RiMTZkNDFiOTE2MDQwNTZhMDZhYzJiYTJlZWVlZDExID0gJChgPGRpdiBpZD0iaHRtbF9kYjE2ZDQxYjkxNjA0MDU2YTA2YWMyYmEyZWVlZWQxMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxNDY5NjczPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEdyZWVuIFJvb2ZzIEZvb3RwcmludHMgZm9yIE5ldyBZb3JrIENpdHksIEFzc2VtYmxlZCBmcm9tIEF2YWlsYWJsZSBEYXRhIGFuZCBSZW1vdGUgU2Vuc2luZzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby4xNDY5Njc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktTkMtU0EtNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82YjFhNTU4YTkwZTU0MmEyODZlY2JhMTQ3NzEyNDUyYy5zZXRDb250ZW50KGh0bWxfZGIxNmQ0MWI5MTYwNDA1NmEwNmFjMmJhMmVlZWVkMTEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84ZmMxYWVkYjZiNjE0MjdmOWFkYTc1M2YxZmMzNDUzNS5iaW5kUG9wdXAocG9wdXBfNmIxYTU1OGE5MGU1NDJhMjg2ZWNiYTE0NzcxMjQ1MmMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fY2RhMDRhZTY0YzgyNDYyMmJlM2MzYzViODk1NjBmZWNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jZGEwNGFlNjRjODI0NjIyYmUzYzNjNWI4OTU2MGZlYyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jZGEwNGFlNjRjODI0NjIyYmUzYzNjNWI4OTU2MGZlY19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2M2NmU2NGQ1ODE4ZjQ3YmU5ZmI3ZTFkNzY3NDA2MTYzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fY2RhMDRhZTY0YzgyNDYyMmJlM2MzYzViODk1NjBmZWNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2NkYTA0YWU2NGM4MjQ2MjJiZTNjM2M1Yjg5NTYwZmVjLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jZGEwNGFlNjRjODI0NjIyYmUzYzNjNWI4OTU2MGZlY19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQwLjU3MTkwNzc1NTI4NDQsIC03NC4wNzc5NjYyNTExODgzXSwgWzQwLjg5NjU0OTEyMjc0MjQsIC03NC4wNzc5NjYyNTExODgzXSwgWzQwLjg5NjU0OTEyMjc0MjQsIC03My43NTAxMTg2NjQxMDY2XSwgWzQwLjU3MTkwNzc1NTI4NDQsIC03My43NTAxMTg2NjQxMDY2XSwgWzQwLjU3MTkwNzc1NTI4NDQsIC03NC4wNzc5NjYyNTExODgzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzIzYjM3MTM5OWNlNDQyODNhZGJkZDVkZGUwYjMxNzNlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzE1NjBhYjkzNjA2ODRmYzM5ZTZhYzBjOGFmNjk0MmEyID0gJChgPGRpdiBpZD0iaHRtbF8xNTYwYWI5MzYwNjg0ZmMzOWU2YWMwYzhhZjY5NDJhMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gR3JlZW5Sb29mRGF0YTIwMTZfMjAxODA5MTcuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTQ2OTY3MzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBHcmVlbiBSb29mcyBGb290cHJpbnRzIGZvciBOZXcgWW9yayBDaXR5LCBBc3NlbWJsZWQgZnJvbSBBdmFpbGFibGUgRGF0YSBhbmQgUmVtb3RlIFNlbnNpbmc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjE0Njk2NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS1OQy1TQS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yM2IzNzEzOTljZTQ0MjgzYWRiZGQ1ZGRlMGIzMTczZS5zZXRDb250ZW50KGh0bWxfMTU2MGFiOTM2MDY4NGZjMzllNmFjMGM4YWY2OTQyYTIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jZGEwNGFlNjRjODI0NjIyYmUzYzNjNWI4OTU2MGZlYy5iaW5kUG9wdXAocG9wdXBfMjNiMzcxMzk5Y2U0NDI4M2FkYmRkNWRkZTBiMzE3M2UpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGIyNDAwYjg5YmQ2NDhhNmFlZjJjZThlNTA1NGRhODJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wYjI0MDBiODliZDY0OGE2YWVmMmNlOGU1MDU0ZGE4MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wYjI0MDBiODliZDY0OGE2YWVmMmNlOGU1MDU0ZGE4Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2M2NmU2NGQ1ODE4ZjQ3YmU5ZmI3ZTFkNzY3NDA2MTYzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGIyNDAwYjg5YmQ2NDhhNmFlZjJjZThlNTA1NGRhODJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzBiMjQwMGI4OWJkNjQ4YTZhZWYyY2U4ZTUwNTRkYTgyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wYjI0MDBiODliZDY0OGE2YWVmMmNlOGU1MDU0ZGE4Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQwLjU3MTkwNzc1NTI4NDQsIC03NC4wNzc5NjYyNTExODgzXSwgWzQwLjg5NjU0OTEyMjc0MjQsIC03NC4wNzc5NjYyNTExODgzXSwgWzQwLjg5NjU0OTEyMjc0MjQsIC03My43NTAxMTg2NjQxMDY2XSwgWzQwLjU3MTkwNzc1NTI4NDQsIC03My43NTAxMTg2NjQxMDY2XSwgWzQwLjU3MTkwNzc1NTI4NDQsIC03NC4wNzc5NjYyNTExODgzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBhOTJkZGNlY2VkYTQ4NzE4YzkxZDczZGM0NWIwMTk4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2M0YmM1NGMwZTgyZTQ1ZmRhZmJhOGQ3OWE4ZDA1YzEzID0gJChgPGRpdiBpZD0iaHRtbF9jNGJjNTRjMGU4MmU0NWZkYWZiYThkNzlhOGQwNWMxMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gR3JlZW5Sb29mRGF0YTIwMTZfMjAxODA5MTcuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTQ2OTY3MzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBHcmVlbiBSb29mcyBGb290cHJpbnRzIGZvciBOZXcgWW9yayBDaXR5LCBBc3NlbWJsZWQgZnJvbSBBdmFpbGFibGUgRGF0YSBhbmQgUmVtb3RlIFNlbnNpbmc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjE0Njk2NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS1OQy1TQS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wYTkyZGRjZWNlZGE0ODcxOGM5MWQ3M2RjNDViMDE5OC5zZXRDb250ZW50KGh0bWxfYzRiYzU0YzBlODJlNDVmZGFmYmE4ZDc5YThkMDVjMTMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wYjI0MDBiODliZDY0OGE2YWVmMmNlOGU1MDU0ZGE4Mi5iaW5kUG9wdXAocG9wdXBfMGE5MmRkY2VjZWRhNDg3MThjOTFkNzNkYzQ1YjAxOTgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGVjNjEzYTJlMjRhNGVkMWIxZjUwZTFjOGNmNzY5OTVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84ZWM2MTNhMmUyNGE0ZWQxYjFmNTBlMWM4Y2Y3Njk5NSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84ZWM2MTNhMmUyNGE0ZWQxYjFmNTBlMWM4Y2Y3Njk5NV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2M2NmU2NGQ1ODE4ZjQ3YmU5ZmI3ZTFkNzY3NDA2MTYzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGVjNjEzYTJlMjRhNGVkMWIxZjUwZTFjOGNmNzY5OTVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzhlYzYxM2EyZTI0YTRlZDFiMWY1MGUxYzhjZjc2OTk1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84ZWM2MTNhMmUyNGE0ZWQxYjFmNTBlMWM4Y2Y3Njk5NV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQwLjU3MTkwNzc1NTI4NDQsIC03NC4wNzc5NjYyNTExODgzXSwgWzQwLjg5NjU0OTEyMjc0MjQsIC03NC4wNzc5NjYyNTExODgzXSwgWzQwLjg5NjU0OTEyMjc0MjQsIC03My43NTAxMTg2NjQxMDY2XSwgWzQwLjU3MTkwNzc1NTI4NDQsIC03My43NTAxMTg2NjQxMDY2XSwgWzQwLjU3MTkwNzc1NTI4NDQsIC03NC4wNzc5NjYyNTExODgzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzg3ZDllYzAyMGU0ZDQ5NjM4MThjNTlkNmM0MTVlZDRhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Y1M2JlNGIzMWQxOTRmMjk5OTYzOTdlYjA2OWJiZjc2ID0gJChgPGRpdiBpZD0iaHRtbF9mNTNiZTRiMzFkMTk0ZjI5OTk2Mzk3ZWIwNjliYmY3NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gR3JlZW5Sb29mRGF0YTIwMTZfMjAxODA5MTcuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTQ2OTY3MzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBHcmVlbiBSb29mcyBGb290cHJpbnRzIGZvciBOZXcgWW9yayBDaXR5LCBBc3NlbWJsZWQgZnJvbSBBdmFpbGFibGUgRGF0YSBhbmQgUmVtb3RlIFNlbnNpbmc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjE0Njk2NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS1OQy1TQS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84N2Q5ZWMwMjBlNGQ0OTYzODE4YzU5ZDZjNDE1ZWQ0YS5zZXRDb250ZW50KGh0bWxfZjUzYmU0YjMxZDE5NGYyOTk5NjM5N2ViMDY5YmJmNzYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84ZWM2MTNhMmUyNGE0ZWQxYjFmNTBlMWM4Y2Y3Njk5NS5iaW5kUG9wdXAocG9wdXBfODdkOWVjMDIwZTRkNDk2MzgxOGM1OWQ2YzQxNWVkNGEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzkwYjhkODlhNWFlNGQwMjljNjE0ODY0NmNhZDIxYzJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83OTBiOGQ4OWE1YWU0ZDAyOWM2MTQ4NjQ2Y2FkMjFjMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83OTBiOGQ4OWE1YWU0ZDAyOWM2MTQ4NjQ2Y2FkMjFjMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2M2NmU2NGQ1ODE4ZjQ3YmU5ZmI3ZTFkNzY3NDA2MTYzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzkwYjhkODlhNWFlNGQwMjljNjE0ODY0NmNhZDIxYzJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzc5MGI4ZDg5YTVhZTRkMDI5YzYxNDg2NDZjYWQyMWMyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83OTBiOGQ4OWE1YWU0ZDAyOWM2MTQ4NjQ2Y2FkMjFjMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy03NC4wNzczMiwgNDAuNTcyMjJdLCBbLTczLjc1MTMyLCA0MC41NzIyMl0sIFstNzMuNzUxMzIsIDQwLjg5NjM1XSwgWy03NC4wNzczMiwgNDAuODk2MzVdLCBbLTc0LjA3NzMyLCA0MC41NzIyMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83ZGM2ODUyMWJjZjc0NDVhOTJkNTk3OGI0ZGJlOWY4NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81NzM0NzJjNjY3N2U0NGY0YmQzYjk4N2Y2NGE5MTdlZiA9ICQoYDxkaXYgaWQ9Imh0bWxfNTczNDcyYzY2NzdlNDRmNGJkM2I5ODdmNjRhOTE3ZWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEdyZWVuUm9vZkRhdGEyMDE2XzIwMTgwOTE3LmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDE0Njk2NzM8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gR3JlZW4gUm9vZnMgRm9vdHByaW50cyBmb3IgTmV3IFlvcmsgQ2l0eSwgQXNzZW1ibGVkIGZyb20gQXZhaWxhYmxlIERhdGEgYW5kIFJlbW90ZSBTZW5zaW5nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xNDY5Njc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktTkMtU0EtNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2RjNjg1MjFiY2Y3NDQ1YTkyZDU5NzhiNGRiZTlmODQuc2V0Q29udGVudChodG1sXzU3MzQ3MmM2Njc3ZTQ0ZjRiZDNiOTg3ZjY0YTkxN2VmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzkwYjhkODlhNWFlNGQwMjljNjE0ODY0NmNhZDIxYzIuYmluZFBvcHVwKHBvcHVwXzdkYzY4NTIxYmNmNzQ0NWE5MmQ1OTc4YjRkYmU5Zjg0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2IwY2QyZmM0MWU3NDRlYjA5NzQxMWVhOTkxNzZjY2RkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYjBjZDJmYzQxZTc0NGViMDk3NDExZWE5OTE3NmNjZGQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYjBjZDJmYzQxZTc0NGViMDk3NDExZWE5OTE3NmNjZGRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jNjZlNjRkNTgxOGY0N2JlOWZiN2UxZDc2NzQwNjE2Myk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2IwY2QyZmM0MWU3NDRlYjA5NzQxMWVhOTkxNzZjY2RkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iMGNkMmZjNDFlNzQ0ZWIwOTc0MTFlYTk5MTc2Y2NkZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYjBjZDJmYzQxZTc0NGViMDk3NDExZWE5OTE3NmNjZGRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0MC41NzE5MDc5ODU5ODg1LCAtNzQuMDc3OTY2OTQ5MjQ0OV0sIFs0MC44OTY1NTAwNDE3Mzk3LCAtNzQuMDc3OTY2OTQ5MjQ0OV0sIFs0MC44OTY1NTAwNDE3Mzk3LCAtNzMuNzUwMTMwMTk0MDA3M10sIFs0MC41NzE5MDc5ODU5ODg1LCAtNzMuNzUwMTMwMTk0MDA3M10sIFs0MC41NzE5MDc5ODU5ODg1LCAtNzQuMDc3OTY2OTQ5MjQ0OV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82NDA5MDczZGJmZjA0MGJiYTE5MDNlOGEwNjc3ODc4YiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lM2VhODViZjg3MDc0NTJkOGFhNjM2NGRiMWZmZjFmMSA9ICQoYDxkaXYgaWQ9Imh0bWxfZTNlYTg1YmY4NzA3NDUyZDhhYTYzNjRkYjFmZmYxZjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEdyZWVuUm9vZkRhdGEyMDE2XzIwMTgwOTE3Lmdwa2c8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdwa2c8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTQ2OTY3MzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBHcmVlbiBSb29mcyBGb290cHJpbnRzIGZvciBOZXcgWW9yayBDaXR5LCBBc3NlbWJsZWQgZnJvbSBBdmFpbGFibGUgRGF0YSBhbmQgUmVtb3RlIFNlbnNpbmc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjE0Njk2NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS1OQy1TQS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82NDA5MDczZGJmZjA0MGJiYTE5MDNlOGEwNjc3ODc4Yi5zZXRDb250ZW50KGh0bWxfZTNlYTg1YmY4NzA3NDUyZDhhYTYzNjRkYjFmZmYxZjEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iMGNkMmZjNDFlNzQ0ZWIwOTc0MTFlYTk5MTc2Y2NkZC5iaW5kUG9wdXAocG9wdXBfNjQwOTA3M2RiZmYwNDBiYmExOTAzZThhMDY3Nzg3OGIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjcwZDc4NjdlZTU4NDQ0Njk2NDM1NjRkN2NkOWUwMTRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mNzBkNzg2N2VlNTg0NDQ2OTY0MzU2NGQ3Y2Q5ZTAxNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mNzBkNzg2N2VlNTg0NDQ2OTY0MzU2NGQ3Y2Q5ZTAxNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2M2NmU2NGQ1ODE4ZjQ3YmU5ZmI3ZTFkNzY3NDA2MTYzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjcwZDc4NjdlZTU4NDQ0Njk2NDM1NjRkN2NkOWUwMTRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Y3MGQ3ODY3ZWU1ODQ0NDY5NjQzNTY0ZDdjZDllMDE0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mNzBkNzg2N2VlNTg0NDQ2OTY0MzU2NGQ3Y2Q5ZTAxNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy03NC4wNzc2Njc3OTAxOTQ3LCA0MC41NzIxNzY0NTkyNjg0XSwgWy03My43NTEyMTgxMTI3OTI5LCA0MC41NzIxNzY0NTkyNjg0XSwgWy03My43NTEyMTgxMTI3OTI5LCA0MC44OTY1Mzk1OTgzOTAxXSwgWy03NC4wNzc2Njc3OTAxOTQ3LCA0MC44OTY1Mzk1OTgzOTAxXSwgWy03NC4wNzc2Njc3OTAxOTQ3LCA0MC41NzIxNzY0NTkyNjg0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzhmMjBjMmM1MmFlNDQ1NmY5NzQ4NjdlOTdhMDk2OTgxID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JiMzMwMWFhYThkMDQ0NWViM2FmN2MwOTBkMTAxNDhiID0gJChgPGRpdiBpZD0iaHRtbF9iYjMzMDFhYWE4ZDA0NDVlYjNhZjdjMDkwZDEwMTQ4YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gR3JlZW5Sb29mRGF0YTIwMTZfMjAxODA5MTcuZ2VvanNvbjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2VvanNvbjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxNDY5NjczPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEdyZWVuIFJvb2ZzIEZvb3RwcmludHMgZm9yIE5ldyBZb3JrIENpdHksIEFzc2VtYmxlZCBmcm9tIEF2YWlsYWJsZSBEYXRhIGFuZCBSZW1vdGUgU2Vuc2luZzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMTQ2OTY3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLU5DLVNBLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzhmMjBjMmM1MmFlNDQ1NmY5NzQ4NjdlOTdhMDk2OTgxLnNldENvbnRlbnQoaHRtbF9iYjMzMDFhYWE4ZDA0NDVlYjNhZjdjMDkwZDEwMTQ4Yik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Y3MGQ3ODY3ZWU1ODQ0NDY5NjQzNTY0ZDdjZDllMDE0LmJpbmRQb3B1cChwb3B1cF84ZjIwYzJjNTJhZTQ0NTZmOTc0ODY3ZTk3YTA5Njk4MSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfNzIzNDdiYjFmMTVkNDQxYTkxZTkxM2YwZmIzMmE4OTMgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MzMDI4YzA2NDI1NTRhNzRiNzljODRmMDllNmY5MGU5X3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzMwMjhjMDY0MjU1NGE3NGI3OWM4NGYwOWU2ZjkwZTlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jMzAyOGMwNjQyNTU0YTc0Yjc5Yzg0ZjA5ZTZmOTBlOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jMzAyOGMwNjQyNTU0YTc0Yjc5Yzg0ZjA5ZTZmOTBlOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl9jMzAyOGMwNjQyNTU0YTc0Yjc5Yzg0ZjA5ZTZmOTBlOV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83MjM0N2JiMWYxNWQ0NDFhOTFlOTEzZjBmYjMyYTg5Myk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MzMDI4YzA2NDI1NTRhNzRiNzljODRmMDllNmY5MGU5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jMzAyOGMwNjQyNTU0YTc0Yjc5Yzg0ZjA5ZTZmOTBlOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYzMwMjhjMDY0MjU1NGE3NGI3OWM4NGYwOWU2ZjkwZTlfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stOS4zMzk3NDM4MjI5LCAzNi42MjMwMDYxNDg3XSwgWzI4LjY0ODY3MTkzMDYsIDM2LjYyMzAwNjE0ODddLCBbMjguNjQ4NjcxOTMwNiwgNTguNjI1ODgwMTk0MV0sIFstOS4zMzk3NDM4MjI5LCA1OC42MjU4ODAxOTQxXSwgWy05LjMzOTc0MzgyMjksIDM2LjYyMzAwNjE0ODddXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81M2NiZjFhMzJlNzQ0YTZjYjZkM2E0OWZjNTJhNmY5MCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84ZGQ2MzI5YWE5YWM0ZjE2YjgzMTY4ZmEwOWIzNDRmNSA9ICQoYDxkaXYgaWQ9Imh0bWxfOGRkNjMyOWFhOWFjNGYxNmI4MzE2OGZhMDliMzQ0ZjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDI2NDg2NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBNQUdJQyBEZWxpdmVyYWJsZSBENi41OiBTaGFsZSBnYXMgZGV2ZWxvcG1lbnQgaW4gdGhlIEVVIDEwS20gcmFkaXVzIHdlbGwgZ3JpZCBzY2VuYXJpbzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby40MjY0ODY1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81M2NiZjFhMzJlNzQ0YTZjYjZkM2E0OWZjNTJhNmY5MC5zZXRDb250ZW50KGh0bWxfOGRkNjMyOWFhOWFjNGYxNmI4MzE2OGZhMDliMzQ0ZjUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jMzAyOGMwNjQyNTU0YTc0Yjc5Yzg0ZjA5ZTZmOTBlOS5iaW5kUG9wdXAocG9wdXBfNTNjYmYxYTMyZTc0NGE2Y2I2ZDNhNDlmYzUyYTZmOTApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGMxYjdkZmJjZjhlNGE0NGI4Mzk2Yzc1Y2JlYTkyNWRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84YzFiN2RmYmNmOGU0YTQ0YjgzOTZjNzVjYmVhOTI1ZCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84YzFiN2RmYmNmOGU0YTQ0YjgzOTZjNzVjYmVhOTI1ZF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzcyMzQ3YmIxZjE1ZDQ0MWE5MWU5MTNmMGZiMzJhODkzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGMxYjdkZmJjZjhlNGE0NGI4Mzk2Yzc1Y2JlYTkyNWRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzhjMWI3ZGZiY2Y4ZTRhNDRiODM5NmM3NWNiZWE5MjVkLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84YzFiN2RmYmNmOGU0YTQ0YjgzOTZjNzVjYmVhOTI1ZF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy05LjMzOTc0MzgyMjksIDM2LjYyMzAwNjE0ODddLCBbMjguNjQ4NjcxOTMwNiwgMzYuNjIzMDA2MTQ4N10sIFsyOC42NDg2NzE5MzA2LCA1OC42MjU4ODAxOTQxXSwgWy05LjMzOTc0MzgyMjksIDU4LjYyNTg4MDE5NDFdLCBbLTkuMzM5NzQzODIyOSwgMzYuNjIzMDA2MTQ4N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iMzlkZDA3MGYyZDQ0MmNhOTY1N2YxMTBmYWJjZGQzZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kZDhhMzczMGM4ZWI0YWIyYmMwN2FlYWVmOTgyYjZiYyA9ICQoYDxkaXYgaWQ9Imh0bWxfZGQ4YTM3MzBjOGViNGFiMmJjMDdhZWFlZjk4MmI2YmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IE1BR0lDX0VVU2NlbmFyaW9TaGFsZV9XZWxsczEwS21HREIuY3N2PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBjc3Y8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlQ1NWPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDI2NDg2NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBNQUdJQyBEZWxpdmVyYWJsZSBENi41OiBTaGFsZSBnYXMgZGV2ZWxvcG1lbnQgaW4gdGhlIEVVIDEwS20gcmFkaXVzIHdlbGwgZ3JpZCBzY2VuYXJpbzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDI2NDg2NTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2IzOWRkMDcwZjJkNDQyY2E5NjU3ZjExMGZhYmNkZDNkLnNldENvbnRlbnQoaHRtbF9kZDhhMzczMGM4ZWI0YWIyYmMwN2FlYWVmOTgyYjZiYyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzhjMWI3ZGZiY2Y4ZTRhNDRiODM5NmM3NWNiZWE5MjVkLmJpbmRQb3B1cChwb3B1cF9iMzlkZDA3MGYyZDQ0MmNhOTY1N2YxMTBmYWJjZGQzZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfOGEwZDQxY2NiMjNiNGQ0ODkwNGQyMWZiZGQ5MjQ5NzMgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdhZjM4ODBjNTg2ZTQ2NzY5NzUxMWE5NzFlYzk0ZGNlX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fN2FmMzg4MGM1ODZlNDY3Njk3NTExYTk3MWVjOTRkY2Vfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83YWYzODgwYzU4NmU0Njc2OTc1MTFhOTcxZWM5NGRjZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83YWYzODgwYzU4NmU0Njc2OTc1MTFhOTcxZWM5NGRjZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl83YWYzODgwYzU4NmU0Njc2OTc1MTFhOTcxZWM5NGRjZV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84YTBkNDFjY2IyM2I0ZDQ4OTA0ZDIxZmJkZDkyNDk3Myk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdhZjM4ODBjNTg2ZTQ2NzY5NzUxMWE5NzFlYzk0ZGNlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83YWYzODgwYzU4NmU0Njc2OTc1MTFhOTcxZWM5NGRjZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fN2FmMzg4MGM1ODZlNDY3Njk3NTExYTk3MWVjOTRkY2VfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stMTc5Ljk5OTk2NSwgLTc0LjAwNTMzODMzMzMzMzNdLCBbMTc5Ljk1NTk2ODMzMzMzMywgLTc0LjAwNTMzODMzMzMzMzNdLCBbMTc5Ljk1NTk2ODMzMzMzMywgNTQuMTUxNzczMzMzMzMzM10sIFstMTc5Ljk5OTk2NSwgNTQuMTUxNzczMzMzMzMzM10sIFstMTc5Ljk5OTk2NSwgLTc0LjAwNTMzODMzMzMzMzNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81NzMwYzVkMjdlMjg0YjA3YmI4NGRjNzcxOGQ5ZTRhMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85NzQ5Y2ExMGJmYzI0NDJkOGU4OTM0OTg3YmI0YjM1YiA9ICQoYDxkaXYgaWQ9Imh0bWxfOTc0OWNhMTBiZmMyNDQyZDhlODkzNDk4N2JiNGIzNWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ4MzE2MzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBRdWFsaXR5LWNoZWNrZWQsIG9uZS1ob3VyIHJlc29sdXRpb24gY3J1aXNlIHRyYWNrIG9mIHRoZSBBbnRhcmN0aWMgQ2lyY3VtbmF2aWdhdGlvbiBFeHBlZGl0aW9uIChBQ0UpIHVuZGVydGFrZW4gZHVyaW5nIHRoZSBhdXN0cmFsIHN1bW1lciBvZiAyMDE2LzIwMTcuPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjM0ODMxNjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzU3MzBjNWQyN2UyODRiMDdiYjg0ZGM3NzE4ZDllNGEyLnNldENvbnRlbnQoaHRtbF85NzQ5Y2ExMGJmYzI0NDJkOGU4OTM0OTg3YmI0YjM1Yik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzdhZjM4ODBjNTg2ZTQ2NzY5NzUxMWE5NzFlYzk0ZGNlLmJpbmRQb3B1cChwb3B1cF81NzMwYzVkMjdlMjg0YjA3YmI4NGRjNzcxOGQ5ZTRhMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81YTZiYjI3MzI0OGI0YWMwOWY3OGMwMjE3ODQ5OTIxNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzVhNmJiMjczMjQ4YjRhYzA5Zjc4YzAyMTc4NDk5MjE1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzVhNmJiMjczMjQ4YjRhYzA5Zjc4YzAyMTc4NDk5MjE1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfOGEwZDQxY2NiMjNiNGQ0ODkwNGQyMWZiZGQ5MjQ5NzMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81YTZiYjI3MzI0OGI0YWMwOWY3OGMwMjE3ODQ5OTIxNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNWE2YmIyNzMyNDhiNGFjMDlmNzhjMDIxNzg0OTkyMTUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzVhNmJiMjczMjQ4YjRhYzA5Zjc4YzAyMTc4NDk5MjE1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTQ3LjE5NTY2NDYyODMzMzMsIC01OS41MDE4MzVdLCBbMTguNDM1ODE4MzMzMzMzMywgLTU5LjUwMTgzNV0sIFsxOC40MzU4MTgzMzMzMzMzLCA2Ljg4NzE1MTY2NjY2NjY3XSwgWy00Ny4xOTU2NjQ2MjgzMzMzLCA2Ljg4NzE1MTY2NjY2NjY3XSwgWy00Ny4xOTU2NjQ2MjgzMzMzLCAtNTkuNTAxODM1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2FkMDBhYjZjMjNlYzQ5ZjhhZGE0ZmQ1MGFlNThlYTljID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Q2YTNhNjYxMTgzNTRkMzA5NDZjMjZkZDE3ZDk5Njk2ID0gJChgPGRpdiBpZD0iaHRtbF9kNmEzYTY2MTE4MzU0ZDMwOTQ2YzI2ZGQxN2Q5OTY5NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYWNlX2NydWlzZV90cmFja18xaG91cl8yMDE3LTAzLmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0ODMxNjM8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUXVhbGl0eS1jaGVja2VkLCBvbmUtaG91ciByZXNvbHV0aW9uIGNydWlzZSB0cmFjayBvZiB0aGUgQW50YXJjdGljIENpcmN1bW5hdmlnYXRpb24gRXhwZWRpdGlvbiAoQUNFKSB1bmRlcnRha2VuIGR1cmluZyB0aGUgYXVzdHJhbCBzdW1tZXIgb2YgMjAxNi8yMDE3LjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ4MzE2NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2FkMDBhYjZjMjNlYzQ5ZjhhZGE0ZmQ1MGFlNThlYTljLnNldENvbnRlbnQoaHRtbF9kNmEzYTY2MTE4MzU0ZDMwOTQ2YzI2ZGQxN2Q5OTY5Nik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzVhNmJiMjczMjQ4YjRhYzA5Zjc4YzAyMTc4NDk5MjE1LmJpbmRQb3B1cChwb3B1cF9hZDAwYWI2YzIzZWM0OWY4YWRhNGZkNTBhZTU4ZWE5YykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hZjc4ZTVkMzg3OTU0ODk3OGM1ZWQ0MTliNWRlOGI0OF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2FmNzhlNWQzODc5NTQ4OTc4YzVlZDQxOWI1ZGU4YjQ4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2FmNzhlNWQzODc5NTQ4OTc4YzVlZDQxOWI1ZGU4YjQ4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfOGEwZDQxY2NiMjNiNGQ0ODkwNGQyMWZiZGQ5MjQ5NzMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hZjc4ZTVkMzg3OTU0ODk3OGM1ZWQ0MTliNWRlOGI0OF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYWY3OGU1ZDM4Nzk1NDg5NzhjNWVkNDE5YjVkZThiNDguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2FmNzhlNWQzODc5NTQ4OTc4YzVlZDQxOWI1ZGU4YjQ4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE4Ljk2Njc3LCAxLjBdLCBbOC41NTkyNjMzMzMzMzMzMywgMS4wXSwgWzguNTU5MjYzMzMzMzMzMzMsIDU0LjE1MTc3MzMzMzMzMzNdLCBbLTE4Ljk2Njc3LCA1NC4xNTE3NzMzMzMzMzMzXSwgWy0xOC45NjY3NywgMS4wXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzVkNGRmYzBkZWM0YjQ3ZjI4MmVjNWIyYzMxNzY2NWI0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FjNTUwYjczMmI1MDQyNTFhZGU5M2JjYmUxZjcwOGQ4ID0gJChgPGRpdiBpZD0iaHRtbF9hYzU1MGI3MzJiNTA0MjUxYWRlOTNiY2JlMWY3MDhkOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYWNlX2NydWlzZV90cmFja18xaG91cl8yMDE3LTA0LmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0ODMxNjM8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUXVhbGl0eS1jaGVja2VkLCBvbmUtaG91ciByZXNvbHV0aW9uIGNydWlzZSB0cmFjayBvZiB0aGUgQW50YXJjdGljIENpcmN1bW5hdmlnYXRpb24gRXhwZWRpdGlvbiAoQUNFKSB1bmRlcnRha2VuIGR1cmluZyB0aGUgYXVzdHJhbCBzdW1tZXIgb2YgMjAxNi8yMDE3LjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ4MzE2NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzVkNGRmYzBkZWM0YjQ3ZjI4MmVjNWIyYzMxNzY2NWI0LnNldENvbnRlbnQoaHRtbF9hYzU1MGI3MzJiNTA0MjUxYWRlOTNiY2JlMWY3MDhkOCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2FmNzhlNWQzODc5NTQ4OTc4YzVlZDQxOWI1ZGU4YjQ4LmJpbmRQb3B1cChwb3B1cF81ZDRkZmMwZGVjNGI0N2YyODJlYzViMmMzMTc2NjViNCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mMDg4NGM4MThiODY0NzM5Yjg5MmE4OWI1MDQ0MWQzZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2YwODg0YzgxOGI4NjQ3MzliODkyYTg5YjUwNDQxZDNmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2YwODg0YzgxOGI4NjQ3MzliODkyYTg5YjUwNDQxZDNmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfOGEwZDQxY2NiMjNiNGQ0ODkwNGQyMWZiZGQ5MjQ5NzMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mMDg4NGM4MThiODY0NzM5Yjg5MmE4OWI1MDQ0MWQzZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjA4ODRjODE4Yjg2NDczOWI4OTJhODliNTA0NDFkM2YuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2YwODg0YzgxOGI4NjQ3MzliODkyYTg5YjUwNDQxZDNmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuODAyNzgxNjY2NjY2NywgLTY3LjIyMzAwODMzMzMzMzNdLCBbMTUwLjQxNDQ3MTY2NjY2NywgLTY3LjIyMzAwODMzMzMzMzNdLCBbMTUwLjQxNDQ3MTY2NjY2NywgNS4wXSwgWzUxLjgwMjc4MTY2NjY2NjcsIDUuMF0sIFs1MS44MDI3ODE2NjY2NjY3LCAtNjcuMjIzMDA4MzMzMzMzM11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81ZWM0OTc2YWY5N2Q0YThlODU2MDliNTZjOWI0M2U3MSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wYWFmNGEzNTIxZmY0MDM2YTEyZjY4NDk5NzU4MWNhMyA9ICQoYDxkaXYgaWQ9Imh0bWxfMGFhZjRhMzUyMWZmNDAzNmExMmY2ODQ5OTc1ODFjYTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGFjZV9jcnVpc2VfdHJhY2tfMWhvdXJfMjAxNy0wMS5jc3Y8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGNzdjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVDU1Y8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDgzMTYzPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFF1YWxpdHktY2hlY2tlZCwgb25lLWhvdXIgcmVzb2x1dGlvbiBjcnVpc2UgdHJhY2sgb2YgdGhlIEFudGFyY3RpYyBDaXJjdW1uYXZpZ2F0aW9uIEV4cGVkaXRpb24gKEFDRSkgdW5kZXJ0YWtlbiBkdXJpbmcgdGhlIGF1c3RyYWwgc3VtbWVyIG9mIDIwMTYvMjAxNy48L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM0ODMxNjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81ZWM0OTc2YWY5N2Q0YThlODU2MDliNTZjOWI0M2U3MS5zZXRDb250ZW50KGh0bWxfMGFhZjRhMzUyMWZmNDAzNmExMmY2ODQ5OTc1ODFjYTMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mMDg4NGM4MThiODY0NzM5Yjg5MmE4OWI1MDQ0MWQzZi5iaW5kUG9wdXAocG9wdXBfNWVjNDk3NmFmOTdkNGE4ZTg1NjA5YjU2YzliNDNlNzEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzU2ODY0Y2E1MjM3NDQxODgwM2VjMjk4ZjNmMThiYzdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jNTY4NjRjYTUyMzc0NDE4ODAzZWMyOThmM2YxOGJjNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jNTY4NjRjYTUyMzc0NDE4ODAzZWMyOThmM2YxOGJjN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzhhMGQ0MWNjYjIzYjRkNDg5MDRkMjFmYmRkOTI0OTczKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzU2ODY0Y2E1MjM3NDQxODgwM2VjMjk4ZjNmMThiYzdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2M1Njg2NGNhNTIzNzQ0MTg4MDNlYzI5OGYzZjE4YmM3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jNTY4NjRjYTUyMzc0NDE4ODAzZWMyOThmM2YxOGJjN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzE4LjAzMDkxMjg5MiwgLTQ3LjA4OTQ1NTM1ODE2NjddLCBbNTIuMTk2Njc4MzMzMzMzMywgLTQ3LjA4OTQ1NTM1ODE2NjddLCBbNTIuMTk2Njc4MzMzMzMzMywgNi4wXSwgWzE4LjAzMDkxMjg5MiwgNi4wXSwgWzE4LjAzMDkxMjg5MiwgLTQ3LjA4OTQ1NTM1ODE2NjddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjM4YTAwODU0MGMxNDRkZGI0Nzc1NWMwZDE2ODYwYWQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNmIwNzMwNTZkMjAyNDUwM2I2MjRhZTRhNmE1MjY1YmIgPSAkKGA8ZGl2IGlkPSJodG1sXzZiMDczMDU2ZDIwMjQ1MDNiNjI0YWU0YTZhNTI2NWJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhY2VfY3J1aXNlX3RyYWNrXzFob3VyXzIwMTYtMTIuY3N2PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBjc3Y8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlQ1NWPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ4MzE2MzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBRdWFsaXR5LWNoZWNrZWQsIG9uZS1ob3VyIHJlc29sdXRpb24gY3J1aXNlIHRyYWNrIG9mIHRoZSBBbnRhcmN0aWMgQ2lyY3VtbmF2aWdhdGlvbiBFeHBlZGl0aW9uIChBQ0UpIHVuZGVydGFrZW4gZHVyaW5nIHRoZSBhdXN0cmFsIHN1bW1lciBvZiAyMDE2LzIwMTcuPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNDgzMTY0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYjM4YTAwODU0MGMxNDRkZGI0Nzc1NWMwZDE2ODYwYWQuc2V0Q29udGVudChodG1sXzZiMDczMDU2ZDIwMjQ1MDNiNjI0YWU0YTZhNTI2NWJiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYzU2ODY0Y2E1MjM3NDQxODgwM2VjMjk4ZjNmMThiYzcuYmluZFBvcHVwKHBvcHVwX2IzOGEwMDg1NDBjMTQ0ZGRiNDc3NTVjMGQxNjg2MGFkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzliMWYwYWI0ZjIyNTRhZWFiN2Y5Mzk1ZDYzNDFlZjgxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOWIxZjBhYjRmMjI1NGFlYWI3ZjkzOTVkNjM0MWVmODEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOWIxZjBhYjRmMjI1NGFlYWI3ZjkzOTVkNjM0MWVmODFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF84YTBkNDFjY2IyM2I0ZDQ4OTA0ZDIxZmJkZDkyNDk3Myk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzliMWYwYWI0ZjIyNTRhZWFiN2Y5Mzk1ZDYzNDFlZjgxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85YjFmMGFiNGYyMjU0YWVhYjdmOTM5NWQ2MzQxZWY4MS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOWIxZjBhYjRmMjI1NGFlYWI3ZjkzOTVkNjM0MWVmODFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTc5Ljk5OTk2NSwgLTc0LjAwNTMzODMzMzMzMzNdLCBbMTc5Ljk1NTk2ODMzMzMzMywgLTc0LjAwNTMzODMzMzMzMzNdLCBbMTc5Ljk1NTk2ODMzMzMzMywgNS4wXSwgWy0xNzkuOTk5OTY1LCA1LjBdLCBbLTE3OS45OTk5NjUsIC03NC4wMDUzMzgzMzMzMzMzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2VjMTNmZGM1Njc0OTQ4MDA5YjRmMWMyNWM0ZGNjMzA3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2IwYzM4OWUxMDEzZjQzMjliYzYxOTA2OWI4M2U1ZTgwID0gJChgPGRpdiBpZD0iaHRtbF9iMGMzODllMTAxM2Y0MzI5YmM2MTkwNjliODNlNWU4MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYWNlX2NydWlzZV90cmFja18xaG91cl8yMDE3LTAyLmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0ODMxNjM8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUXVhbGl0eS1jaGVja2VkLCBvbmUtaG91ciByZXNvbHV0aW9uIGNydWlzZSB0cmFjayBvZiB0aGUgQW50YXJjdGljIENpcmN1bW5hdmlnYXRpb24gRXhwZWRpdGlvbiAoQUNFKSB1bmRlcnRha2VuIGR1cmluZyB0aGUgYXVzdHJhbCBzdW1tZXIgb2YgMjAxNi8yMDE3LjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ4MzE2NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2VjMTNmZGM1Njc0OTQ4MDA5YjRmMWMyNWM0ZGNjMzA3LnNldENvbnRlbnQoaHRtbF9iMGMzODllMTAxM2Y0MzI5YmM2MTkwNjliODNlNWU4MCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzliMWYwYWI0ZjIyNTRhZWFiN2Y5Mzk1ZDYzNDFlZjgxLmJpbmRQb3B1cChwb3B1cF9lYzEzZmRjNTY3NDk0ODAwOWI0ZjFjMjVjNGRjYzMwNykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfN2EzMDBhOTdhZjdiNDUyMjlkOGU5NTIwMjBmNzljYzAgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzI2NjczODNhOGNkOTRlNzk5ZDE5Njc2MzZiODY2NDIzX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjY2NzM4M2E4Y2Q5NGU3OTlkMTk2NzYzNmI4NjY0MjNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNjY3MzgzYThjZDk0ZTc5OWQxOTY3NjM2Yjg2NjQyMyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNjY3MzgzYThjZDk0ZTc5OWQxOTY3NjM2Yjg2NjQyM19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl8yNjY3MzgzYThjZDk0ZTc5OWQxOTY3NjM2Yjg2NjQyM19zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83YTMwMGE5N2FmN2I0NTIyOWQ4ZTk1MjAyMGY3OWNjMCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzI2NjczODNhOGNkOTRlNzk5ZDE5Njc2MzZiODY2NDIzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yNjY3MzgzYThjZDk0ZTc5OWQxOTY3NjM2Yjg2NjQyMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMjY2NzM4M2E4Y2Q5NGU3OTlkMTk2NzYzNmI4NjY0MjNfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stMTc5Ljk5OTk2NSwgLTc0LjAwOTI3NV0sIFsxNzkuOTk5OTg4MzMzMzMzLCAtNzQuMDA5Mjc1XSwgWzE3OS45OTk5ODgzMzMzMzMsIDU0LjE1MjAxXSwgWy0xNzkuOTk5OTY1LCA1NC4xNTIwMV0sIFstMTc5Ljk5OTk2NSwgLTc0LjAwOTI3NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNjNmRhNWY5NTAxZjRiZDk5MzdlOWQxNGJiZDM1YWUzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzhjNTRhY2E3NDZjMjRiZTJhZjU2MzE1OGQxOTM4MTU0ID0gJChgPGRpdiBpZD0iaHRtbF84YzU0YWNhNzQ2YzI0YmUyYWY1NjMxNThkMTkzODE1NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDgzMTY1PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFF1YWxpdHktY2hlY2tlZCwgb25lLW1pbnV0ZSByZXNvbHV0aW9uIGNydWlzZSB0cmFjayBvZiB0aGUgQW50YXJjdGljIENpcmN1bW5hdmlnYXRpb24gRXhwZWRpdGlvbiAoQUNFKSB1bmRlcnRha2VuIGR1cmluZyB0aGUgYXVzdHJhbCBzdW1tZXIgb2YgMjAxNi8yMDE3LjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby4zNDgzMTY2PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zYzZkYTVmOTUwMWY0YmQ5OTM3ZTlkMTRiYmQzNWFlMy5zZXRDb250ZW50KGh0bWxfOGM1NGFjYTc0NmMyNGJlMmFmNTYzMTU4ZDE5MzgxNTQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yNjY3MzgzYThjZDk0ZTc5OWQxOTY3NjM2Yjg2NjQyMy5iaW5kUG9wdXAocG9wdXBfM2M2ZGE1Zjk1MDFmNGJkOTkzN2U5ZDE0YmJkMzVhZTMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTBkMjg5YWQwOGRiNGI0MDhmNWNjMWYyN2ZmNzlhY2Jfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85MGQyODlhZDA4ZGI0YjQwOGY1Y2MxZjI3ZmY3OWFjYiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85MGQyODlhZDA4ZGI0YjQwOGY1Y2MxZjI3ZmY3OWFjYl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdhMzAwYTk3YWY3YjQ1MjI5ZDhlOTUyMDIwZjc5Y2MwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTBkMjg5YWQwOGRiNGI0MDhmNWNjMWYyN2ZmNzlhY2JfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzkwZDI4OWFkMDhkYjRiNDA4ZjVjYzFmMjdmZjc5YWNiLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85MGQyODlhZDA4ZGI0YjQwOGY1Y2MxZjI3ZmY3OWFjYl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xOC45ODQyODY2NjY2NjY3LCAxLjBdLCBbOC41NjA0NTY2NjY2NjY2NywgMS4wXSwgWzguNTYwNDU2NjY2NjY2NjcsIDU0LjE1MjAxXSwgWy0xOC45ODQyODY2NjY2NjY3LCA1NC4xNTIwMV0sIFstMTguOTg0Mjg2NjY2NjY2NywgMS4wXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzg1ZmYxMGNmYzcyNTQyZTNiODgwYTEwZmFiNjg2OTc2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JiNWE2OTEwOTMzMDRkMGY5ZmQ3Y2U3MTNjNTVjMDIyID0gJChgPGRpdiBpZD0iaHRtbF9iYjVhNjkxMDkzMzA0ZDBmOWZkN2NlNzEzYzU1YzAyMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYWNlX2NydWlzZV90cmFja18xbWluXzIwMTctMDQuY3N2PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBjc3Y8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlQ1NWPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ4MzE2NTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBRdWFsaXR5LWNoZWNrZWQsIG9uZS1taW51dGUgcmVzb2x1dGlvbiBjcnVpc2UgdHJhY2sgb2YgdGhlIEFudGFyY3RpYyBDaXJjdW1uYXZpZ2F0aW9uIEV4cGVkaXRpb24gKEFDRSkgdW5kZXJ0YWtlbiBkdXJpbmcgdGhlIGF1c3RyYWwgc3VtbWVyIG9mIDIwMTYvMjAxNy48L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM0ODMxNjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84NWZmMTBjZmM3MjU0MmUzYjg4MGExMGZhYjY4Njk3Ni5zZXRDb250ZW50KGh0bWxfYmI1YTY5MTA5MzMwNGQwZjlmZDdjZTcxM2M1NWMwMjIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85MGQyODlhZDA4ZGI0YjQwOGY1Y2MxZjI3ZmY3OWFjYi5iaW5kUG9wdXAocG9wdXBfODVmZjEwY2ZjNzI1NDJlM2I4ODBhMTBmYWI2ODY5NzYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWM0ODRhNzJjMDQyNGQzNTkwNDE2M2ZlMWIwNDNiODFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lYzQ4NGE3MmMwNDI0ZDM1OTA0MTYzZmUxYjA0M2I4MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lYzQ4NGE3MmMwNDI0ZDM1OTA0MTYzZmUxYjA0M2I4MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdhMzAwYTk3YWY3YjQ1MjI5ZDhlOTUyMDIwZjc5Y2MwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWM0ODRhNzJjMDQyNGQzNTkwNDE2M2ZlMWIwNDNiODFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2VjNDg0YTcyYzA0MjRkMzU5MDQxNjNmZTFiMDQzYjgxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lYzQ4NGE3MmMwNDI0ZDM1OTA0MTYzZmUxYjA0M2I4MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzE4LjAzMDkxMjg5MiwgLTQ3LjA5MjQzMzAzOTMzMzNdLCBbNTIuMTk3ODIsIC00Ny4wOTI0MzMwMzkzMzMzXSwgWzUyLjE5NzgyLCA2LjBdLCBbMTguMDMwOTEyODkyLCA2LjBdLCBbMTguMDMwOTEyODkyLCAtNDcuMDkyNDMzMDM5MzMzM11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82YWU0MWQ2ZDg2ODY0OTBkYTU3NTg5MDMzODBlYWYyZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mMDAxZGE1MDFiODM0YjllYWFmNWUxNjllMTdiYmEyMyA9ICQoYDxkaXYgaWQ9Imh0bWxfZjAwMWRhNTAxYjgzNGI5ZWFhZjVlMTY5ZTE3YmJhMjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGFjZV9jcnVpc2VfdHJhY2tfMW1pbl8yMDE2LTEyLmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0ODMxNjU8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUXVhbGl0eS1jaGVja2VkLCBvbmUtbWludXRlIHJlc29sdXRpb24gY3J1aXNlIHRyYWNrIG9mIHRoZSBBbnRhcmN0aWMgQ2lyY3VtbmF2aWdhdGlvbiBFeHBlZGl0aW9uIChBQ0UpIHVuZGVydGFrZW4gZHVyaW5nIHRoZSBhdXN0cmFsIHN1bW1lciBvZiAyMDE2LzIwMTcuPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNDgzMTY2PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNmFlNDFkNmQ4Njg2NDkwZGE1NzU4OTAzMzgwZWFmMmUuc2V0Q29udGVudChodG1sX2YwMDFkYTUwMWI4MzRiOWVhYWY1ZTE2OWUxN2JiYTIzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZWM0ODRhNzJjMDQyNGQzNTkwNDE2M2ZlMWIwNDNiODEuYmluZFBvcHVwKHBvcHVwXzZhZTQxZDZkODY4NjQ5MGRhNTc1ODkwMzM4MGVhZjJlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U0NzAxYzRmNTc1NTQ0ZjViYzljZGM3YTIzYzcwNTY4X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTQ3MDFjNGY1NzU1NDRmNWJjOWNkYzdhMjNjNzA1NjggPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTQ3MDFjNGY1NzU1NDRmNWJjOWNkYzdhMjNjNzA1Njhfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83YTMwMGE5N2FmN2I0NTIyOWQ4ZTk1MjAyMGY3OWNjMCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U0NzAxYzRmNTc1NTQ0ZjViYzljZGM3YTIzYzcwNTY4X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lNDcwMWM0ZjU3NTU0NGY1YmM5Y2RjN2EyM2M3MDU2OC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTQ3MDFjNGY1NzU1NDRmNWJjOWNkYzdhMjNjNzA1NjhfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS43OTg0MjE2NjY2NjY3LCAtNjcuMjMyNzExNjY2NjY2N10sIFsxNTAuNDE3NTQ2NjY2NjY3LCAtNjcuMjMyNzExNjY2NjY2N10sIFsxNTAuNDE3NTQ2NjY2NjY3LCA2LjBdLCBbNTEuNzk4NDIxNjY2NjY2NywgNi4wXSwgWzUxLjc5ODQyMTY2NjY2NjcsIC02Ny4yMzI3MTE2NjY2NjY3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ZhYTMyMjQ2MTZlNjQ4MTA4MjkzMTY4ZWFmOTY2MTkxID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Y1YzdiZjFjODgxNjRmNDM5NWY1ZjNlYWYxMjNhNmU3ID0gJChgPGRpdiBpZD0iaHRtbF9mNWM3YmYxYzg4MTY0ZjQzOTVmNWYzZWFmMTIzYTZlNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYWNlX2NydWlzZV90cmFja18xbWluXzIwMTctMDEuY3N2PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBjc3Y8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlQ1NWPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ4MzE2NTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBRdWFsaXR5LWNoZWNrZWQsIG9uZS1taW51dGUgcmVzb2x1dGlvbiBjcnVpc2UgdHJhY2sgb2YgdGhlIEFudGFyY3RpYyBDaXJjdW1uYXZpZ2F0aW9uIEV4cGVkaXRpb24gKEFDRSkgdW5kZXJ0YWtlbiBkdXJpbmcgdGhlIGF1c3RyYWwgc3VtbWVyIG9mIDIwMTYvMjAxNy48L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM0ODMxNjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mYWEzMjI0NjE2ZTY0ODEwODI5MzE2OGVhZjk2NjE5MS5zZXRDb250ZW50KGh0bWxfZjVjN2JmMWM4ODE2NGY0Mzk1ZjVmM2VhZjEyM2E2ZTcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lNDcwMWM0ZjU3NTU0NGY1YmM5Y2RjN2EyM2M3MDU2OC5iaW5kUG9wdXAocG9wdXBfZmFhMzIyNDYxNmU2NDgxMDgyOTMxNjhlYWY5NjYxOTEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjRkZTJkNWQxNjNlNDQ3NTlkN2I0ZDkwNmE4NzU4MjVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNGRlMmQ1ZDE2M2U0NDc1OWQ3YjRkOTA2YTg3NTgyNSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNGRlMmQ1ZDE2M2U0NDc1OWQ3YjRkOTA2YTg3NTgyNV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzdhMzAwYTk3YWY3YjQ1MjI5ZDhlOTUyMDIwZjc5Y2MwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjRkZTJkNWQxNjNlNDQ3NTlkN2I0ZDkwNmE4NzU4MjVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzI0ZGUyZDVkMTYzZTQ0NzU5ZDdiNGQ5MDZhODc1ODI1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yNGRlMmQ1ZDE2M2U0NDc1OWQ3YjRkOTA2YTg3NTgyNV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy00Ny4xOTU2NjQ2MjgzMzMzLCAtNTkuNTE0ODU2NjY2NjY2N10sIFsxOC40Mzc4ODY2NjY2NjY3LCAtNTkuNTE0ODU2NjY2NjY2N10sIFsxOC40Mzc4ODY2NjY2NjY3LCA3LjA1MDQ4NjY2NjY2NjY3XSwgWy00Ny4xOTU2NjQ2MjgzMzMzLCA3LjA1MDQ4NjY2NjY2NjY3XSwgWy00Ny4xOTU2NjQ2MjgzMzMzLCAtNTkuNTE0ODU2NjY2NjY2N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yYWRmNjgwZTRhZGI0MTMyYjFmYTkwOWEwZjk0MTNkNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85Nzk3YmEyNjJlN2U0NjEwYTZmZTg3NjY2ZGU4YjA3MyA9ICQoYDxkaXYgaWQ9Imh0bWxfOTc5N2JhMjYyZTdlNDYxMGE2ZmU4NzY2NmRlOGIwNzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGFjZV9jcnVpc2VfdHJhY2tfMW1pbl8yMDE3LTAzLmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0ODMxNjU8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUXVhbGl0eS1jaGVja2VkLCBvbmUtbWludXRlIHJlc29sdXRpb24gY3J1aXNlIHRyYWNrIG9mIHRoZSBBbnRhcmN0aWMgQ2lyY3VtbmF2aWdhdGlvbiBFeHBlZGl0aW9uIChBQ0UpIHVuZGVydGFrZW4gZHVyaW5nIHRoZSBhdXN0cmFsIHN1bW1lciBvZiAyMDE2LzIwMTcuPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNDgzMTY2PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMmFkZjY4MGU0YWRiNDEzMmIxZmE5MDlhMGY5NDEzZDcuc2V0Q29udGVudChodG1sXzk3OTdiYTI2MmU3ZTQ2MTBhNmZlODc2NjZkZThiMDczKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMjRkZTJkNWQxNjNlNDQ3NTlkN2I0ZDkwNmE4NzU4MjUuYmluZFBvcHVwKHBvcHVwXzJhZGY2ODBlNGFkYjQxMzJiMWZhOTA5YTBmOTQxM2Q3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzI1ZDk2ZDUzMWZiMDRlNTU5Yzk4NzU2ZWU5MDJhOTVkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMjVkOTZkNTMxZmIwNGU1NTljOTg3NTZlZTkwMmE5NWQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMjVkOTZkNTMxZmIwNGU1NTljOTg3NTZlZTkwMmE5NWRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83YTMwMGE5N2FmN2I0NTIyOWQ4ZTk1MjAyMGY3OWNjMCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzI1ZDk2ZDUzMWZiMDRlNTU5Yzk4NzU2ZWU5MDJhOTVkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yNWQ5NmQ1MzFmYjA0ZTU1OWM5ODc1NmVlOTAyYTk1ZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMjVkOTZkNTMxZmIwNGU1NTljOTg3NTZlZTkwMmE5NWRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTc5Ljk5OTk2NSwgLTc0LjAwOTI3NV0sIFsxNzkuOTk5OTg4MzMzMzMzLCAtNzQuMDA5Mjc1XSwgWzE3OS45OTk5ODgzMzMzMzMsIDUuMF0sIFstMTc5Ljk5OTk2NSwgNS4wXSwgWy0xNzkuOTk5OTY1LCAtNzQuMDA5Mjc1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzU4NGJjYTcwNDU2ZDRiZjJhM2EwZTVmYmVlYjkxMjg1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzJjOTFjZjM5NDhhMzQ4YTY5MGYzZjA3OWZiNDkwODViID0gJChgPGRpdiBpZD0iaHRtbF8yYzkxY2YzOTQ4YTM0OGE2OTBmM2YwNzlmYjQ5MDg1YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYWNlX2NydWlzZV90cmFja18xbWluXzIwMTctMDIuY3N2PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBjc3Y8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlQ1NWPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ4MzE2NTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBRdWFsaXR5LWNoZWNrZWQsIG9uZS1taW51dGUgcmVzb2x1dGlvbiBjcnVpc2UgdHJhY2sgb2YgdGhlIEFudGFyY3RpYyBDaXJjdW1uYXZpZ2F0aW9uIEV4cGVkaXRpb24gKEFDRSkgdW5kZXJ0YWtlbiBkdXJpbmcgdGhlIGF1c3RyYWwgc3VtbWVyIG9mIDIwMTYvMjAxNy48L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM0ODMxNjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81ODRiY2E3MDQ1NmQ0YmYyYTNhMGU1ZmJlZWI5MTI4NS5zZXRDb250ZW50KGh0bWxfMmM5MWNmMzk0OGEzNDhhNjkwZjNmMDc5ZmI0OTA4NWIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yNWQ5NmQ1MzFmYjA0ZTU1OWM5ODc1NmVlOTAyYTk1ZC5iaW5kUG9wdXAocG9wdXBfNTg0YmNhNzA0NTZkNGJmMmEzYTBlNWZiZWViOTEyODUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwX2E5YjZhMThjMjQxNzRlOTY5YWE4ODZiMDFmNmNjOTljID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80Njk2OGYyOTcyNzY0NjRhOTA0NDRhZjYxY2FmNjFlMF9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQ2OTY4ZjI5NzI3NjQ2NGE5MDQ0NGFmNjFjYWY2MWUwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNDY5NjhmMjk3Mjc2NDY0YTkwNDQ0YWY2MWNhZjYxZTAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNDY5NjhmMjk3Mjc2NDY0YTkwNDQ0YWY2MWNhZjYxZTBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fNDY5NjhmMjk3Mjc2NDY0YTkwNDQ0YWY2MWNhZjYxZTBfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYTliNmExOGMyNDE3NGU5NjlhYTg4NmIwMWY2Y2M5OWMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80Njk2OGYyOTcyNzY0NjRhOTA0NDRhZjYxY2FmNjFlMF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNDY5NjhmMjk3Mjc2NDY0YTkwNDQ0YWY2MWNhZjYxZTAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzQ2OTY4ZjI5NzI3NjQ2NGE5MDQ0NGFmNjFjYWY2MWUwX2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbMzUuNDgxNjM0MTQwMDE0NiwgMzMuNDc2NTU2MjY2OTk5Ml0sIFszNy4xNjk3MDkyMDU2Mjc0LCAzMy40NzY1NTYyNjY5OTkyXSwgWzM3LjE2OTcwOTIwNTYyNzQsIDM2LjIxNDI5Mzk3OTYxNDNdLCBbMzUuNDgxNjM0MTQwMDE0NiwgMzYuMjE0MjkzOTc5NjE0M10sIFszNS40ODE2MzQxNDAwMTQ2LCAzMy40NzY1NTYyNjY5OTkyXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNWE0M2MyNzVjMGM4NGZjODhiYjRlNzJiMzEzMTIwMmUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDJmYmJkMTdhOTM0NGY3ZmIwMzJlNjY0NDBmODcxN2MgPSAkKGA8ZGl2IGlkPSJodG1sX2QyZmJiZDE3YTkzNDRmN2ZiMDMyZTY2NDQwZjg3MTdjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEwMDg5OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVXJiYW4gRm9vZCBSaW90cyBpbiBMYXRlIE90dG9tYW4gQmlsYWQgYWwtU2hhbSBhcyBhICdSZXBlcnRvaXJlIG9mIENvbnRlbnRpb24nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjMzNTM4NTA8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS1ORC00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjE4NzctMTAtMTgvMTkyMy0wMS0wMTwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzVhNDNjMjc1YzBjODRmYzg4YmI0ZTcyYjMxMzEyMDJlLnNldENvbnRlbnQoaHRtbF9kMmZiYmQxN2E5MzQ0ZjdmYjAzMmU2NjQ0MGY4NzE3Yyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQ2OTY4ZjI5NzI3NjQ2NGE5MDQ0NGFmNjFjYWY2MWUwLmJpbmRQb3B1cChwb3B1cF81YTQzYzI3NWMwYzg0ZmM4OGJiNGU3MmIzMTMxMjAyZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hMmRkZjBhZDc5OTU0MjEzYjMzYjQzZDM5OGQ4MzdlN19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2EyZGRmMGFkNzk5NTQyMTNiMzNiNDNkMzk4ZDgzN2U3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2EyZGRmMGFkNzk5NTQyMTNiMzNiNDNkMzk4ZDgzN2U3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYTliNmExOGMyNDE3NGU5NjlhYTg4NmIwMWY2Y2M5OWMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hMmRkZjBhZDc5OTU0MjEzYjMzYjQzZDM5OGQ4MzdlN19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYTJkZGYwYWQ3OTk1NDIxM2IzM2I0M2QzOThkODM3ZTcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2EyZGRmMGFkNzk5NTQyMTNiMzNiNDNkMzk4ZDgzN2U3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuNDgxNjM0MTQwMDE0NiwgMzMuODg1ODYwODkyODQ3XSwgWzM1LjUzMjAxNjc1NDE1MDQsIDMzLjg4NTg2MDg5Mjg0N10sIFszNS41MzIwMTY3NTQxNTA0LCAzMy45MDM1NjUyNjEwMjA5XSwgWzM1LjQ4MTYzNDE0MDAxNDYsIDMzLjkwMzU2NTI2MTAyMDldLCBbMzUuNDgxNjM0MTQwMDE0NiwgMzMuODg1ODYwODkyODQ3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzZiYmVmNmNhYzdmZjQ4N2E4N2U0ZDAwMGMxNGJjYTJlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzAyYjEyNWE3OGFjMDRmZjY4NDk5ODcxY2NiYmFjOGIwID0gJChgPGRpdiBpZD0iaHRtbF8wMmIxMjVhNzhhYzA0ZmY2ODQ5OTg3MWNjYmJhYzhiMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gbWFwX2JlaXJ1dC5nZW9qc29uPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZW9qc29uPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEwMDg5OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVXJiYW4gRm9vZCBSaW90cyBpbiBMYXRlIE90dG9tYW4gQmlsYWQgYWwtU2hhbSBhcyBhICdSZXBlcnRvaXJlIG9mIENvbnRlbnRpb24nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zMzUzODUwPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktTkQtNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNmJiZWY2Y2FjN2ZmNDg3YTg3ZTRkMDAwYzE0YmNhMmUuc2V0Q29udGVudChodG1sXzAyYjEyNWE3OGFjMDRmZjY4NDk5ODcxY2NiYmFjOGIwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYTJkZGYwYWQ3OTk1NDIxM2IzM2I0M2QzOThkODM3ZTcuYmluZFBvcHVwKHBvcHVwXzZiYmVmNmNhYzdmZjQ4N2E4N2U0ZDAwMGMxNGJjYTJlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzA5OTNkYjE4NjBlZDRlN2Q5NDRlYmI1ZjY0Yzg2YmEwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMDk5M2RiMTg2MGVkNGU3ZDk0NGViYjVmNjRjODZiYTAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMDk5M2RiMTg2MGVkNGU3ZDk0NGViYjVmNjRjODZiYTBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9hOWI2YTE4YzI0MTc0ZTk2OWFhODg2YjAxZjZjYzk5Yyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzA5OTNkYjE4NjBlZDRlN2Q5NDRlYmI1ZjY0Yzg2YmEwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wOTkzZGIxODYwZWQ0ZTdkOTQ0ZWJiNWY2NGM4NmJhMC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDk5M2RiMTg2MGVkNGU3ZDk0NGViYjVmNjRjODZiYTBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNy4xNDc1NjQ4ODgwMDA1LCAzNi4xOTYyODcwODc0NjEzXSwgWzM3LjE2OTcwOTIwNTYyNzQsIDM2LjE5NjI4NzA4NzQ2MTNdLCBbMzcuMTY5NzA5MjA1NjI3NCwgMzYuMjE0MjkzOTc5NjE0M10sIFszNy4xNDc1NjQ4ODgwMDA1LCAzNi4yMTQyOTM5Nzk2MTQzXSwgWzM3LjE0NzU2NDg4ODAwMDUsIDM2LjE5NjI4NzA4NzQ2MTNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNGQ4NGFjZjdhZDAzNGQ3M2IxZmRjODA2NzBiOTM1ZWMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfM2I0NzU5NDZmMWYzNGYzYzk1NmY3MTA5MDVjNTBhMzIgPSAkKGA8ZGl2IGlkPSJodG1sXzNiNDc1OTQ2ZjFmMzRmM2M5NTZmNzEwOTA1YzUwYTMyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBtYXBfYWxlcHBvLmdlb2pzb248L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdlb2pzb248L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMTAwODk5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBVcmJhbiBGb29kIFJpb3RzIGluIExhdGUgT3R0b21hbiBCaWxhZCBhbC1TaGFtIGFzIGEgJ1JlcGVydG9pcmUgb2YgQ29udGVudGlvbic8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjMzNTM4NTA8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS1ORC00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80ZDg0YWNmN2FkMDM0ZDczYjFmZGM4MDY3MGI5MzVlYy5zZXRDb250ZW50KGh0bWxfM2I0NzU5NDZmMWYzNGYzYzk1NmY3MTA5MDVjNTBhMzIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wOTkzZGIxODYwZWQ0ZTdkOTQ0ZWJiNWY2NGM4NmJhMC5iaW5kUG9wdXAocG9wdXBfNGQ4NGFjZjdhZDAzNGQ3M2IxZmRjODA2NzBiOTM1ZWMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGEwYTg5NjUyMjkyNDNlOWI0ZGFlMDVmNDI5YWQxYzRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wYTBhODk2NTIyOTI0M2U5YjRkYWUwNWY0MjlhZDFjNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wYTBhODk2NTIyOTI0M2U5YjRkYWUwNWY0MjlhZDFjNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2E5YjZhMThjMjQxNzRlOTY5YWE4ODZiMDFmNmNjOTljKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGEwYTg5NjUyMjkyNDNlOWI0ZGFlMDVmNDI5YWQxYzRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzBhMGE4OTY1MjI5MjQzZTliNGRhZTA1ZjQyOWFkMWM0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wYTBhODk2NTIyOTI0M2U5YjRkYWUwNWY0MjlhZDFjNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM2LjI3NTI2NzYwMTAxMzIsIDMzLjQ3NjU1NjI2Njk5OTJdLCBbMzYuMzE4MzExNjkxMjg0MiwgMzMuNDc2NTU2MjY2OTk5Ml0sIFszNi4zMTgzMTE2OTEyODQyLCAzMy41MzMyNzQ2Mzk0OTk4XSwgWzM2LjI3NTI2NzYwMTAxMzIsIDMzLjUzMzI3NDYzOTQ5OThdLCBbMzYuMjc1MjY3NjAxMDEzMiwgMzMuNDc2NTU2MjY2OTk5Ml1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yMTQ4M2ZhNzRmNDA0MDAwYWY5MDdkMWJkMzM4YzBhZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iODQzOTRkMDE5OTg0NWFiYjczMGRjMjIzODFhYWZiYSA9ICQoYDxkaXYgaWQ9Imh0bWxfYjg0Mzk0ZDAxOTk4NDVhYmI3MzBkYzIyMzgxYWFmYmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IG1hcF9kYW1hc2N1cy5nZW9qc29uPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZW9qc29uPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEwMDg5OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVXJiYW4gRm9vZCBSaW90cyBpbiBMYXRlIE90dG9tYW4gQmlsYWQgYWwtU2hhbSBhcyBhICdSZXBlcnRvaXJlIG9mIENvbnRlbnRpb24nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zMzUzODUwPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktTkQtNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMjE0ODNmYTc0ZjQwNDAwMGFmOTA3ZDFiZDMzOGMwYWQuc2V0Q29udGVudChodG1sX2I4NDM5NGQwMTk5ODQ1YWJiNzMwZGMyMjM4MWFhZmJhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMGEwYTg5NjUyMjkyNDNlOWI0ZGFlMDVmNDI5YWQxYzQuYmluZFBvcHVwKHBvcHVwXzIxNDgzZmE3NGY0MDQwMDBhZjkwN2QxYmQzMzhjMGFkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzEwOTg4NjY3MzQwNTQ2ODFhYWY1ODdjMGY5Mzg1YWYzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMTA5ODg2NjczNDA1NDY4MWFhZjU4N2MwZjkzODVhZjMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMTA5ODg2NjczNDA1NDY4MWFhZjU4N2MwZjkzODVhZjNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9hOWI2YTE4YzI0MTc0ZTk2OWFhODg2YjAxZjZjYzk5Yyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzEwOTg4NjY3MzQwNTQ2ODFhYWY1ODdjMGY5Mzg1YWYzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xMDk4ODY2NzM0MDU0NjgxYWFmNTg3YzBmOTM4NWFmMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMTA5ODg2NjczNDA1NDY4MWFhZjU4N2MwZjkzODVhZjNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNi43MDM0NTU0NDgxNTA2LCAzNC43MjE3MzgzNzA4NzUyXSwgWzM2LjcyNTk2NDU0NjIwMzYsIDM0LjcyMTczODM3MDg3NTJdLCBbMzYuNzI1OTY0NTQ2MjAzNiwgMzQuNzM3MzEwMDc2MTIxMl0sIFszNi43MDM0NTU0NDgxNTA2LCAzNC43MzczMTAwNzYxMjEyXSwgWzM2LjcwMzQ1NTQ0ODE1MDYsIDM0LjcyMTczODM3MDg3NTJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMTFlOGJiZGYxODgwNDkwYTk0ODFiZjZjOGZhMGJlNGIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfN2Y1MDM5MTVlNjlhNGI0M2IzOWYyMDEzMjY2ZGI0NTcgPSAkKGA8ZGl2IGlkPSJodG1sXzdmNTAzOTE1ZTY5YTRiNDNiMzlmMjAxMzI2NmRiNDU3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBtYXBfaG9tcy5nZW9qc29uPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZW9qc29uPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEwMDg5OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVXJiYW4gRm9vZCBSaW90cyBpbiBMYXRlIE90dG9tYW4gQmlsYWQgYWwtU2hhbSBhcyBhICdSZXBlcnRvaXJlIG9mIENvbnRlbnRpb24nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zMzUzODUwPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktTkQtNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTFlOGJiZGYxODgwNDkwYTk0ODFiZjZjOGZhMGJlNGIuc2V0Q29udGVudChodG1sXzdmNTAzOTE1ZTY5YTRiNDNiMzlmMjAxMzI2NmRiNDU3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMTA5ODg2NjczNDA1NDY4MWFhZjU4N2MwZjkzODVhZjMuYmluZFBvcHVwKHBvcHVwXzExZThiYmRmMTg4MDQ5MGE5NDgxYmY2YzhmYTBiZTRiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkwZDdiZTA2OGM3ZTQ0ZmM5MDI3MTM5ZWU2M2VkZGZlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOTBkN2JlMDY4YzdlNDRmYzkwMjcxMzllZTYzZWRkZmUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOTBkN2JlMDY4YzdlNDRmYzkwMjcxMzllZTYzZWRkZmVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9hOWI2YTE4YzI0MTc0ZTk2OWFhODg2YjAxZjZjYzk5Yyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkwZDdiZTA2OGM3ZTQ0ZmM5MDI3MTM5ZWU2M2VkZGZlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85MGQ3YmUwNjhjN2U0NGZjOTAyNzEzOWVlNjNlZGRmZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOTBkN2JlMDY4YzdlNDRmYzkwMjcxMzllZTYzZWRkZmVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNi43MzkwOTY2NDE1NDA1LCAzNS4xMjI2ODc5MzUxMTE5XSwgWzM2Ljc2NzEwODIxOTI5ODIsIDM1LjEyMjY4NzkzNTExMTldLCBbMzYuNzY3MTA4MjE5Mjk4MiwgMzUuMTQxMzUyOTU1NDcyOF0sIFszNi43MzkwOTY2NDE1NDA1LCAzNS4xNDEzNTI5NTU0NzI4XSwgWzM2LjczOTA5NjY0MTU0MDUsIDM1LjEyMjY4NzkzNTExMTldXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZmMwZmM0NmMzM2IzNDg0YTkxYzc5NTFjNzdmNGMxZDUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYWUwNjNiM2UzMTcyNGMzMDk3NDU3MWRiYWEwNDVhZTQgPSAkKGA8ZGl2IGlkPSJodG1sX2FlMDYzYjNlMzE3MjRjMzA5NzQ1NzFkYmFhMDQ1YWU0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBtYXBfaGFtYS5nZW9qc29uPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZW9qc29uPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDEwMDg5OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVXJiYW4gRm9vZCBSaW90cyBpbiBMYXRlIE90dG9tYW4gQmlsYWQgYWwtU2hhbSBhcyBhICdSZXBlcnRvaXJlIG9mIENvbnRlbnRpb24nPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zMzUzODUwPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktTkQtNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmMwZmM0NmMzM2IzNDg0YTkxYzc5NTFjNzdmNGMxZDUuc2V0Q29udGVudChodG1sX2FlMDYzYjNlMzE3MjRjMzA5NzQ1NzFkYmFhMDQ1YWU0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTBkN2JlMDY4YzdlNDRmYzkwMjcxMzllZTYzZWRkZmUuYmluZFBvcHVwKHBvcHVwX2ZjMGZjNDZjMzNiMzQ4NGE5MWM3OTUxYzc3ZjRjMWQ1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF81MDk0MzQ3MmM0ZWM0NDRiYTMzNzhjMWFkNzVlZmVjNyA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fN2NkZDYwMmY1NGRlNDZiY2E2YzMwYTFkNWYyOTQyMjlfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83Y2RkNjAyZjU0ZGU0NmJjYTZjMzBhMWQ1ZjI5NDIyOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzdjZGQ2MDJmNTRkZTQ2YmNhNmMzMGExZDVmMjk0MjI5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzdjZGQ2MDJmNTRkZTQ2YmNhNmMzMGExZDVmMjk0MjI5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzdjZGQ2MDJmNTRkZTQ2YmNhNmMzMGExZDVmMjk0MjI5X3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzUwOTQzNDcyYzRlYzQ0NGJhMzM3OGMxYWQ3NWVmZWM3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fN2NkZDYwMmY1NGRlNDZiY2E2YzMwYTFkNWYyOTQyMjlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzdjZGQ2MDJmNTRkZTQ2YmNhNmMzMGExZDVmMjk0MjI5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83Y2RkNjAyZjU0ZGU0NmJjYTZjMzBhMWQ1ZjI5NDIyOV9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWzUxLjA0NjgxNDExMDY5MDgsIDMuNzM4MTk4MDMwNTI1MzRdLCBbNTEuMjQyMDk3ODQyMDk2MiwgMy43MzgxOTgwMzA1MjUzNF0sIFs1MS4yNDIwOTc4NDIwOTYyLCA0LjQ1ODg2NTE4OTY2NTU1XSwgWzUxLjA0NjgxNDExMDY5MDgsIDQuNDU4ODY1MTg5NjY1NTVdLCBbNTEuMDQ2ODE0MTEwNjkwOCwgMy43MzgxOTgwMzA1MjUzNF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzdjMTJhZjQ3NTNhYjQxNDg4NGExMGNkZjY5ZjhkODI5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2EyYzVmNDcwZTQ0ZDRiMDk4MzBmMGQ0NDc3MjJiYmZiID0gJChgPGRpdiBpZD0iaHRtbF9hMmM1ZjQ3MGU0NGQ0YjA5ODMwZjBkNDQ3NzIyYmJmYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDc3NTU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgaHlicmlkIG1vZGVsIGZvciBmYXN0IGFuZCBwcm9iYWJpbGlzdGljIHVyYmFuIHBsdXZpYWwgZmxvb2QgcHJlZGljdGlvbiAtIGRhdGFzZXQ8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2MxMmFmNDc1M2FiNDE0ODg0YTEwY2RmNjlmOGQ4Mjkuc2V0Q29udGVudChodG1sX2EyYzVmNDcwZTQ0ZDRiMDk4MzBmMGQ0NDc3MjJiYmZiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fN2NkZDYwMmY1NGRlNDZiY2E2YzMwYTFkNWYyOTQyMjkuYmluZFBvcHVwKHBvcHVwXzdjMTJhZjQ3NTNhYjQxNDg4NGExMGNkZjY5ZjhkODI5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVjMDU0MGY1MmZmMTQwMTU5NDIyOWU0NzE3MjI3YmFjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNWMwNTQwZjUyZmYxNDAxNTk0MjI5ZTQ3MTcyMjdiYWMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNWMwNTQwZjUyZmYxNDAxNTk0MjI5ZTQ3MTcyMjdiYWNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81MDk0MzQ3MmM0ZWM0NDRiYTMzNzhjMWFkNzVlZmVjNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVjMDU0MGY1MmZmMTQwMTU5NDIyOWU0NzE3MjI3YmFjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81YzA1NDBmNTJmZjE0MDE1OTQyMjllNDcxNzIyN2JhYy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNWMwNTQwZjUyZmYxNDAxNTk0MjI5ZTQ3MTcyMjdiYWNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS4xODY1NTY4OTczMjkyLCA0LjM4NzMwMjM4MTc5NjAyXSwgWzUxLjI0MDE3NTE2MTg3MywgNC4zODczMDIzODE3OTYwMl0sIFs1MS4yNDAxNzUxNjE4NzMsIDQuNDE4Njc5MjA5NTQ0ODRdLCBbNTEuMTg2NTU2ODk3MzI5MiwgNC40MTg2NzkyMDk1NDQ4NF0sIFs1MS4xODY1NTY4OTczMjkyLCA0LjM4NzMwMjM4MTc5NjAyXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2M3NjJlNTM2MGZmZDQ4ZWJhODZiOTUwMDJkODhmNGQwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzU1YWQxMGI4ODJjNDQxZDI4ZTM0MjUwMjg5Y2JjOWVjID0gJChgPGRpdiBpZD0iaHRtbF81NWFkMTBiODgyYzQ0MWQyOGUzNDI1MDI4OWNiYzllYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUkdzLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0Nzc1NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBoeWJyaWQgbW9kZWwgZm9yIGZhc3QgYW5kIHByb2JhYmlsaXN0aWMgdXJiYW4gcGx1dmlhbCBmbG9vZCBwcmVkaWN0aW9uIC0gZGF0YXNldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M3NjJlNTM2MGZmZDQ4ZWJhODZiOTUwMDJkODhmNGQwLnNldENvbnRlbnQoaHRtbF81NWFkMTBiODgyYzQ0MWQyOGUzNDI1MDI4OWNiYzllYyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzVjMDU0MGY1MmZmMTQwMTU5NDIyOWU0NzE3MjI3YmFjLmJpbmRQb3B1cChwb3B1cF9jNzYyZTUzNjBmZmQ0OGViYTg2Yjk1MDAyZDg4ZjRkMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mODhhOWMyNzJkZmQ0MzdkOTkyZWM2NzE0YWMwMzMwYl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y4OGE5YzI3MmRmZDQzN2Q5OTJlYzY3MTRhYzAzMzBiID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y4OGE5YzI3MmRmZDQzN2Q5OTJlYzY3MTRhYzAzMzBiX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mODhhOWMyNzJkZmQ0MzdkOTkyZWM2NzE0YWMwMzMwYl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjg4YTljMjcyZGZkNDM3ZDk5MmVjNjcxNGFjMDMzMGIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y4OGE5YzI3MmRmZDQzN2Q5OTJlYzY3MTRhYzAzMzBiX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuMTg0NzU4NDY4MTQ0NSwgNC4zNzcwNDgxODQ5MTQwNF0sIFs1MS4yNDIwOTc4NDIwOTYyLCA0LjM3NzA0ODE4NDkxNDA0XSwgWzUxLjI0MjA5Nzg0MjA5NjIsIDQuNDQwODA5NzEwNzU4ODNdLCBbNTEuMTg0NzU4NDY4MTQ0NSwgNC40NDA4MDk3MTA3NTg4M10sIFs1MS4xODQ3NTg0NjgxNDQ1LCA0LjM3NzA0ODE4NDkxNDA0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ViMzExYzU5ZDZmZTRjNzg4ZGNjYTNiODdiN2RjYmIwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzVjMGRjODlhYzRhNTRjMDJiODA2OTk2NGViODAyNzQzID0gJChgPGRpdiBpZD0iaHRtbF81YzBkYzg5YWM0YTU0YzAyYjgwNjk5NjRlYjgwMjc0MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU3ViY2F0Y2htZW50LmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0Nzc1NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBoeWJyaWQgbW9kZWwgZm9yIGZhc3QgYW5kIHByb2JhYmlsaXN0aWMgdXJiYW4gcGx1dmlhbCBmbG9vZCBwcmVkaWN0aW9uIC0gZGF0YXNldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ViMzExYzU5ZDZmZTRjNzg4ZGNjYTNiODdiN2RjYmIwLnNldENvbnRlbnQoaHRtbF81YzBkYzg5YWM0YTU0YzAyYjgwNjk5NjRlYjgwMjc0Myk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Y4OGE5YzI3MmRmZDQzN2Q5OTJlYzY3MTRhYzAzMzBiLmJpbmRQb3B1cChwb3B1cF9lYjMxMWM1OWQ2ZmU0Yzc4OGRjY2EzYjg3YjdkY2JiMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zM2Q0MjFkZjEyNzA0ZmNmYWFkMjBjYzExZTcyY2M1ZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzMzZDQyMWRmMTI3MDRmY2ZhYWQyMGNjMTFlNzJjYzVlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzMzZDQyMWRmMTI3MDRmY2ZhYWQyMGNjMTFlNzJjYzVlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zM2Q0MjFkZjEyNzA0ZmNmYWFkMjBjYzExZTcyY2M1ZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzNkNDIxZGYxMjcwNGZjZmFhZDIwY2MxMWU3MmNjNWUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzMzZDQyMWRmMTI3MDRmY2ZhYWQyMGNjMTFlNzJjYzVlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuMTg2NTU2ODk3MzI5MiwgNC4zODczMDIzODE3OTYwMl0sIFs1MS4yNDAxNzUxNjE4NzMsIDQuMzg3MzAyMzgxNzk2MDJdLCBbNTEuMjQwMTc1MTYxODczLCA0LjQxODY3OTIwOTU0NDg0XSwgWzUxLjE4NjU1Njg5NzMyOTIsIDQuNDE4Njc5MjA5NTQ0ODRdLCBbNTEuMTg2NTU2ODk3MzI5MiwgNC4zODczMDIzODE3OTYwMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jODBkMWJjYWFjZDM0Y2IwYTAwNWI1OWVkYTEyMzE0ZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mZjcyZjJkODFjMzA0MDhjYjZmZWQ4MTBkNjM3NDc3OCA9ICQoYDxkaXYgaWQ9Imh0bWxfZmY3MmYyZDgxYzMwNDA4Y2I2ZmVkODEwZDYzNzQ3NzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFJHcy5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDc3NTU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgaHlicmlkIG1vZGVsIGZvciBmYXN0IGFuZCBwcm9iYWJpbGlzdGljIHVyYmFuIHBsdXZpYWwgZmxvb2QgcHJlZGljdGlvbiAtIGRhdGFzZXQ8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MTg5NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jODBkMWJjYWFjZDM0Y2IwYTAwNWI1OWVkYTEyMzE0Zi5zZXRDb250ZW50KGh0bWxfZmY3MmYyZDgxYzMwNDA4Y2I2ZmVkODEwZDYzNzQ3NzgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zM2Q0MjFkZjEyNzA0ZmNmYWFkMjBjYzExZTcyY2M1ZS5iaW5kUG9wdXAocG9wdXBfYzgwZDFiY2FhY2QzNGNiMGEwMDViNTllZGExMjMxNGYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmY4ZmQxNzUxMTk3NGI1Yzk5MzdiMDNkZGZmNTNlMWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mZjhmZDE3NTExOTc0YjVjOTkzN2IwM2RkZmY1M2UxYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mZjhmZDE3NTExOTc0YjVjOTkzN2IwM2RkZmY1M2UxYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzUwOTQzNDcyYzRlYzQ0NGJhMzM3OGMxYWQ3NWVmZWM3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmY4ZmQxNzUxMTk3NGI1Yzk5MzdiMDNkZGZmNTNlMWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2ZmOGZkMTc1MTE5NzRiNWM5OTM3YjAzZGRmZjUzZTFhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mZjhmZDE3NTExOTc0YjVjOTkzN2IwM2RkZmY1M2UxYV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzUxLjE5MzExMzg2OTc1NDIsIDQuMzU5NDg3MjI3MTUyMjJdLCBbNTEuMjQwNzk1Nzc4MDQ2OSwgNC4zNTk0ODcyMjcxNTIyMl0sIFs1MS4yNDA3OTU3NzgwNDY5LCA0LjQ0NzY4ODkzNTgwMzI4XSwgWzUxLjE5MzExMzg2OTc1NDIsIDQuNDQ3Njg4OTM1ODAzMjhdLCBbNTEuMTkzMTEzODY5NzU0MiwgNC4zNTk0ODcyMjcxNTIyMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84ZDViZmQ3MGQ5MGM0ZmZlYTc0ZDdmMDBiNjhjMDM5OCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kY2M4NjBjOTlkZjA0ZWVmYTFhN2ViYTYxMDk4ZTJiNiA9ICQoYDxkaXYgaWQ9Imh0bWxfZGNjODYwYzk5ZGYwNGVlZmExYTdlYmE2MTA5OGUyYjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFN0cnVjdHVyZXMuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ3NzU1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGh5YnJpZCBtb2RlbCBmb3IgZmFzdCBhbmQgcHJvYmFiaWxpc3RpYyB1cmJhbiBwbHV2aWFsIGZsb29kIHByZWRpY3Rpb24gLSBkYXRhc2V0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNzE4OTc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOGQ1YmZkNzBkOTBjNGZmZWE3NGQ3ZjAwYjY4YzAzOTguc2V0Q29udGVudChodG1sX2RjYzg2MGM5OWRmMDRlZWZhMWE3ZWJhNjEwOThlMmI2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZmY4ZmQxNzUxMTk3NGI1Yzk5MzdiMDNkZGZmNTNlMWEuYmluZFBvcHVwKHBvcHVwXzhkNWJmZDcwZDkwYzRmZmVhNzRkN2YwMGI2OGMwMzk4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2I1ZjFjOWUxMzM5MDRiZmViZDhmYWI1NzdjMmZhOWM3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYjVmMWM5ZTEzMzkwNGJmZWJkOGZhYjU3N2MyZmE5YzcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYjVmMWM5ZTEzMzkwNGJmZWJkOGZhYjU3N2MyZmE5Yzdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81MDk0MzQ3MmM0ZWM0NDRiYTMzNzhjMWFkNzVlZmVjNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2I1ZjFjOWUxMzM5MDRiZmViZDhmYWI1NzdjMmZhOWM3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iNWYxYzllMTMzOTA0YmZlYmQ4ZmFiNTc3YzJmYTljNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYjVmMWM5ZTEzMzkwNGJmZWJkOGZhYjU3N2MyZmE5YzdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS4xODM5MDUwNTcwMzg1LCA0LjM0MDIxNDkxMjczMzY3XSwgWzUxLjI0MTY2NTU3MzM2OTgsIDQuMzQwMjE0OTEyNzMzNjddLCBbNTEuMjQxNjY1NTczMzY5OCwgNC40NTg4NjUxODk2NjU1NV0sIFs1MS4xODM5MDUwNTcwMzg1LCA0LjQ1ODg2NTE4OTY2NTU1XSwgWzUxLjE4MzkwNTA1NzAzODUsIDQuMzQwMjE0OTEyNzMzNjddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMTA3NmMxNWMyZGIzNDNlNTk5ZGZjNmZhZWQzZGNkZWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfY2RhMDRmMWZmNzRiNGFiYmFmODJkMDgyODQ2ZTE2NGUgPSAkKGA8ZGl2IGlkPSJodG1sX2NkYTA0ZjFmZjc0YjRhYmJhZjgyZDA4Mjg0NmUxNjRlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBDb25kdWl0LnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0Nzc1NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBoeWJyaWQgbW9kZWwgZm9yIGZhc3QgYW5kIHByb2JhYmlsaXN0aWMgdXJiYW4gcGx1dmlhbCBmbG9vZCBwcmVkaWN0aW9uIC0gZGF0YXNldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzEwNzZjMTVjMmRiMzQzZTU5OWRmYzZmYWVkM2RjZGVlLnNldENvbnRlbnQoaHRtbF9jZGEwNGYxZmY3NGI0YWJiYWY4MmQwODI4NDZlMTY0ZSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2I1ZjFjOWUxMzM5MDRiZmViZDhmYWI1NzdjMmZhOWM3LmJpbmRQb3B1cChwb3B1cF8xMDc2YzE1YzJkYjM0M2U1OTlkZmM2ZmFlZDNkY2RlZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zOWNiMGNkZmViNmQ0ZTg4ODgwMGFhZjI2MmFkZGVkZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzM5Y2IwY2RmZWI2ZDRlODg4ODAwYWFmMjYyYWRkZWRmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzM5Y2IwY2RmZWI2ZDRlODg4ODAwYWFmMjYyYWRkZWRmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zOWNiMGNkZmViNmQ0ZTg4ODgwMGFhZjI2MmFkZGVkZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzljYjBjZGZlYjZkNGU4ODg4MDBhYWYyNjJhZGRlZGYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzM5Y2IwY2RmZWI2ZDRlODg4ODAwYWFmMjYyYWRkZWRmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuMTgzOTA1MDU3MDM4NSwgNC4zNDAyMTQ5MTI3MzM2N10sIFs1MS4yNDE2NjU1NzMzNjk4LCA0LjM0MDIxNDkxMjczMzY3XSwgWzUxLjI0MTY2NTU3MzM2OTgsIDQuNDU4ODY1MTg5NjY1NTVdLCBbNTEuMTgzOTA1MDU3MDM4NSwgNC40NTg4NjUxODk2NjU1NV0sIFs1MS4xODM5MDUwNTcwMzg1LCA0LjM0MDIxNDkxMjczMzY3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzkyYTJkZjFiY2Q3NjQ5ZDRhNTQ0OGYwODViNWVhZmRjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzNjZjE3ZWM4NjJjNTQ5MTg5ZjFjOWFkMzRkM2Y1ODI5ID0gJChgPGRpdiBpZD0iaHRtbF8zY2YxN2VjODYyYzU0OTE4OWYxYzlhZDM0ZDNmNTgyOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gTm9kZS5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDc3NTU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgaHlicmlkIG1vZGVsIGZvciBmYXN0IGFuZCBwcm9iYWJpbGlzdGljIHVyYmFuIHBsdXZpYWwgZmxvb2QgcHJlZGljdGlvbiAtIGRhdGFzZXQ8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MTg5NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85MmEyZGYxYmNkNzY0OWQ0YTU0NDhmMDg1YjVlYWZkYy5zZXRDb250ZW50KGh0bWxfM2NmMTdlYzg2MmM1NDkxODlmMWM5YWQzNGQzZjU4MjkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zOWNiMGNkZmViNmQ0ZTg4ODgwMGFhZjI2MmFkZGVkZi5iaW5kUG9wdXAocG9wdXBfOTJhMmRmMWJjZDc2NDlkNGE1NDQ4ZjA4NWI1ZWFmZGMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODZkZWQzMWI1NjQ4NDJhMWFmNTRjY2RiYzM2Mzg4NWJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84NmRlZDMxYjU2NDg0MmExYWY1NGNjZGJjMzYzODg1YiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84NmRlZDMxYjU2NDg0MmExYWY1NGNjZGJjMzYzODg1Yl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzUwOTQzNDcyYzRlYzQ0NGJhMzM3OGMxYWQ3NWVmZWM3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODZkZWQzMWI1NjQ4NDJhMWFmNTRjY2RiYzM2Mzg4NWJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzg2ZGVkMzFiNTY0ODQyYTFhZjU0Y2NkYmMzNjM4ODViLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84NmRlZDMxYjU2NDg0MmExYWY1NGNjZGJjMzYzODg1Yl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzUxLjE5MzExMzg2OTc1NDIsIDQuMzU5NDg3MjI3MTUyMjJdLCBbNTEuMjQwNzk1Nzc4MDQ2OSwgNC4zNTk0ODcyMjcxNTIyMl0sIFs1MS4yNDA3OTU3NzgwNDY5LCA0LjQ0NzY4ODkzNTgwMzI4XSwgWzUxLjE5MzExMzg2OTc1NDIsIDQuNDQ3Njg4OTM1ODAzMjhdLCBbNTEuMTkzMTEzODY5NzU0MiwgNC4zNTk0ODcyMjcxNTIyMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mYWMyMjQ1MzgzOWE0N2U2YTMzM2ZlZDVlZGZjZTFiZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84OGJlNDBhNDU1MWE0MGY1YmY3ZmIyOWE0ZmU5YjkyNSA9ICQoYDxkaXYgaWQ9Imh0bWxfODhiZTQwYTQ1NTFhNDBmNWJmN2ZiMjlhNGZlOWI5MjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFN0cnVjdHVyZXMuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ3NzU1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGh5YnJpZCBtb2RlbCBmb3IgZmFzdCBhbmQgcHJvYmFiaWxpc3RpYyB1cmJhbiBwbHV2aWFsIGZsb29kIHByZWRpY3Rpb24gLSBkYXRhc2V0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNzE4OTc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmFjMjI0NTM4MzlhNDdlNmEzMzNmZWQ1ZWRmY2UxYmYuc2V0Q29udGVudChodG1sXzg4YmU0MGE0NTUxYTQwZjViZjdmYjI5YTRmZTliOTI1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fODZkZWQzMWI1NjQ4NDJhMWFmNTRjY2RiYzM2Mzg4NWIuYmluZFBvcHVwKHBvcHVwX2ZhYzIyNDUzODM5YTQ3ZTZhMzMzZmVkNWVkZmNlMWJmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NhYjJjMjM3MDNhYjQ0NDJhOGE1M2U3ZTIwOTYyNzA1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fY2FiMmMyMzcwM2FiNDQ0MmE4YTUzZTdlMjA5NjI3MDUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fY2FiMmMyMzcwM2FiNDQ0MmE4YTUzZTdlMjA5NjI3MDVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81MDk0MzQ3MmM0ZWM0NDRiYTMzNzhjMWFkNzVlZmVjNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NhYjJjMjM3MDNhYjQ0NDJhOGE1M2U3ZTIwOTYyNzA1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jYWIyYzIzNzAzYWI0NDQyYThhNTNlN2UyMDk2MjcwNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fY2FiMmMyMzcwM2FiNDQ0MmE4YTUzZTdlMjA5NjI3MDVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS4xOTMxMTM4Njk3NTQyLCA0LjM1OTQ4NzIyNzE1MjIyXSwgWzUxLjI0MDc5NTc3ODA0NjksIDQuMzU5NDg3MjI3MTUyMjJdLCBbNTEuMjQwNzk1Nzc4MDQ2OSwgNC40NDc2ODg5MzU4MDMyOF0sIFs1MS4xOTMxMTM4Njk3NTQyLCA0LjQ0NzY4ODkzNTgwMzI4XSwgWzUxLjE5MzExMzg2OTc1NDIsIDQuMzU5NDg3MjI3MTUyMjJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMjNmZTE2NjI3MzEyNGJjNzhmNTFjNGUzNDhhODM3MjcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNWExNDFhNTFhNTFiNDhmMjg5ZDgxZDdlOWZkYWJkYTAgPSAkKGA8ZGl2IGlkPSJodG1sXzVhMTQxYTUxYTUxYjQ4ZjI4OWQ4MWQ3ZTlmZGFiZGEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBTdHJ1Y3R1cmVzLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0Nzc1NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBoeWJyaWQgbW9kZWwgZm9yIGZhc3QgYW5kIHByb2JhYmlsaXN0aWMgdXJiYW4gcGx1dmlhbCBmbG9vZCBwcmVkaWN0aW9uIC0gZGF0YXNldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzIzZmUxNjYyNzMxMjRiYzc4ZjUxYzRlMzQ4YTgzNzI3LnNldENvbnRlbnQoaHRtbF81YTE0MWE1MWE1MWI0OGYyODlkODFkN2U5ZmRhYmRhMCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2NhYjJjMjM3MDNhYjQ0NDJhOGE1M2U3ZTIwOTYyNzA1LmJpbmRQb3B1cChwb3B1cF8yM2ZlMTY2MjczMTI0YmM3OGY1MWM0ZTM0OGE4MzcyNykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lZmZjN2UxODEzMzM0NGJiODRlZTA3NzBhZDU2OTk5OV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2VmZmM3ZTE4MTMzMzQ0YmI4NGVlMDc3MGFkNTY5OTk5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2VmZmM3ZTE4MTMzMzQ0YmI4NGVlMDc3MGFkNTY5OTk5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lZmZjN2UxODEzMzM0NGJiODRlZTA3NzBhZDU2OTk5OV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZWZmYzdlMTgxMzMzNDRiYjg0ZWUwNzcwYWQ1Njk5OTkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2VmZmM3ZTE4MTMzMzQ0YmI4NGVlMDc3MGFkNTY5OTk5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuMTgzOTA1MDU3MDM4NSwgNC4zNDAyMTQ5MTI3MzM2N10sIFs1MS4yNDE2NjU1NzMzNjk4LCA0LjM0MDIxNDkxMjczMzY3XSwgWzUxLjI0MTY2NTU3MzM2OTgsIDQuNDU4ODY1MTg5NjY1NTVdLCBbNTEuMTgzOTA1MDU3MDM4NSwgNC40NTg4NjUxODk2NjU1NV0sIFs1MS4xODM5MDUwNTcwMzg1LCA0LjM0MDIxNDkxMjczMzY3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzU3MDYzNDBiYmQ5OTQzMTdhN2NhNGJjMjNiNGM4YTRmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzVlZjcxMGZiMzMzMzRkZGY5MGM2ZTIyZmQ4Mjk4YWU2ID0gJChgPGRpdiBpZD0iaHRtbF81ZWY3MTBmYjMzMzM0ZGRmOTBjNmUyMmZkODI5OGFlNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gTm9kZS5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDc3NTU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgaHlicmlkIG1vZGVsIGZvciBmYXN0IGFuZCBwcm9iYWJpbGlzdGljIHVyYmFuIHBsdXZpYWwgZmxvb2QgcHJlZGljdGlvbiAtIGRhdGFzZXQ8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MTg5NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81NzA2MzQwYmJkOTk0MzE3YTdjYTRiYzIzYjRjOGE0Zi5zZXRDb250ZW50KGh0bWxfNWVmNzEwZmIzMzMzNGRkZjkwYzZlMjJmZDgyOThhZTYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lZmZjN2UxODEzMzM0NGJiODRlZTA3NzBhZDU2OTk5OS5iaW5kUG9wdXAocG9wdXBfNTcwNjM0MGJiZDk5NDMxN2E3Y2E0YmMyM2I0YzhhNGYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmJjNzNiMTFlYTIzNDFjZGI0YWIwZmVlOWYwMTM2M2Rfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mYmM3M2IxMWVhMjM0MWNkYjRhYjBmZWU5ZjAxMzYzZCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mYmM3M2IxMWVhMjM0MWNkYjRhYjBmZWU5ZjAxMzYzZF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzUwOTQzNDcyYzRlYzQ0NGJhMzM3OGMxYWQ3NWVmZWM3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmJjNzNiMTFlYTIzNDFjZGI0YWIwZmVlOWYwMTM2M2RfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2ZiYzczYjExZWEyMzQxY2RiNGFiMGZlZTlmMDEzNjNkLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mYmM3M2IxMWVhMjM0MWNkYjRhYjBmZWU5ZjAxMzYzZF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzUxLjE4MzkwNTA1NzAzODUsIDQuMzQwMjE0OTEyNzMzNjddLCBbNTEuMjQxNjY1NTczMzY5OCwgNC4zNDAyMTQ5MTI3MzM2N10sIFs1MS4yNDE2NjU1NzMzNjk4LCA0LjQ1ODg2NTE4OTY2NTU1XSwgWzUxLjE4MzkwNTA1NzAzODUsIDQuNDU4ODY1MTg5NjY1NTVdLCBbNTEuMTgzOTA1MDU3MDM4NSwgNC4zNDAyMTQ5MTI3MzM2N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82N2ZjODg4ZTU2YjY0OTJhOTRmYTMxODNkMmY3NGRmYiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84OTQxYzY4MDg5MDE0MGYzYTE0Yjk2MTgwMTdkMjhjYiA9ICQoYDxkaXYgaWQ9Imh0bWxfODk0MWM2ODA4OTAxNDBmM2ExNGI5NjE4MDE3ZDI4Y2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IENvbmR1aXQuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ3NzU1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGh5YnJpZCBtb2RlbCBmb3IgZmFzdCBhbmQgcHJvYmFiaWxpc3RpYyB1cmJhbiBwbHV2aWFsIGZsb29kIHByZWRpY3Rpb24gLSBkYXRhc2V0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNzE4OTc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjdmYzg4OGU1NmI2NDkyYTk0ZmEzMTgzZDJmNzRkZmIuc2V0Q29udGVudChodG1sXzg5NDFjNjgwODkwMTQwZjNhMTRiOTYxODAxN2QyOGNiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZmJjNzNiMTFlYTIzNDFjZGI0YWIwZmVlOWYwMTM2M2QuYmluZFBvcHVwKHBvcHVwXzY3ZmM4ODhlNTZiNjQ5MmE5NGZhMzE4M2QyZjc0ZGZiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY4MjQ4YzY0OTMwNDQyN2E4YWVhMzRmMGNkYWJiZjI1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjgyNDhjNjQ5MzA0NDI3YThhZWEzNGYwY2RhYmJmMjUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjgyNDhjNjQ5MzA0NDI3YThhZWEzNGYwY2RhYmJmMjVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81MDk0MzQ3MmM0ZWM0NDRiYTMzNzhjMWFkNzVlZmVjNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY4MjQ4YzY0OTMwNDQyN2E4YWVhMzRmMGNkYWJiZjI1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82ODI0OGM2NDkzMDQ0MjdhOGFlYTM0ZjBjZGFiYmYyNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjgyNDhjNjQ5MzA0NDI3YThhZWEzNGYwY2RhYmJmMjVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS4xODY1NTY4OTczMjkyLCA0LjM4NzMwMjM4MTc5NjAyXSwgWzUxLjI0MDE3NTE2MTg3MywgNC4zODczMDIzODE3OTYwMl0sIFs1MS4yNDAxNzUxNjE4NzMsIDQuNDE4Njc5MjA5NTQ0ODRdLCBbNTEuMTg2NTU2ODk3MzI5MiwgNC40MTg2NzkyMDk1NDQ4NF0sIFs1MS4xODY1NTY4OTczMjkyLCA0LjM4NzMwMjM4MTc5NjAyXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzJjMDUzYWMzYmVjZDRjODlhYmU1MDNlMGFkZDk5MDZjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2YwYWIxM2VhY2I3NDQxNDE5YWZiZjg1NGJjOWQ3ZjkyID0gJChgPGRpdiBpZD0iaHRtbF9mMGFiMTNlYWNiNzQ0MTQxOWFmYmY4NTRiYzlkN2Y5MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUkdzLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0Nzc1NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBoeWJyaWQgbW9kZWwgZm9yIGZhc3QgYW5kIHByb2JhYmlsaXN0aWMgdXJiYW4gcGx1dmlhbCBmbG9vZCBwcmVkaWN0aW9uIC0gZGF0YXNldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzJjMDUzYWMzYmVjZDRjODlhYmU1MDNlMGFkZDk5MDZjLnNldENvbnRlbnQoaHRtbF9mMGFiMTNlYWNiNzQ0MTQxOWFmYmY4NTRiYzlkN2Y5Mik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzY4MjQ4YzY0OTMwNDQyN2E4YWVhMzRmMGNkYWJiZjI1LmJpbmRQb3B1cChwb3B1cF8yYzA1M2FjM2JlY2Q0Yzg5YWJlNTAzZTBhZGQ5OTA2YykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80Y2E0Y2ZlMDc3ZGU0YTE3ODlhMDY4YjA0MDViNWUzNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRjYTRjZmUwNzdkZTRhMTc4OWEwNjhiMDQwNWI1ZTM1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRjYTRjZmUwNzdkZTRhMTc4OWEwNjhiMDQwNWI1ZTM1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80Y2E0Y2ZlMDc3ZGU0YTE3ODlhMDY4YjA0MDViNWUzNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGNhNGNmZTA3N2RlNGExNzg5YTA2OGIwNDA1YjVlMzUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRjYTRjZmUwNzdkZTRhMTc4OWEwNjhiMDQwNWI1ZTM1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuMTg0NzU4NDY4MTQ0NSwgNC4zNzcwNDgxODQ5MTQwNF0sIFs1MS4yNDIwOTc4NDIwOTYyLCA0LjM3NzA0ODE4NDkxNDA0XSwgWzUxLjI0MjA5Nzg0MjA5NjIsIDQuNDQwODA5NzEwNzU4ODNdLCBbNTEuMTg0NzU4NDY4MTQ0NSwgNC40NDA4MDk3MTA3NTg4M10sIFs1MS4xODQ3NTg0NjgxNDQ1LCA0LjM3NzA0ODE4NDkxNDA0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQ4YmFhODdiMmYzNDQ1MWViOWUzNzkxNzgwM2QxODY2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2YzNTc0Y2ZmMGE2ZDQ4ZGFiMDU5NDU0ZTZmZDcyN2JjID0gJChgPGRpdiBpZD0iaHRtbF9mMzU3NGNmZjBhNmQ0OGRhYjA1OTQ1NGU2ZmQ3MjdiYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU3ViY2F0Y2htZW50LnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0Nzc1NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBoeWJyaWQgbW9kZWwgZm9yIGZhc3QgYW5kIHByb2JhYmlsaXN0aWMgdXJiYW4gcGx1dmlhbCBmbG9vZCBwcmVkaWN0aW9uIC0gZGF0YXNldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQ4YmFhODdiMmYzNDQ1MWViOWUzNzkxNzgwM2QxODY2LnNldENvbnRlbnQoaHRtbF9mMzU3NGNmZjBhNmQ0OGRhYjA1OTQ1NGU2ZmQ3MjdiYyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzRjYTRjZmUwNzdkZTRhMTc4OWEwNjhiMDQwNWI1ZTM1LmJpbmRQb3B1cChwb3B1cF80OGJhYTg3YjJmMzQ0NTFlYjllMzc5MTc4MDNkMTg2NikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wYWUxNDI1MGE3OTk0MGZhOTdjMWVmZDExY2Y3NzQyNF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzBhZTE0MjUwYTc5OTQwZmE5N2MxZWZkMTFjZjc3NDI0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzBhZTE0MjUwYTc5OTQwZmE5N2MxZWZkMTFjZjc3NDI0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wYWUxNDI1MGE3OTk0MGZhOTdjMWVmZDExY2Y3NzQyNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMGFlMTQyNTBhNzk5NDBmYTk3YzFlZmQxMWNmNzc0MjQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzBhZTE0MjUwYTc5OTQwZmE5N2MxZWZkMTFjZjc3NDI0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuMTg0NzU4NDY4MTQ0NSwgNC4zNzcwNDgxODQ5MTQwNF0sIFs1MS4yNDIwOTc4NDIwOTYyLCA0LjM3NzA0ODE4NDkxNDA0XSwgWzUxLjI0MjA5Nzg0MjA5NjIsIDQuNDQwODA5NzEwNzU4ODNdLCBbNTEuMTg0NzU4NDY4MTQ0NSwgNC40NDA4MDk3MTA3NTg4M10sIFs1MS4xODQ3NTg0NjgxNDQ1LCA0LjM3NzA0ODE4NDkxNDA0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2QyYjM1MGM1M2ZjMTQxM2M5YjFlZGVhOWUyZTYxNmYyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JmZjE2ZDAzZWNkZDQ5MWM5MmZlNTZkZWMyMDMwZWIzID0gJChgPGRpdiBpZD0iaHRtbF9iZmYxNmQwM2VjZGQ0OTFjOTJmZTU2ZGVjMjAzMGViMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU3ViY2F0Y2htZW50LnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0Nzc1NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBoeWJyaWQgbW9kZWwgZm9yIGZhc3QgYW5kIHByb2JhYmlsaXN0aWMgdXJiYW4gcGx1dmlhbCBmbG9vZCBwcmVkaWN0aW9uIC0gZGF0YXNldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2QyYjM1MGM1M2ZjMTQxM2M5YjFlZGVhOWUyZTYxNmYyLnNldENvbnRlbnQoaHRtbF9iZmYxNmQwM2VjZGQ0OTFjOTJmZTU2ZGVjMjAzMGViMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzBhZTE0MjUwYTc5OTQwZmE5N2MxZWZkMTFjZjc3NDI0LmJpbmRQb3B1cChwb3B1cF9kMmIzNTBjNTNmYzE0MTNjOWIxZWRlYTllMmU2MTZmMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81MTcwZTdkYWY1MGQ0ZDJkYmUxYWFhMTBkZjE3M2IwM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzUxNzBlN2RhZjUwZDRkMmRiZTFhYWExMGRmMTczYjAzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzUxNzBlN2RhZjUwZDRkMmRiZTFhYWExMGRmMTczYjAzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81MTcwZTdkYWY1MGQ0ZDJkYmUxYWFhMTBkZjE3M2IwM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNTE3MGU3ZGFmNTBkNGQyZGJlMWFhYTEwZGYxNzNiMDMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzUxNzBlN2RhZjUwZDRkMmRiZTFhYWExMGRmMTczYjAzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuMTgzOTA1MDU3MDM4NSwgNC4zNDAyMTQ5MTI3MzM2N10sIFs1MS4yNDE2NjU1NzMzNjk4LCA0LjM0MDIxNDkxMjczMzY3XSwgWzUxLjI0MTY2NTU3MzM2OTgsIDQuNDU4ODY1MTg5NjY1NTVdLCBbNTEuMTgzOTA1MDU3MDM4NSwgNC40NTg4NjUxODk2NjU1NV0sIFs1MS4xODM5MDUwNTcwMzg1LCA0LjM0MDIxNDkxMjczMzY3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzc1Zjg2Mjc0N2IyOTQ2M2JhNjk4ZDE4MjY4ZjcwZjg5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Y3NGFhMDNlNDQ2NzRjNzRiMzgxYzVmZmJkNGY3MGI2ID0gJChgPGRpdiBpZD0iaHRtbF9mNzRhYTAzZTQ0Njc0Yzc0YjM4MWM1ZmZiZDRmNzBiNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQ29uZHVpdC5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDc3NTU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgaHlicmlkIG1vZGVsIGZvciBmYXN0IGFuZCBwcm9iYWJpbGlzdGljIHVyYmFuIHBsdXZpYWwgZmxvb2QgcHJlZGljdGlvbiAtIGRhdGFzZXQ8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MTg5NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83NWY4NjI3NDdiMjk0NjNiYTY5OGQxODI2OGY3MGY4OS5zZXRDb250ZW50KGh0bWxfZjc0YWEwM2U0NDY3NGM3NGIzODFjNWZmYmQ0ZjcwYjYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81MTcwZTdkYWY1MGQ0ZDJkYmUxYWFhMTBkZjE3M2IwMy5iaW5kUG9wdXAocG9wdXBfNzVmODYyNzQ3YjI5NDYzYmE2OThkMTgyNjhmNzBmODkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2FiNzg5MDJkZDUwNDkwMWI4ZTgwZmZlMDQyNDRmMWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zYWI3ODkwMmRkNTA0OTAxYjhlODBmZmUwNDI0NGYxYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zYWI3ODkwMmRkNTA0OTAxYjhlODBmZmUwNDI0NGYxYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzUwOTQzNDcyYzRlYzQ0NGJhMzM3OGMxYWQ3NWVmZWM3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2FiNzg5MDJkZDUwNDkwMWI4ZTgwZmZlMDQyNDRmMWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzNhYjc4OTAyZGQ1MDQ5MDFiOGU4MGZmZTA0MjQ0ZjFhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zYWI3ODkwMmRkNTA0OTAxYjhlODBmZmUwNDI0NGYxYV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzUxLjE4MzkwNTA1NzAzODUsIDQuMzQwMjE0OTEyNzMzNjddLCBbNTEuMjQxNjY1NTczMzY5OCwgNC4zNDAyMTQ5MTI3MzM2N10sIFs1MS4yNDE2NjU1NzMzNjk4LCA0LjQ1ODg2NTE4OTY2NTU1XSwgWzUxLjE4MzkwNTA1NzAzODUsIDQuNDU4ODY1MTg5NjY1NTVdLCBbNTEuMTgzOTA1MDU3MDM4NSwgNC4zNDAyMTQ5MTI3MzM2N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83YzFiZDVlODc0MGQ0N2JkODljODU3ZGE3ODlmODQ4ZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83NmU4YTU1M2YzZmY0NGFjOGMxMzFhNDE4YTRjYzM1MSA9ICQoYDxkaXYgaWQ9Imh0bWxfNzZlOGE1NTNmM2ZmNDRhYzhjMTMxYTQxOGE0Y2MzNTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IE5vZGUuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ3NzU1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGh5YnJpZCBtb2RlbCBmb3IgZmFzdCBhbmQgcHJvYmFiaWxpc3RpYyB1cmJhbiBwbHV2aWFsIGZsb29kIHByZWRpY3Rpb24gLSBkYXRhc2V0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNzE4OTc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2MxYmQ1ZTg3NDBkNDdiZDg5Yzg1N2RhNzg5Zjg0OGYuc2V0Q29udGVudChodG1sXzc2ZThhNTUzZjNmZjQ0YWM4YzEzMWE0MThhNGNjMzUxKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fM2FiNzg5MDJkZDUwNDkwMWI4ZTgwZmZlMDQyNDRmMWEuYmluZFBvcHVwKHBvcHVwXzdjMWJkNWU4NzQwZDQ3YmQ4OWM4NTdkYTc4OWY4NDhmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NlYmY4OWJhZGRjZTQyNGFhNDFkNmVkZmFiZDUzMTQ0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fY2ViZjg5YmFkZGNlNDI0YWE0MWQ2ZWRmYWJkNTMxNDQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fY2ViZjg5YmFkZGNlNDI0YWE0MWQ2ZWRmYWJkNTMxNDRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81MDk0MzQ3MmM0ZWM0NDRiYTMzNzhjMWFkNzVlZmVjNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NlYmY4OWJhZGRjZTQyNGFhNDFkNmVkZmFiZDUzMTQ0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jZWJmODliYWRkY2U0MjRhYTQxZDZlZGZhYmQ1MzE0NC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fY2ViZjg5YmFkZGNlNDI0YWE0MWQ2ZWRmYWJkNTMxNDRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS4wNTM4NTQzMzY4MzEzLCAzLjc1MDEwMTkyODQzMDIyXSwgWzUxLjEwNzYyMzgwNDIxNTYsIDMuNzUwMTAxOTI4NDMwMjJdLCBbNTEuMTA3NjIzODA0MjE1NiwgMy43ODIwMzg4MDQyODY0OF0sIFs1MS4wNTM4NTQzMzY4MzEzLCAzLjc4MjAzODgwNDI4NjQ4XSwgWzUxLjA1Mzg1NDMzNjgzMTMsIDMuNzUwMTAxOTI4NDMwMjJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfODRlYWU2MDljZWNlNDM4N2FjNjczNDE0YWU4OTI1ZjYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDczMWE2Yzk4Yzk5NDVjZjg2MTZiNDZjMjYzMmEyNTYgPSAkKGA8ZGl2IGlkPSJodG1sX2Q3MzFhNmM5OGM5OTQ1Y2Y4NjE2YjQ2YzI2MzJhMjU2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBSR3Muc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ3NzU1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGh5YnJpZCBtb2RlbCBmb3IgZmFzdCBhbmQgcHJvYmFiaWxpc3RpYyB1cmJhbiBwbHV2aWFsIGZsb29kIHByZWRpY3Rpb24gLSBkYXRhc2V0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNzE4OTc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODRlYWU2MDljZWNlNDM4N2FjNjczNDE0YWU4OTI1ZjYuc2V0Q29udGVudChodG1sX2Q3MzFhNmM5OGM5OTQ1Y2Y4NjE2YjQ2YzI2MzJhMjU2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fY2ViZjg5YmFkZGNlNDI0YWE0MWQ2ZWRmYWJkNTMxNDQuYmluZFBvcHVwKHBvcHVwXzg0ZWFlNjA5Y2VjZTQzODdhYzY3MzQxNGFlODkyNWY2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQ3NTAxOWUyMzg5NjRmNThiMGRjM2QzNmYwODM1M2RlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNDc1MDE5ZTIzODk2NGY1OGIwZGMzZDM2ZjA4MzUzZGUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNDc1MDE5ZTIzODk2NGY1OGIwZGMzZDM2ZjA4MzUzZGVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81MDk0MzQ3MmM0ZWM0NDRiYTMzNzhjMWFkNzVlZmVjNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQ3NTAxOWUyMzg5NjRmNThiMGRjM2QzNmYwODM1M2RlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80NzUwMTllMjM4OTY0ZjU4YjBkYzNkMzZmMDgzNTNkZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNDc1MDE5ZTIzODk2NGY1OGIwZGMzZDM2ZjA4MzUzZGVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS4wNTM4NTQzMzY4MzEzLCAzLjc1MDEwMTkyODQzMDIyXSwgWzUxLjEwNzYyMzgwNDIxNTYsIDMuNzUwMTAxOTI4NDMwMjJdLCBbNTEuMTA3NjIzODA0MjE1NiwgMy43ODIwMzg4MDQyODY0OF0sIFs1MS4wNTM4NTQzMzY4MzEzLCAzLjc4MjAzODgwNDI4NjQ4XSwgWzUxLjA1Mzg1NDMzNjgzMTMsIDMuNzUwMTAxOTI4NDMwMjJdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNTMyZmExMzg5MDRjNGQyYTg3Zjc1ODcxODM2MGFlOGIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjk4ZDgxMDllM2EyNDBlYmIzN2JmNjBkNjQ3NWI1MmUgPSAkKGA8ZGl2IGlkPSJodG1sXzI5OGQ4MTA5ZTNhMjQwZWJiMzdiZjYwZDY0NzViNTJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBSR3Muc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ3NzU1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGh5YnJpZCBtb2RlbCBmb3IgZmFzdCBhbmQgcHJvYmFiaWxpc3RpYyB1cmJhbiBwbHV2aWFsIGZsb29kIHByZWRpY3Rpb24gLSBkYXRhc2V0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNzE4OTc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTMyZmExMzg5MDRjNGQyYTg3Zjc1ODcxODM2MGFlOGIuc2V0Q29udGVudChodG1sXzI5OGQ4MTA5ZTNhMjQwZWJiMzdiZjYwZDY0NzViNTJlKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNDc1MDE5ZTIzODk2NGY1OGIwZGMzZDM2ZjA4MzUzZGUuYmluZFBvcHVwKHBvcHVwXzUzMmZhMTM4OTA0YzRkMmE4N2Y3NTg3MTgzNjBhZThiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU1ZmIwYjBmNWRiNjQ2MTdiNDc1YTU1M2M2MjIyZjM0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTVmYjBiMGY1ZGI2NDYxN2I0NzVhNTUzYzYyMjJmMzQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTVmYjBiMGY1ZGI2NDYxN2I0NzVhNTUzYzYyMjJmMzRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81MDk0MzQ3MmM0ZWM0NDRiYTMzNzhjMWFkNzVlZmVjNyk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU1ZmIwYjBmNWRiNjQ2MTdiNDc1YTU1M2M2MjIyZjM0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81NWZiMGIwZjVkYjY0NjE3YjQ3NWE1NTNjNjIyMmYzNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTVmYjBiMGY1ZGI2NDYxN2I0NzVhNTUzYzYyMjJmMzRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS4wNDY4MTQxMTA2OTA4LCAzLjczODE5ODAzMDUyNTM0XSwgWzUxLjEwNzMzNTE1MTgwMDEsIDMuNzM4MTk4MDMwNTI1MzRdLCBbNTEuMTA3MzM1MTUxODAwMSwgMy44MDYxODM2OTE2NjE3NF0sIFs1MS4wNDY4MTQxMTA2OTA4LCAzLjgwNjE4MzY5MTY2MTc0XSwgWzUxLjA0NjgxNDExMDY5MDgsIDMuNzM4MTk4MDMwNTI1MzRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzI2NGEyOWYwODg0NGEzZDhmMDE1M2UzNDdiZTgxMTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMWJmNDRkMTdiYjgwNDExNzllN2U5OTk3NjNhYWY5OTkgPSAkKGA8ZGl2IGlkPSJodG1sXzFiZjQ0ZDE3YmI4MDQxMTc5ZTdlOTk5NzYzYWFmOTk5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzdHJ1Y3R1cmVzLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM0Nzc1NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBoeWJyaWQgbW9kZWwgZm9yIGZhc3QgYW5kIHByb2JhYmlsaXN0aWMgdXJiYW4gcGx1dmlhbCBmbG9vZCBwcmVkaWN0aW9uIC0gZGF0YXNldDwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzcxODk3NDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2MyNjRhMjlmMDg4NDRhM2Q4ZjAxNTNlMzQ3YmU4MTExLnNldENvbnRlbnQoaHRtbF8xYmY0NGQxN2JiODA0MTE3OWU3ZTk5OTc2M2FhZjk5OSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzU1ZmIwYjBmNWRiNjQ2MTdiNDc1YTU1M2M2MjIyZjM0LmJpbmRQb3B1cChwb3B1cF9jMjY0YTI5ZjA4ODQ0YTNkOGYwMTUzZTM0N2JlODExMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ODdlYjM1NWY5NTQ0ZTdhYWJlNmJiYjUwZmE4ZmQ4Nl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzg4N2ViMzU1Zjk1NDRlN2FhYmU2YmJiNTBmYThmZDg2ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzg4N2ViMzU1Zjk1NDRlN2FhYmU2YmJiNTBmYThmZDg2X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ODdlYjM1NWY5NTQ0ZTdhYWJlNmJiYjUwZmE4ZmQ4Nl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fODg3ZWIzNTVmOTU0NGU3YWFiZTZiYmI1MGZhOGZkODYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzg4N2ViMzU1Zjk1NDRlN2FhYmU2YmJiNTBmYThmZDg2X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuMDQ2ODE0MTEwNjkwOCwgMy43MzgxOTgwMzA1MjUzNF0sIFs1MS4xMDczMzUxNTE4MDAxLCAzLjczODE5ODAzMDUyNTM0XSwgWzUxLjEwNzMzNTE1MTgwMDEsIDMuODA2MTgzNjkxNjYxNzRdLCBbNTEuMDQ2ODE0MTEwNjkwOCwgMy44MDYxODM2OTE2NjE3NF0sIFs1MS4wNDY4MTQxMTA2OTA4LCAzLjczODE5ODAzMDUyNTM0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2MxY2UyOTgzNzM5MzQ3ODZhYTRjNDZjMGZkMjZiMjg0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzlkMmQ3MmRjYWEzMjQ5MWZhYTYyYWNmN2Y4NDZhZWEwID0gJChgPGRpdiBpZD0iaHRtbF85ZDJkNzJkY2FhMzI0OTFmYWE2MmFjZjdmODQ2YWVhMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc3RydWN0dXJlcy5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDc3NTU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgaHlicmlkIG1vZGVsIGZvciBmYXN0IGFuZCBwcm9iYWJpbGlzdGljIHVyYmFuIHBsdXZpYWwgZmxvb2QgcHJlZGljdGlvbiAtIGRhdGFzZXQ8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MTg5NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jMWNlMjk4MzczOTM0Nzg2YWE0YzQ2YzBmZDI2YjI4NC5zZXRDb250ZW50KGh0bWxfOWQyZDcyZGNhYTMyNDkxZmFhNjJhY2Y3Zjg0NmFlYTApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84ODdlYjM1NWY5NTQ0ZTdhYWJlNmJiYjUwZmE4ZmQ4Ni5iaW5kUG9wdXAocG9wdXBfYzFjZTI5ODM3MzkzNDc4NmFhNGM0NmMwZmQyNmIyODQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTlmYThiMGZhMjc5NGUzMDkwM2IyOTIwMjVlZjE4OWJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hOWZhOGIwZmEyNzk0ZTMwOTAzYjI5MjAyNWVmMTg5YiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hOWZhOGIwZmEyNzk0ZTMwOTAzYjI5MjAyNWVmMTg5Yl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzUwOTQzNDcyYzRlYzQ0NGJhMzM3OGMxYWQ3NWVmZWM3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTlmYThiMGZhMjc5NGUzMDkwM2IyOTIwMjVlZjE4OWJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2E5ZmE4YjBmYTI3OTRlMzA5MDNiMjkyMDI1ZWYxODliLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hOWZhOGIwZmEyNzk0ZTMwOTAzYjI5MjAyNWVmMTg5Yl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzUxLjA1Mzg1NDMzNjgzMTMsIDMuNzUwMTAxOTI4NDMwMjJdLCBbNTEuMTA3NjIzODA0MjE1NiwgMy43NTAxMDE5Mjg0MzAyMl0sIFs1MS4xMDc2MjM4MDQyMTU2LCAzLjc4MjAzODgwNDI4NjQ4XSwgWzUxLjA1Mzg1NDMzNjgzMTMsIDMuNzgyMDM4ODA0Mjg2NDhdLCBbNTEuMDUzODU0MzM2ODMxMywgMy43NTAxMDE5Mjg0MzAyMl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wNmQ1ZTFmYTY0OWM0NDQwOGI4NTRhOTEyYmJmMmIzYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zNjUwM2FkNDQwZGM0NTg3ODk4NTQzNTNiNzNiZjhiNiA9ICQoYDxkaXYgaWQ9Imh0bWxfMzY1MDNhZDQ0MGRjNDU4Nzg5ODU0MzUzYjczYmY4YjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFJHcy5kYmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGRiZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDc3NTU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgaHlicmlkIG1vZGVsIGZvciBmYXN0IGFuZCBwcm9iYWJpbGlzdGljIHVyYmFuIHBsdXZpYWwgZmxvb2QgcHJlZGljdGlvbiAtIGRhdGFzZXQ8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM3MTg5NzQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wNmQ1ZTFmYTY0OWM0NDQwOGI4NTRhOTEyYmJmMmIzYy5zZXRDb250ZW50KGh0bWxfMzY1MDNhZDQ0MGRjNDU4Nzg5ODU0MzUzYjczYmY4YjYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hOWZhOGIwZmEyNzk0ZTMwOTAzYjI5MjAyNWVmMTg5Yi5iaW5kUG9wdXAocG9wdXBfMDZkNWUxZmE2NDljNDQ0MDhiODU0YTkxMmJiZjJiM2MpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWQ0ZGQxMDc3OGY1NDJiMThiNWUyMWFiYjgwMjViMDFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81ZDRkZDEwNzc4ZjU0MmIxOGI1ZTIxYWJiODAyNWIwMSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81ZDRkZDEwNzc4ZjU0MmIxOGI1ZTIxYWJiODAyNWIwMV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzUwOTQzNDcyYzRlYzQ0NGJhMzM3OGMxYWQ3NWVmZWM3KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWQ0ZGQxMDc3OGY1NDJiMThiNWUyMWFiYjgwMjViMDFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzVkNGRkMTA3NzhmNTQyYjE4YjVlMjFhYmI4MDI1YjAxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81ZDRkZDEwNzc4ZjU0MmIxOGI1ZTIxYWJiODAyNWIwMV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzUxLjA0NjgxNDExMDY5MDgsIDMuNzM4MTk4MDMwNTI1MzRdLCBbNTEuMTA3MzM1MTUxODAwMSwgMy43MzgxOTgwMzA1MjUzNF0sIFs1MS4xMDczMzUxNTE4MDAxLCAzLjgwNjE4MzY5MTY2MTc0XSwgWzUxLjA0NjgxNDExMDY5MDgsIDMuODA2MTgzNjkxNjYxNzRdLCBbNTEuMDQ2ODE0MTEwNjkwOCwgMy43MzgxOTgwMzA1MjUzNF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82YjllNzYyY2Q5M2E0YjEzOTMwNDI2NmRkNDg4YzAyMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85NzA3Yzk3YzYxODU0YzA3OTE0OWNlNzIwYzE5ZWFiNyA9ICQoYDxkaXYgaWQ9Imh0bWxfOTcwN2M5N2M2MTg1NGMwNzkxNDljZTcyMGMxOWVhYjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHN0cnVjdHVyZXMuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ3NzU1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGh5YnJpZCBtb2RlbCBmb3IgZmFzdCBhbmQgcHJvYmFiaWxpc3RpYyB1cmJhbiBwbHV2aWFsIGZsb29kIHByZWRpY3Rpb24gLSBkYXRhc2V0PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNzE4OTc0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNmI5ZTc2MmNkOTNhNGIxMzkzMDQyNjZkZDQ4OGMwMjEuc2V0Q29udGVudChodG1sXzk3MDdjOTdjNjE4NTRjMDc5MTQ5Y2U3MjBjMTllYWI3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNWQ0ZGQxMDc3OGY1NDJiMThiNWUyMWFiYjgwMjViMDEuYmluZFBvcHVwKHBvcHVwXzZiOWU3NjJjZDkzYTRiMTM5MzA0MjY2ZGQ0ODhjMDIxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF82YjFmNjA3OThlY2I0NDUzYjkyYjk1MDFlMTRhZjVlYSA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGE1NGIzZDRmYjY4NDBmMThmZTcwYzExNjY3MGY4Yjlfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84YTU0YjNkNGZiNjg0MGYxOGZlNzBjMTE2NjcwZjhiOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzhhNTRiM2Q0ZmI2ODQwZjE4ZmU3MGMxMTY2NzBmOGI5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzhhNTRiM2Q0ZmI2ODQwZjE4ZmU3MGMxMTY2NzBmOGI5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzhhNTRiM2Q0ZmI2ODQwZjE4ZmU3MGMxMTY2NzBmOGI5X3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzZiMWY2MDc5OGVjYjQ0NTNiOTJiOTUwMWUxNGFmNWVhKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGE1NGIzZDRmYjY4NDBmMThmZTcwYzExNjY3MGY4YjlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzhhNTRiM2Q0ZmI2ODQwZjE4ZmU3MGMxMTY2NzBmOGI5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84YTU0YjNkNGZiNjg0MGYxOGZlNzBjMTE2NjcwZjhiOV9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWy0xODAuMCwgLTU2LjBdLCBbMTgwLjAsIC01Ni4wXSwgWzE4MC4wLCA4My4yNV0sIFstMTgwLjAsIDgzLjI1XSwgWy0xODAuMCwgLTU2LjBdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yMTk1MjcwNjcxY2Q0MzI5OWI2ZjRlZTNiNmU1YzE5OSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80Y2U4ZmVlYzRjYzE0MjMzYTJmYmE3NjQyZGI2NDViMyA9ICQoYDxkaXYgaWQ9Imh0bWxfNGNlOGZlZWM0Y2MxNDIzM2EyZmJhNzY0MmRiNjQ1YjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDI2NTUxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBHQ0FNIFVTQSBzdGF0ZS1nbHUgc3BhdGlhbCBib3VuZGFyaWVzIHdpdGggbWFwcGluZy9hZ2dyZWdhdGlvbiBmaWxlPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjQyNjU1MTI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzIxOTUyNzA2NzFjZDQzMjk5YjZmNGVlM2I2ZTVjMTk5LnNldENvbnRlbnQoaHRtbF80Y2U4ZmVlYzRjYzE0MjMzYTJmYmE3NjQyZGI2NDViMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzhhNTRiM2Q0ZmI2ODQwZjE4ZmU3MGMxMTY2NzBmOGI5LmJpbmRQb3B1cChwb3B1cF8yMTk1MjcwNjcxY2Q0MzI5OWI2ZjRlZTNiNmU1YzE5OSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zNmQzMzQ0MDEyZDk0Y2FmOTY0ZjMyZGE1YWI2MDVhMl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzM2ZDMzNDQwMTJkOTRjYWY5NjRmMzJkYTVhYjYwNWEyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzM2ZDMzNDQwMTJkOTRjYWY5NjRmMzJkYTVhYjYwNWEyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNmIxZjYwNzk4ZWNiNDQ1M2I5MmI5NTAxZTE0YWY1ZWEpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zNmQzMzQ0MDEyZDk0Y2FmOTY0ZjMyZGE1YWI2MDVhMl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzZkMzM0NDAxMmQ5NGNhZjk2NGYzMmRhNWFiNjA1YTIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzM2ZDMzNDQwMTJkOTRjYWY5NjRmMzJkYTVhYjYwNWEyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE3OC4zMDk0OCwgLTE0LjQxNjY2NjY3XSwgWzE3OS44MzMzMzMzMywgLTE0LjQxNjY2NjY3XSwgWzE3OS44MzMzMzMzMywgNzEuNDE2NjY2NjddLCBbLTE3OC4zMDk0OCwgNzEuNDE2NjY2NjddLCBbLTE3OC4zMDk0OCwgLTE0LjQxNjY2NjY3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNiMjhmOGRlZGZjODQ5NDJiMjg5Mzk3MTA3ZjIwZTI3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzg0Yzk2YTc0OTA3YTRiYjc5NjkyZWQ5ZDVjNGRkM2U2ID0gJChgPGRpdiBpZD0iaHRtbF84NGM5NmE3NDkwN2E0YmI3OTY5MmVkOWQ1YzRkZDNlNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gZ2NhbXVzYV9zdGF0ZV9nbHVfd2dzODQuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDI2NTUxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBHQ0FNIFVTQSBzdGF0ZS1nbHUgc3BhdGlhbCBib3VuZGFyaWVzIHdpdGggbWFwcGluZy9hZ2dyZWdhdGlvbiBmaWxlPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MjY1NTEyPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfM2IyOGY4ZGVkZmM4NDk0MmIyODkzOTcxMDdmMjBlMjcuc2V0Q29udGVudChodG1sXzg0Yzk2YTc0OTA3YTRiYjc5NjkyZWQ5ZDVjNGRkM2U2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzZkMzM0NDAxMmQ5NGNhZjk2NGYzMmRhNWFiNjA1YTIuYmluZFBvcHVwKHBvcHVwXzNiMjhmOGRlZGZjODQ5NDJiMjg5Mzk3MTA3ZjIwZTI3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U5MGYxZWJjN2EwZTRmMTNiNmMxMWYwNDIyZGIzNGMyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTkwZjFlYmM3YTBlNGYxM2I2YzExZjA0MjJkYjM0YzIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTkwZjFlYmM3YTBlNGYxM2I2YzExZjA0MjJkYjM0YzJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF82YjFmNjA3OThlY2I0NDUzYjkyYjk1MDFlMTRhZjVlYSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U5MGYxZWJjN2EwZTRmMTNiNmMxMWYwNDIyZGIzNGMyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lOTBmMWViYzdhMGU0ZjEzYjZjMTFmMDQyMmRiMzRjMi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTkwZjFlYmM3YTBlNGYxM2I2YzExZjA0MjJkYjM0YzJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTc4LjMwOTQ4LCAtMTQuNDE2NjY2NjddLCBbMTc5LjgzMzMzMzMzLCAtMTQuNDE2NjY2NjddLCBbMTc5LjgzMzMzMzMzLCA3MS40MTY2NjY2N10sIFstMTc4LjMwOTQ4LCA3MS40MTY2NjY2N10sIFstMTc4LjMwOTQ4LCAtMTQuNDE2NjY2NjddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYTYzZmVhYThhY2I2NDVkY2E3MGE2MWU1MGZlYjdjODAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYzk5MGRlZjU0ZTRjNDM2OGI1NGU1Yzk2ODkwNjUwNWEgPSAkKGA8ZGl2IGlkPSJodG1sX2M5OTBkZWY1NGU0YzQzNjhiNTRlNWM5Njg5MDY1MDVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBnY2FtdXNhX3N0YXRlX2dsdV93Z3M4NC5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MjY1NTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEdDQU0gVVNBIHN0YXRlLWdsdSBzcGF0aWFsIGJvdW5kYXJpZXMgd2l0aCBtYXBwaW5nL2FnZ3JlZ2F0aW9uIGZpbGU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQyNjU1MTI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hNjNmZWFhOGFjYjY0NWRjYTcwYTYxZTUwZmViN2M4MC5zZXRDb250ZW50KGh0bWxfYzk5MGRlZjU0ZTRjNDM2OGI1NGU1Yzk2ODkwNjUwNWEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lOTBmMWViYzdhMGU0ZjEzYjZjMTFmMDQyMmRiMzRjMi5iaW5kUG9wdXAocG9wdXBfYTYzZmVhYThhY2I2NDVkY2E3MGE2MWU1MGZlYjdjODApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGUwZmYwMWQ3YTdlNGRkNjg3MWM0ZWJhMGRjMzc3YjVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84ZTBmZjAxZDdhN2U0ZGQ2ODcxYzRlYmEwZGMzNzdiNSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84ZTBmZjAxZDdhN2U0ZGQ2ODcxYzRlYmEwZGMzNzdiNV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzZiMWY2MDc5OGVjYjQ0NTNiOTJiOTUwMWUxNGFmNWVhKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOGUwZmYwMWQ3YTdlNGRkNjg3MWM0ZWJhMGRjMzc3YjVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzhlMGZmMDFkN2E3ZTRkZDY4NzFjNGViYTBkYzM3N2I1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84ZTBmZjAxZDdhN2U0ZGQ2ODcxYzRlYmEwZGMzNzdiNV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xNzguMzA5NDgsIC0xNC40MTY2NjY2N10sIFsxNzkuODMzMzMzMzMsIC0xNC40MTY2NjY2N10sIFsxNzkuODMzMzMzMzMsIDcxLjQxNjY2NjY3XSwgWy0xNzguMzA5NDgsIDcxLjQxNjY2NjY3XSwgWy0xNzguMzA5NDgsIC0xNC40MTY2NjY2N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jZDA4OTJkNjViMGQ0YmMwOTQ0MjIyODUzYTQ4OWIxMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hMTlkYzQ4MzdjNzQ0MjAzYWU0Zjg5YTlhYjNiMTdjNiA9ICQoYDxkaXYgaWQ9Imh0bWxfYTE5ZGM0ODM3Yzc0NDIwM2FlNGY4OWE5YWIzYjE3YzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGdjYW11c2Ffc3RhdGVfZ2x1X3dnczg0LmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQyNjU1MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gR0NBTSBVU0Egc3RhdGUtZ2x1IHNwYXRpYWwgYm91bmRhcmllcyB3aXRoIG1hcHBpbmcvYWdncmVnYXRpb24gZmlsZTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDI2NTUxMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2NkMDg5MmQ2NWIwZDRiYzA5NDQyMjI4NTNhNDg5YjExLnNldENvbnRlbnQoaHRtbF9hMTlkYzQ4MzdjNzQ0MjAzYWU0Zjg5YTlhYjNiMTdjNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzhlMGZmMDFkN2E3ZTRkZDY4NzFjNGViYTBkYzM3N2I1LmJpbmRQb3B1cChwb3B1cF9jZDA4OTJkNjViMGQ0YmMwOTQ0MjIyODUzYTQ4OWIxMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84YWUxODRhZTExMGM0ZDRlODIwMjg5YzMyMmQzZDQ1ZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzhhZTE4NGFlMTEwYzRkNGU4MjAyODljMzIyZDNkNDVkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzhhZTE4NGFlMTEwYzRkNGU4MjAyODljMzIyZDNkNDVkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNmIxZjYwNzk4ZWNiNDQ1M2I5MmI5NTAxZTE0YWY1ZWEpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84YWUxODRhZTExMGM0ZDRlODIwMjg5YzMyMmQzZDQ1ZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOGFlMTg0YWUxMTBjNGQ0ZTgyMDI4OWMzMjJkM2Q0NWQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzhhZTE4NGFlMTEwYzRkNGU4MjAyODljMzIyZDNkNDVkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE4MC4wLCAtNTYuMF0sIFsxODAuMCwgLTU2LjBdLCBbMTgwLjAsIDgzLjI1XSwgWy0xODAuMCwgODMuMjVdLCBbLTE4MC4wLCAtNTYuMF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hMzg1NTZhOWIzY2I0NzEzOTE2MmU2ZTI1NDkxYWQzNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xNTE4NjY0Y2FhYTQ0OWI0ODdmYzFjZmUzM2VhZDIyNCA9ICQoYDxkaXYgaWQ9Imh0bWxfMTUxODY2NGNhYWE0NDliNDg3ZmMxY2ZlMzNlYWQyMjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGdsdV9ib3VuZGFyaWVzX21vaXJhaV9jb21iaW5lZF8zcDFfMHA1YXJjbWluLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQyNjU1MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gR0NBTSBVU0Egc3RhdGUtZ2x1IHNwYXRpYWwgYm91bmRhcmllcyB3aXRoIG1hcHBpbmcvYWdncmVnYXRpb24gZmlsZTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDI2NTUxMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2EzODU1NmE5YjNjYjQ3MTM5MTYyZTZlMjU0OTFhZDM0LnNldENvbnRlbnQoaHRtbF8xNTE4NjY0Y2FhYTQ0OWI0ODdmYzFjZmUzM2VhZDIyNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzhhZTE4NGFlMTEwYzRkNGU4MjAyODljMzIyZDNkNDVkLmJpbmRQb3B1cChwb3B1cF9hMzg1NTZhOWIzY2I0NzEzOTE2MmU2ZTI1NDkxYWQzNCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mZGZkODhiZjNhZjI0N2YyOTRkZmJiNDUxNjZjMzQwZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2ZkZmQ4OGJmM2FmMjQ3ZjI5NGRmYmI0NTE2NmMzNDBlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2ZkZmQ4OGJmM2FmMjQ3ZjI5NGRmYmI0NTE2NmMzNDBlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNmIxZjYwNzk4ZWNiNDQ1M2I5MmI5NTAxZTE0YWY1ZWEpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mZGZkODhiZjNhZjI0N2YyOTRkZmJiNDUxNjZjMzQwZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZmRmZDg4YmYzYWYyNDdmMjk0ZGZiYjQ1MTY2YzM0MGUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2ZkZmQ4OGJmM2FmMjQ3ZjI5NGRmYmI0NTE2NmMzNDBlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE4MC4wLCAtNTYuMF0sIFsxODAuMCwgLTU2LjBdLCBbMTgwLjAsIDgzLjI1XSwgWy0xODAuMCwgODMuMjVdLCBbLTE4MC4wLCAtNTYuMF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85NjA2MTI3ZWI1OGE0YTAwYjk4MTE5N2RjNmZhYWZmNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hMDY5MTEwZTE4YjY0MGM1OGJkZjFlZjgxYjY1YjRjOSA9ICQoYDxkaXYgaWQ9Imh0bWxfYTA2OTExMGUxOGI2NDBjNThiZGYxZWY4MWI2NWI0YzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGdsdV9ib3VuZGFyaWVzX21vaXJhaV9jb21iaW5lZF8zcDFfMHA1YXJjbWluLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQyNjU1MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gR0NBTSBVU0Egc3RhdGUtZ2x1IHNwYXRpYWwgYm91bmRhcmllcyB3aXRoIG1hcHBpbmcvYWdncmVnYXRpb24gZmlsZTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDI2NTUxMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzk2MDYxMjdlYjU4YTRhMDBiOTgxMTk3ZGM2ZmFhZmY2LnNldENvbnRlbnQoaHRtbF9hMDY5MTEwZTE4YjY0MGM1OGJkZjFlZjgxYjY1YjRjOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2ZkZmQ4OGJmM2FmMjQ3ZjI5NGRmYmI0NTE2NmMzNDBlLmJpbmRQb3B1cChwb3B1cF85NjA2MTI3ZWI1OGE0YTAwYjk4MTE5N2RjNmZhYWZmNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iYmRhMzdiODFjYWQ0NmY0YTQ2ZjZlNjljYjYwMjAzOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2JiZGEzN2I4MWNhZDQ2ZjRhNDZmNmU2OWNiNjAyMDM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2JiZGEzN2I4MWNhZDQ2ZjRhNDZmNmU2OWNiNjAyMDM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNmIxZjYwNzk4ZWNiNDQ1M2I5MmI5NTAxZTE0YWY1ZWEpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iYmRhMzdiODFjYWQ0NmY0YTQ2ZjZlNjljYjYwMjAzOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYmJkYTM3YjgxY2FkNDZmNGE0NmY2ZTY5Y2I2MDIwMzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2JiZGEzN2I4MWNhZDQ2ZjRhNDZmNmU2OWNiNjAyMDM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE4MC4wLCAtNTYuMF0sIFsxODAuMCwgLTU2LjBdLCBbMTgwLjAsIDgzLjI1XSwgWy0xODAuMCwgODMuMjVdLCBbLTE4MC4wLCAtNTYuMF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85Y2E2YzU2NWJhM2Q0ZjUwOGJiMWQ2NzE3ZTU5OTg0YSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84NGUxOGU0MmZhMDE0ODViYmQ5MDA2OTE0MjE1MmY0NSA9ICQoYDxkaXYgaWQ9Imh0bWxfODRlMThlNDJmYTAxNDg1YmJkOTAwNjkxNDIxNTJmNDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGdsdV9ib3VuZGFyaWVzX21vaXJhaV9jb21iaW5lZF8zcDFfMHA1YXJjbWluLnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQyNjU1MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gR0NBTSBVU0Egc3RhdGUtZ2x1IHNwYXRpYWwgYm91bmRhcmllcyB3aXRoIG1hcHBpbmcvYWdncmVnYXRpb24gZmlsZTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDI2NTUxMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzljYTZjNTY1YmEzZDRmNTA4YmIxZDY3MTdlNTk5ODRhLnNldENvbnRlbnQoaHRtbF84NGUxOGU0MmZhMDE0ODViYmQ5MDA2OTE0MjE1MmY0NSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2JiZGEzN2I4MWNhZDQ2ZjRhNDZmNmU2OWNiNjAyMDM4LmJpbmRQb3B1cChwb3B1cF85Y2E2YzU2NWJhM2Q0ZjUwOGJiMWQ2NzE3ZTU5OTg0YSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfYzI2ZTQyMmJlMjExNDVmNGEyMWI1NjZmOWU1Yzk5OWYgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc2OGEzNmRhODE4YTQ3NTM5YTM5MjBmOGFlMDM0NTZmX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzY4YTM2ZGE4MThhNDc1MzlhMzkyMGY4YWUwMzQ1NmZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83NjhhMzZkYTgxOGE0NzUzOWEzOTIwZjhhZTAzNDU2ZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83NjhhMzZkYTgxOGE0NzUzOWEzOTIwZjhhZTAzNDU2Zl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl83NjhhMzZkYTgxOGE0NzUzOWEzOTIwZjhhZTAzNDU2Zl9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMjZlNDIyYmUyMTE0NWY0YTIxYjU2NmY5ZTVjOTk5Zik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc2OGEzNmRhODE4YTQ3NTM5YTM5MjBmOGFlMDM0NTZmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83NjhhMzZkYTgxOGE0NzUzOWEzOTIwZjhhZTAzNDU2Zi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNzY4YTM2ZGE4MThhNDc1MzlhMzkyMGY4YWUwMzQ1NmZfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1sxMC45MzE3LCA0Ny42NTMzXSwgWzExLjM2MjYsIDQ3LjY1MzNdLCBbMTEuMzYyNiwgNDguMDY4NV0sIFsxMC45MzE3LCA0OC4wNjg1XSwgWzEwLjkzMTcsIDQ3LjY1MzNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83YzY3ZmVmZDJhNTQ0YmM1ODhjZTQ0MmI0YzgxOTY0MCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lYzc4MGY1OGE4ZTI0YjBiOThlNzAyMDg0YjU0ZTVmNSA9ICQoYDxkaXYgaWQ9Imh0bWxfZWM3ODBmNThhOGUyNGIwYjk4ZTcwMjA4NGI1NGU1ZjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzQ2MjE3MDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBTdXBwbGVtZW50IG9mIG1hbnVzY3JpcHQgRldCLVAtTm92LTE4LTA1ODYuUjI8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ2MjE3MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2M2N2ZlZmQyYTU0NGJjNTg4Y2U0NDJiNGM4MTk2NDAuc2V0Q29udGVudChodG1sX2VjNzgwZjU4YThlMjRiMGI5OGU3MDIwODRiNTRlNWY1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzY4YTM2ZGE4MThhNDc1MzlhMzkyMGY4YWUwMzQ1NmYuYmluZFBvcHVwKHBvcHVwXzdjNjdmZWZkMmE1NDRiYzU4OGNlNDQyYjRjODE5NjQwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JhNTJkNDIwMjA1NTQzYTg5NDk0ZDlkZWExMDViNzAxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmE1MmQ0MjAyMDU1NDNhODk0OTRkOWRlYTEwNWI3MDEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmE1MmQ0MjAyMDU1NDNhODk0OTRkOWRlYTEwNWI3MDFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMjZlNDIyYmUyMTE0NWY0YTIxYjU2NmY5ZTVjOTk5Zik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JhNTJkNDIwMjA1NTQzYTg5NDk0ZDlkZWExMDViNzAxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iYTUyZDQyMDIwNTU0M2E4OTQ5NGQ5ZGVhMTA1YjcwMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYmE1MmQ0MjAyMDU1NDNhODk0OTRkOWRlYTEwNWI3MDFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxMC45MzE3LCA0Ny42NTMzXSwgWzExLjM2MjYsIDQ3LjY1MzNdLCBbMTEuMzYyNiwgNDguMDY4NV0sIFsxMC45MzE3LCA0OC4wNjg1XSwgWzEwLjkzMTcsIDQ3LjY1MzNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNDNjMDA2MDE0NTI1NGQwZWIxYjlmNDAxNDM1ZDY3ZGIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMDE2ODdiZDUwMTA0NGQ3Yjk1ZDhjZjI4MjFlZTlhZTcgPSAkKGA8ZGl2IGlkPSJodG1sXzAxNjg3YmQ1MDEwNDRkN2I5NWQ4Y2YyODIxZWU5YWU3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBGV0ItUC1Ob3YtMTgtMDU4Ni5SMl9tZXRhZGF0YS5jc3Y8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGNzdjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVDU1Y8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNDYyMTcwPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFN1cHBsZW1lbnQgb2YgbWFudXNjcmlwdCBGV0ItUC1Ob3YtMTgtMDU4Ni5SMjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzQ2MjE3MTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQzYzAwNjAxNDUyNTRkMGViMWI5ZjQwMTQzNWQ2N2RiLnNldENvbnRlbnQoaHRtbF8wMTY4N2JkNTAxMDQ0ZDdiOTVkOGNmMjgyMWVlOWFlNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2JhNTJkNDIwMjA1NTQzYTg5NDk0ZDlkZWExMDViNzAxLmJpbmRQb3B1cChwb3B1cF80M2MwMDYwMTQ1MjU0ZDBlYjFiOWY0MDE0MzVkNjdkYikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfYWYzNmFhNTVjNGZmNDYxYmIxYmM2OTBkOWI3OTYxNDggPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYxNDMzZjk4YTA4YTQzYzk4YWUxNGYzZmIyZDM1NDBmX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjE0MzNmOThhMDhhNDNjOThhZTE0ZjNmYjJkMzU0MGZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82MTQzM2Y5OGEwOGE0M2M5OGFlMTRmM2ZiMmQzNTQwZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82MTQzM2Y5OGEwOGE0M2M5OGFlMTRmM2ZiMmQzNTQwZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl82MTQzM2Y5OGEwOGE0M2M5OGFlMTRmM2ZiMmQzNTQwZl9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9hZjM2YWE1NWM0ZmY0NjFiYjFiYzY5MGQ5Yjc5NjE0OCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYxNDMzZjk4YTA4YTQzYzk4YWUxNGYzZmIyZDM1NDBmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82MTQzM2Y5OGEwOGE0M2M5OGFlMTRmM2ZiMmQzNTQwZi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjE0MzNmOThhMDhhNDNjOThhZTE0ZjNmYjJkMzU0MGZfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1s1MS40MDc4NDQ2NTI0MzA3LCAtMC4zMjk0ODgyMjAxMTc2ODhdLCBbNTEuNjA0NTQ1OTAxMjA1MiwgLTAuMzI5NDg4MjIwMTE3Njg4XSwgWzUxLjYwNDU0NTkwMTIwNTIsIDAuMTEwNzIzMDY4NzQ2MDYyXSwgWzUxLjQwNzg0NDY1MjQzMDcsIDAuMTEwNzIzMDY4NzQ2MDYyXSwgWzUxLjQwNzg0NDY1MjQzMDcsIC0wLjMyOTQ4ODIyMDExNzY4OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2U0ZjE2ZjAwMjUxMTQxMmViZTJkOWM3OGEzZjM5Mjk0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FlMGMyNDJmNDYyNDQ2Yjc5ZjQwYTJkMzY3NzRmZDIwID0gJChgPGRpdiBpZD0iaHRtbF9hZTBjMjQyZjQ2MjQ0NmI3OWY0MGEyZDM2Nzc0ZmQyMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNTgxNzM5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEhHSVMgZGF0YSBvZiBHcmVhdGVyIExvbmRvbidzIEluZHVzdHJ5IDE4OTMtOTU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzU4MTc0MDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZTRmMTZmMDAyNTExNDEyZWJlMmQ5Yzc4YTNmMzkyOTQuc2V0Q29udGVudChodG1sX2FlMGMyNDJmNDYyNDQ2Yjc5ZjQwYTJkMzY3NzRmZDIwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjE0MzNmOThhMDhhNDNjOThhZTE0ZjNmYjJkMzU0MGYuYmluZFBvcHVwKHBvcHVwX2U0ZjE2ZjAwMjUxMTQxMmViZTJkOWM3OGEzZjM5Mjk0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzE2ODExOTYxNjQ1MzRlZjg4YzVkMTBkOWQxMzA4NTgxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMTY4MTE5NjE2NDUzNGVmODhjNWQxMGQ5ZDEzMDg1ODEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMTY4MTE5NjE2NDUzNGVmODhjNWQxMGQ5ZDEzMDg1ODFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9hZjM2YWE1NWM0ZmY0NjFiYjFiYzY5MGQ5Yjc5NjE0OCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzE2ODExOTYxNjQ1MzRlZjg4YzVkMTBkOWQxMzA4NTgxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xNjgxMTk2MTY0NTM0ZWY4OGM1ZDEwZDlkMTMwODU4MS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMTY4MTE5NjE2NDUzNGVmODhjNWQxMGQ5ZDEzMDg1ODFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s1MS40MDc4NDQ2NTI0MzA3LCAtMC4zMjk0ODgyMjAxMTc2ODhdLCBbNTEuNjA0NTQ1OTAxMjA1MiwgLTAuMzI5NDg4MjIwMTE3Njg4XSwgWzUxLjYwNDU0NTkwMTIwNTIsIDAuMTEwNzIzMDY4NzQ2MDYyXSwgWzUxLjQwNzg0NDY1MjQzMDcsIDAuMTEwNzIzMDY4NzQ2MDYyXSwgWzUxLjQwNzg0NDY1MjQzMDcsIC0wLjMyOTQ4ODIyMDExNzY4OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85YmZiZGUzMzBkMzg0Mzg1OTc0MmNkMjZlYzU2NjNkMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84OWU1NTFkOTE0NDI0Mjc0YjdkMGZlOTEwMTVmMmIxOSA9ICQoYDxkaXYgaWQ9Imh0bWxfODllNTUxZDkxNDQyNDI3NGI3ZDBmZTkxMDE1ZjJiMTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEluZHVzdHJ5LnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM1ODE3Mzk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gSEdJUyBkYXRhIG9mIEdyZWF0ZXIgTG9uZG9uJ3MgSW5kdXN0cnkgMTg5My05NTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzU4MTc0MDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzliZmJkZTMzMGQzODQzODU5NzQyY2QyNmVjNTY2M2QxLnNldENvbnRlbnQoaHRtbF84OWU1NTFkOTE0NDI0Mjc0YjdkMGZlOTEwMTVmMmIxOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzE2ODExOTYxNjQ1MzRlZjg4YzVkMTBkOWQxMzA4NTgxLmJpbmRQb3B1cChwb3B1cF85YmZiZGUzMzBkMzg0Mzg1OTc0MmNkMjZlYzU2NjNkMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wZDc1OWRiNmQ4NWY0ZjAzOGU0YjU4ZjZhY2I1YWJjN19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzBkNzU5ZGI2ZDg1ZjRmMDM4ZTRiNThmNmFjYjVhYmM3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzBkNzU5ZGI2ZDg1ZjRmMDM4ZTRiNThmNmFjYjVhYmM3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYWYzNmFhNTVjNGZmNDYxYmIxYmM2OTBkOWI3OTYxNDgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wZDc1OWRiNmQ4NWY0ZjAzOGU0YjU4ZjZhY2I1YWJjN19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMGQ3NTlkYjZkODVmNGYwMzhlNGI1OGY2YWNiNWFiYzcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzBkNzU5ZGI2ZDg1ZjRmMDM4ZTRiNThmNmFjYjVhYmM3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNTEuNDA3ODQ0NjUyNDMwNywgLTAuMzI5NDg4MjIwMTE3Njg4XSwgWzUxLjYwNDU0NTkwMTIwNTIsIC0wLjMyOTQ4ODIyMDExNzY4OF0sIFs1MS42MDQ1NDU5MDEyMDUyLCAwLjExMDcyMzA2ODc0NjA2Ml0sIFs1MS40MDc4NDQ2NTI0MzA3LCAwLjExMDcyMzA2ODc0NjA2Ml0sIFs1MS40MDc4NDQ2NTI0MzA3LCAtMC4zMjk0ODgyMjAxMTc2ODhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZGMxZWM4ZTZiMTVjNDVkNTk4ZDc3ODFkZjBhZTUyMzIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZTQ2NGEyMmY3ZTRiNGIzYTk0MTM1OWYzMWExYzQ5ZTEgPSAkKGA8ZGl2IGlkPSJodG1sX2U0NjRhMjJmN2U0YjRiM2E5NDEzNTlmMzFhMWM0OWUxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBJbmR1c3RyeS5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNTgxNzM5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEhHSVMgZGF0YSBvZiBHcmVhdGVyIExvbmRvbidzIEluZHVzdHJ5IDE4OTMtOTU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1ODE3NDA8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kYzFlYzhlNmIxNWM0NWQ1OThkNzc4MWRmMGFlNTIzMi5zZXRDb250ZW50KGh0bWxfZTQ2NGEyMmY3ZTRiNGIzYTk0MTM1OWYzMWExYzQ5ZTEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wZDc1OWRiNmQ4NWY0ZjAzOGU0YjU4ZjZhY2I1YWJjNy5iaW5kUG9wdXAocG9wdXBfZGMxZWM4ZTZiMTVjNDVkNTk4ZDc3ODFkZjBhZTUyMzIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzhjODAyMDVlZTNmNDJhZGEyMmM5MmI5Y2U5ZjBiNzJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zOGM4MDIwNWVlM2Y0MmFkYTIyYzkyYjljZTlmMGI3MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zOGM4MDIwNWVlM2Y0MmFkYTIyYzkyYjljZTlmMGI3Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2FmMzZhYTU1YzRmZjQ2MWJiMWJjNjkwZDliNzk2MTQ4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzhjODAyMDVlZTNmNDJhZGEyMmM5MmI5Y2U5ZjBiNzJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzM4YzgwMjA1ZWUzZjQyYWRhMjJjOTJiOWNlOWYwYjcyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zOGM4MDIwNWVlM2Y0MmFkYTIyYzkyYjljZTlmMGI3Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzUxLjQwNzg0NDY1MjQzMDcsIC0wLjMyOTQ4ODIyMDExNzY4OF0sIFs1MS42MDQ1NDU5MDEyMDUyLCAtMC4zMjk0ODgyMjAxMTc2ODhdLCBbNTEuNjA0NTQ1OTAxMjA1MiwgMC4xMTA3MjMwNjg3NDYwNjJdLCBbNTEuNDA3ODQ0NjUyNDMwNywgMC4xMTA3MjMwNjg3NDYwNjJdLCBbNTEuNDA3ODQ0NjUyNDMwNywgLTAuMzI5NDg4MjIwMTE3Njg4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzgxNGE3ODc5M2NhYzRiMjdiZmFiYTRiOGI3OWI2OWEyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzIxZDliMThmMDQxMTRhNDJiZDJlOWUxNjAyMWI1ZTEyID0gJChgPGRpdiBpZD0iaHRtbF8yMWQ5YjE4ZjA0MTE0YTQyYmQyZTllMTYwMjFiNWUxMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gSW5kdXN0cnkuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzU4MTczOTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBIR0lTIGRhdGEgb2YgR3JlYXRlciBMb25kb24ncyBJbmR1c3RyeSAxODkzLTk1PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTgxNzQwPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODE0YTc4NzkzY2FjNGIyN2JmYWJhNGI4Yjc5YjY5YTIuc2V0Q29udGVudChodG1sXzIxZDliMThmMDQxMTRhNDJiZDJlOWUxNjAyMWI1ZTEyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzhjODAyMDVlZTNmNDJhZGEyMmM5MmI5Y2U5ZjBiNzIuYmluZFBvcHVwKHBvcHVwXzgxNGE3ODc5M2NhYzRiMjdiZmFiYTRiOGI3OWI2OWEyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODE4ZGZmODZlOGM0NGUwOTliMDVmZTEzZTU4OGZkZWVfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84MThkZmY4NmU4YzQ0ZTA5OWIwNWZlMTNlNTg4ZmRlZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzgxOGRmZjg2ZThjNDRlMDk5YjA1ZmUxM2U1ODhmZGVlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzgxOGRmZjg2ZThjNDRlMDk5YjA1ZmUxM2U1ODhmZGVlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzgxOGRmZjg2ZThjNDRlMDk5YjA1ZmUxM2U1ODhmZGVlX3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODE4ZGZmODZlOGM0NGUwOTliMDVmZTEzZTU4OGZkZWVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzgxOGRmZjg2ZThjNDRlMDk5YjA1ZmUxM2U1ODhmZGVlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84MThkZmY4NmU4YzQ0ZTA5OWIwNWZlMTNlNTg4ZmRlZV9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWy05LjU0OTk5MTExMDk5OTk4LCAtOS41NDk5OTExMTFdLCBbNDQuMDI1MDA1NDI1NzY3OSwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAyNTAwNTQyNTc2NzksIDQ0LjAwODMzODc1ODIzMTZdLCBbLTkuNTQ5OTkxMTEwOTk5OTgsIDQ0LjAwODMzODc1ODIzMTZdLCBbLTkuNTQ5OTkxMTEwOTk5OTgsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzRkZWZhNjVjZGVkNzQ0YTFiMTMyZjZhNzU2NTVhYTFjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzIyNGM1ZjU3NTA0NjRhMDJiYzNjYzI1YjYyOTNmMTM5ID0gJChgPGRpdiBpZD0iaHRtbF8yMjRjNWY1NzUwNDY0YTAyYmMzY2MyNWI2MjkzZjEzOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80ZGVmYTY1Y2RlZDc0NGExYjEzMmY2YTc1NjU1YWExYy5zZXRDb250ZW50KGh0bWxfMjI0YzVmNTc1MDQ2NGEwMmJjM2NjMjViNjI5M2YxMzkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84MThkZmY4NmU4YzQ0ZTA5OWIwNWZlMTNlNTg4ZmRlZS5iaW5kUG9wdXAocG9wdXBfNGRlZmE2NWNkZWQ3NDRhMWIxMzJmNmE3NTY1NWFhMWMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWJhNDFiM2IyYjFlNDJiMDg4NjQ0MDkxNGE1ZTc3ODZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85YmE0MWIzYjJiMWU0MmIwODg2NDQwOTE0YTVlNzc4NiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85YmE0MWIzYjJiMWU0MmIwODg2NDQwOTE0YTVlNzc4Nl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWJhNDFiM2IyYjFlNDJiMDg4NjQ0MDkxNGE1ZTc3ODZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzliYTQxYjNiMmIxZTQyYjA4ODY0NDA5MTRhNWU3Nzg2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85YmE0MWIzYjJiMWU0MmIwODg2NDQwOTE0YTVlNzc4Nl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jOGJmMmJmZjk4NmM0YjVjOTkzYTk3MTYxMTI4MzQ2OCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xMjQ4ZGE1MDA0NWQ0ZWM3OGJmYWYyZmE5MmMwOTdlMyA9ICQoYDxkaXYgaWQ9Imh0bWxfMTI0OGRhNTAwNDVkNGVjNzhiZmFmMmZhOTJjMDk3ZTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHF1ZXJjdXNTcFJpY2huZXNzX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYzhiZjJiZmY5ODZjNGI1Yzk5M2E5NzE2MTEyODM0Njguc2V0Q29udGVudChodG1sXzEyNDhkYTUwMDQ1ZDRlYzc4YmZhZjJmYTkyYzA5N2UzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOWJhNDFiM2IyYjFlNDJiMDg4NjQ0MDkxNGE1ZTc3ODYuYmluZFBvcHVwKHBvcHVwX2M4YmYyYmZmOTg2YzRiNWM5OTNhOTcxNjExMjgzNDY4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NmZjcxNTdmMWZhZTQzYmFhOThkNzkwOWY5YzRhOTExX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fY2ZmNzE1N2YxZmFlNDNiYWE5OGQ3OTA5ZjljNGE5MTEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fY2ZmNzE1N2YxZmFlNDNiYWE5OGQ3OTA5ZjljNGE5MTFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NmZjcxNTdmMWZhZTQzYmFhOThkNzkwOWY5YzRhOTExX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jZmY3MTU3ZjFmYWU0M2JhYTk4ZDc5MDlmOWM0YTkxMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fY2ZmNzE1N2YxZmFlNDNiYWE5OGQ3OTA5ZjljNGE5MTFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzM1NTM2LCAtOS41NDk5OTExMTFdLCBbNDQuMDI1MDA1NDI1NzY3OSwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAyNTAwNTQyNTc2NzksIDMuNTI1MDA5NTcwNzY3ODVdLCBbMzUuOTkxNjcxNjczNTUzNiwgMy41MjUwMDk1NzA3Njc4NV0sIFszNS45OTE2NzE2NzM1NTM2LCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZDUwZTNkMjlkZGRlNDkwNzg1NDRmNTE3MDMwMzljNGQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTMyYzAzM2RiYWJkNGI1YmI1ZWNkYWMzZWY0ZDg3ODUgPSAkKGA8ZGl2IGlkPSJodG1sXzkzMmMwMzNkYmFiZDRiNWJiNWVjZGFjM2VmNGQ4Nzg1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBbGxRdWVyY3VzU3BlY2llc192My50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Q1MGUzZDI5ZGRkZTQ5MDc4NTQ0ZjUxNzAzMDM5YzRkLnNldENvbnRlbnQoaHRtbF85MzJjMDMzZGJhYmQ0YjViYjVlY2RhYzNlZjRkODc4NSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2NmZjcxNTdmMWZhZTQzYmFhOThkNzkwOWY5YzRhOTExLmJpbmRQb3B1cChwb3B1cF9kNTBlM2QyOWRkZGU0OTA3ODU0NGY1MTcwMzAzOWM0ZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kODIxN2JjZmM1YzE0MDUxYmM4YjA5ODIxOGViNmMzZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Q4MjE3YmNmYzVjMTQwNTFiYzhiMDk4MjE4ZWI2YzNlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Q4MjE3YmNmYzVjMTQwNTFiYzhiMDk4MjE4ZWI2YzNlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kODIxN2JjZmM1YzE0MDUxYmM4YjA5ODIxOGViNmMzZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDgyMTdiY2ZjNWMxNDA1MWJjOGIwOTgyMThlYjZjM2UuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Q4MjE3YmNmYzVjMTQwNTFiYzhiMDk4MjE4ZWI2YzNlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2U5NGIzYzRjZTAxZDQyNTk5ZTkyNjg0ODAzMTYzMmZhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzg1Mzc0ZDg4MTk5ODQ2YWNhMWZhMTQ3YWU3MWEyZjE2ID0gJChgPGRpdiBpZD0iaHRtbF84NTM3NGQ4ODE5OTg0NmFjYTFmYTE0N2FlNzFhMmYxNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUXBldF9DTElNX0VGQV9CSU5fdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lOTRiM2M0Y2UwMWQ0MjU5OWU5MjY4NDgwMzE2MzJmYS5zZXRDb250ZW50KGh0bWxfODUzNzRkODgxOTk4NDZhY2ExZmExNDdhZTcxYTJmMTYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9kODIxN2JjZmM1YzE0MDUxYmM4YjA5ODIxOGViNmMzZS5iaW5kUG9wdXAocG9wdXBfZTk0YjNjNGNlMDFkNDI1OTllOTI2ODQ4MDMxNjMyZmEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGE4M2EzMjlmODk3NDQ1NTg4ZjgwOGM5ZjkwY2E5ZTVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wYTgzYTMyOWY4OTc0NDU1ODhmODA4YzlmOTBjYTllNSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wYTgzYTMyOWY4OTc0NDU1ODhmODA4YzlmOTBjYTllNV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGE4M2EzMjlmODk3NDQ1NTg4ZjgwOGM5ZjkwY2E5ZTVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzBhODNhMzI5Zjg5NzQ0NTU4OGY4MDhjOWY5MGNhOWU1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wYTgzYTMyOWY4OTc0NDU1ODhmODA4YzlmOTBjYTllNV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84M2NhOTk1MTk1OWU0ZjBlOWJkN2I0YzFhOTBjNTgxMyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yMjRlODBjZDhlYmU0NmQzOGJmOTZkNThiMDZkOGYxMiA9ICQoYDxkaXYgaWQ9Imh0bWxfMjI0ZTgwY2Q4ZWJlNDZkMzhiZjk2ZDU4YjA2ZDhmMTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFwdWJfQ0xJTV9FRkFfQklOX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODNjYTk5NTE5NTllNGYwZTliZDdiNGMxYTkwYzU4MTMuc2V0Q29udGVudChodG1sXzIyNGU4MGNkOGViZTQ2ZDM4YmY5NmQ1OGIwNmQ4ZjEyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMGE4M2EzMjlmODk3NDQ1NTg4ZjgwOGM5ZjkwY2E5ZTUuYmluZFBvcHVwKHBvcHVwXzgzY2E5OTUxOTU5ZTRmMGU5YmQ3YjRjMWE5MGM1ODEzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YyNjIwMWQxZjViMDRmNjQ4MWYwNzNiMGI4YTE2M2MzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZjI2MjAxZDFmNWIwNGY2NDgxZjA3M2IwYjhhMTYzYzMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZjI2MjAxZDFmNWIwNGY2NDgxZjA3M2IwYjhhMTYzYzNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YyNjIwMWQxZjViMDRmNjQ4MWYwNzNiMGI4YTE2M2MzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mMjYyMDFkMWY1YjA0ZjY0ODFmMDczYjBiOGExNjNjMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZjI2MjAxZDFmNWIwNGY2NDgxZjA3M2IwYjhhMTYzYzNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYTdjZmFiODcwN2M2NGJlYWFhNzk4YjAyNmRmZGE5MjcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMGEwMjRlOTk4NDY3NDhiN2E5ZjA0ZDg3MmIxYWZiM2QgPSAkKGA8ZGl2IGlkPSJodG1sXzBhMDI0ZTk5ODQ2NzQ4YjdhOWYwNGQ4NzJiMWFmYjNkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBRY2Vycl9DTElNX0VGQV9CSU5fdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hN2NmYWI4NzA3YzY0YmVhYWE3OThiMDI2ZGZkYTkyNy5zZXRDb250ZW50KGh0bWxfMGEwMjRlOTk4NDY3NDhiN2E5ZjA0ZDg3MmIxYWZiM2QpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mMjYyMDFkMWY1YjA0ZjY0ODFmMDczYjBiOGExNjNjMy5iaW5kUG9wdXAocG9wdXBfYTdjZmFiODcwN2M2NGJlYWFhNzk4YjAyNmRmZGE5MjcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjQ0MmNlZGZmNzNhNDAyMWEwNjg0ZDg3OWNlNzVkYzRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82NDQyY2VkZmY3M2E0MDIxYTA2ODRkODc5Y2U3NWRjNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82NDQyY2VkZmY3M2E0MDIxYTA2ODRkODc5Y2U3NWRjNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjQ0MmNlZGZmNzNhNDAyMWEwNjg0ZDg3OWNlNzVkYzRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzY0NDJjZWRmZjczYTQwMjFhMDY4NGQ4NzljZTc1ZGM0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82NDQyY2VkZmY3M2E0MDIxYTA2ODRkODc5Y2U3NWRjNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hOGIxOTQ0NjI0ZDM0N2RkODkyNWQ5YWNiYmRkNWE4MCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xNzU4OGRlNDFlMzU0MDU5YWFiMDhhMDQzNDgxZWU3NyA9ICQoYDxkaXYgaWQ9Imh0bWxfMTc1ODhkZTQxZTM1NDA1OWFhYjA4YTA0MzQ4MWVlNzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFsdXNfQ0xJTV9FRkFfQklOX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYThiMTk0NDYyNGQzNDdkZDg5MjVkOWFjYmJkZDVhODAuc2V0Q29udGVudChodG1sXzE3NTg4ZGU0MWUzNTQwNTlhYWIwOGEwNDM0ODFlZTc3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjQ0MmNlZGZmNzNhNDAyMWEwNjg0ZDg3OWNlNzVkYzQuYmluZFBvcHVwKHBvcHVwX2E4YjE5NDQ2MjRkMzQ3ZGQ4OTI1ZDlhY2JiZGQ1YTgwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzgxZGI3NjhmMDE0MzQ2OTNiYjQ0ODA4ZDZhOTM5ZmY2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fODFkYjc2OGYwMTQzNDY5M2JiNDQ4MDhkNmE5MzlmZjYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fODFkYjc2OGYwMTQzNDY5M2JiNDQ4MDhkNmE5MzlmZjZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzgxZGI3NjhmMDE0MzQ2OTNiYjQ0ODA4ZDZhOTM5ZmY2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84MWRiNzY4ZjAxNDM0NjkzYmI0NDgwOGQ2YTkzOWZmNi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fODFkYjc2OGYwMTQzNDY5M2JiNDQ4MDhkNmE5MzlmZjZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYWY1NjVlNzFlMjE4NDJlNWJiNzZkOTVlMjc3NGViNDAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTZhNGZmNDVkZTNjNDUzNTkyYTAyMDYxZWI3Nzg5ZmYgPSAkKGA8ZGl2IGlkPSJodG1sXzk2YTRmZjQ1ZGUzYzQ1MzU5MmEwMjA2MWViNzc4OWZmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBRcm9iX0NMSU1fRUZBX0JJTl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2FmNTY1ZTcxZTIxODQyZTViYjc2ZDk1ZTI3NzRlYjQwLnNldENvbnRlbnQoaHRtbF85NmE0ZmY0NWRlM2M0NTM1OTJhMDIwNjFlYjc3ODlmZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzgxZGI3NjhmMDE0MzQ2OTNiYjQ0ODA4ZDZhOTM5ZmY2LmJpbmRQb3B1cChwb3B1cF9hZjU2NWU3MWUyMTg0MmU1YmI3NmQ5NWUyNzc0ZWI0MCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84MzM3MWE5MDdlNzk0ZjAzOTgyMjIxMTkwOTlmNDBhOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzgzMzcxYTkwN2U3OTRmMDM5ODIyMjExOTA5OWY0MGE4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzgzMzcxYTkwN2U3OTRmMDM5ODIyMjExOTA5OWY0MGE4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84MzM3MWE5MDdlNzk0ZjAzOTgyMjIxMTkwOTlmNDBhOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fODMzNzFhOTA3ZTc5NGYwMzk4MjIyMTE5MDk5ZjQwYTguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzgzMzcxYTkwN2U3OTRmMDM5ODIyMjExOTA5OWY0MGE4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzA4OTgxZWFlNzI2MzRiYmM4OGI5Yzg1YjdhNGE1OWQ1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzI2NGI2NmNlNDcyNjRmNjBhZDVmN2I3NGQ4OTY3MzJmID0gJChgPGRpdiBpZD0iaHRtbF8yNjRiNjZjZTQ3MjY0ZjYwYWQ1ZjdiNzRkODk2NzMyZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUWJyb3RfQ0xJTV9FRkFfQklOX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMDg5ODFlYWU3MjYzNGJiYzg4YjljODViN2E0YTU5ZDUuc2V0Q29udGVudChodG1sXzI2NGI2NmNlNDcyNjRmNjBhZDVmN2I3NGQ4OTY3MzJmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fODMzNzFhOTA3ZTc5NGYwMzk4MjIyMTE5MDk5ZjQwYTguYmluZFBvcHVwKHBvcHVwXzA4OTgxZWFlNzI2MzRiYmM4OGI5Yzg1YjdhNGE1OWQ1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdhYjM1ZDNkMjhkYTQyZTA4NDliYWYyMWYzNGQ0YmM3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fN2FiMzVkM2QyOGRhNDJlMDg0OWJhZjIxZjM0ZDRiYzcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fN2FiMzVkM2QyOGRhNDJlMDg0OWJhZjIxZjM0ZDRiYzdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdhYjM1ZDNkMjhkYTQyZTA4NDliYWYyMWYzNGQ0YmM3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83YWIzNWQzZDI4ZGE0MmUwODQ5YmFmMjFmMzRkNGJjNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fN2FiMzVkM2QyOGRhNDJlMDg0OWJhZjIxZjM0ZDRiYzdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjJjODVhZTE2Mzg4NDEyYWEwZDA3ZWU3OTNkNjM0NTIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODRmYzZmMTQ1N2Y1NDA5Yzk1NTUyZTE0NWUwOThjOGQgPSAkKGA8ZGl2IGlkPSJodG1sXzg0ZmM2ZjE0NTdmNTQwOWM5NTU1MmUxNDVlMDk4YzhkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBRb3JvX0NMSU1fRUZBX0JJTl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzYyYzg1YWUxNjM4ODQxMmFhMGQwN2VlNzkzZDYzNDUyLnNldENvbnRlbnQoaHRtbF84NGZjNmYxNDU3ZjU0MDljOTU1NTJlMTQ1ZTA5OGM4ZCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzdhYjM1ZDNkMjhkYTQyZTA4NDliYWYyMWYzNGQ0YmM3LmJpbmRQb3B1cChwb3B1cF82MmM4NWFlMTYzODg0MTJhYTBkMDdlZTc5M2Q2MzQ1MikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wMjFjYzFhYTk2Yjc0MTQ3YWM5NGZhYzljNWViZjUxYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzAyMWNjMWFhOTZiNzQxNDdhYzk0ZmFjOWM1ZWJmNTFhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzAyMWNjMWFhOTZiNzQxNDdhYzk0ZmFjOWM1ZWJmNTFhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wMjFjYzFhYTk2Yjc0MTQ3YWM5NGZhYzljNWViZjUxYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMDIxY2MxYWE5NmI3NDE0N2FjOTRmYWM5YzVlYmY1MWEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzAyMWNjMWFhOTZiNzQxNDdhYzk0ZmFjOWM1ZWJmNTFhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzIwZmRhOTRiM2JlMzQxNGFiNDY2MTg4ZGFjZTkxMzBiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzBmYmUwNWU3NzI3ZTQ4ZDRiZWUzNzNmY2UwMzg5NWU0ID0gJChgPGRpdiBpZD0iaHRtbF8wZmJlMDVlNzcyN2U0OGQ0YmVlMzczZmNlMDM4OTVlNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUWNhbl9DTElNX0VGQV9CSU5fdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yMGZkYTk0YjNiZTM0MTRhYjQ2NjE4OGRhY2U5MTMwYi5zZXRDb250ZW50KGh0bWxfMGZiZTA1ZTc3MjdlNDhkNGJlZTM3M2ZjZTAzODk1ZTQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wMjFjYzFhYTk2Yjc0MTQ3YWM5NGZhYzljNWViZjUxYS5iaW5kUG9wdXAocG9wdXBfMjBmZGE5NGIzYmUzNDE0YWI0NjYxODhkYWNlOTEzMGIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjNkNDE0NGFjZTRmNDA3YWFmMjRhMDM2OWY0ZDhiMTRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yM2Q0MTQ0YWNlNGY0MDdhYWYyNGEwMzY5ZjRkOGIxNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yM2Q0MTQ0YWNlNGY0MDdhYWYyNGEwMzY5ZjRkOGIxNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjNkNDE0NGFjZTRmNDA3YWFmMjRhMDM2OWY0ZDhiMTRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzIzZDQxNDRhY2U0ZjQwN2FhZjI0YTAzNjlmNGQ4YjE0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yM2Q0MTQ0YWNlNGY0MDdhYWYyNGEwMzY5ZjRkOGIxNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xYTAzNGMwN2MxM2U0MGJlYjRkMWQ2NDAyMDg0MTEwYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iNTE4NmIzYTY0Zjg0YTM4ODY1MmRlYjBkZjFkYmI2NyA9ICQoYDxkaXYgaWQ9Imh0bWxfYjUxODZiM2E2NGY4NGEzODg2NTJkZWIwZGYxZGJiNjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFtYXJfQ0xJTV9FRkFfQklOX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMWEwMzRjMDdjMTNlNDBiZWI0ZDFkNjQwMjA4NDExMGMuc2V0Q29udGVudChodG1sX2I1MTg2YjNhNjRmODRhMzg4NjUyZGViMGRmMWRiYjY3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMjNkNDE0NGFjZTRmNDA3YWFmMjRhMDM2OWY0ZDhiMTQuYmluZFBvcHVwKHBvcHVwXzFhMDM0YzA3YzEzZTQwYmViNGQxZDY0MDIwODQxMTBjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JhMTYzNWQ3MTBkZTQ0MGJhNmE1NWYwYjIxNmUyN2ZjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmExNjM1ZDcxMGRlNDQwYmE2YTU1ZjBiMjE2ZTI3ZmMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmExNjM1ZDcxMGRlNDQwYmE2YTU1ZjBiMjE2ZTI3ZmNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JhMTYzNWQ3MTBkZTQ0MGJhNmE1NWYwYjIxNmUyN2ZjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iYTE2MzVkNzEwZGU0NDBiYTZhNTVmMGIyMTZlMjdmYy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYmExNjM1ZDcxMGRlNDQwYmE2YTU1ZjBiMjE2ZTI3ZmNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfODM0M2JmOWJiYTFkNGNiN2JiNDI0OGQzNGQ4M2NlODkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMGE4ZTE5NDkzYzJlNDJiODk2ZDlkZmQ5MWU2ZjQ3NTUgPSAkKGA8ZGl2IGlkPSJodG1sXzBhOGUxOTQ5M2MyZTQyYjg5NmQ5ZGZkOTFlNmY0NzU1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBRZXN0X0NMSU1fRUZBX0JJTl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzgzNDNiZjliYmExZDRjYjdiYjQyNDhkMzRkODNjZTg5LnNldENvbnRlbnQoaHRtbF8wYThlMTk0OTNjMmU0MmI4OTZkOWRmZDkxZTZmNDc1NSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2JhMTYzNWQ3MTBkZTQ0MGJhNmE1NWYwYjIxNmUyN2ZjLmJpbmRQb3B1cChwb3B1cF84MzQzYmY5YmJhMWQ0Y2I3YmI0MjQ4ZDM0ZDgzY2U4OSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wNDA1ZGJmOTUzOWE0ZDBhODMxYTg0YTcyZTkyMDI5N19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzA0MDVkYmY5NTM5YTRkMGE4MzFhODRhNzJlOTIwMjk3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzA0MDVkYmY5NTM5YTRkMGE4MzFhODRhNzJlOTIwMjk3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wNDA1ZGJmOTUzOWE0ZDBhODMxYTg0YTcyZTkyMDI5N19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMDQwNWRiZjk1MzlhNGQwYTgzMWE4NGE3MmU5MjAyOTcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzA0MDVkYmY5NTM5YTRkMGE4MzFhODRhNzJlOTIwMjk3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2U1ZGEyZThiYmRjYjQwODZhZDAyZDIxZWQxMWU4MjE3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzkyYzBlMDBkMTNmNzRlZDU4YmE3YzExYTIyN2NiZjRlID0gJChgPGRpdiBpZD0iaHRtbF85MmMwZTAwZDEzZjc0ZWQ1OGJhN2MxMWEyMjdjYmY0ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUXB5cl9DTElNX0VGQV9CSU5fdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lNWRhMmU4YmJkY2I0MDg2YWQwMmQyMWVkMTFlODIxNy5zZXRDb250ZW50KGh0bWxfOTJjMGUwMGQxM2Y3NGVkNThiYTdjMTFhMjI3Y2JmNGUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wNDA1ZGJmOTUzOWE0ZDBhODMxYTg0YTcyZTkyMDI5Ny5iaW5kUG9wdXAocG9wdXBfZTVkYTJlOGJiZGNiNDA4NmFkMDJkMjFlZDExZTgyMTcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGU3NmQxYmNkYTkzNDVkMjg2YjQ4MjM1ZGU4YTUxYTFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wZTc2ZDFiY2RhOTM0NWQyODZiNDgyMzVkZThhNTFhMSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wZTc2ZDFiY2RhOTM0NWQyODZiNDgyMzVkZThhNTFhMV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGU3NmQxYmNkYTkzNDVkMjg2YjQ4MjM1ZGU4YTUxYTFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzBlNzZkMWJjZGE5MzQ1ZDI4NmI0ODIzNWRlOGE1MWExLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wZTc2ZDFiY2RhOTM0NWQyODZiNDgyMzVkZThhNTFhMV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80ODU4MTI3N2MwZmM0ODYzYWFmOTllZjY0ZWE2ZmZmNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xOTEwNDYzNjY2ZDg0ZDk5YjE4MDFlOTAyZjg4MDYzYiA9ICQoYDxkaXYgaWQ9Imh0bWxfMTkxMDQ2MzY2NmQ4NGQ5OWIxODAxZTkwMmY4ODA2M2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFmYWdfQ0xJTV9FRkFfQklOX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDg1ODEyNzdjMGZjNDg2M2FhZjk5ZWY2NGVhNmZmZjYuc2V0Q29udGVudChodG1sXzE5MTA0NjM2NjZkODRkOTliMTgwMWU5MDJmODgwNjNiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMGU3NmQxYmNkYTkzNDVkMjg2YjQ4MjM1ZGU4YTUxYTEuYmluZFBvcHVwKHBvcHVwXzQ4NTgxMjc3YzBmYzQ4NjNhYWY5OWVmNjRlYTZmZmY2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRjOTczMDc4YmNlMDRlNDBhYTY3YWViOTIzNmJiOGNhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNGM5NzMwNzhiY2UwNGU0MGFhNjdhZWI5MjM2YmI4Y2EgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNGM5NzMwNzhiY2UwNGU0MGFhNjdhZWI5MjM2YmI4Y2Ffb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRjOTczMDc4YmNlMDRlNDBhYTY3YWViOTIzNmJiOGNhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80Yzk3MzA3OGJjZTA0ZTQwYWE2N2FlYjkyMzZiYjhjYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNGM5NzMwNzhiY2UwNGU0MGFhNjdhZWI5MjM2YmI4Y2FfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZGViZDUyOTFhNTk2NDAwOGJkMmNkODMwZjEzYjYwMmUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNDUyN2Y5MmY2ZjZmNDkyZjkxNDU3MjRkN2VlNzAwMDMgPSAkKGA8ZGl2IGlkPSJodG1sXzQ1MjdmOTJmNmY2ZjQ5MmY5MTQ1NzI0ZDdlZTcwMDAzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBRc3ViX0NMSU1fRUZBX0JJTl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2RlYmQ1MjkxYTU5NjQwMDhiZDJjZDgzMGYxM2I2MDJlLnNldENvbnRlbnQoaHRtbF80NTI3ZjkyZjZmNmY0OTJmOTE0NTcyNGQ3ZWU3MDAwMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzRjOTczMDc4YmNlMDRlNDBhYTY3YWViOTIzNmJiOGNhLmJpbmRQb3B1cChwb3B1cF9kZWJkNTI5MWE1OTY0MDA4YmQyY2Q4MzBmMTNiNjAyZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNTlkY2ZhZDZkYTM0NzUzOWY0YTU1NzhkZDZjMDI3Y19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzI1OWRjZmFkNmRhMzQ3NTM5ZjRhNTU3OGRkNmMwMjdjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzI1OWRjZmFkNmRhMzQ3NTM5ZjRhNTU3OGRkNmMwMjdjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNTlkY2ZhZDZkYTM0NzUzOWY0YTU1NzhkZDZjMDI3Y19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMjU5ZGNmYWQ2ZGEzNDc1MzlmNGE1NTc4ZGQ2YzAyN2MuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzI1OWRjZmFkNmRhMzQ3NTM5ZjRhNTU3OGRkNmMwMjdjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzRiYWMwNzUwMjUwMTQ4MDQ5MmI3M2QxMThmODQzYjlhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZmY2IwMWI3MWY0ODQ5NDdhZTJkZTkzOTFiNTllM2E4ID0gJChgPGRpdiBpZD0iaHRtbF82ZmNiMDFiNzFmNDg0OTQ3YWUyZGU5MzkxYjU5ZTNhOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUXN1Yl9DTElNX0VGQV9IU0JfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80YmFjMDc1MDI1MDE0ODA0OTJiNzNkMTE4Zjg0M2I5YS5zZXRDb250ZW50KGh0bWxfNmZjYjAxYjcxZjQ4NDk0N2FlMmRlOTM5MWI1OWUzYTgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yNTlkY2ZhZDZkYTM0NzUzOWY0YTU1NzhkZDZjMDI3Yy5iaW5kUG9wdXAocG9wdXBfNGJhYzA3NTAyNTAxNDgwNDkyYjczZDExOGY4NDNiOWEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNGYyNjE2ODQ1Njc0NGU3YTk3ZDEzMzU5MzJlYjgyYzRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80ZjI2MTY4NDU2NzQ0ZTdhOTdkMTMzNTkzMmViODJjNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80ZjI2MTY4NDU2NzQ0ZTdhOTdkMTMzNTkzMmViODJjNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNGYyNjE2ODQ1Njc0NGU3YTk3ZDEzMzU5MzJlYjgyYzRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzRmMjYxNjg0NTY3NDRlN2E5N2QxMzM1OTMyZWI4MmM0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80ZjI2MTY4NDU2NzQ0ZTdhOTdkMTMzNTkzMmViODJjNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iYzFjNTY4NzIwZjY0YWYyOWFkNDJlNmU1ODY3MTRhYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81YzQwYWVlZTE4M2U0Y2IwODNmYmFkN2NlM2VjNGJiNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNWM0MGFlZWUxODNlNGNiMDgzZmJhZDdjZTNlYzRiYjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFsdXNfQ0xJTV9FRkFfSFNCX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYmMxYzU2ODcyMGY2NGFmMjlhZDQyZTZlNTg2NzE0YWEuc2V0Q29udGVudChodG1sXzVjNDBhZWVlMTgzZTRjYjA4M2ZiYWQ3Y2UzZWM0YmI1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGYyNjE2ODQ1Njc0NGU3YTk3ZDEzMzU5MzJlYjgyYzQuYmluZFBvcHVwKHBvcHVwX2JjMWM1Njg3MjBmNjRhZjI5YWQ0MmU2ZTU4NjcxNGFhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NiOWUwYWQ4MTg4MzRhZmY5ZTZiMzZjZmFhMThlYWQxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fY2I5ZTBhZDgxODgzNGFmZjllNmIzNmNmYWExOGVhZDEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fY2I5ZTBhZDgxODgzNGFmZjllNmIzNmNmYWExOGVhZDFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NiOWUwYWQ4MTg4MzRhZmY5ZTZiMzZjZmFhMThlYWQxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jYjllMGFkODE4ODM0YWZmOWU2YjM2Y2ZhYTE4ZWFkMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fY2I5ZTBhZDgxODgzNGFmZjllNmIzNmNmYWExOGVhZDFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjVmMzJkODFmZDVhNGRhNzkxMWFhMDllODUyNWQ2NTQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfM2E1NDVkZTUwNzgzNDFkNmE0YjU4ZTM2ZWRjNWRhMmIgPSAkKGA8ZGl2IGlkPSJodG1sXzNhNTQ1ZGU1MDc4MzQxZDZhNGI1OGUzNmVkYzVkYTJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBRcGV0X0NMSU1fRUZBX0hTQl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2I1ZjMyZDgxZmQ1YTRkYTc5MTFhYTA5ZTg1MjVkNjU0LnNldENvbnRlbnQoaHRtbF8zYTU0NWRlNTA3ODM0MWQ2YTRiNThlMzZlZGM1ZGEyYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2NiOWUwYWQ4MTg4MzRhZmY5ZTZiMzZjZmFhMThlYWQxLmJpbmRQb3B1cChwb3B1cF9iNWYzMmQ4MWZkNWE0ZGE3OTExYWEwOWU4NTI1ZDY1NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MzQxOTM1ODAxNDc0ZjRkOTFkY2JlOTQ1M2U2MDBkOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzczNDE5MzU4MDE0NzRmNGQ5MWRjYmU5NDUzZTYwMGQ5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzczNDE5MzU4MDE0NzRmNGQ5MWRjYmU5NDUzZTYwMGQ5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MzQxOTM1ODAxNDc0ZjRkOTFkY2JlOTQ1M2U2MDBkOV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzM0MTkzNTgwMTQ3NGY0ZDkxZGNiZTk0NTNlNjAwZDkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzczNDE5MzU4MDE0NzRmNGQ5MWRjYmU5NDUzZTYwMGQ5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzcyOWE5MTU1ZmU3MzRhZTZhMTE2MjYwNDY4ZjY1Mjk4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzExOWNmZTM2OGQ0ZjQ4MGM5MzhjNjAyYTgxOWU5NDQzID0gJChgPGRpdiBpZD0iaHRtbF8xMTljZmUzNjhkNGY0ODBjOTM4YzYwMmE4MTllOTQ0MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUWVzdF9DTElNX0VGQV9IU0JfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83MjlhOTE1NWZlNzM0YWU2YTExNjI2MDQ2OGY2NTI5OC5zZXRDb250ZW50KGh0bWxfMTE5Y2ZlMzY4ZDRmNDgwYzkzOGM2MDJhODE5ZTk0NDMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83MzQxOTM1ODAxNDc0ZjRkOTFkY2JlOTQ1M2U2MDBkOS5iaW5kUG9wdXAocG9wdXBfNzI5YTkxNTVmZTczNGFlNmExMTYyNjA0NjhmNjUyOTgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDNhMDRkMTQ1NDhkNGIwMjg4MDJmNTgzMDMxMjUwYjVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kM2EwNGQxNDU0OGQ0YjAyODgwMmY1ODMwMzEyNTBiNSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kM2EwNGQxNDU0OGQ0YjAyODgwMmY1ODMwMzEyNTBiNV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDNhMDRkMTQ1NDhkNGIwMjg4MDJmNTgzMDMxMjUwYjVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2QzYTA0ZDE0NTQ4ZDRiMDI4ODAyZjU4MzAzMTI1MGI1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kM2EwNGQxNDU0OGQ0YjAyODgwMmY1ODMwMzEyNTBiNV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xMWVjZDZjYzAwYTI0MjYxYmQyOWZhNzM5YzgxMzkxYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80MGNjMmUwYmQ0ZmQ0NDE2YTA2MjAyYjI5NzhiZTAzYiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDBjYzJlMGJkNGZkNDQxNmEwNjIwMmIyOTc4YmUwM2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFicm90X0NMSU1fRUZBX0hTQl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzExZWNkNmNjMDBhMjQyNjFiZDI5ZmE3MzljODEzOTFjLnNldENvbnRlbnQoaHRtbF80MGNjMmUwYmQ0ZmQ0NDE2YTA2MjAyYjI5NzhiZTAzYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2QzYTA0ZDE0NTQ4ZDRiMDI4ODAyZjU4MzAzMTI1MGI1LmJpbmRQb3B1cChwb3B1cF8xMWVjZDZjYzAwYTI0MjYxYmQyOWZhNzM5YzgxMzkxYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83ZThhNzM3Njg4ZTQ0ZGY5ODNmNGFkYWExMjZiNDg4YV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzdlOGE3Mzc2ODhlNDRkZjk4M2Y0YWRhYTEyNmI0ODhhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzdlOGE3Mzc2ODhlNDRkZjk4M2Y0YWRhYTEyNmI0ODhhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83ZThhNzM3Njg4ZTQ0ZGY5ODNmNGFkYWExMjZiNDg4YV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fN2U4YTczNzY4OGU0NGRmOTgzZjRhZGFhMTI2YjQ4OGEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzdlOGE3Mzc2ODhlNDRkZjk4M2Y0YWRhYTEyNmI0ODhhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE1N2Q4NTJjMGQxMjQ0YTZhMDkzYmM5ZmM5ZTMzNDEwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZkM2Y1ZDUwNTFjMjQ0ZWY4ODJiZWVkNTkzM2Y1N2U4ID0gJChgPGRpdiBpZD0iaHRtbF82ZDNmNWQ1MDUxYzI0NGVmODgyYmVlZDU5MzNmNTdlOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUXB5cl9DTElNX0VGQV9IU0JfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xNTdkODUyYzBkMTI0NGE2YTA5M2JjOWZjOWUzMzQxMC5zZXRDb250ZW50KGh0bWxfNmQzZjVkNTA1MWMyNDRlZjg4MmJlZWQ1OTMzZjU3ZTgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83ZThhNzM3Njg4ZTQ0ZGY5ODNmNGFkYWExMjZiNDg4YS5iaW5kUG9wdXAocG9wdXBfMTU3ZDg1MmMwZDEyNDRhNmEwOTNiYzlmYzllMzM0MTApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjA4ODQ3ZDIxZjI4NDZiNGIyOWI3M2MzMTJhOWNkZDBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82MDg4NDdkMjFmMjg0NmI0YjI5YjczYzMxMmE5Y2RkMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82MDg4NDdkMjFmMjg0NmI0YjI5YjczYzMxMmE5Y2RkMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjA4ODQ3ZDIxZjI4NDZiNGIyOWI3M2MzMTJhOWNkZDBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzYwODg0N2QyMWYyODQ2YjRiMjliNzNjMzEyYTljZGQwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82MDg4NDdkMjFmMjg0NmI0YjI5YjczYzMxMmE5Y2RkMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82MGYxN2Q4ZTdjODI0OGUxODUzNTRiNjVmNDM2YTgyNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82ODc3Mzc2NTliZmQ0NDA3YjM0ZjRmMTlhMWVlZmJiNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNjg3NzM3NjU5YmZkNDQwN2IzNGY0ZjE5YTFlZWZiYjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFwdWJfQ0xJTV9FRkFfSFNCX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjBmMTdkOGU3YzgyNDhlMTg1MzU0YjY1ZjQzNmE4Mjcuc2V0Q29udGVudChodG1sXzY4NzczNzY1OWJmZDQ0MDdiMzRmNGYxOWExZWVmYmI1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjA4ODQ3ZDIxZjI4NDZiNGIyOWI3M2MzMTJhOWNkZDAuYmluZFBvcHVwKHBvcHVwXzYwZjE3ZDhlN2M4MjQ4ZTE4NTM1NGI2NWY0MzZhODI3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZlYWQ0YzAwNDdiZTRiY2M4ZjA2NTJjNzI1NzE3MTVkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNmVhZDRjMDA0N2JlNGJjYzhmMDY1MmM3MjU3MTcxNWQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNmVhZDRjMDA0N2JlNGJjYzhmMDY1MmM3MjU3MTcxNWRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZlYWQ0YzAwNDdiZTRiY2M4ZjA2NTJjNzI1NzE3MTVkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82ZWFkNGMwMDQ3YmU0YmNjOGYwNjUyYzcyNTcxNzE1ZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNmVhZDRjMDA0N2JlNGJjYzhmMDY1MmM3MjU3MTcxNWRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjUxYWIwY2I5YTI1NGU5NDhmM2NhNzNhZmJhMjZhYjIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjY2MmIyYTY0MTAyNGQxMjk4ZjU1MGI4ZGQyOTUzOWMgPSAkKGA8ZGl2IGlkPSJodG1sX2Y2NjJiMmE2NDEwMjRkMTI5OGY1NTBiOGRkMjk1MzljIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBRZmFnX0NMSU1fRUZBX0hTQl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2I1MWFiMGNiOWEyNTRlOTQ4ZjNjYTczYWZiYTI2YWIyLnNldENvbnRlbnQoaHRtbF9mNjYyYjJhNjQxMDI0ZDEyOThmNTUwYjhkZDI5NTM5Yyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzZlYWQ0YzAwNDdiZTRiY2M4ZjA2NTJjNzI1NzE3MTVkLmJpbmRQb3B1cChwb3B1cF9iNTFhYjBjYjlhMjU0ZTk0OGYzY2E3M2FmYmEyNmFiMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wOGJhZDZjY2QwN2M0ZThjYjdlZTRiMDlhMzEyOGIzZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzA4YmFkNmNjZDA3YzRlOGNiN2VlNGIwOWEzMTI4YjNmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzA4YmFkNmNjZDA3YzRlOGNiN2VlNGIwOWEzMTI4YjNmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wOGJhZDZjY2QwN2M0ZThjYjdlZTRiMDlhMzEyOGIzZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMDhiYWQ2Y2NkMDdjNGU4Y2I3ZWU0YjA5YTMxMjhiM2YuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzA4YmFkNmNjZDA3YzRlOGNiN2VlNGIwOWEzMTI4YjNmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzlkMzgwNTAyNzkxZjRlMzhiNDg2OTA1MzY3YmEyZmFlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzUwMzgwNzZjNDJmZTQ0NjU4MTZlNmUwNzJlNWQ1MzhiID0gJChgPGRpdiBpZD0iaHRtbF81MDM4MDc2YzQyZmU0NDY1ODE2ZTZlMDcyZTVkNTM4YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUW1hcl9DTElNX0VGQV9IU0JfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85ZDM4MDUwMjc5MWY0ZTM4YjQ4NjkwNTM2N2JhMmZhZS5zZXRDb250ZW50KGh0bWxfNTAzODA3NmM0MmZlNDQ2NTgxNmU2ZTA3MmU1ZDUzOGIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wOGJhZDZjY2QwN2M0ZThjYjdlZTRiMDlhMzEyOGIzZi5iaW5kUG9wdXAocG9wdXBfOWQzODA1MDI3OTFmNGUzOGI0ODY5MDUzNjdiYTJmYWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDczYzc1MjFhMzIyNGRjMjliYTU4M2IwYTYwNzM2Mjlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wNzNjNzUyMWEzMjI0ZGMyOWJhNTgzYjBhNjA3MzYyOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wNzNjNzUyMWEzMjI0ZGMyOWJhNTgzYjBhNjA3MzYyOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDczYzc1MjFhMzIyNGRjMjliYTU4M2IwYTYwNzM2MjlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzA3M2M3NTIxYTMyMjRkYzI5YmE1ODNiMGE2MDczNjI5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wNzNjNzUyMWEzMjI0ZGMyOWJhNTgzYjBhNjA3MzYyOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kYTcyMWMzY2IyYTM0ZTJmYjExMDY3ZDEyN2NkMjRiYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84YmU0ODg5ZjdhYTI0MjNkYjdjNGViMTk0NGI2YmIxMiA9ICQoYDxkaXYgaWQ9Imh0bWxfOGJlNDg4OWY3YWEyNDIzZGI3YzRlYjE5NDRiNmJiMTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFjZXJyX0NMSU1fRUZBX0hTQl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2RhNzIxYzNjYjJhMzRlMmZiMTEwNjdkMTI3Y2QyNGJhLnNldENvbnRlbnQoaHRtbF84YmU0ODg5ZjdhYTI0MjNkYjdjNGViMTk0NGI2YmIxMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzA3M2M3NTIxYTMyMjRkYzI5YmE1ODNiMGE2MDczNjI5LmJpbmRQb3B1cChwb3B1cF9kYTcyMWMzY2IyYTM0ZTJmYjExMDY3ZDEyN2NkMjRiYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xNmFkMGJmYTliOTI0OWZjOGFiYzcyOTI4ZDY1NDI5MV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzE2YWQwYmZhOWI5MjQ5ZmM4YWJjNzI5MjhkNjU0MjkxID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzE2YWQwYmZhOWI5MjQ5ZmM4YWJjNzI5MjhkNjU0MjkxX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xNmFkMGJmYTliOTI0OWZjOGFiYzcyOTI4ZDY1NDI5MV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMTZhZDBiZmE5YjkyNDlmYzhhYmM3MjkyOGQ2NTQyOTEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzE2YWQwYmZhOWI5MjQ5ZmM4YWJjNzI5MjhkNjU0MjkxX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzEzM2NmOTc5NjRmMjRhYWNhMjJjMGZhY2FlMTIwZjc5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2ZlZjU2MjEwMjNlYTRmYzE4OTNlMzgyNTEwYWU2ZThhID0gJChgPGRpdiBpZD0iaHRtbF9mZWY1NjIxMDIzZWE0ZmMxODkzZTM4MjUxMGFlNmU4YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUXJvYl9DTElNX0VGQV9IU0JfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xMzNjZjk3OTY0ZjI0YWFjYTIyYzBmYWNhZTEyMGY3OS5zZXRDb250ZW50KGh0bWxfZmVmNTYyMTAyM2VhNGZjMTg5M2UzODI1MTBhZTZlOGEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8xNmFkMGJmYTliOTI0OWZjOGFiYzcyOTI4ZDY1NDI5MS5iaW5kUG9wdXAocG9wdXBfMTMzY2Y5Nzk2NGYyNGFhY2EyMmMwZmFjYWUxMjBmNzkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWMwZTg5OTAxNmY0NGRkYjg1OWEyZTliMmU4YmUyZTZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85YzBlODk5MDE2ZjQ0ZGRiODU5YTJlOWIyZThiZTJlNiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85YzBlODk5MDE2ZjQ0ZGRiODU5YTJlOWIyZThiZTJlNl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWMwZTg5OTAxNmY0NGRkYjg1OWEyZTliMmU4YmUyZTZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzljMGU4OTkwMTZmNDRkZGI4NTlhMmU5YjJlOGJlMmU2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85YzBlODk5MDE2ZjQ0ZGRiODU5YTJlOWIyZThiZTJlNl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80NzEzMDkxNzVkMzk0NTA1YjlhMzZkZDUzMjUwMjgzMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lMjU0YWFkZTBhYTA0YzQxODE3ZjU2YzFkNGRlY2MyMyA9ICQoYDxkaXYgaWQ9Imh0bWxfZTI1NGFhZGUwYWEwNGM0MTgxN2Y1NmMxZDRkZWNjMjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFFjYW5fQ0xJTV9FRkFfSFNCX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDcxMzA5MTc1ZDM5NDUwNWI5YTM2ZGQ1MzI1MDI4MzEuc2V0Q29udGVudChodG1sX2UyNTRhYWRlMGFhMDRjNDE4MTdmNTZjMWQ0ZGVjYzIzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOWMwZTg5OTAxNmY0NGRkYjg1OWEyZTliMmU4YmUyZTYuYmluZFBvcHVwKHBvcHVwXzQ3MTMwOTE3NWQzOTQ1MDViOWEzNmRkNTMyNTAyODMxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2EzNjRjNTc2NDIwYzRiMzdiOGUxM2FhNDM1OTM3ZGQyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYTM2NGM1NzY0MjBjNGIzN2I4ZTEzYWE0MzU5MzdkZDIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYTM2NGM1NzY0MjBjNGIzN2I4ZTEzYWE0MzU5MzdkZDJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2EzNjRjNTc2NDIwYzRiMzdiOGUxM2FhNDM1OTM3ZGQyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9hMzY0YzU3NjQyMGM0YjM3YjhlMTNhYTQzNTkzN2RkMi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYTM2NGM1NzY0MjBjNGIzN2I4ZTEzYWE0MzU5MzdkZDJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTc4N2Y0OTc5ZWMwNGI1Y2FiNjM3YjVkNzQ5MDM2MmYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTljZmU3ZTQ2MDFhNDY1YWIxMjU4NGJlZTE5OGNmZTkgPSAkKGA8ZGl2IGlkPSJodG1sXzk5Y2ZlN2U0NjAxYTQ2NWFiMTI1ODRiZWUxOThjZmU5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBRb3JvX0NMSU1fRUZBX0hTQl92MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2U3ODdmNDk3OWVjMDRiNWNhYjYzN2I1ZDc0OTAzNjJmLnNldENvbnRlbnQoaHRtbF85OWNmZTdlNDYwMWE0NjVhYjEyNTg0YmVlMTk4Y2ZlOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2EzNjRjNTc2NDIwYzRiMzdiOGUxM2FhNDM1OTM3ZGQyLmJpbmRQb3B1cChwb3B1cF9lNzg3ZjQ5NzllYzA0YjVjYWI2MzdiNWQ3NDkwMzYyZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jNWUyZTQxMTQ0NzI0MjZlODg5OTNmZmMxY2RhOTliNF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2M1ZTJlNDExNDQ3MjQyNmU4ODk5M2ZmYzFjZGE5OWI0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2M1ZTJlNDExNDQ3MjQyNmU4ODk5M2ZmYzFjZGE5OWI0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jNWUyZTQxMTQ0NzI0MjZlODg5OTNmZmMxY2RhOTliNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYzVlMmU0MTE0NDcyNDI2ZTg4OTkzZmZjMWNkYTk5YjQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2M1ZTJlNDExNDQ3MjQyNmU4ODk5M2ZmYzFjZGE5OWI0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzY4Zjg1YzQ5ZTc4MzRhZGZiNjg1NWYyNGJjNTcxOWE0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2RlOTBmN2UyODY1MjRmYTdiMzcxNjk1OGJkMmIyZTAwID0gJChgPGRpdiBpZD0iaHRtbF9kZTkwZjdlMjg2NTI0ZmE3YjM3MTY5NThiZDJiMmUwMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gcXVlcmN1c01lZGlhbkhhYlN1aXRhYmlsaXR5X3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjhmODVjNDllNzgzNGFkZmI2ODU1ZjI0YmM1NzE5YTQuc2V0Q29udGVudChodG1sX2RlOTBmN2UyODY1MjRmYTdiMzcxNjk1OGJkMmIyZTAwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYzVlMmU0MTE0NDcyNDI2ZTg4OTkzZmZjMWNkYTk5YjQuYmluZFBvcHVwKHBvcHVwXzY4Zjg1YzQ5ZTc4MzRhZGZiNjg1NWYyNGJjNTcxOWE0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZkYzQzYTgwYmMwOTQ1MjU4NzViZTIwNmY4OWZhNTFkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNmRjNDNhODBiYzA5NDUyNTg3NWJlMjA2Zjg5ZmE1MWQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNmRjNDNhODBiYzA5NDUyNTg3NWJlMjA2Zjg5ZmE1MWRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZkYzQzYTgwYmMwOTQ1MjU4NzViZTIwNmY4OWZhNTFkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82ZGM0M2E4MGJjMDk0NTI1ODc1YmUyMDZmODlmYTUxZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNmRjNDNhODBiYzA5NDUyNTg3NWJlMjA2Zjg5ZmE1MWRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stOS41NDk5OTExMTA5OTk5OCwgMzYuMDAwMDA1MDA2NzY4NF0sIFszLjUxNjY3NjIzNjk5OTk3LCAzNi4wMDAwMDUwMDY3Njg0XSwgWzMuNTE2Njc2MjM2OTk5OTcsIDQ0LjAwODMzODc1ODIzMTZdLCBbLTkuNTQ5OTkxMTEwOTk5OTgsIDQ0LjAwODMzODc1ODIzMTZdLCBbLTkuNTQ5OTkxMTEwOTk5OTgsIDM2LjAwMDAwNTAwNjc2ODRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjRkZGFiZjA3YjYzNDA0M2E3MTVhMTJiNDFjNjQ2YjAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNDE1NmUzMzE5NTFmNDg4ZTllMDk1NjlkMTc2NjM2Y2MgPSAkKGA8ZGl2IGlkPSJodG1sXzQxNTZlMzMxOTUxZjQ4OGU5ZTA5NTY5ZDE3NjYzNmNjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBbGxRdWVyY3VzU3BlY2llc192My5zaHA8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNocDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzY0ZGRhYmYwN2I2MzQwNDNhNzE1YTEyYjQxYzY0NmIwLnNldENvbnRlbnQoaHRtbF80MTU2ZTMzMTk1MWY0ODhlOWUwOTU2OWQxNzY2MzZjYyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzZkYzQzYTgwYmMwOTQ1MjU4NzViZTIwNmY4OWZhNTFkLmJpbmRQb3B1cChwb3B1cF82NGRkYWJmMDdiNjM0MDQzYTcxNWExMmI0MWM2NDZiMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yOTI1MjY0MzFhM2Q0OTE5YWE2YzkyNDNkMjg2MzdkNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzI5MjUyNjQzMWEzZDQ5MTlhYTZjOTI0M2QyODYzN2Q1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzI5MjUyNjQzMWEzZDQ5MTlhYTZjOTI0M2QyODYzN2Q1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yOTI1MjY0MzFhM2Q0OTE5YWE2YzkyNDNkMjg2MzdkNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMjkyNTI2NDMxYTNkNDkxOWFhNmM5MjQzZDI4NjM3ZDUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzI5MjUyNjQzMWEzZDQ5MTlhYTZjOTI0M2QyODYzN2Q1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTkuNTQ5OTkxMTEwOTk5OTgsIDM2LjAwMDAwNTAwNjc2ODRdLCBbMy41MTY2NzYyMzY5OTk5NywgMzYuMDAwMDA1MDA2NzY4NF0sIFszLjUxNjY3NjIzNjk5OTk3LCA0NC4wMDgzMzg3NTgyMzE2XSwgWy05LjU0OTk5MTExMDk5OTk4LCA0NC4wMDgzMzg3NTgyMzE2XSwgWy05LjU0OTk5MTExMDk5OTk4LCAzNi4wMDAwMDUwMDY3Njg0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNkZjAyOTJlZDg1MDRhYmI5ZDY5N2U3ZGIxZDA4MTA1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2IwNmY3NzQ2ZTkwYTRlNmM5ODc5ZWQyY2VmNmQ0NmIzID0gJChgPGRpdiBpZD0iaHRtbF9iMDZmNzc0NmU5MGE0ZTZjOTg3OWVkMmNlZjZkNDZiMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQWxsUXVlcmN1c1NwZWNpZXNfdjMuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zZGYwMjkyZWQ4NTA0YWJiOWQ2OTdlN2RiMWQwODEwNS5zZXRDb250ZW50KGh0bWxfYjA2Zjc3NDZlOTBhNGU2Yzk4NzllZDJjZWY2ZDQ2YjMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yOTI1MjY0MzFhM2Q0OTE5YWE2YzkyNDNkMjg2MzdkNS5iaW5kUG9wdXAocG9wdXBfM2RmMDI5MmVkODUwNGFiYjlkNjk3ZTdkYjFkMDgxMDUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTQyYzE5OTJhYmY5NDY2ZDg4M2E1MmQxZWJlZjNjZTlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85NDJjMTk5MmFiZjk0NjZkODgzYTUyZDFlYmVmM2NlOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85NDJjMTk5MmFiZjk0NjZkODgzYTUyZDFlYmVmM2NlOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTQyYzE5OTJhYmY5NDY2ZDg4M2E1MmQxZWJlZjNjZTlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzk0MmMxOTkyYWJmOTQ2NmQ4ODNhNTJkMWViZWYzY2U5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85NDJjMTk5MmFiZjk0NjZkODgzYTUyZDFlYmVmM2NlOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy05LjU0OTk5MTExMDk5OTk4LCAzNi4wMDAwMDUwMDY3Njg0XSwgWzMuNTE2Njc2MjM2OTk5OTcsIDM2LjAwMDAwNTAwNjc2ODRdLCBbMy41MTY2NzYyMzY5OTk5NywgNDQuMDA4MzM4NzU4MjMxNl0sIFstOS41NDk5OTExMTA5OTk5OCwgNDQuMDA4MzM4NzU4MjMxNl0sIFstOS41NDk5OTExMTA5OTk5OCwgMzYuMDAwMDA1MDA2NzY4NF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84YzQ2MGM3YWZjYmU0MDI1ODgxNzY1MTgxNTlhODkwMyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80ZGVmY2U4ZWFjNjE0ZmU5ODMyMTc3MWNkYmMwMTlhNCA9ICQoYDxkaXYgaWQ9Imh0bWxfNGRlZmNlOGVhYzYxNGZlOTgzMjE3NzFjZGJjMDE5YTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEFsbFF1ZXJjdXNTcGVjaWVzX3YzLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOGM0NjBjN2FmY2JlNDAyNTg4MTc2NTE4MTU5YTg5MDMuc2V0Q29udGVudChodG1sXzRkZWZjZThlYWM2MTRmZTk4MzIxNzcxY2RiYzAxOWE0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTQyYzE5OTJhYmY5NDY2ZDg4M2E1MmQxZWJlZjNjZTkuYmluZFBvcHVwKHBvcHVwXzhjNDYwYzdhZmNiZTQwMjU4ODE3NjUxODE1OWE4OTAzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NhZjdjZTg4NjBlZTQ5YTBhM2M5MWRkMTFmNWNjOGRmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fY2FmN2NlODg2MGVlNDlhMGEzYzkxZGQxMWY1Y2M4ZGYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fY2FmN2NlODg2MGVlNDlhMGEzYzkxZGQxMWY1Y2M4ZGZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NhZjdjZTg4NjBlZTQ5YTBhM2M5MWRkMTFmNWNjOGRmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jYWY3Y2U4ODYwZWU0OWEwYTNjOTFkZDExZjVjYzhkZi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fY2FmN2NlODg2MGVlNDlhMGEzYzkxZGQxMWY1Y2M4ZGZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZmFlOTcwYTc2NWU0NDllMGEzNTcyZGIyNmYyNjFkYTUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjg0M2FjNGRlNWIzNDEyZGEwN2NmODA2OWU5MzI2YTYgPSAkKGA8ZGl2IGlkPSJodG1sX2Y4NDNhYzRkZTViMzQxMmRhMDdjZjgwNjllOTMyNmE2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAgUXN1YiBfT1ZQX1BBUlRfTU9EU192MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ZhZTk3MGE3NjVlNDQ5ZTBhMzU3MmRiMjZmMjYxZGE1LnNldENvbnRlbnQoaHRtbF9mODQzYWM0ZGU1YjM0MTJkYTA3Y2Y4MDY5ZTkzMjZhNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2NhZjdjZTg4NjBlZTQ5YTBhM2M5MWRkMTFmNWNjOGRmLmJpbmRQb3B1cChwb3B1cF9mYWU5NzBhNzY1ZTQ0OWUwYTM1NzJkYjI2ZjI2MWRhNSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80ZGMzMjlmYWM2MGI0YmI2OWQ0MDY4YzEwMTUyMWIwNF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRkYzMyOWZhYzYwYjRiYjY5ZDQwNjhjMTAxNTIxYjA0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRkYzMyOWZhYzYwYjRiYjY5ZDQwNjhjMTAxNTIxYjA0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80ZGMzMjlmYWM2MGI0YmI2OWQ0MDY4YzEwMTUyMWIwNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGRjMzI5ZmFjNjBiNGJiNjlkNDA2OGMxMDE1MjFiMDQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRkYzMyOWZhYzYwYjRiYjY5ZDQwNjhjMTAxNTIxYjA0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQzNGRjYjcwZWU2ZTRlNzY5MDQzMjVkYWQ5OGMwMDg3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzUwYmE0M2Q2OTUyNDQwMzQ5MTg4Mzk3NmIwY2E3N2YwID0gJChgPGRpdiBpZD0iaHRtbF81MGJhNDNkNjk1MjQ0MDM0OTE4ODM5NzZiMGNhNzdmMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gIFFyb2IgX09WUF9QQVJUX01PRFNfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80MzRkY2I3MGVlNmU0ZTc2OTA0MzI1ZGFkOThjMDA4Ny5zZXRDb250ZW50KGh0bWxfNTBiYTQzZDY5NTI0NDAzNDkxODgzOTc2YjBjYTc3ZjApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl80ZGMzMjlmYWM2MGI0YmI2OWQ0MDY4YzEwMTUyMWIwNC5iaW5kUG9wdXAocG9wdXBfNDM0ZGNiNzBlZTZlNGU3NjkwNDMyNWRhZDk4YzAwODcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjExZGE2Y2Q1NTRmNDNjODgyNjRkYTUyMTIyNjhhNzlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mMTFkYTZjZDU1NGY0M2M4ODI2NGRhNTIxMjI2OGE3OSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mMTFkYTZjZDU1NGY0M2M4ODI2NGRhNTIxMjI2OGE3OV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjExZGE2Y2Q1NTRmNDNjODgyNjRkYTUyMTIyNjhhNzlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2YxMWRhNmNkNTU0ZjQzYzg4MjY0ZGE1MjEyMjY4YTc5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mMTFkYTZjZDU1NGY0M2M4ODI2NGRhNTIxMjI2OGE3OV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hYTdlNDZjNjE4NTY0NzgyOTJmYmQzMDhmYTZmOTA4YyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iZGMwYjkwYTAwZGI0YTk4YTcwYTNkMGY3Yzg1Y2ZkOSA9ICQoYDxkaXYgaWQ9Imh0bWxfYmRjMGI5MGEwMGRiNGE5OGE3MGEzZDBmN2M4NWNmZDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+ICBRbWFyIF9PVlBfUEFSVF9NT0RTX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYWE3ZTQ2YzYxODU2NDc4MjkyZmJkMzA4ZmE2ZjkwOGMuc2V0Q29udGVudChodG1sX2JkYzBiOTBhMDBkYjRhOThhNzBhM2QwZjdjODVjZmQ5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZjExZGE2Y2Q1NTRmNDNjODgyNjRkYTUyMTIyNjhhNzkuYmluZFBvcHVwKHBvcHVwX2FhN2U0NmM2MTg1NjQ3ODI5MmZiZDMwOGZhNmY5MDhjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzg1NTMyZWU4ZDRiMjQwNzVhMGJhODQyODBiZDYxNzFjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fODU1MzJlZThkNGIyNDA3NWEwYmE4NDI4MGJkNjE3MWMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fODU1MzJlZThkNGIyNDA3NWEwYmE4NDI4MGJkNjE3MWNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzg1NTMyZWU4ZDRiMjQwNzVhMGJhODQyODBiZDYxNzFjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84NTUzMmVlOGQ0YjI0MDc1YTBiYTg0MjgwYmQ2MTcxYy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fODU1MzJlZThkNGIyNDA3NWEwYmE4NDI4MGJkNjE3MWNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZjliNDU5ZTM0NGU3NDk0MWI5NjQ0ZDkwNGU4MjNiN2QgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMzNjOWI3ZmFiNTkyNGFlZGIzYzA3ZmE3MGM1YmQ3YWYgPSAkKGA8ZGl2IGlkPSJodG1sXzMzYzliN2ZhYjU5MjRhZWRiM2MwN2ZhNzBjNWJkN2FmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAgUXB1YiBfT1ZQX1BBUlRfTU9EU192MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Y5YjQ1OWUzNDRlNzQ5NDFiOTY0NGQ5MDRlODIzYjdkLnNldENvbnRlbnQoaHRtbF8zM2M5YjdmYWI1OTI0YWVkYjNjMDdmYTcwYzViZDdhZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzg1NTMyZWU4ZDRiMjQwNzVhMGJhODQyODBiZDYxNzFjLmJpbmRQb3B1cChwb3B1cF9mOWI0NTllMzQ0ZTc0OTQxYjk2NDRkOTA0ZTgyM2I3ZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jNDQwZmU4NjJkMDM0M2M4YmY1MGYzY2FkMThmMmM5Zl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2M0NDBmZTg2MmQwMzQzYzhiZjUwZjNjYWQxOGYyYzlmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2M0NDBmZTg2MmQwMzQzYzhiZjUwZjNjYWQxOGYyYzlmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jNDQwZmU4NjJkMDM0M2M4YmY1MGYzY2FkMThmMmM5Zl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYzQ0MGZlODYyZDAzNDNjOGJmNTBmM2NhZDE4ZjJjOWYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2M0NDBmZTg2MmQwMzQzYzhiZjUwZjNjYWQxOGYyYzlmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2YwZDdkNmM1MDU2ZjQ2MDI5MWZjMjYyN2ZlYjZjNmE0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2RmNGU5ODgxMjc3MTQzOTA5OWE2NGNhNDdmZDgwYTYxID0gJChgPGRpdiBpZD0iaHRtbF9kZjRlOTg4MTI3NzE0MzkwOTlhNjRjYTQ3ZmQ4MGE2MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gIFFicm8gX09WUF9QQVJUX01PRFNfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mMGQ3ZDZjNTA1NmY0NjAyOTFmYzI2MjdmZWI2YzZhNC5zZXRDb250ZW50KGh0bWxfZGY0ZTk4ODEyNzcxNDM5MDk5YTY0Y2E0N2ZkODBhNjEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jNDQwZmU4NjJkMDM0M2M4YmY1MGYzY2FkMThmMmM5Zi5iaW5kUG9wdXAocG9wdXBfZjBkN2Q2YzUwNTZmNDYwMjkxZmMyNjI3ZmViNmM2YTQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmVlNDBkZGNiMDI0NDIxYTg4ZWEwNTI5NDJkODZmZDRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82ZWU0MGRkY2IwMjQ0MjFhODhlYTA1Mjk0MmQ4NmZkNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82ZWU0MGRkY2IwMjQ0MjFhODhlYTA1Mjk0MmQ4NmZkNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmVlNDBkZGNiMDI0NDIxYTg4ZWEwNTI5NDJkODZmZDRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzZlZTQwZGRjYjAyNDQyMWE4OGVhMDUyOTQyZDg2ZmQ0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82ZWU0MGRkY2IwMjQ0MjFhODhlYTA1Mjk0MmQ4NmZkNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iYzJiMDI1NDg1Y2I0YTgyOWM1YzlmMzdlZTllYTE1YiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jODI4NTFmMDU3YmQ0NDQ1OTFmYWEyODQ1YmE5OTQ2YSA9ICQoYDxkaXYgaWQ9Imh0bWxfYzgyODUxZjA1N2JkNDQ0NTkxZmFhMjg0NWJhOTk0NmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+ICBRY2VyIF9PVlBfUEFSVF9NT0RTX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYmMyYjAyNTQ4NWNiNGE4MjljNWM5ZjM3ZWU5ZWExNWIuc2V0Q29udGVudChodG1sX2M4Mjg1MWYwNTdiZDQ0NDU5MWZhYTI4NDViYTk5NDZhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNmVlNDBkZGNiMDI0NDIxYTg4ZWEwNTI5NDJkODZmZDQuYmluZFBvcHVwKHBvcHVwX2JjMmIwMjU0ODVjYjRhODI5YzVjOWYzN2VlOWVhMTViKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYwNmI2OWExNTBiNjQyNDRhMzVkMmQxOGY3MDRlZjE3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjA2YjY5YTE1MGI2NDI0NGEzNWQyZDE4ZjcwNGVmMTcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjA2YjY5YTE1MGI2NDI0NGEzNWQyZDE4ZjcwNGVmMTdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYwNmI2OWExNTBiNjQyNDRhMzVkMmQxOGY3MDRlZjE3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82MDZiNjlhMTUwYjY0MjQ0YTM1ZDJkMThmNzA0ZWYxNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjA2YjY5YTE1MGI2NDI0NGEzNWQyZDE4ZjcwNGVmMTdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMmEwYWYwZmQ5NjA4NDRiMTk2YTMwN2ViNWNjNjU3MGEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNjMzMzUwYzUwMTk2NDExNWExNjc0NzNkM2RlNDc4MzMgPSAkKGA8ZGl2IGlkPSJodG1sXzYzMzM1MGM1MDE5NjQxMTVhMTY3NDczZDNkZTQ3ODMzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAgUWZhZyBfT1ZQX1BBUlRfTU9EU192MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzJhMGFmMGZkOTYwODQ0YjE5NmEzMDdlYjVjYzY1NzBhLnNldENvbnRlbnQoaHRtbF82MzMzNTBjNTAxOTY0MTE1YTE2NzQ3M2QzZGU0NzgzMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzYwNmI2OWExNTBiNjQyNDRhMzVkMmQxOGY3MDRlZjE3LmJpbmRQb3B1cChwb3B1cF8yYTBhZjBmZDk2MDg0NGIxOTZhMzA3ZWI1Y2M2NTcwYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hMzY2YmI4MTk0Njg0YmRkOWFlMWNlMDZlY2IxM2Y5Y19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2EzNjZiYjgxOTQ2ODRiZGQ5YWUxY2UwNmVjYjEzZjljID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2EzNjZiYjgxOTQ2ODRiZGQ5YWUxY2UwNmVjYjEzZjljX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hMzY2YmI4MTk0Njg0YmRkOWFlMWNlMDZlY2IxM2Y5Y19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYTM2NmJiODE5NDY4NGJkZDlhZTFjZTA2ZWNiMTNmOWMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2EzNjZiYjgxOTQ2ODRiZGQ5YWUxY2UwNmVjYjEzZjljX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzVjMTk0OGQ2NzkzZjQzMmZhODVjZTI5ZWU0MzE4OGVlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzEyYWMzN2FmY2JlNjQ2ZTg5YmZhYTI4Nzk3ZjZiYmQ1ID0gJChgPGRpdiBpZD0iaHRtbF8xMmFjMzdhZmNiZTY0NmU4OWJmYWEyODc5N2Y2YmJkNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gIFFweXIgX09WUF9QQVJUX01PRFNfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81YzE5NDhkNjc5M2Y0MzJmYTg1Y2UyOWVlNDMxODhlZS5zZXRDb250ZW50KGh0bWxfMTJhYzM3YWZjYmU2NDZlODliZmFhMjg3OTdmNmJiZDUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hMzY2YmI4MTk0Njg0YmRkOWFlMWNlMDZlY2IxM2Y5Yy5iaW5kUG9wdXAocG9wdXBfNWMxOTQ4ZDY3OTNmNDMyZmE4NWNlMjllZTQzMTg4ZWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzYxOWI3MDhjZGYxNDI1MGFjMDVlZGYwNDVlNGU2Y2Vfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jNjE5YjcwOGNkZjE0MjUwYWMwNWVkZjA0NWU0ZTZjZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jNjE5YjcwOGNkZjE0MjUwYWMwNWVkZjA0NWU0ZTZjZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzYxOWI3MDhjZGYxNDI1MGFjMDVlZGYwNDVlNGU2Y2VfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2M2MTliNzA4Y2RmMTQyNTBhYzA1ZWRmMDQ1ZTRlNmNlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jNjE5YjcwOGNkZjE0MjUwYWMwNWVkZjA0NWU0ZTZjZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hNjFjNmZhMmFjMjI0NzVlODcwOTYyOWJjMjg1OGFlMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83ZmY3ZmEzZWRjNDg0YWM1ODNjZmI2ODZmMGZjNGU4YyA9ICQoYDxkaXYgaWQ9Imh0bWxfN2ZmN2ZhM2VkYzQ4NGFjNTgzY2ZiNjg2ZjBmYzRlOGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+ICBRbHVzIF9PVlBfUEFSVF9NT0RTX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYTYxYzZmYTJhYzIyNDc1ZTg3MDk2MjliYzI4NThhZTIuc2V0Q29udGVudChodG1sXzdmZjdmYTNlZGM0ODRhYzU4M2NmYjY4NmYwZmM0ZThjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYzYxOWI3MDhjZGYxNDI1MGFjMDVlZGYwNDVlNGU2Y2UuYmluZFBvcHVwKHBvcHVwX2E2MWM2ZmEyYWMyMjQ3NWU4NzA5NjI5YmMyODU4YWUyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzgzMTY3ODQzZjQ2NzRlY2JhYzg5ZWM2Yzg1ZWU2OTczX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fODMxNjc4NDNmNDY3NGVjYmFjODllYzZjODVlZTY5NzMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fODMxNjc4NDNmNDY3NGVjYmFjODllYzZjODVlZTY5NzNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzgzMTY3ODQzZjQ2NzRlY2JhYzg5ZWM2Yzg1ZWU2OTczX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84MzE2Nzg0M2Y0Njc0ZWNiYWM4OWVjNmM4NWVlNjk3My5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fODMxNjc4NDNmNDY3NGVjYmFjODllYzZjODVlZTY5NzNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMjEyN2Y3MWYxNjQzNDU2NGI4OTE0YjE3MGE0OTg1NDcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNjc3MTc5MzZlN2UwNGNmZGI2MjFmYmI0ZTJlMWE3MmIgPSAkKGA8ZGl2IGlkPSJodG1sXzY3NzE3OTM2ZTdlMDRjZmRiNjIxZmJiNGUyZTFhNzJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAgUXBldCBfT1ZQX1BBUlRfTU9EU192MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzIxMjdmNzFmMTY0MzQ1NjRiODkxNGIxNzBhNDk4NTQ3LnNldENvbnRlbnQoaHRtbF82NzcxNzkzNmU3ZTA0Y2ZkYjYyMWZiYjRlMmUxYTcyYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzgzMTY3ODQzZjQ2NzRlY2JhYzg5ZWM2Yzg1ZWU2OTczLmJpbmRQb3B1cChwb3B1cF8yMTI3ZjcxZjE2NDM0NTY0Yjg5MTRiMTcwYTQ5ODU0NykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85YTgyNjYwYzI1N2E0N2QzYjdiMDU0ZjFmM2M2Mjc2MF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzlhODI2NjBjMjU3YTQ3ZDNiN2IwNTRmMWYzYzYyNzYwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzlhODI2NjBjMjU3YTQ3ZDNiN2IwNTRmMWYzYzYyNzYwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZjI5MDZkOGQ0NWUyNGIyNjk1ODQ4ZTk3YjAzYjY1NWUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85YTgyNjYwYzI1N2E0N2QzYjdiMDU0ZjFmM2M2Mjc2MF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOWE4MjY2MGMyNTdhNDdkM2I3YjA1NGYxZjNjNjI3NjAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzlhODI2NjBjMjU3YTQ3ZDNiN2IwNTRmMWYzYzYyNzYwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAtOS41NDk5OTExMTFdLCBbNDQuMDE2NjcyMDkyLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNiNzg3ZWQxODgyMjQ3ZDFhNjgzMGQ1N2M4ZjNmNzkzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZlYThlNzIyNDk0MDQwZGI5NDQxNzI0ZmViZjZkYzcyID0gJChgPGRpdiBpZD0iaHRtbF82ZWE4ZTcyMjQ5NDA0MGRiOTQ0MTcyNGZlYmY2ZGM3MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gIFFlc3QgX09WUF9QQVJUX01PRFNfdjEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMwMjU5OTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBDb21iaW5pbmcgU2F0ZWxsaXRlIFJlbW90ZSBTZW5zaW5nIGFuZCBDbGltYXRlICBEYXRhIGluIFNwZWNpZXMgRGlzdHJpYnV0aW9uIE1vZGVscyB0byBJbXByb3ZlIHRoZSAgQ29uc2VydmF0aW9uIG9mIEliZXJpYW4gV2hpdGUgT2FrcyAoUXVlcmN1cyBMLik8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjMzOTAvaWpnaTkxMjA3MzU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zYjc4N2VkMTg4MjI0N2QxYTY4MzBkNTdjOGYzZjc5My5zZXRDb250ZW50KGh0bWxfNmVhOGU3MjI0OTQwNDBkYjk0NDE3MjRmZWJmNmRjNzIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85YTgyNjYwYzI1N2E0N2QzYjdiMDU0ZjFmM2M2Mjc2MC5iaW5kUG9wdXAocG9wdXBfM2I3ODdlZDE4ODIyNDdkMWE2ODMwZDU3YzhmM2Y3OTMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDYwYzg5MjM3MzZhNGJjOTg2MGI5MTM2ZWRkMTY5Mjdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80NjBjODkyMzczNmE0YmM5ODYwYjkxMzZlZGQxNjkyNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80NjBjODkyMzczNmE0YmM5ODYwYjkxMzZlZGQxNjkyN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2YyOTA2ZDhkNDVlMjRiMjY5NTg0OGU5N2IwM2I2NTVlKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDYwYzg5MjM3MzZhNGJjOTg2MGI5MTM2ZWRkMTY5MjdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQ2MGM4OTIzNzM2YTRiYzk4NjBiOTEzNmVkZDE2OTI3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80NjBjODkyMzczNmE0YmM5ODYwYjkxMzZlZGQxNjkyN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzM1Ljk5MTY3MTY3MywgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgLTkuNTQ5OTkxMTExXSwgWzQ0LjAxNjY3MjA5MiwgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAzLjUxNjY3NjIzN10sIFszNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lNzA4NTNmMGFlZjY0N2NkYmUwYTdiNzdjYTdlMGIxOSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mNzcyYzk5ZTA3OGI0ZmYzYWI1YWE4Yzk0YThhYWQ1NSA9ICQoYDxkaXYgaWQ9Imh0bWxfZjc3MmM5OWUwNzhiNGZmM2FiNWFhOGM5NGE4YWFkNTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+ICBRY2FuIF9PVlBfUEFSVF9NT0RTX3YxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzMDI1OTk8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQ29tYmluaW5nIFNhdGVsbGl0ZSBSZW1vdGUgU2Vuc2luZyBhbmQgQ2xpbWF0ZSAgRGF0YSBpbiBTcGVjaWVzIERpc3RyaWJ1dGlvbiBNb2RlbHMgdG8gSW1wcm92ZSB0aGUgIENvbnNlcnZhdGlvbiBvZiBJYmVyaWFuIFdoaXRlIE9ha3MgKFF1ZXJjdXMgTC4pPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC4zMzkwL2lqZ2k5MTIwNzM1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZTcwODUzZjBhZWY2NDdjZGJlMGE3Yjc3Y2E3ZTBiMTkuc2V0Q29udGVudChodG1sX2Y3NzJjOTllMDc4YjRmZjNhYjVhYThjOTRhOGFhZDU1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNDYwYzg5MjM3MzZhNGJjOTg2MGI5MTM2ZWRkMTY5MjcuYmluZFBvcHVwKHBvcHVwX2U3MDg1M2YwYWVmNjQ3Y2RiZTBhN2I3N2NhN2UwYjE5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YzYzQ4ODQwNzM2NzRiMTlhOWM4M2M2ZjQ0NzE2ZDU0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZjNjNDg4NDA3MzY3NGIxOWE5YzgzYzZmNDQ3MTZkNTQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZjNjNDg4NDA3MzY3NGIxOWE5YzgzYzZmNDQ3MTZkNTRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YzYzQ4ODQwNzM2NzRiMTlhOWM4M2M2ZjQ0NzE2ZDU0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mM2M0ODg0MDczNjc0YjE5YTljODNjNmY0NDcxNmQ1NC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZjNjNDg4NDA3MzY3NGIxOWE5YzgzYzZmNDQ3MTZkNTRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1szNS45OTE2NzE2NzMsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIC05LjU0OTk5MTExMV0sIFs0NC4wMTY2NzIwOTIsIDMuNTE2Njc2MjM3XSwgWzM1Ljk5MTY3MTY3MywgMy41MTY2NzYyMzddLCBbMzUuOTkxNjcxNjczLCAtOS41NDk5OTExMTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNDAwNDA5ZDFhZWZmNDMwYWIyZjU0YjM2ZjIzYmI3N2QgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNGIxNWFjYTdhOTdiNDc3ZjkxNGNmY2ZmZmExNmY0MDEgPSAkKGA8ZGl2IGlkPSJodG1sXzRiMTVhY2E3YTk3YjQ3N2Y5MTRjZmNmZmZhMTZmNDAxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAgUW9ybyBfT1ZQX1BBUlRfTU9EU192MS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MzAyNTk5PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IENvbWJpbmluZyBTYXRlbGxpdGUgUmVtb3RlIFNlbnNpbmcgYW5kIENsaW1hdGUgIERhdGEgaW4gU3BlY2llcyBEaXN0cmlidXRpb24gTW9kZWxzIHRvIEltcHJvdmUgdGhlICBDb25zZXJ2YXRpb24gb2YgSWJlcmlhbiBXaGl0ZSBPYWtzIChRdWVyY3VzIEwuKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuMzM5MC9pamdpOTEyMDczNTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQwMDQwOWQxYWVmZjQzMGFiMmY1NGIzNmYyM2JiNzdkLnNldENvbnRlbnQoaHRtbF80YjE1YWNhN2E5N2I0NzdmOTE0Y2ZjZmZmYTE2ZjQwMSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2YzYzQ4ODQwNzM2NzRiMTlhOWM4M2M2ZjQ0NzE2ZDU0LmJpbmRQb3B1cChwb3B1cF80MDA0MDlkMWFlZmY0MzBhYjJmNTRiMzZmMjNiYjc3ZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfNWRkZDczM2Q0ZTgwNDRiOGIwNmYxOThkZjAzNDE5NjAgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAyZmIzMGI3MTQ3YTQ2MTlhMzBmZWI0MTE3OTQyNGZhX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDJmYjMwYjcxNDdhNDYxOWEzMGZlYjQxMTc5NDI0ZmFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wMmZiMzBiNzE0N2E0NjE5YTMwZmViNDExNzk0MjRmYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wMmZiMzBiNzE0N2E0NjE5YTMwZmViNDExNzk0MjRmYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl8wMmZiMzBiNzE0N2E0NjE5YTMwZmViNDExNzk0MjRmYV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81ZGRkNzMzZDRlODA0NGI4YjA2ZjE5OGRmMDM0MTk2MCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAyZmIzMGI3MTQ3YTQ2MTlhMzBmZWI0MTE3OTQyNGZhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wMmZiMzBiNzE0N2E0NjE5YTMwZmViNDExNzk0MjRmYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDJmYjMwYjcxNDdhNDYxOWEzMGZlYjQxMTc5NDI0ZmFfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1swLjAsIDAuMF0sIFs0NC4wLCAwLjBdLCBbNDQuMCwgMzAuMF0sIFswLjAsIDMwLjBdLCBbMC4wLCAwLjBdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jMzYyNjgwODRhNTY0OTM1YjMxMGEyZWE2NTc5YTE3MSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wNGVkOGMyZmI4MDQ0NTJjYjBhZGY4NzMwODVjY2JiMiA9ICQoYDxkaXYgaWQ9Imh0bWxfMDRlZDhjMmZiODA0NDUyY2IwYWRmODczMDg1Y2NiYjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzY2MzIxNDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBTaW11bGF0aW9uIGRhdGEgYW5kIHNjcmlwdHMgZm9yIENGRC1ERU0gc2ltdWxhdGlvbiBvZiBzYXR1cmF0ZWQgIGJpLWRpc3BlcnNlIGdyYW51bGFyIGZsb3dzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjM2NjMyMTU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2MzNjI2ODA4NGE1NjQ5MzViMzEwYTJlYTY1NzlhMTcxLnNldENvbnRlbnQoaHRtbF8wNGVkOGMyZmI4MDQ0NTJjYjBhZGY4NzMwODVjY2JiMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzAyZmIzMGI3MTQ3YTQ2MTlhMzBmZWI0MTE3OTQyNGZhLmJpbmRQb3B1cChwb3B1cF9jMzYyNjgwODRhNTY0OTM1YjMxMGEyZWE2NTc5YTE3MSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zZGVlMTMxNGIwNWE0MWE2OWRiOWEzM2UzN2MxN2ZhMV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzNkZWUxMzE0YjA1YTQxYTY5ZGI5YTMzZTM3YzE3ZmExID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzNkZWUxMzE0YjA1YTQxYTY5ZGI5YTMzZTM3YzE3ZmExX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWRkZDczM2Q0ZTgwNDRiOGIwNmYxOThkZjAzNDE5NjApOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zZGVlMTMxNGIwNWE0MWE2OWRiOWEzM2UzN2MxN2ZhMV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fM2RlZTEzMTRiMDVhNDFhNjlkYjlhMzNlMzdjMTdmYTEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzNkZWUxMzE0YjA1YTQxYTY5ZGI5YTMzZTM3YzE3ZmExX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMC4wLCAzMC4wXSwgWzQ0LjAsIDMwLjBdLCBbNDQuMCwgMC4wXSwgWzAuMCwgMC4wXSwgWzAuMCwgMzAuMF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hOGVjZDg1NjRhMzQ0YzMwOTEyNGUzNzc1ZmVkMjUyNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83YTliNDcyMmJhZjk0YzgxODQ5ZTA1ODYxZjk2NTNiZiA9ICQoYDxkaXYgaWQ9Imh0bWxfN2E5YjQ3MjJiYWY5NGM4MTg0OWUwNTg2MWY5NjUzYmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGltYWdlMS5wbmc8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHBuZzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNjYzMjE0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFNpbXVsYXRpb24gZGF0YSBhbmQgc2NyaXB0cyBmb3IgQ0ZELURFTSBzaW11bGF0aW9uIG9mIHNhdHVyYXRlZCAgYmktZGlzcGVyc2UgZ3JhbnVsYXIgZmxvd3M8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM2NjMyMTU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hOGVjZDg1NjRhMzQ0YzMwOTEyNGUzNzc1ZmVkMjUyNy5zZXRDb250ZW50KGh0bWxfN2E5YjQ3MjJiYWY5NGM4MTg0OWUwNTg2MWY5NjUzYmYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zZGVlMTMxNGIwNWE0MWE2OWRiOWEzM2UzN2MxN2ZhMS5iaW5kUG9wdXAocG9wdXBfYThlY2Q4NTY0YTM0NGMzMDkxMjRlMzc3NWZlZDI1MjcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwXzBiYjEwNjdjMWEwNjQ4YjBhZmFkNTViMDVjYTIzZjM1ID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iYTNkODBhOTVjZWY0YjU1OTEzZTIyZTc1MWUyNDY2ZF9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JhM2Q4MGE5NWNlZjRiNTU5MTNlMjJlNzUxZTI0NjZkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmEzZDgwYTk1Y2VmNGI1NTkxM2UyMmU3NTFlMjQ2NmQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmEzZDgwYTk1Y2VmNGI1NTkxM2UyMmU3NTFlMjQ2NmRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fYmEzZDgwYTk1Y2VmNGI1NTkxM2UyMmU3NTFlMjQ2NmRfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMGJiMTA2N2MxYTA2NDhiMGFmYWQ1NWIwNWNhMjNmMzUpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iYTNkODBhOTVjZWY0YjU1OTEzZTIyZTc1MWUyNDY2ZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYmEzZDgwYTk1Y2VmNGI1NTkxM2UyMmU3NTFlMjQ2NmQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2JhM2Q4MGE5NWNlZjRiNTU5MTNlMjJlNzUxZTI0NjZkX2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbLTE1LjUsIDkuMF0sIFs3OS4wLCA5LjBdLCBbNzkuMCwgNTYuMF0sIFstMTUuNSwgNTYuMF0sIFstMTUuNSwgOS4wXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZjc2ZjRkNjJhNjkyNGJkNTlkMmMzOTI5NjFiZjI0NzIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYTUyODdiY2Q3YTc4NDExYTk3ODc0YWNmMGY2NjhlZmYgPSAkKGA8ZGl2IGlkPSJodG1sX2E1Mjg3YmNkN2E3ODQxMWE5Nzg3NGFjZjBmNjY4ZWZmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDYyMDAxNTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgTGl0ZXJhcnkgR2VvZ3JhcGhpZXMgb2YgQ2hyaXN0aW5lIGRlIFBpemFuIChnZW8tZGF0YSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUzNTA8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mNzZmNGQ2MmE2OTI0YmQ1OWQyYzM5Mjk2MWJmMjQ3Mi5zZXRDb250ZW50KGh0bWxfYTUyODdiY2Q3YTc4NDExYTk3ODc0YWNmMGY2NjhlZmYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iYTNkODBhOTVjZWY0YjU1OTEzZTIyZTc1MWUyNDY2ZC5iaW5kUG9wdXAocG9wdXBfZjc2ZjRkNjJhNjkyNGJkNTlkMmMzOTI5NjFiZjI0NzIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTE0MzVlMDRiYjllNDExMWI0ZDc2Nzk3OTJjY2ZmZDNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hMTQzNWUwNGJiOWU0MTExYjRkNzY3OTc5MmNjZmZkMyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hMTQzNWUwNGJiOWU0MTExYjRkNzY3OTc5MmNjZmZkM19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzBiYjEwNjdjMWEwNjQ4YjBhZmFkNTViMDVjYTIzZjM1KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTE0MzVlMDRiYjllNDExMWI0ZDc2Nzk3OTJjY2ZmZDNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2ExNDM1ZTA0YmI5ZTQxMTFiNGQ3Njc5NzkyY2NmZmQzLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hMTQzNWUwNGJiOWU0MTExYjRkNzY3OTc5MmNjZmZkM19hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xNS41LCA5LjBdLCBbNzkuMCwgOS4wXSwgWzc5LjAsIDU2LjBdLCBbLTE1LjUsIDU2LjBdLCBbLTE1LjUsIDkuMF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yZTc0M2EwOTUwNmE0Y2QyYmQwNWNlZDhhNWUxZjU5OSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jNWM1NzkyYjE3NjE0N2QyYTZmNjE0YmNjY2YxZTQxNyA9ICQoYDxkaXYgaWQ9Imh0bWxfYzVjNTc5MmIxNzYxNDdkMmE2ZjYxNGJjY2NmMWU0MTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFdyaXNsZXlfTGl0ZXJhcnlfR2VvZ3JhcGhpZXNfb2ZfQ2hyaXN0aW5lX2RlX1BpemFuX3ZfMS4wLmNzdjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gY3N2PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZUNTVjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDYyMDAxNTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgTGl0ZXJhcnkgR2VvZ3JhcGhpZXMgb2YgQ2hyaXN0aW5lIGRlIFBpemFuIChnZW8tZGF0YSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MzUwPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzJlNzQzYTA5NTA2YTRjZDJiZDA1Y2VkOGE1ZTFmNTk5LnNldENvbnRlbnQoaHRtbF9jNWM1NzkyYjE3NjE0N2QyYTZmNjE0YmNjY2YxZTQxNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2ExNDM1ZTA0YmI5ZTQxMTFiNGQ3Njc5NzkyY2NmZmQzLmJpbmRQb3B1cChwb3B1cF8yZTc0M2EwOTUwNmE0Y2QyYmQwNWNlZDhhNWUxZjU5OSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfZTNhM2YzOGM2N2NjNDBjYmIzMmUwOGUwMmUwYmI3MTUgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzljYjU0ZmFkNjRhYjQzZGJiNzIzNjM1NGFlYWIzNjEzX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWNiNTRmYWQ2NGFiNDNkYmI3MjM2MzU0YWVhYjM2MTNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85Y2I1NGZhZDY0YWI0M2RiYjcyMzYzNTRhZWFiMzYxMyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85Y2I1NGZhZDY0YWI0M2RiYjcyMzYzNTRhZWFiMzYxM19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl85Y2I1NGZhZDY0YWI0M2RiYjcyMzYzNTRhZWFiMzYxM19zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9lM2EzZjM4YzY3Y2M0MGNiYjMyZTA4ZTAyZTBiYjcxNSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzljYjU0ZmFkNjRhYjQzZGJiNzIzNjM1NGFlYWIzNjEzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85Y2I1NGZhZDY0YWI0M2RiYjcyMzYzNTRhZWFiMzYxMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOWNiNTRmYWQ2NGFiNDNkYmI3MjM2MzU0YWVhYjM2MTNfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stNDEuMTIyNTIxNywgLTcyLjk1ODMzMTU1XSwgWy0zOS45NzM4MTc2NSwgLTcyLjk1ODMzMTU1XSwgWy0zOS45NzM4MTc2NSwgLTcxLjY5NTA0ODc1XSwgWy00MS4xMjI1MjE3LCAtNzEuNjk1MDQ4NzVdLCBbLTQxLjEyMjUyMTcsIC03Mi45NTgzMzE1NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzcxNWU4OGU0OGVkMDRlNDI5NGY2YzNkNjVhMDcyMTYzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzY3MjZmNWFkMTM0YTQ1ODE5ODc4MTk4YjYxOTA5MTFjID0gJChgPGRpdiBpZD0iaHRtbF82NzI2ZjVhZDEzNGE0NTgxOTg3ODE5OGI2MTkwOTExYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2MzYzODI8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUHV5ZWh1ZSBWb2xjYW5vIFNpbi1lcnVwdGl2ZSBTQVIgZGVmb3JtYXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uNTQ3MDQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83MTVlODhlNDhlZDA0ZTQyOTRmNmMzZDY1YTA3MjE2My5zZXRDb250ZW50KGh0bWxfNjcyNmY1YWQxMzRhNDU4MTk4NzgxOThiNjE5MDkxMWMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85Y2I1NGZhZDY0YWI0M2RiYjcyMzYzNTRhZWFiMzYxMy5iaW5kUG9wdXAocG9wdXBfNzE1ZTg4ZTQ4ZWQwNGU0Mjk0ZjZjM2Q2NWEwNzIxNjMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWE2YTNkODQzNmFlNDMyYmIxNTliYmViOTA1OWRjYzRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lYTZhM2Q4NDM2YWU0MzJiYjE1OWJiZWI5MDU5ZGNjNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lYTZhM2Q4NDM2YWU0MzJiYjE1OWJiZWI5MDU5ZGNjNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2UzYTNmMzhjNjdjYzQwY2JiMzJlMDhlMDJlMGJiNzE1KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWE2YTNkODQzNmFlNDMyYmIxNTliYmViOTA1OWRjYzRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2VhNmEzZDg0MzZhZTQzMmJiMTU5YmJlYjkwNTlkY2M0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lYTZhM2Q4NDM2YWU0MzJiYjE1OWJiZWI5MDU5ZGNjNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy00MS4xMjI1MjE3LCAtNzIuOTU4MzMxNTVdLCBbLTM5Ljk3MzgxNzY1LCAtNzIuOTU4MzMxNTVdLCBbLTM5Ljk3MzgxNzY1LCAtNzEuNjk1MDQ4NzVdLCBbLTQxLjEyMjUyMTcsIC03MS42OTUwNDg3NV0sIFstNDEuMTIyNTIxNywgLTcyLjk1ODMzMTU1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2E1ZDFjNDg2ZTI5ZTQ2YzRhMDA5MjM3MTBmOTg1MGYwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2VkYWVkMWViMzdkOTQzZTA5NGZiOTg5MzdhNjU4OWNhID0gJChgPGRpdiBpZD0iaHRtbF9lZGFlZDFlYjM3ZDk0M2UwOTRmYjk4OTM3YTY1ODljYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMTA1MDhfMjAxMTA2MDdfZGlzcC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2MzYzODI8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUHV5ZWh1ZSBWb2xjYW5vIFNpbi1lcnVwdGl2ZSBTQVIgZGVmb3JtYXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjU0NzA0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2E1ZDFjNDg2ZTI5ZTQ2YzRhMDA5MjM3MTBmOTg1MGYwLnNldENvbnRlbnQoaHRtbF9lZGFlZDFlYjM3ZDk0M2UwOTRmYjk4OTM3YTY1ODljYSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2VhNmEzZDg0MzZhZTQzMmJiMTU5YmJlYjkwNTlkY2M0LmJpbmRQb3B1cChwb3B1cF9hNWQxYzQ4NmUyOWU0NmM0YTAwOTIzNzEwZjk4NTBmMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfY2MwNGVmMTg1M2U5NGM3Y2FjNTI0MmE3YTEzZDAyODAgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc1ZGI5NzUxZWU1MTQ4MTBiMGJjMjA3Yjk1MWQyNmE0X3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzVkYjk3NTFlZTUxNDgxMGIwYmMyMDdiOTUxZDI2YTRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83NWRiOTc1MWVlNTE0ODEwYjBiYzIwN2I5NTFkMjZhNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83NWRiOTc1MWVlNTE0ODEwYjBiYzIwN2I5NTFkMjZhNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl83NWRiOTc1MWVlNTE0ODEwYjBiYzIwN2I5NTFkMjZhNF9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jYzA0ZWYxODUzZTk0YzdjYWM1MjQyYTdhMTNkMDI4MCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc1ZGI5NzUxZWU1MTQ4MTBiMGJjMjA3Yjk1MWQyNmE0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83NWRiOTc1MWVlNTE0ODEwYjBiYzIwN2I5NTFkMjZhNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNzVkYjk3NTFlZTUxNDgxMGIwYmMyMDdiOTUxZDI2YTRfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1s3LjAzNjM4MzgzNzAwMDcsIDM2LjcxNjE4ODM1OTc0NjddLCBbMTguNDM0NTkyMTQ1MzQzNCwgMzYuNzE2MTg4MzU5NzQ2N10sIFsxOC40MzQ1OTIxNDUzNDM0LCA0Ni43NTQzNDQ3NDgxODMyXSwgWzcuMDM2MzgzODM3MDAwNywgNDYuNzU0MzQ0NzQ4MTgzMl0sIFs3LjAzNjM4MzgzNzAwMDcsIDM2LjcxNjE4ODM1OTc0NjddXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82ZjQwZDY2MzAxNWY0MTBkOTA3NjMwMGM4NzUxOWY1NyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zODg2ZWQwN2QyZDg0YTc0YjNkNDY2YTgwNDUwMjY2OSA9ICQoYDxkaXYgaWQ9Imh0bWxfMzg4NmVkMDdkMmQ4NGE3NGIzZDQ2NmE4MDQ1MDI2NjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDI0NDkyNTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBJdGFsaWFuIHZpbmV5YXJkcyBkYXRhYmFzZTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby40MjQ0OTI2PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82ZjQwZDY2MzAxNWY0MTBkOTA3NjMwMGM4NzUxOWY1Ny5zZXRDb250ZW50KGh0bWxfMzg4NmVkMDdkMmQ4NGE3NGIzZDQ2NmE4MDQ1MDI2NjkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83NWRiOTc1MWVlNTE0ODEwYjBiYzIwN2I5NTFkMjZhNC5iaW5kUG9wdXAocG9wdXBfNmY0MGQ2NjMwMTVmNDEwZDkwNzYzMDBjODc1MTlmNTcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzdhNDI2ZDAzOGE1NDdmZWE4ZWI2OTdjYWE4ZThjYmZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zN2E0MjZkMDM4YTU0N2ZlYThlYjY5N2NhYThlOGNiZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zN2E0MjZkMDM4YTU0N2ZlYThlYjY5N2NhYThlOGNiZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2NjMDRlZjE4NTNlOTRjN2NhYzUyNDJhN2ExM2QwMjgwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzdhNDI2ZDAzOGE1NDdmZWE4ZWI2OTdjYWE4ZThjYmZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzM3YTQyNmQwMzhhNTQ3ZmVhOGViNjk3Y2FhOGU4Y2JmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zN2E0MjZkMDM4YTU0N2ZlYThlYjY5N2NhYThlOGNiZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzcuMDM2MzgzODM3MDAwNywgMzYuNzE2MTg4MzU5NzQ2N10sIFsxOC40MzQ1OTIxNDUzNDM0LCAzNi43MTYxODgzNTk3NDY3XSwgWzE4LjQzNDU5MjE0NTM0MzQsIDQ2Ljc1NDM0NDc0ODE4MzJdLCBbNy4wMzYzODM4MzcwMDA3LCA0Ni43NTQzNDQ3NDgxODMyXSwgWzcuMDM2MzgzODM3MDAwNywgMzYuNzE2MTg4MzU5NzQ2N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xZWJhYmNhOGU5MGU0YzdjYTUwYjllZmUyODY3OWM3YiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zYmM2MjZlMjJlNDc0MDA2YjM4YmM5MWJmMDJhMTcxMyA9ICQoYDxkaXYgaWQ9Imh0bWxfM2JjNjI2ZTIyZTQ3NDAwNmIzOGJjOTFiZjAyYTE3MTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEl0YWxpYW5fdmluZXlhcmRzX2RhdGFiYXNlLnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQyNDQ5MjU8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gSXRhbGlhbiB2aW5leWFyZHMgZGF0YWJhc2U8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQyNDQ5MjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xZWJhYmNhOGU5MGU0YzdjYTUwYjllZmUyODY3OWM3Yi5zZXRDb250ZW50KGh0bWxfM2JjNjI2ZTIyZTQ3NDAwNmIzOGJjOTFiZjAyYTE3MTMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zN2E0MjZkMDM4YTU0N2ZlYThlYjY5N2NhYThlOGNiZi5iaW5kUG9wdXAocG9wdXBfMWViYWJjYThlOTBlNGM3Y2E1MGI5ZWZlMjg2NzljN2IpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYWJiYzRjODZhNDk5NDFjNTk3NmZmMjZkY2IyM2EwYTJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hYmJjNGM4NmE0OTk0MWM1OTc2ZmYyNmRjYjIzYTBhMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hYmJjNGM4NmE0OTk0MWM1OTc2ZmYyNmRjYjIzYTBhMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2NjMDRlZjE4NTNlOTRjN2NhYzUyNDJhN2ExM2QwMjgwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYWJiYzRjODZhNDk5NDFjNTk3NmZmMjZkY2IyM2EwYTJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2FiYmM0Yzg2YTQ5OTQxYzU5NzZmZjI2ZGNiMjNhMGEyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hYmJjNGM4NmE0OTk0MWM1OTc2ZmYyNmRjYjIzYTBhMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzcuMDM2MzgzODM3MDAwNywgMzYuNzE2MTg4MzU5NzQ2N10sIFsxOC40MzQ1OTIxNDUzNDM0LCAzNi43MTYxODgzNTk3NDY3XSwgWzE4LjQzNDU5MjE0NTM0MzQsIDQ2Ljc1NDM0NDc0ODE4MzJdLCBbNy4wMzYzODM4MzcwMDA3LCA0Ni43NTQzNDQ3NDgxODMyXSwgWzcuMDM2MzgzODM3MDAwNywgMzYuNzE2MTg4MzU5NzQ2N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jNDQ3NGY5YWMxYTg0YTYxYmM0ZGFlYTNlYmI5MTI5MyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wODhjOTY0Yjc0MWM0YTgyYjhmNmU4OGYzZTIyM2U0ZCA9ICQoYDxkaXYgaWQ9Imh0bWxfMDg4Yzk2NGI3NDFjNGE4MmI4ZjZlODhmM2UyMjNlNGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEl0YWxpYW5fdmluZXlhcmRzX2RhdGFiYXNlLmRiZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZGJmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQyNDQ5MjU8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gSXRhbGlhbiB2aW5leWFyZHMgZGF0YWJhc2U8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQyNDQ5MjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jNDQ3NGY5YWMxYTg0YTYxYmM0ZGFlYTNlYmI5MTI5My5zZXRDb250ZW50KGh0bWxfMDg4Yzk2NGI3NDFjNGE4MmI4ZjZlODhmM2UyMjNlNGQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hYmJjNGM4NmE0OTk0MWM1OTc2ZmYyNmRjYjIzYTBhMi5iaW5kUG9wdXAocG9wdXBfYzQ0NzRmOWFjMWE4NGE2MWJjNGRhZWEzZWJiOTEyOTMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzdiYWY4OTkwODBjNDE2YmJlZjBkZTBlMjdjZGQ3ZTlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jN2JhZjg5OTA4MGM0MTZiYmVmMGRlMGUyN2NkZDdlOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jN2JhZjg5OTA4MGM0MTZiYmVmMGRlMGUyN2NkZDdlOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2NjMDRlZjE4NTNlOTRjN2NhYzUyNDJhN2ExM2QwMjgwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzdiYWY4OTkwODBjNDE2YmJlZjBkZTBlMjdjZGQ3ZTlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2M3YmFmODk5MDgwYzQxNmJiZWYwZGUwZTI3Y2RkN2U5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jN2JhZjg5OTA4MGM0MTZiYmVmMGRlMGUyN2NkZDdlOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzcuMDM2MzgzODM3MDAwNywgMzYuNzE2MTg4MzU5NzQ2N10sIFsxOC40MzQ1OTIxNDUzNDM0LCAzNi43MTYxODgzNTk3NDY3XSwgWzE4LjQzNDU5MjE0NTM0MzQsIDQ2Ljc1NDM0NDc0ODE4MzJdLCBbNy4wMzYzODM4MzcwMDA3LCA0Ni43NTQzNDQ3NDgxODMyXSwgWzcuMDM2MzgzODM3MDAwNywgMzYuNzE2MTg4MzU5NzQ2N11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zNzBkNDNjNjdmYjA0MGNmOTM1YmJhZjFmODA4MzlhYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84Y2E5MjY4MDBhODU0OGM2ODJhZGU2NjU4ZTNiN2I1MiA9ICQoYDxkaXYgaWQ9Imh0bWxfOGNhOTI2ODAwYTg1NDhjNjgyYWRlNjY1OGUzYjdiNTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEl0YWxpYW5fdmluZXlhcmRzX2RhdGFiYXNlLnNoeDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2h4PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQyNDQ5MjU8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gSXRhbGlhbiB2aW5leWFyZHMgZGF0YWJhc2U8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQyNDQ5MjY8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zNzBkNDNjNjdmYjA0MGNmOTM1YmJhZjFmODA4MzlhYS5zZXRDb250ZW50KGh0bWxfOGNhOTI2ODAwYTg1NDhjNjgyYWRlNjY1OGUzYjdiNTIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jN2JhZjg5OTA4MGM0MTZiYmVmMGRlMGUyN2NkZDdlOS5iaW5kUG9wdXAocG9wdXBfMzcwZDQzYzY3ZmIwNDBjZjkzNWJiYWYxZjgwODM5YWEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwX2E0MGFhNjc0ZTVhOTQ5YTI5Y2ViMjE5MWQwNDRiZDgwID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YWY0YmEyNzc5OGM0NDg3YWM3MmM1ODJmZTEzNGEyZl9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzRhZjRiYTI3Nzk4YzQ0ODdhYzcyYzU4MmZlMTM0YTJmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNGFmNGJhMjc3OThjNDQ4N2FjNzJjNTgyZmUxMzRhMmYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNGFmNGJhMjc3OThjNDQ4N2FjNzJjNTgyZmUxMzRhMmZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fNGFmNGJhMjc3OThjNDQ4N2FjNzJjNTgyZmUxMzRhMmZfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYTQwYWE2NzRlNWE5NDlhMjljZWIyMTkxZDA0NGJkODApOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YWY0YmEyNzc5OGM0NDg3YWM3MmM1ODJmZTEzNGEyZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGFmNGJhMjc3OThjNDQ4N2FjNzJjNTgyZmUxMzRhMmYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRhZjRiYTI3Nzk4YzQ0ODdhYzcyYzU4MmZlMTM0YTJmX2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbLTk5LjA5NjI5LCAwLjBdLCBbMTUuODI5Mjk5LCAwLjBdLCBbMTUuODI5Mjk5LCA1Mi4xODA4NDYyXSwgWy05OS4wOTYyOSwgNTIuMTgwODQ2Ml0sIFstOTkuMDk2MjksIDAuMF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNlYmE4MjdjMTVhMTQwMzI4NTY0MTEzYzUwMDFjN2ZkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzcwMjI4NDFmOWYxMjRmYmJhNjEzZTY1MDNkYjljOGI5ID0gJChgPGRpdiBpZD0iaHRtbF83MDIyODQxZjlmMTI0ZmJiYTYxM2U2NTAzZGI5YzhiOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxNDIxMzA0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJpY3ljbGUgdHJpcHMgY29sbGVjdGVkIHVzaW5nIEN5Y2xpc3RzIEdlby1DIGdlby1nYW1lPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjE0MjEzMDU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNlYmE4MjdjMTVhMTQwMzI4NTY0MTEzYzUwMDFjN2ZkLnNldENvbnRlbnQoaHRtbF83MDIyODQxZjlmMTI0ZmJiYTYxM2U2NTAzZGI5YzhiOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzRhZjRiYTI3Nzk4YzQ0ODdhYzcyYzU4MmZlMTM0YTJmLmJpbmRQb3B1cChwb3B1cF8zZWJhODI3YzE1YTE0MDMyODU2NDExM2M1MDAxYzdmZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wOTRkYTE4MjU1M2I0ZDNlOTllZWRhNjIzZDgzNzc4Yl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzA5NGRhMTgyNTUzYjRkM2U5OWVlZGE2MjNkODM3NzhiID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzA5NGRhMTgyNTUzYjRkM2U5OWVlZGE2MjNkODM3NzhiX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYTQwYWE2NzRlNWE5NDlhMjljZWIyMTkxZDA0NGJkODApOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wOTRkYTE4MjU1M2I0ZDNlOTllZWRhNjIzZDgzNzc4Yl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMDk0ZGExODI1NTNiNGQzZTk5ZWVkYTYyM2Q4Mzc3OGIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzA5NGRhMTgyNTUzYjRkM2U5OWVlZGE2MjNkODM3NzhiX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTAuMzM0MjEyOSwgMjAuMDAwMV0sIFsxNS44MjkyOTksIDIwLjAwMDFdLCBbMTUuODI5Mjk5LCA1Mi4xNjgyNjZdLCBbLTAuMzM0MjEyOSwgNTIuMTY4MjY2XSwgWy0wLjMzNDIxMjksIDIwLjAwMDFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNzI4ZGRhMWJiMTU1NGUwMjliNzBiODc3YzQyNDU3NGMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTY3MDgyMTU4Y2VjNDI3ZGE0NmEzZTkzY2UwMjE0OTcgPSAkKGA8ZGl2IGlkPSJodG1sXzk2NzA4MjE1OGNlYzQyN2RhNDZhM2U5M2NlMDIxNDk3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBzZWdtZW50cy5nZW9qc29uPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZW9qc29uPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDE0MjEzMDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQmljeWNsZSB0cmlwcyBjb2xsZWN0ZWQgdXNpbmcgQ3ljbGlzdHMgR2VvLUMgZ2VvLWdhbWU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjE0MjEzMDU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83MjhkZGExYmIxNTU0ZTAyOWI3MGI4NzdjNDI0NTc0Yy5zZXRDb250ZW50KGh0bWxfOTY3MDgyMTU4Y2VjNDI3ZGE0NmEzZTkzY2UwMjE0OTcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wOTRkYTE4MjU1M2I0ZDNlOTllZWRhNjIzZDgzNzc4Yi5iaW5kUG9wdXAocG9wdXBfNzI4ZGRhMWJiMTU1NGUwMjliNzBiODc3YzQyNDU3NGMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGFkYTIzNjcwMmNiNDAwYzhiYzJjYTFmZmMwNWJjNGRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wYWRhMjM2NzAyY2I0MDBjOGJjMmNhMWZmYzA1YmM0ZCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wYWRhMjM2NzAyY2I0MDBjOGJjMmNhMWZmYzA1YmM0ZF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2E0MGFhNjc0ZTVhOTQ5YTI5Y2ViMjE5MWQwNDRiZDgwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGFkYTIzNjcwMmNiNDAwYzhiYzJjYTFmZmMwNWJjNGRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzBhZGEyMzY3MDJjYjQwMGM4YmMyY2ExZmZjMDViYzRkLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wYWRhMjM2NzAyY2I0MDBjOGJjMmNhMWZmYzA1YmM0ZF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0wLjEyMDU1MzcxODE0MzUyNCwgMzUuODg4Njk3OF0sIFsxNC41MDgzNTQxNDU4Mjk1LCAzNS44ODg2OTc4XSwgWzE0LjUwODM1NDE0NTgyOTUsIDUyLjE4MDg0NjJdLCBbLTAuMTIwNTUzNzE4MTQzNTI0LCA1Mi4xODA4NDYyXSwgWy0wLjEyMDU1MzcxODE0MzUyNCwgMzUuODg4Njk3OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84ZWUyNzdlMDNiMmE0NzI1YmVhOWUyNTAyYjI1ZTcyYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83NTc3OTIyOGEzOTA0NWVhYWM5NDM4MjdjZjk3OWIxZiA9ICQoYDxkaXYgaWQ9Imh0bWxfNzU3NzkyMjhhMzkwNDVlYWFjOTQzODI3Y2Y5NzliMWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGJpa2VwYXRoc19zZWdtZW50cy5nZW9qc29uPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZW9qc29uPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDE0MjEzMDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQmljeWNsZSB0cmlwcyBjb2xsZWN0ZWQgdXNpbmcgQ3ljbGlzdHMgR2VvLUMgZ2VvLWdhbWU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjE0MjEzMDU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84ZWUyNzdlMDNiMmE0NzI1YmVhOWUyNTAyYjI1ZTcyYy5zZXRDb250ZW50KGh0bWxfNzU3NzkyMjhhMzkwNDVlYWFjOTQzODI3Y2Y5NzliMWYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wYWRhMjM2NzAyY2I0MDBjOGJjMmNhMWZmYzA1YmM0ZC5iaW5kUG9wdXAocG9wdXBfOGVlMjc3ZTAzYjJhNDcyNWJlYTllMjUwMmIyNWU3MmMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjA5YWI2ZDExZjYyNDczZTkwNDQ2MTk2MjcyMDBlYmNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iMDlhYjZkMTFmNjI0NzNlOTA0NDYxOTYyNzIwMGViYyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iMDlhYjZkMTFmNjI0NzNlOTA0NDYxOTYyNzIwMGViY19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2E0MGFhNjc0ZTVhOTQ5YTI5Y2ViMjE5MWQwNDRiZDgwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjA5YWI2ZDExZjYyNDczZTkwNDQ2MTk2MjcyMDBlYmNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2IwOWFiNmQxMWY2MjQ3M2U5MDQ0NjE5NjI3MjAwZWJjLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iMDlhYjZkMTFmNjI0NzNlOTA0NDYxOTYyNzIwMGViY19hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0wLjEyMDU1MzcxODE0MzUyNCwgMzUuODg4Njk3OF0sIFsxNC41MDgzNTQxNDU4Mjk1LCAzNS44ODg2OTc4XSwgWzE0LjUwODM1NDE0NTgyOTUsIDUyLjE4MDg0NjJdLCBbLTAuMTIwNTUzNzE4MTQzNTI0LCA1Mi4xODA4NDYyXSwgWy0wLjEyMDU1MzcxODE0MzUyNCwgMzUuODg4Njk3OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85NDJjMTJlZjRiYWE0ZWM5OGE0NGI5ZjE3YjYyZDQyYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mOTc2OTM2N2RmZGI0MTlkOTE2NDAxMTg0NWRjMzA4YiA9ICQoYDxkaXYgaWQ9Imh0bWxfZjk3NjkzNjdkZmRiNDE5ZDkxNjQwMTE4NDVkYzMwOGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGJpa2VwYXRoc190cmlwcy5nZW9qc29uPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZW9qc29uPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDE0MjEzMDQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQmljeWNsZSB0cmlwcyBjb2xsZWN0ZWQgdXNpbmcgQ3ljbGlzdHMgR2VvLUMgZ2VvLWdhbWU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjE0MjEzMDU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85NDJjMTJlZjRiYWE0ZWM5OGE0NGI5ZjE3YjYyZDQyYy5zZXRDb250ZW50KGh0bWxfZjk3NjkzNjdkZmRiNDE5ZDkxNjQwMTE4NDVkYzMwOGIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iMDlhYjZkMTFmNjI0NzNlOTA0NDYxOTYyNzIwMGViYy5iaW5kUG9wdXAocG9wdXBfOTQyYzEyZWY0YmFhNGVjOThhNDRiOWYxN2I2MmQ0MmMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMWJmOGI0ZDMxMTc4NDcwMDkxMzczOGY0ZTgxOGNkMWRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xYmY4YjRkMzExNzg0NzAwOTEzNzM4ZjRlODE4Y2QxZCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xYmY4YjRkMzExNzg0NzAwOTEzNzM4ZjRlODE4Y2QxZF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2E0MGFhNjc0ZTVhOTQ5YTI5Y2ViMjE5MWQwNDRiZDgwKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMWJmOGI0ZDMxMTc4NDcwMDkxMzczOGY0ZTgxOGNkMWRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzFiZjhiNGQzMTE3ODQ3MDA5MTM3MzhmNGU4MThjZDFkLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xYmY4YjRkMzExNzg0NzAwOTEzNzM4ZjRlODE4Y2QxZF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy05OS4wOTYyOSwgMC4wXSwgWzE1LjgyOTI5OSwgMC4wXSwgWzE1LjgyOTI5OSwgNTIuMTY3NzY3XSwgWy05OS4wOTYyOSwgNTIuMTY3NzY3XSwgWy05OS4wOTYyOSwgMC4wXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzhjMTM4NDk3MTIyZjRiYzhiZDYzZDY5MGU4OTc5Mjg5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzM0ZDk2MTY4YjZiNzRlNTJiNWZmZWNkMWVkMjk2ODlmID0gJChgPGRpdiBpZD0iaHRtbF8zNGQ5NjE2OGI2Yjc0ZTUyYjVmZmVjZDFlZDI5Njg5ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gdHJpcHNfb2QuZ2VvanNvbjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2VvanNvbjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxNDIxMzA0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJpY3ljbGUgdHJpcHMgY29sbGVjdGVkIHVzaW5nIEN5Y2xpc3RzIEdlby1DIGdlby1nYW1lPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xNDIxMzA1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOGMxMzg0OTcxMjJmNGJjOGJkNjNkNjkwZTg5NzkyODkuc2V0Q29udGVudChodG1sXzM0ZDk2MTY4YjZiNzRlNTJiNWZmZWNkMWVkMjk2ODlmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMWJmOGI0ZDMxMTc4NDcwMDkxMzczOGY0ZTgxOGNkMWQuYmluZFBvcHVwKHBvcHVwXzhjMTM4NDk3MTIyZjRiYzhiZDYzZDY5MGU4OTc5Mjg5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzJhZGUwYjhjNTUzNjQ4M2U5NGIxOWEyNjBjZTRlOTFhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMmFkZTBiOGM1NTM2NDgzZTk0YjE5YTI2MGNlNGU5MWEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMmFkZTBiOGM1NTM2NDgzZTk0YjE5YTI2MGNlNGU5MWFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9hNDBhYTY3NGU1YTk0OWEyOWNlYjIxOTFkMDQ0YmQ4MCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzJhZGUwYjhjNTUzNjQ4M2U5NGIxOWEyNjBjZTRlOTFhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yYWRlMGI4YzU1MzY0ODNlOTRiMTlhMjYwY2U0ZTkxYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMmFkZTBiOGM1NTM2NDgzZTk0YjE5YTI2MGNlNGU5MWFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMC4zMzQyMTI5LCAwLjBdLCBbMTQuNTMyMjY0LCAwLjBdLCBbMTQuNTMyMjY0LCA1Mi4wOTU5XSwgWy0wLjMzNDIxMjksIDUyLjA5NTldLCBbLTAuMzM0MjEyOSwgMC4wXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2RjY2JmYWM3ZmQxMjQ0YjA4Y2Y2Y2QxM2EzNTgzYWY2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Q5MWRkZmNhN2VmZTQyNzI4MGE4MDYzY2RkNmUxNjZiID0gJChgPGRpdiBpZD0iaHRtbF9kOTFkZGZjYTdlZmU0MjcyODBhODA2M2NkZDZlMTY2YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gbG9jYXRpb24uZ2VvanNvbjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2VvanNvbjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxNDIxMzA0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJpY3ljbGUgdHJpcHMgY29sbGVjdGVkIHVzaW5nIEN5Y2xpc3RzIEdlby1DIGdlby1nYW1lPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xNDIxMzA1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZGNjYmZhYzdmZDEyNDRiMDhjZjZjZDEzYTM1ODNhZjYuc2V0Q29udGVudChodG1sX2Q5MWRkZmNhN2VmZTQyNzI4MGE4MDYzY2RkNmUxNjZiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMmFkZTBiOGM1NTM2NDgzZTk0YjE5YTI2MGNlNGU5MWEuYmluZFBvcHVwKHBvcHVwX2RjY2JmYWM3ZmQxMjQ0YjA4Y2Y2Y2QxM2EzNTgzYWY2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2RhMGE2MjkwZmFjNDQ3NTc4OWQ3OWMwNTY1M2UyMjBmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZGEwYTYyOTBmYWM0NDc1Nzg5ZDc5YzA1NjUzZTIyMGYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZGEwYTYyOTBmYWM0NDc1Nzg5ZDc5YzA1NjUzZTIyMGZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9hNDBhYTY3NGU1YTk0OWEyOWNlYjIxOTFkMDQ0YmQ4MCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2RhMGE2MjkwZmFjNDQ3NTc4OWQ3OWMwNTY1M2UyMjBmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kYTBhNjI5MGZhYzQ0NzU3ODlkNzljMDU2NTNlMjIwZi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZGEwYTYyOTBmYWM0NDc1Nzg5ZDc5YzA1NjUzZTIyMGZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMC4wNjkyMTIzMDczNjgyODUsIDM1LjgzOTAzMzkxMjI1MDVdLCBbMTQuNTA5Njg3NjI1MjA2MiwgMzUuODM5MDMzOTEyMjUwNV0sIFsxNC41MDk2ODc2MjUyMDYyLCA1Mi4wOTI4MTc5MzYwMTIzXSwgWy0wLjA2OTIxMjMwNzM2ODI4NSwgNTIuMDkyODE3OTM2MDEyM10sIFstMC4wNjkyMTIzMDczNjgyODUsIDM1LjgzOTAzMzkxMjI1MDVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZmU0Y2YyMTAzZmRlNDdmNDkxZDBkMDkwOWVkOTc5NDkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYmIyNDkzOWI5YzNjNDc3MmIwZmQzNGZhMTM1ZGQxZjQgPSAkKGA8ZGl2IGlkPSJodG1sX2JiMjQ5MzliOWMzYzQ3NzJiMGZkMzRmYTEzNWRkMWY0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBmcmljdGlvbnMuZ2VvanNvbjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2VvanNvbjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxNDIxMzA0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJpY3ljbGUgdHJpcHMgY29sbGVjdGVkIHVzaW5nIEN5Y2xpc3RzIEdlby1DIGdlby1nYW1lPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xNDIxMzA1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmU0Y2YyMTAzZmRlNDdmNDkxZDBkMDkwOWVkOTc5NDkuc2V0Q29udGVudChodG1sX2JiMjQ5MzliOWMzYzQ3NzJiMGZkMzRmYTEzNWRkMWY0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZGEwYTYyOTBmYWM0NDc1Nzg5ZDc5YzA1NjUzZTIyMGYuYmluZFBvcHVwKHBvcHVwX2ZlNGNmMjEwM2ZkZTQ3ZjQ5MWQwZDA5MDllZDk3OTQ5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU1NzIxMmM1MjhkYzRkOTg4NjkxMzVlYTQ2OTczNWM3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTU3MjEyYzUyOGRjNGQ5ODg2OTEzNWVhNDY5NzM1YzcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTU3MjEyYzUyOGRjNGQ5ODg2OTEzNWVhNDY5NzM1Yzdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9hNDBhYTY3NGU1YTk0OWEyOWNlYjIxOTFkMDQ0YmQ4MCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU1NzIxMmM1MjhkYzRkOTg4NjkxMzVlYTQ2OTczNWM3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81NTcyMTJjNTI4ZGM0ZDk4ODY5MTM1ZWE0Njk3MzVjNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTU3MjEyYzUyOGRjNGQ5ODg2OTEzNWVhNDY5NzM1YzdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stOTkuMDk2MjksIDE5LjQ1Nzk3NV0sIFsxNS44MjkyOTksIDE5LjQ1Nzk3NV0sIFsxNS44MjkyOTksIDUyLjE2ODI2Nl0sIFstOTkuMDk2MjksIDUyLjE2ODI2Nl0sIFstOTkuMDk2MjksIDE5LjQ1Nzk3NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jNjBhYTQ3NWM1N2Y0NWFlOTc2OTJiNDAxMzBkMDAxOCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xNWU1YzZhNGQxYzM0YjQ5YTNkNTM5MjljYWE5MjY5YiA9ICQoYDxkaXYgaWQ9Imh0bWxfMTVlNWM2YTRkMWMzNGI0OWEzZDUzOTI5Y2FhOTI2OWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHRyaXBzX3RhZ3MuZ2VvanNvbjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2VvanNvbjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAxNDIxMzA0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJpY3ljbGUgdHJpcHMgY29sbGVjdGVkIHVzaW5nIEN5Y2xpc3RzIEdlby1DIGdlby1nYW1lPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4xNDIxMzA1PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYzYwYWE0NzVjNTdmNDVhZTk3NjkyYjQwMTMwZDAwMTguc2V0Q29udGVudChodG1sXzE1ZTVjNmE0ZDFjMzRiNDlhM2Q1MzkyOWNhYTkyNjliKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNTU3MjEyYzUyOGRjNGQ5ODg2OTEzNWVhNDY5NzM1YzcuYmluZFBvcHVwKHBvcHVwX2M2MGFhNDc1YzU3ZjQ1YWU5NzY5MmI0MDEzMGQwMDE4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF83NGQ4ODUwOWI0NjI0ODkxOGY4N2I2MDBkMTZiNDJlNCA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNGUwMTU2NDU3Y2IzNDQ3MWIyMGQ3ZmRhODdmOGQ4YjNfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80ZTAxNTY0NTdjYjM0NDcxYjIwZDdmZGE4N2Y4ZDhiM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRlMDE1NjQ1N2NiMzQ0NzFiMjBkN2ZkYTg3ZjhkOGIzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRlMDE1NjQ1N2NiMzQ0NzFiMjBkN2ZkYTg3ZjhkOGIzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uXzRlMDE1NjQ1N2NiMzQ0NzFiMjBkN2ZkYTg3ZjhkOGIzX3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzc0ZDg4NTA5YjQ2MjQ4OTE4Zjg3YjYwMGQxNmI0MmU0KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNGUwMTU2NDU3Y2IzNDQ3MWIyMGQ3ZmRhODdmOGQ4YjNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzRlMDE1NjQ1N2NiMzQ0NzFiMjBkN2ZkYTg3ZjhkOGIzLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80ZTAxNTY0NTdjYjM0NDcxYjIwZDdmZGE4N2Y4ZDhiM19hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWy0xNzkuMjMxMDg2LCAxNy44MzE1MDldLCBbMTc5Ljg1OTY4MSwgMTcuODMxNTA5XSwgWzE3OS44NTk2ODEsIDcxLjQ0MTA1OV0sIFstMTc5LjIzMTA4NiwgNzEuNDQxMDU5XSwgWy0xNzkuMjMxMDg2LCAxNy44MzE1MDldXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84ODkxMWFiOGE1YWY0OWQwYTcyNjBmNjBjODI4OGI2MCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xODllYWFmMTlhYTk0NjkyOGIxYzFmMDA1Mjk2Y2VjMCA9ICQoYDxkaXYgaWQ9Imh0bWxfMTg5ZWFhZjE5YWE5NDY5MjhiMWMxZjAwNTI5NmNlYzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDEyNzA0ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBQVURMIFJhdyBDZW5zdXMgRFAxIFRyYWN0IEdlb0RhdGFiYXNlPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjQxMjcwNDk8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5vdGhlci1wZDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODg5MTFhYjhhNWFmNDlkMGE3MjYwZjYwYzgyODhiNjAuc2V0Q29udGVudChodG1sXzE4OWVhYWYxOWFhOTQ2OTI4YjFjMWYwMDUyOTZjZWMwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGUwMTU2NDU3Y2IzNDQ3MWIyMGQ3ZmRhODdmOGQ4YjMuYmluZFBvcHVwKHBvcHVwXzg4OTExYWI4YTVhZjQ5ZDBhNzI2MGY2MGM4Mjg4YjYwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVkMjAxZDJjNTI3OTRiMDM5OTY5YmEyNWJjZDg3ZTZlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNWQyMDFkMmM1Mjc5NGIwMzk5NjliYTI1YmNkODdlNmUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNWQyMDFkMmM1Mjc5NGIwMzk5NjliYTI1YmNkODdlNmVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83NGQ4ODUwOWI0NjI0ODkxOGY4N2I2MDBkMTZiNDJlNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVkMjAxZDJjNTI3OTRiMDM5OTY5YmEyNWJjZDg3ZTZlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81ZDIwMWQyYzUyNzk0YjAzOTk2OWJhMjViY2Q4N2U2ZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNWQyMDFkMmM1Mjc5NGIwMzk5NjliYTI1YmNkODdlNmVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTc5LjIzMTA4NiwgMTcuODMxNTA5XSwgWzE3OS44NTk2ODEsIDE3LjgzMTUwOV0sIFsxNzkuODU5NjgxLCA3MS40NDEwNTldLCBbLTE3OS4yMzEwODYsIDcxLjQ0MTA1OV0sIFstMTc5LjIzMTA4NiwgMTcuODMxNTA5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzdhY2FjY2VmZjczOTQ2OGI5ZmJiNjcyMjQzMGVjOWM2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzM5Nzk5YmY2ZTJjNzQ4NDI4YWVlNTc1OGZmYTllNzVkID0gJChgPGRpdiBpZD0iaHRtbF8zOTc5OWJmNmUyYzc0ODQyOGFlZTU3NThmZmE5ZTc1ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMDBhLmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MTI3MDQ4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFBVREwgUmF3IENlbnN1cyBEUDEgVHJhY3QgR2VvRGF0YWJhc2U8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQxMjcwNDk8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5vdGhlci1wZDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzdhY2FjY2VmZjczOTQ2OGI5ZmJiNjcyMjQzMGVjOWM2LnNldENvbnRlbnQoaHRtbF8zOTc5OWJmNmUyYzc0ODQyOGFlZTU3NThmZmE5ZTc1ZCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzVkMjAxZDJjNTI3OTRiMDM5OTY5YmEyNWJjZDg3ZTZlLmJpbmRQb3B1cChwb3B1cF83YWNhY2NlZmY3Mzk0NjhiOWZiYjY3MjI0MzBlYzljNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MWYxZTIyZWYzMjE0MGMyOThkODhlZjJmYjIxMDYwYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzcxZjFlMjJlZjMyMTQwYzI5OGQ4OGVmMmZiMjEwNjBhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzcxZjFlMjJlZjMyMTQwYzI5OGQ4OGVmMmZiMjEwNjBhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNzRkODg1MDliNDYyNDg5MThmODdiNjAwZDE2YjQyZTQpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MWYxZTIyZWYzMjE0MGMyOThkODhlZjJmYjIxMDYwYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzFmMWUyMmVmMzIxNDBjMjk4ZDg4ZWYyZmIyMTA2MGEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzcxZjFlMjJlZjMyMTQwYzI5OGQ4OGVmMmZiMjEwNjBhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE3OS4yMzEwODYsIDE3LjgzMTUwOV0sIFsxNzkuODU5NjgxLCAxNy44MzE1MDldLCBbMTc5Ljg1OTY4MSwgNzEuNDQxMDU5XSwgWy0xNzkuMjMxMDg2LCA3MS40NDEwNTldLCBbLTE3OS4yMzEwODYsIDE3LjgzMTUwOV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82YzNiNTVmYWUyNTY0YTdkYjFhMmQxOWQ5YmMxMGMyMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hY2QzMWExZmVkN2M0Y2I4OWMxN2IyOWVhMmNkMjBkYiA9ICQoYDxkaXYgaWQ9Imh0bWxfYWNkMzFhMWZlZDdjNGNiODljMTdiMjllYTJjZDIwZGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGEwMDAwMDAwNC5nZGJ0YWJsZTwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gZ2RidGFibGU8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDEyNzA0ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBQVURMIFJhdyBDZW5zdXMgRFAxIFRyYWN0IEdlb0RhdGFiYXNlPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40MTI3MDQ5PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+b3RoZXItcGQ8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82YzNiNTVmYWUyNTY0YTdkYjFhMmQxOWQ5YmMxMGMyMS5zZXRDb250ZW50KGh0bWxfYWNkMzFhMWZlZDdjNGNiODljMTdiMjllYTJjZDIwZGIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83MWYxZTIyZWYzMjE0MGMyOThkODhlZjJmYjIxMDYwYS5iaW5kUG9wdXAocG9wdXBfNmMzYjU1ZmFlMjU2NGE3ZGIxYTJkMTlkOWJjMTBjMjEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDY1ZDc4Mjg4OGVjNDU4NGI1MzU0MTgxZDVjMjk0ZjBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kNjVkNzgyODg4ZWM0NTg0YjUzNTQxODFkNWMyOTRmMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kNjVkNzgyODg4ZWM0NTg0YjUzNTQxODFkNWMyOTRmMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzc0ZDg4NTA5YjQ2MjQ4OTE4Zjg3YjYwMGQxNmI0MmU0KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDY1ZDc4Mjg4OGVjNDU4NGI1MzU0MTgxZDVjMjk0ZjBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Q2NWQ3ODI4ODhlYzQ1ODRiNTM1NDE4MWQ1YzI5NGYwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kNjVkNzgyODg4ZWM0NTg0YjUzNTQxODFkNWMyOTRmMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xNzkuMjMxMDg2LCAxNy44MzE1MDldLCBbMTc5Ljg1OTY4MSwgMTcuODMxNTA5XSwgWzE3OS44NTk2ODEsIDcxLjQ0MTA1OV0sIFstMTc5LjIzMTA4NiwgNzEuNDQxMDU5XSwgWy0xNzkuMjMxMDg2LCAxNy44MzE1MDldXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOWRhZjU5OGViYTZiNGE1OThiNzc4YjI0MzIxMjE0NWEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOWU1M2E4Nzk1MGNjNDAxNDhhZjlkOTQzMzBiYmQ4MWUgPSAkKGA8ZGl2IGlkPSJodG1sXzllNTNhODc5NTBjYzQwMTQ4YWY5ZDk0MzMwYmJkODFlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBhMDAwMDAwMDkuZ2RidGFibGU8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGdkYnRhYmxlPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQxMjcwNDg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gUFVETCBSYXcgQ2Vuc3VzIERQMSBUcmFjdCBHZW9EYXRhYmFzZTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDEyNzA0OTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPm90aGVyLXBkPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOWRhZjU5OGViYTZiNGE1OThiNzc4YjI0MzIxMjE0NWEuc2V0Q29udGVudChodG1sXzllNTNhODc5NTBjYzQwMTQ4YWY5ZDk0MzMwYmJkODFlKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZDY1ZDc4Mjg4OGVjNDU4NGI1MzU0MTgxZDVjMjk0ZjAuYmluZFBvcHVwKHBvcHVwXzlkYWY1OThlYmE2YjRhNTk4Yjc3OGIyNDMyMTIxNDVhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2QxYWM0ZDNmMmM5OTQ5N2NiZjdlNWE3MzY4M2E5MTg5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZDFhYzRkM2YyYzk5NDk3Y2JmN2U1YTczNjgzYTkxODkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZDFhYzRkM2YyYzk5NDk3Y2JmN2U1YTczNjgzYTkxODlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF83NGQ4ODUwOWI0NjI0ODkxOGY4N2I2MDBkMTZiNDJlNCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2QxYWM0ZDNmMmM5OTQ5N2NiZjdlNWE3MzY4M2E5MTg5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kMWFjNGQzZjJjOTk0OTdjYmY3ZTVhNzM2ODNhOTE4OS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZDFhYzRkM2YyYzk5NDk3Y2JmN2U1YTczNjgzYTkxODlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTc5LjIzMTA4NiwgMTcuODMxNTA5XSwgWzE3OS44NTk2ODEsIDE3LjgzMTUwOV0sIFsxNzkuODU5NjgxLCA3MS40NDEwNTldLCBbLTE3OS4yMzEwODYsIDcxLjQ0MTA1OV0sIFstMTc5LjIzMTA4NiwgMTcuODMxNTA5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzEzZTkzNWI5NjM2NzRiNWJhMDExZTZjNGIxZDJhYWMwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzhlZjJhMGQ5ODY5NDQ2NTBiY2U0Yzg5ZjM1OGEzMjE3ID0gJChgPGRpdiBpZD0iaHRtbF84ZWYyYTBkOTg2OTQ0NjUwYmNlNGM4OWYzNThhMzIxNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gYTAwMDAwMDBiLmdkYnRhYmxlPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBnZGJ0YWJsZTwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MTI3MDQ4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFBVREwgUmF3IENlbnN1cyBEUDEgVHJhY3QgR2VvRGF0YWJhc2U8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQxMjcwNDk8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5vdGhlci1wZDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzEzZTkzNWI5NjM2NzRiNWJhMDExZTZjNGIxZDJhYWMwLnNldENvbnRlbnQoaHRtbF84ZWYyYTBkOTg2OTQ0NjUwYmNlNGM4OWYzNThhMzIxNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2QxYWM0ZDNmMmM5OTQ5N2NiZjdlNWE3MzY4M2E5MTg5LmJpbmRQb3B1cChwb3B1cF8xM2U5MzViOTYzNjc0YjViYTAxMWU2YzRiMWQyYWFjMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfZDQ0YzdmNDY2ODdhNGE3OWExNTNkN2JlNjc2NzQ5YjggPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2RjZTBmYTI4MWMyYjQ4MmM5MGYyY2Y3ZmVmZTE1YmE0X3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZGNlMGZhMjgxYzJiNDgyYzkwZjJjZjdmZWZlMTViYTRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kY2UwZmEyODFjMmI0ODJjOTBmMmNmN2ZlZmUxNWJhNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kY2UwZmEyODFjMmI0ODJjOTBmMmNmN2ZlZmUxNWJhNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl9kY2UwZmEyODFjMmI0ODJjOTBmMmNmN2ZlZmUxNWJhNF9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kNDRjN2Y0NjY4N2E0YTc5YTE1M2Q3YmU2NzY3NDliOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2RjZTBmYTI4MWMyYjQ4MmM5MGYyY2Y3ZmVmZTE1YmE0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kY2UwZmEyODFjMmI0ODJjOTBmMmNmN2ZlZmUxNWJhNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZGNlMGZhMjgxYzJiNDgyYzkwZjJjZjdmZWZlMTViYTRfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1syOC45MzEwMTYzMzQxNzY1LCAyOC45NDQ0MjIzNDY2MzRdLCBbNDEuMDM5MzUxODg5MDA1MywgMjguOTQ0NDIyMzQ2NjM0XSwgWzQxLjAzOTM1MTg4OTAwNTMsIDQxLjA0Mjc4NTY2OTQ1MTRdLCBbMjguOTMxMDE2MzM0MTc2NSwgNDEuMDQyNzg1NjY5NDUxNF0sIFsyOC45MzEwMTYzMzQxNzY1LCAyOC45NDQ0MjIzNDY2MzRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80OTEwMzhiYWMwNzg0ODAxODA0NmZmYTM2ODI5Y2YyNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lYzAyYTJjNTY2ZWU0OTY4YTM3M2QyZjNiMTRlYmU1YSA9ICQoYDxkaXYgaWQ9Imh0bWxfZWMwMmEyYzU2NmVlNDk2OGEzNzNkMmYzYjE0ZWJlNWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5NjAzMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBCdWlsZGluZ3MgaW5kaWNhdGluZyB0aGUgbXVsdGljdWx0dXJhbCBjaGFyYWN0ZXIgb2YgQmFsYXQgb24gdGhlIFBlcnZpdGljaCBNYXBzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjQzOTYwMzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQ5MTAzOGJhYzA3ODQ4MDE4MDQ2ZmZhMzY4MjljZjI2LnNldENvbnRlbnQoaHRtbF9lYzAyYTJjNTY2ZWU0OTY4YTM3M2QyZjNiMTRlYmU1YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2RjZTBmYTI4MWMyYjQ4MmM5MGYyY2Y3ZmVmZTE1YmE0LmJpbmRQb3B1cChwb3B1cF80OTEwMzhiYWMwNzg0ODAxODA0NmZmYTM2ODI5Y2YyNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mMDdjNTA3ODdiNzI0Njc1YThhYWQzZTk2YWNhYzE0NV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2YwN2M1MDc4N2I3MjQ2NzVhOGFhZDNlOTZhY2FjMTQ1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2YwN2M1MDc4N2I3MjQ2NzVhOGFhZDNlOTZhY2FjMTQ1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZDQ0YzdmNDY2ODdhNGE3OWExNTNkN2JlNjc2NzQ5YjgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mMDdjNTA3ODdiNzI0Njc1YThhYWQzZTk2YWNhYzE0NV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjA3YzUwNzg3YjcyNDY3NWE4YWFkM2U5NmFjYWMxNDUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2YwN2M1MDc4N2I3MjQ2NzVhOGFhZDNlOTZhY2FjMTQ1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjguOTQ2NTU5OTQ1OTMwNiwgNDEuMDMwMTM5ODI3MzkyXSwgWzI4Ljk1MTMzNjAxODczOTgsIDQxLjAzMDEzOTgyNzM5Ml0sIFsyOC45NTEzMzYwMTg3Mzk4LCA0MS4wMzM4NzMzNjc3Mjg3XSwgWzI4Ljk0NjU1OTk0NTkzMDYsIDQxLjAzMzg3MzM2NzcyODddLCBbMjguOTQ2NTU5OTQ1OTMwNiwgNDEuMDMwMTM5ODI3MzkyXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzc1YWM1MzIyNzQ0NjQ0Njk5Y2U4NmQwNWNkYzAyNGRmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FiYzM3MTMyMmQ3NjQyYzhiZThhZGM3MWUxMjJkMzc5ID0gJChgPGRpdiBpZD0iaHRtbF9hYmMzNzEzMjJkNzY0MmM4YmU4YWRjNzFlMTIyZDM3OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQVBMUEVCQUxBMjRfbW9kaWZpZWQudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5NjAzMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBCdWlsZGluZ3MgaW5kaWNhdGluZyB0aGUgbXVsdGljdWx0dXJhbCBjaGFyYWN0ZXIgb2YgQmFsYXQgb24gdGhlIFBlcnZpdGljaCBNYXBzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40Mzk2MDMyPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNzVhYzUzMjI3NDQ2NDQ2OTljZTg2ZDA1Y2RjMDI0ZGYuc2V0Q29udGVudChodG1sX2FiYzM3MTMyMmQ3NjQyYzhiZThhZGM3MWUxMjJkMzc5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZjA3YzUwNzg3YjcyNDY3NWE4YWFkM2U5NmFjYWMxNDUuYmluZFBvcHVwKHBvcHVwXzc1YWM1MzIyNzQ0NjQ0Njk5Y2U4NmQwNWNkYzAyNGRmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzllZjViNGFmOWRhNTRkNDhhZmUxMzE4NTBhMzFmMmQ5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOWVmNWI0YWY5ZGE1NGQ0OGFmZTEzMTg1MGEzMWYyZDkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOWVmNWI0YWY5ZGE1NGQ0OGFmZTEzMTg1MGEzMWYyZDlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kNDRjN2Y0NjY4N2E0YTc5YTE1M2Q3YmU2NzY3NDliOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzllZjViNGFmOWRhNTRkNDhhZmUxMzE4NTBhMzFmMmQ5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85ZWY1YjRhZjlkYTU0ZDQ4YWZlMTMxODUwYTMxZjJkOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOWVmNWI0YWY5ZGE1NGQ0OGFmZTEzMTg1MGEzMWYyZDlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1syOC45NDQyOTc3NDcyOTc1LCA0MS4wMzE3ODMxNjc3NTc3XSwgWzI4Ljk0OTM3MDI0ODI4ODIsIDQxLjAzMTc4MzE2Nzc1NzddLCBbMjguOTQ5MzcwMjQ4Mjg4MiwgNDEuMDM1MzYzMjUwOTg2NV0sIFsyOC45NDQyOTc3NDcyOTc1LCA0MS4wMzUzNjMyNTA5ODY1XSwgWzI4Ljk0NDI5Nzc0NzI5NzUsIDQxLjAzMTc4MzE2Nzc1NzddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfY2Y1ZWVhNDJlMGJlNGVhMjg2NjNlZDY5MGEzZDhjMmIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNDE4OTk2NWE0MjBmNGQzMjg1YjQ3OGU3NTg1MWUyZjAgPSAkKGA8ZGl2IGlkPSJodG1sXzQxODk5NjVhNDIwZjRkMzI4NWI0NzhlNzU4NTFlMmYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBUExQRUJBTEEyN19tb2RpZmllZC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0Mzk2MDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJ1aWxkaW5ncyBpbmRpY2F0aW5nIHRoZSBtdWx0aWN1bHR1cmFsIGNoYXJhY3RlciBvZiBCYWxhdCBvbiB0aGUgUGVydml0aWNoIE1hcHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTYwMzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jZjVlZWE0MmUwYmU0ZWEyODY2M2VkNjkwYTNkOGMyYi5zZXRDb250ZW50KGh0bWxfNDE4OTk2NWE0MjBmNGQzMjg1YjQ3OGU3NTg1MWUyZjApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85ZWY1YjRhZjlkYTU0ZDQ4YWZlMTMxODUwYTMxZjJkOS5iaW5kUG9wdXAocG9wdXBfY2Y1ZWVhNDJlMGJlNGVhMjg2NjNlZDY5MGEzZDhjMmIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWEwNWIwNTY3MzA2NDhjZDliNWQzN2VkOTNmOWRhNWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81YTA1YjA1NjczMDY0OGNkOWI1ZDM3ZWQ5M2Y5ZGE1YSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81YTA1YjA1NjczMDY0OGNkOWI1ZDM3ZWQ5M2Y5ZGE1YV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2Q0NGM3ZjQ2Njg3YTRhNzlhMTUzZDdiZTY3Njc0OWI4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWEwNWIwNTY3MzA2NDhjZDliNWQzN2VkOTNmOWRhNWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzVhMDViMDU2NzMwNjQ4Y2Q5YjVkMzdlZDkzZjlkYTVhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81YTA1YjA1NjczMDY0OGNkOWI1ZDM3ZWQ5M2Y5ZGE1YV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI4Ljk0MzIwMDI2NjU3ODUsIDQxLjAzMzgwMTE3NTExMzhdLCBbMjguOTQ5NjQyNjM4NzE3LCA0MS4wMzM4MDExNzUxMTM4XSwgWzI4Ljk0OTY0MjYzODcxNywgNDEuMDM5NTgxNTA0OTU0N10sIFsyOC45NDMyMDAyNjY1Nzg1LCA0MS4wMzk1ODE1MDQ5NTQ3XSwgWzI4Ljk0MzIwMDI2NjU3ODUsIDQxLjAzMzgwMTE3NTExMzhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzI3OTZmYmVjNTAwNDk2ZmE2MTA1N2FkOWI2ZjU4NTkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNTY3NjBkOGI5OGE1NDk3NDkzOTI4Nzk1ZDhhOGQwYjIgPSAkKGA8ZGl2IGlkPSJodG1sXzU2NzYwZDhiOThhNTQ5NzQ5MzkyODc5NWQ4YThkMGIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBUExQRUJBTEEyOF9tb2RpZmllZC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0Mzk2MDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJ1aWxkaW5ncyBpbmRpY2F0aW5nIHRoZSBtdWx0aWN1bHR1cmFsIGNoYXJhY3RlciBvZiBCYWxhdCBvbiB0aGUgUGVydml0aWNoIE1hcHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTYwMzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jMjc5NmZiZWM1MDA0OTZmYTYxMDU3YWQ5YjZmNTg1OS5zZXRDb250ZW50KGh0bWxfNTY3NjBkOGI5OGE1NDk3NDkzOTI4Nzk1ZDhhOGQwYjIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81YTA1YjA1NjczMDY0OGNkOWI1ZDM3ZWQ5M2Y5ZGE1YS5iaW5kUG9wdXAocG9wdXBfYzI3OTZmYmVjNTAwNDk2ZmE2MTA1N2FkOWI2ZjU4NTkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNGZjNmJiMWE1MGEzNDJkY2I2MmEwMzE1NTYwY2ZjZDRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80ZmM2YmIxYTUwYTM0MmRjYjYyYTAzMTU1NjBjZmNkNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80ZmM2YmIxYTUwYTM0MmRjYjYyYTAzMTU1NjBjZmNkNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2Q0NGM3ZjQ2Njg3YTRhNzlhMTUzZDdiZTY3Njc0OWI4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNGZjNmJiMWE1MGEzNDJkY2I2MmEwMzE1NTYwY2ZjZDRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzRmYzZiYjFhNTBhMzQyZGNiNjJhMDMxNTU2MGNmY2Q0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80ZmM2YmIxYTUwYTM0MmRjYjYyYTAzMTU1NjBjZmNkNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI4Ljk0NjIzNTg4NTExMDEsIDQxLjAyNzcwMTcxOTUwMjRdLCBbMjguOTUwNjEzNzc1MDUyLCA0MS4wMjc3MDE3MTk1MDI0XSwgWzI4Ljk1MDYxMzc3NTA1MiwgNDEuMDMxMjQxNTIwMzI0Ml0sIFsyOC45NDYyMzU4ODUxMTAxLCA0MS4wMzEyNDE1MjAzMjQyXSwgWzI4Ljk0NjIzNTg4NTExMDEsIDQxLjAyNzcwMTcxOTUwMjRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzBkNWVlNTczM2Q5NGIzZmJhNDUzMDMwZjc2ODdkZjMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjhlYTEyNGFkZTI0NGJhZDk4ODY2M2I3MjMxZmU3MjcgPSAkKGA8ZGl2IGlkPSJodG1sX2Y4ZWExMjRhZGUyNDRiYWQ5ODg2NjNiNzIzMWZlNzI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBUExQRUJBTEEyNV9tb2RpZmllZC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0Mzk2MDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJ1aWxkaW5ncyBpbmRpY2F0aW5nIHRoZSBtdWx0aWN1bHR1cmFsIGNoYXJhY3RlciBvZiBCYWxhdCBvbiB0aGUgUGVydml0aWNoIE1hcHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTYwMzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zMGQ1ZWU1NzMzZDk0YjNmYmE0NTMwMzBmNzY4N2RmMy5zZXRDb250ZW50KGh0bWxfZjhlYTEyNGFkZTI0NGJhZDk4ODY2M2I3MjMxZmU3MjcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl80ZmM2YmIxYTUwYTM0MmRjYjYyYTAzMTU1NjBjZmNkNC5iaW5kUG9wdXAocG9wdXBfMzBkNWVlNTczM2Q5NGIzZmJhNDUzMDMwZjc2ODdkZjMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZGFjZmM0Y2JmNTYyNDJmYmE2NGZjZjcyZTYyODZjNjZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kYWNmYzRjYmY1NjI0MmZiYTY0ZmNmNzJlNjI4NmM2NiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kYWNmYzRjYmY1NjI0MmZiYTY0ZmNmNzJlNjI4NmM2Nl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2Q0NGM3ZjQ2Njg3YTRhNzlhMTUzZDdiZTY3Njc0OWI4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZGFjZmM0Y2JmNTYyNDJmYmE2NGZjZjcyZTYyODZjNjZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2RhY2ZjNGNiZjU2MjQyZmJhNjRmY2Y3MmU2Mjg2YzY2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kYWNmYzRjYmY1NjI0MmZiYTY0ZmNmNzJlNjI4NmM2Nl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI4Ljk0MDMwNDY3MjM1NTIsIDQxLjAyNjMxOTc1NTI2MDhdLCBbMjguOTQ5ODIxNDMxMTI0MSwgNDEuMDI2MzE5NzU1MjYwOF0sIFsyOC45NDk4MjE0MzExMjQxLCA0MS4wMzM3MTI1OTY3MDA1XSwgWzI4Ljk0MDMwNDY3MjM1NTIsIDQxLjAzMzcxMjU5NjcwMDVdLCBbMjguOTQwMzA0NjcyMzU1MiwgNDEuMDI2MzE5NzU1MjYwOF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85MzdlNmZmOWVkNTQ0ODA3YWVlNjBmZjU1ODgwMzNmZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jMmI3ZjY5YmE2OTk0YjI1OGI2OTdjMzgyN2UxZmU2NiA9ICQoYDxkaXYgaWQ9Imh0bWxfYzJiN2Y2OWJhNjk5NGIyNThiNjk3YzM4MjdlMWZlNjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEFQTFBFQkFMQTI2X21vZGlmaWVkLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTYwMzE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQnVpbGRpbmdzIGluZGljYXRpbmcgdGhlIG11bHRpY3VsdHVyYWwgY2hhcmFjdGVyIG9mIEJhbGF0IG9uIHRoZSBQZXJ2aXRpY2ggTWFwczwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5NjAzMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzkzN2U2ZmY5ZWQ1NDQ4MDdhZWU2MGZmNTU4ODAzM2ZmLnNldENvbnRlbnQoaHRtbF9jMmI3ZjY5YmE2OTk0YjI1OGI2OTdjMzgyN2UxZmU2Nik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2RhY2ZjNGNiZjU2MjQyZmJhNjRmY2Y3MmU2Mjg2YzY2LmJpbmRQb3B1cChwb3B1cF85MzdlNmZmOWVkNTQ0ODA3YWVlNjBmZjU1ODgwMzNmZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNTNkMTQ4YzE3Y2I0NzI1YjM4MWExZDVhYTRiZDkzZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y1M2QxNDhjMTdjYjQ3MjViMzgxYTFkNWFhNGJkOTNkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y1M2QxNDhjMTdjYjQ3MjViMzgxYTFkNWFhNGJkOTNkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZDQ0YzdmNDY2ODdhNGE3OWExNTNkN2JlNjc2NzQ5YjgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNTNkMTQ4YzE3Y2I0NzI1YjM4MWExZDVhYTRiZDkzZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjUzZDE0OGMxN2NiNDcyNWIzODFhMWQ1YWE0YmQ5M2QuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y1M2QxNDhjMTdjYjQ3MjViMzgxYTFkNWFhNGJkOTNkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjguOTM0MzgzMjc5MjM2OCwgNDEuMDMxNDAzOTUxMTQxM10sIFsyOC45NTQzOTM4OTYyNjc1LCA0MS4wMzE0MDM5NTExNDEzXSwgWzI4Ljk1NDM5Mzg5NjI2NzUsIDQxLjAzNzk5MDU4ODI0MDRdLCBbMjguOTM0MzgzMjc5MjM2OCwgNDEuMDM3OTkwNTg4MjQwNF0sIFsyOC45MzQzODMyNzkyMzY4LCA0MS4wMzE0MDM5NTExNDEzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2I1M2E0MzAyMGE4ZDRkNjJhZGIxOTEwZDg3NWMyOWNhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2ExODYxYmExYWNiNzRjNWE4ZTMwYTBlN2FhZWM1NGJiID0gJChgPGRpdiBpZD0iaHRtbF9hMTg2MWJhMWFjYjc0YzVhOGUzMGEwZTdhYWVjNTRiYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU2NyZWVuc2hvdCAyMDIwLTEyLTI3IGF0IDExLjQyLjE4X21vZGlmaWVkLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTYwMzE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQnVpbGRpbmdzIGluZGljYXRpbmcgdGhlIG11bHRpY3VsdHVyYWwgY2hhcmFjdGVyIG9mIEJhbGF0IG9uIHRoZSBQZXJ2aXRpY2ggTWFwczwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5NjAzMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2I1M2E0MzAyMGE4ZDRkNjJhZGIxOTEwZDg3NWMyOWNhLnNldENvbnRlbnQoaHRtbF9hMTg2MWJhMWFjYjc0YzVhOGUzMGEwZTdhYWVjNTRiYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Y1M2QxNDhjMTdjYjQ3MjViMzgxYTFkNWFhNGJkOTNkLmJpbmRQb3B1cChwb3B1cF9iNTNhNDMwMjBhOGQ0ZDYyYWRiMTkxMGQ4NzVjMjljYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNzkzOGRiNmZkYjY0ZjU1OWY4MGQ0NmFkYTQ4N2E1YV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y3OTM4ZGI2ZmRiNjRmNTU5ZjgwZDQ2YWRhNDg3YTVhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y3OTM4ZGI2ZmRiNjRmNTU5ZjgwZDQ2YWRhNDg3YTVhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZDQ0YzdmNDY2ODdhNGE3OWExNTNkN2JlNjc2NzQ5YjgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNzkzOGRiNmZkYjY0ZjU1OWY4MGQ0NmFkYTQ4N2E1YV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjc5MzhkYjZmZGI2NGY1NTlmODBkNDZhZGE0ODdhNWEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y3OTM4ZGI2ZmRiNjRmNTU5ZjgwZDQ2YWRhNDg3YTVhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjguOTQwMDcwMjMxOTI5NywgNDEuMDI3NDgxMzMzMDk0MV0sIFsyOC45NjAxNTkzMjc4MjIyLCA0MS4wMjc0ODEzMzMwOTQxXSwgWzI4Ljk2MDE1OTMyNzgyMjIsIDQxLjAzMzkzMzYxMjc1MTNdLCBbMjguOTQwMDcwMjMxOTI5NywgNDEuMDMzOTMzNjEyNzUxM10sIFsyOC45NDAwNzAyMzE5Mjk3LCA0MS4wMjc0ODEzMzMwOTQxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2RiOWNmMjMxZTdhNzRhYWU4ZmEzYWY2OTBjODY4Mjc1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2I0ZjljMGJkODc1NzRlMWU4ODBmZjQ3ZDYzM2M3MDc5ID0gJChgPGRpdiBpZD0iaHRtbF9iNGY5YzBiZDg3NTc0ZTFlODgwZmY0N2Q2MzNjNzA3OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gU2NyZWVuc2hvdCAyMDIwLTEyLTI3IGF0IDExLjQyLjI4X21vZGlmaWVkLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTYwMzE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQnVpbGRpbmdzIGluZGljYXRpbmcgdGhlIG11bHRpY3VsdHVyYWwgY2hhcmFjdGVyIG9mIEJhbGF0IG9uIHRoZSBQZXJ2aXRpY2ggTWFwczwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5NjAzMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2RiOWNmMjMxZTdhNzRhYWU4ZmEzYWY2OTBjODY4Mjc1LnNldENvbnRlbnQoaHRtbF9iNGY5YzBiZDg3NTc0ZTFlODgwZmY0N2Q2MzNjNzA3OSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Y3OTM4ZGI2ZmRiNjRmNTU5ZjgwZDQ2YWRhNDg3YTVhLmJpbmRQb3B1cChwb3B1cF9kYjljZjIzMWU3YTc0YWFlOGZhM2FmNjkwYzg2ODI3NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83NDkwMzg0MDM3MGM0NTBiOTIzOGNiZDkxNmIxNTNhYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzc0OTAzODQwMzcwYzQ1MGI5MjM4Y2JkOTE2YjE1M2FhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzc0OTAzODQwMzcwYzQ1MGI5MjM4Y2JkOTE2YjE1M2FhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZDQ0YzdmNDY2ODdhNGE3OWExNTNkN2JlNjc2NzQ5YjgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83NDkwMzg0MDM3MGM0NTBiOTIzOGNiZDkxNmIxNTNhYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzQ5MDM4NDAzNzBjNDUwYjkyMzhjYmQ5MTZiMTUzYWEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzc0OTAzODQwMzcwYzQ1MGI5MjM4Y2JkOTE2YjE1M2FhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjguOTQxNjk4MDE0MjI5NywgNDEuMDIzNzUzMzQ2NDYzNF0sIFsyOC45NjE4NDExOTgwNzEsIDQxLjAyMzc1MzM0NjQ2MzRdLCBbMjguOTYxODQxMTk4MDcxLCA0MS4wMzAxNTMyNjc1MjE2XSwgWzI4Ljk0MTY5ODAxNDIyOTcsIDQxLjAzMDE1MzI2NzUyMTZdLCBbMjguOTQxNjk4MDE0MjI5NywgNDEuMDIzNzUzMzQ2NDYzNF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zZmI1MGM4MDFiM2I0NzQ1OWYwOGNlMTBmYTU3ZTQ5MyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81ZWI3YTcxZjc4OGY0OWIyODFhN2Q0YzBkYTZmY2U5OSA9ICQoYDxkaXYgaWQ9Imh0bWxfNWViN2E3MWY3ODhmNDliMjgxYTdkNGMwZGE2ZmNlOTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNjcmVlbnNob3QgMjAyMC0xMi0yNyBhdCAxMS40Mi40MV9tb2RpZmllZC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0Mzk2MDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJ1aWxkaW5ncyBpbmRpY2F0aW5nIHRoZSBtdWx0aWN1bHR1cmFsIGNoYXJhY3RlciBvZiBCYWxhdCBvbiB0aGUgUGVydml0aWNoIE1hcHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTYwMzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zZmI1MGM4MDFiM2I0NzQ1OWYwOGNlMTBmYTU3ZTQ5My5zZXRDb250ZW50KGh0bWxfNWViN2E3MWY3ODhmNDliMjgxYTdkNGMwZGE2ZmNlOTkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83NDkwMzg0MDM3MGM0NTBiOTIzOGNiZDkxNmIxNTNhYS5iaW5kUG9wdXAocG9wdXBfM2ZiNTBjODAxYjNiNDc0NTlmMDhjZTEwZmE1N2U0OTMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzcxMDQzMTMyZjkwNGU2ZjkzMjc4NzlkNzNlZmU4NzNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zNzEwNDMxMzJmOTA0ZTZmOTMyNzg3OWQ3M2VmZTg3MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zNzEwNDMxMzJmOTA0ZTZmOTMyNzg3OWQ3M2VmZTg3M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2Q0NGM3ZjQ2Njg3YTRhNzlhMTUzZDdiZTY3Njc0OWI4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzcxMDQzMTMyZjkwNGU2ZjkzMjc4NzlkNzNlZmU4NzNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzM3MTA0MzEzMmY5MDRlNmY5MzI3ODc5ZDczZWZlODczLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zNzEwNDMxMzJmOTA0ZTZmOTMyNzg3OWQ3M2VmZTg3M19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI4LjkzMTAxNjMzNDE3NjUsIDQxLjAzNjM3MzIwMDkzODFdLCBbMjguOTUxMTI4NTkxNjk3OCwgNDEuMDM2MzczMjAwOTM4MV0sIFsyOC45NTExMjg1OTE2OTc4LCA0MS4wNDI3ODU2Njk0NTE0XSwgWzI4LjkzMTAxNjMzNDE3NjUsIDQxLjA0Mjc4NTY2OTQ1MTRdLCBbMjguOTMxMDE2MzM0MTc2NSwgNDEuMDM2MzczMjAwOTM4MV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yNDljODVjYzJjY2I0MWY5YjM1NDI3ODMzZGNhNDRiYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81NGJhZTA3OTk3MjY0YjljODk3MGQzNzY2ZTc1Y2FmYSA9ICQoYDxkaXYgaWQ9Imh0bWxfNTRiYWUwNzk5NzI2NGI5Yzg5NzBkMzc2NmU3NWNhZmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFNjcmVlbnNob3QgMjAyMC0xMi0yNyBhdCAxMS40Mi4wN19tb2RpZmllZC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0Mzk2MDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJ1aWxkaW5ncyBpbmRpY2F0aW5nIHRoZSBtdWx0aWN1bHR1cmFsIGNoYXJhY3RlciBvZiBCYWxhdCBvbiB0aGUgUGVydml0aWNoIE1hcHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTYwMzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yNDljODVjYzJjY2I0MWY5YjM1NDI3ODMzZGNhNDRiYS5zZXRDb250ZW50KGh0bWxfNTRiYWUwNzk5NzI2NGI5Yzg5NzBkMzc2NmU3NWNhZmEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zNzEwNDMxMzJmOTA0ZTZmOTMyNzg3OWQ3M2VmZTg3My5iaW5kUG9wdXAocG9wdXBfMjQ5Yzg1Y2MyY2NiNDFmOWIzNTQyNzgzM2RjYTQ0YmEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWFhMzdmMzUzYjJiNGE4NGJmNDFiYTk5NmEyZGFkMzdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lYWEzN2YzNTNiMmI0YTg0YmY0MWJhOTk2YTJkYWQzNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lYWEzN2YzNTNiMmI0YTg0YmY0MWJhOTk2YTJkYWQzN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2Q0NGM3ZjQ2Njg3YTRhNzlhMTUzZDdiZTY3Njc0OWI4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWFhMzdmMzUzYjJiNGE4NGJmNDFiYTk5NmEyZGFkMzdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2VhYTM3ZjM1M2IyYjRhODRiZjQxYmE5OTZhMmRhZDM3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lYWEzN2YzNTNiMmI0YTg0YmY0MWJhOTk2YTJkYWQzN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQxLjAzMDU5NTI1ODI4MDcsIDI4Ljk0NDQyMjM0NjYzNF0sIFs0MS4wMzkzNTE4ODkwMDUzLCAyOC45NDQ0MjIzNDY2MzRdLCBbNDEuMDM5MzUxODg5MDA1MywgMjguOTQ5MjA4NDgzMTA0M10sIFs0MS4wMzA1OTUyNTgyODA3LCAyOC45NDkyMDg0ODMxMDQzXSwgWzQxLjAzMDU5NTI1ODI4MDcsIDI4Ljk0NDQyMjM0NjYzNF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lODQxMmQ1MTBhY2U0MzE3YWEwNWI1NzVhMjBlNzE5YiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84Y2RkMGEwMTE5YTg0ZjE0ODVjYzhhN2NhZGY1NzI4YiA9ICQoYDxkaXYgaWQ9Imh0bWxfOGNkZDBhMDExOWE4NGYxNDg1Y2M4YTdjYWRmNTcyOGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEJVSUxESU5HLnNocDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gc2hwPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQzOTYwMzE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQnVpbGRpbmdzIGluZGljYXRpbmcgdGhlIG11bHRpY3VsdHVyYWwgY2hhcmFjdGVyIG9mIEJhbGF0IG9uIHRoZSBQZXJ2aXRpY2ggTWFwczwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDM5NjAzMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2U4NDEyZDUxMGFjZTQzMTdhYTA1YjU3NWEyMGU3MTliLnNldENvbnRlbnQoaHRtbF84Y2RkMGEwMTE5YTg0ZjE0ODVjYzhhN2NhZGY1NzI4Yik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2VhYTM3ZjM1M2IyYjRhODRiZjQxYmE5OTZhMmRhZDM3LmJpbmRQb3B1cChwb3B1cF9lODQxMmQ1MTBhY2U0MzE3YWEwNWI1NzVhMjBlNzE5YikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jYTYwMjg3NTY5ZGM0Mzg0OWFiMTU4MTY1NTYwNTQxMl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2NhNjAyODc1NjlkYzQzODQ5YWIxNTgxNjU1NjA1NDEyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2NhNjAyODc1NjlkYzQzODQ5YWIxNTgxNjU1NjA1NDEyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZDQ0YzdmNDY2ODdhNGE3OWExNTNkN2JlNjc2NzQ5YjgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jYTYwMjg3NTY5ZGM0Mzg0OWFiMTU4MTY1NTYwNTQxMl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fY2E2MDI4NzU2OWRjNDM4NDlhYjE1ODE2NTU2MDU0MTIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2NhNjAyODc1NjlkYzQzODQ5YWIxNTgxNjU1NjA1NDEyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDEuMDMwNTk1MjU4MjgwNywgMjguOTQ0NDIyMzQ2NjM0XSwgWzQxLjAzOTM1MTg4OTAwNTMsIDI4Ljk0NDQyMjM0NjYzNF0sIFs0MS4wMzkzNTE4ODkwMDUzLCAyOC45NDkyMDg0ODMxMDQzXSwgWzQxLjAzMDU5NTI1ODI4MDcsIDI4Ljk0OTIwODQ4MzEwNDNdLCBbNDEuMDMwNTk1MjU4MjgwNywgMjguOTQ0NDIyMzQ2NjM0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2EzMGZiYTIxMDQxODQ5ZDU4MGUyYmFmMTE4YjczMTJkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FiMTRlYzdkOTA2NzRlMzliMGU1YTJmZmFkMWU5YTAzID0gJChgPGRpdiBpZD0iaHRtbF9hYjE0ZWM3ZDkwNjc0ZTM5YjBlNWEyZmZhZDFlOWEwMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQlVJTERJTkcuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDM5NjAzMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBCdWlsZGluZ3MgaW5kaWNhdGluZyB0aGUgbXVsdGljdWx0dXJhbCBjaGFyYWN0ZXIgb2YgQmFsYXQgb24gdGhlIFBlcnZpdGljaCBNYXBzPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40Mzk2MDMyPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYTMwZmJhMjEwNDE4NDlkNTgwZTJiYWYxMThiNzMxMmQuc2V0Q29udGVudChodG1sX2FiMTRlYzdkOTA2NzRlMzliMGU1YTJmZmFkMWU5YTAzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fY2E2MDI4NzU2OWRjNDM4NDlhYjE1ODE2NTU2MDU0MTIuYmluZFBvcHVwKHBvcHVwX2EzMGZiYTIxMDQxODQ5ZDU4MGUyYmFmMTE4YjczMTJkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzJhYjE1MzBkNzkzMzRlNDFiYTM4ZTQ0YTRiOWQwZWU1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMmFiMTUzMGQ3OTMzNGU0MWJhMzhlNDRhNGI5ZDBlZTUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMmFiMTUzMGQ3OTMzNGU0MWJhMzhlNDRhNGI5ZDBlZTVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kNDRjN2Y0NjY4N2E0YTc5YTE1M2Q3YmU2NzY3NDliOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzJhYjE1MzBkNzkzMzRlNDFiYTM4ZTQ0YTRiOWQwZWU1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yYWIxNTMwZDc5MzM0ZTQxYmEzOGU0NGE0YjlkMGVlNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMmFiMTUzMGQ3OTMzNGU0MWJhMzhlNDRhNGI5ZDBlZTVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0MS4wMzA1OTUyNTgyODA3LCAyOC45NDQ0MjIzNDY2MzRdLCBbNDEuMDM5MzUxODg5MDA1MywgMjguOTQ0NDIyMzQ2NjM0XSwgWzQxLjAzOTM1MTg4OTAwNTMsIDI4Ljk0OTIwODQ4MzEwNDNdLCBbNDEuMDMwNTk1MjU4MjgwNywgMjguOTQ5MjA4NDgzMTA0M10sIFs0MS4wMzA1OTUyNTgyODA3LCAyOC45NDQ0MjIzNDY2MzRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZDJhODQyYmI5MTA0NDkwZGE1MTE0OTBlOTAwM2ZhYjQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMzhkZTViNmYyNWRkNDg1Yjg1MTMwODdhN2FkMDA3NjEgPSAkKGA8ZGl2IGlkPSJodG1sXzM4ZGU1YjZmMjVkZDQ4NWI4NTEzMDg3YTdhZDAwNzYxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBCVUlMRElORy5zaHg8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHNoeDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0Mzk2MDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEJ1aWxkaW5ncyBpbmRpY2F0aW5nIHRoZSBtdWx0aWN1bHR1cmFsIGNoYXJhY3RlciBvZiBCYWxhdCBvbiB0aGUgUGVydml0aWNoIE1hcHM8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQzOTYwMzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kMmE4NDJiYjkxMDQ0OTBkYTUxMTQ5MGU5MDAzZmFiNC5zZXRDb250ZW50KGh0bWxfMzhkZTViNmYyNWRkNDg1Yjg1MTMwODdhN2FkMDA3NjEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yYWIxNTMwZDc5MzM0ZTQxYmEzOGU0NGE0YjlkMGVlNS5iaW5kUG9wdXAocG9wdXBfZDJhODQyYmI5MTA0NDkwZGE1MTE0OTBlOTAwM2ZhYjQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwXzIwYzdlMzAyYWM3NjQ0MGI5MjNjYTNkOWZlNDQwODdiID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84Y2E4ZmI5NmI2NDA0MWZiYTFkZmU5NTRjNTFhNDk1OF9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhjYThmYjk2YjY0MDQxZmJhMWRmZTk1NGM1MWE0OTU4X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOGNhOGZiOTZiNjQwNDFmYmExZGZlOTU0YzUxYTQ5NTggPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOGNhOGZiOTZiNjQwNDFmYmExZGZlOTU0YzUxYTQ5NThfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fOGNhOGZiOTZiNjQwNDFmYmExZGZlOTU0YzUxYTQ5NThfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMjBjN2UzMDJhYzc2NDQwYjkyM2NhM2Q5ZmU0NDA4N2IpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84Y2E4ZmI5NmI2NDA0MWZiYTFkZmU5NTRjNTFhNDk1OF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOGNhOGZiOTZiNjQwNDFmYmExZGZlOTU0YzUxYTQ5NTguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzhjYThmYjk2YjY0MDQxZmJhMWRmZTk1NGM1MWE0OTU4X2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbMjYuNTMwNzQxMDcwMDQ3MiwgMzkuMTU4Mjc0NDg1OTQ0MV0sIFsyNi41MzIzNjA5ODY3NDY0LCAzOS4xNTgyNzQ0ODU5NDQxXSwgWzI2LjUzMjM2MDk4Njc0NjQsIDM5LjE1OTUxNzIyMzIzNzVdLCBbMjYuNTMwNzQxMDcwMDQ3MiwgMzkuMTU5NTE3MjIzMjM3NV0sIFsyNi41MzA3NDEwNzAwNDcyLCAzOS4xNTgyNzQ0ODU5NDQxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzMwZGQ3MzRjYTg2NDIxOThhMTMwNzYzZTgzODJiMzAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNDE1Y2FjOWIxOTM5NGZlYWE1ZTkyYjQyNzQyMzEwMTEgPSAkKGA8ZGl2IGlkPSJodG1sXzQxNWNhYzliMTkzOTRmZWFhNWU5MmI0Mjc0MjMxMDExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQwMjg0MzE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YV9zaGFyZTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby40MDI4NDMyPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jMzBkZDczNGNhODY0MjE5OGExMzA3NjNlODM4MmIzMC5zZXRDb250ZW50KGh0bWxfNDE1Y2FjOWIxOTM5NGZlYWE1ZTkyYjQyNzQyMzEwMTEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84Y2E4ZmI5NmI2NDA0MWZiYTFkZmU5NTRjNTFhNDk1OC5iaW5kUG9wdXAocG9wdXBfYzMwZGQ3MzRjYTg2NDIxOThhMTMwNzYzZTgzODJiMzApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzcwZDc5OGVjYmViNGQxYjk3MmM4NTM3YTAzOTk4MWJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jNzBkNzk4ZWNiZWI0ZDFiOTcyYzg1MzdhMDM5OTgxYiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jNzBkNzk4ZWNiZWI0ZDFiOTcyYzg1MzdhMDM5OTgxYl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzIwYzdlMzAyYWM3NjQ0MGI5MjNjYTNkOWZlNDQwODdiKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzcwZDc5OGVjYmViNGQxYjk3MmM4NTM3YTAzOTk4MWJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2M3MGQ3OThlY2JlYjRkMWI5NzJjODUzN2EwMzk5ODFiLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jNzBkNzk4ZWNiZWI0ZDFiOTcyYzg1MzdhMDM5OTgxYl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjUzMDc0MTA3MDA0NzIsIDM5LjE1ODI3NDc1NjI2ODNdLCBbMjYuNTMyMzYwOTg2NzQ2NCwgMzkuMTU4Mjc0NzU2MjY4M10sIFsyNi41MzIzNjA5ODY3NDY0LCAzOS4xNTk1MTcyMjMyMzc1XSwgWzI2LjUzMDc0MTA3MDA0NzIsIDM5LjE1OTUxNzIyMzIzNzVdLCBbMjYuNTMwNzQxMDcwMDQ3MiwgMzkuMTU4Mjc0NzU2MjY4M11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kODE1ZTA0MzViYTE0MGI0YmJjZjBmMWNlOTA2YTlkYiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81MzE4NzY0ZjA3MDY0ZDVlOTY0NzliNTg1NTE2YThiYyA9ICQoYDxkaXYgaWQ9Imh0bWxfNTMxODc2NGYwNzA2NGQ1ZTk2NDc5YjU4NTUxNmE4YmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDEyMDVfMTdfb3J0aG9fQ2xpcC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MDI4NDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGFfc2hhcmU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQwMjg0MzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kODE1ZTA0MzViYTE0MGI0YmJjZjBmMWNlOTA2YTlkYi5zZXRDb250ZW50KGh0bWxfNTMxODc2NGYwNzA2NGQ1ZTk2NDc5YjU4NTUxNmE4YmMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jNzBkNzk4ZWNiZWI0ZDFiOTcyYzg1MzdhMDM5OTgxYi5iaW5kUG9wdXAocG9wdXBfZDgxNWUwNDM1YmExNDBiNGJiY2YwZjFjZTkwNmE5ZGIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjdmZWVkOGMyNzdmNDhmNWJhOThmMjhlZDVjMzRkZWZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yN2ZlZWQ4YzI3N2Y0OGY1YmE5OGYyOGVkNWMzNGRlZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yN2ZlZWQ4YzI3N2Y0OGY1YmE5OGYyOGVkNWMzNGRlZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzIwYzdlMzAyYWM3NjQ0MGI5MjNjYTNkOWZlNDQwODdiKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjdmZWVkOGMyNzdmNDhmNWJhOThmMjhlZDVjMzRkZWZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzI3ZmVlZDhjMjc3ZjQ4ZjViYTk4ZjI4ZWQ1YzM0ZGVmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yN2ZlZWQ4YzI3N2Y0OGY1YmE5OGYyOGVkNWMzNGRlZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjUzMDc0MTA3MTg0MywgMzkuMTU4Mjc0NDg1OTQ0MV0sIFsyNi41MzIzNjA2Mzk1MjM2LCAzOS4xNTgyNzQ0ODU5NDQxXSwgWzI2LjUzMjM2MDYzOTUyMzYsIDM5LjE1OTUxNzIyMTg0NDJdLCBbMjYuNTMwNzQxMDcxODQzLCAzOS4xNTk1MTcyMjE4NDQyXSwgWzI2LjUzMDc0MTA3MTg0MywgMzkuMTU4Mjc0NDg1OTQ0MV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81OWY0MGU3OTU3NWQ0NGNmYjliN2Q0ZDlmMzBlMmJiNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84ZThjMDhhY2UyMjE0MjQxYTY4ZDQ4MGNhNjU4YzQwZCA9ICQoYDxkaXYgaWQ9Imh0bWxfOGU4YzA4YWNlMjIxNDI0MWE2OGQ0ODBjYTY1OGM0MGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDEwMDVfMTFfb3J0aG9fQ2xpcC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MDI4NDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGFfc2hhcmU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQwMjg0MzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81OWY0MGU3OTU3NWQ0NGNmYjliN2Q0ZDlmMzBlMmJiNC5zZXRDb250ZW50KGh0bWxfOGU4YzA4YWNlMjIxNDI0MWE2OGQ0ODBjYTY1OGM0MGQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yN2ZlZWQ4YzI3N2Y0OGY1YmE5OGYyOGVkNWMzNGRlZi5iaW5kUG9wdXAocG9wdXBfNTlmNDBlNzk1NzVkNDRjZmI5YjdkNGQ5ZjMwZTJiYjQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDczYWNiYzkyNjA5NGRkNWFmMzAxOWZiMzJhZDVlNDBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wNzNhY2JjOTI2MDk0ZGQ1YWYzMDE5ZmIzMmFkNWU0MCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wNzNhY2JjOTI2MDk0ZGQ1YWYzMDE5ZmIzMmFkNWU0MF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzIwYzdlMzAyYWM3NjQ0MGI5MjNjYTNkOWZlNDQwODdiKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDczYWNiYzkyNjA5NGRkNWFmMzAxOWZiMzJhZDVlNDBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzA3M2FjYmM5MjYwOTRkZDVhZjMwMTlmYjMyYWQ1ZTQwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wNzNhY2JjOTI2MDk0ZGQ1YWYzMDE5ZmIzMmFkNWU0MF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjUzMDc0MTA3MDA0NzIsIDM5LjE1ODI3NDc1NjI2ODNdLCBbMjYuNTMyMzYwOTg2NzQ2NCwgMzkuMTU4Mjc0NzU2MjY4M10sIFsyNi41MzIzNjA5ODY3NDY0LCAzOS4xNTk1MTcyMjMyMzc1XSwgWzI2LjUzMDc0MTA3MDA0NzIsIDM5LjE1OTUxNzIyMzIzNzVdLCBbMjYuNTMwNzQxMDcwMDQ3MiwgMzkuMTU4Mjc0NzU2MjY4M11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81MmNlYzAwMGU0MmU0NjhkYWNhMWEyODMyNjM5MTdhZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jMjJlOTQxMWE4ZDg0Y2FmYTI0NjQyZGI2ZGQ4YTJmYyA9ICQoYDxkaXYgaWQ9Imh0bWxfYzIyZTk0MTFhOGQ4NGNhZmEyNDY0MmRiNmRkOGEyZmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDA2MDVfMTJfb3J0aG9fQ2xpcC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MDI4NDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGFfc2hhcmU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQwMjg0MzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81MmNlYzAwMGU0MmU0NjhkYWNhMWEyODMyNjM5MTdhZS5zZXRDb250ZW50KGh0bWxfYzIyZTk0MTFhOGQ4NGNhZmEyNDY0MmRiNmRkOGEyZmMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wNzNhY2JjOTI2MDk0ZGQ1YWYzMDE5ZmIzMmFkNWU0MC5iaW5kUG9wdXAocG9wdXBfNTJjZWMwMDBlNDJlNDY4ZGFjYTFhMjgzMjYzOTE3YWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjNiNzVhNDYzZTZiNGZhYzlkNmQwOWM0MzJiN2NjMmVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yM2I3NWE0NjNlNmI0ZmFjOWQ2ZDA5YzQzMmI3Y2MyZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yM2I3NWE0NjNlNmI0ZmFjOWQ2ZDA5YzQzMmI3Y2MyZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzIwYzdlMzAyYWM3NjQ0MGI5MjNjYTNkOWZlNDQwODdiKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjNiNzVhNDYzZTZiNGZhYzlkNmQwOWM0MzJiN2NjMmVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzIzYjc1YTQ2M2U2YjRmYWM5ZDZkMDljNDMyYjdjYzJlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yM2I3NWE0NjNlNmI0ZmFjOWQ2ZDA5YzQzMmI3Y2MyZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjUzMDc0MTA3MDA0NzIsIDM5LjE1ODI3NDc1NjI2ODNdLCBbMjYuNTMyMzYwNjM5NTIzNiwgMzkuMTU4Mjc0NzU2MjY4M10sIFsyNi41MzIzNjA2Mzk1MjM2LCAzOS4xNTk1MTcyMjE4NDQyXSwgWzI2LjUzMDc0MTA3MDA0NzIsIDM5LjE1OTUxNzIyMTg0NDJdLCBbMjYuNTMwNzQxMDcwMDQ3MiwgMzkuMTU4Mjc0NzU2MjY4M11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80Y2QwMGRmNmU5MTc0YWUwOWI0NzQwMjc2NjVhOGJmYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hZWIwNGJhODgwOTk0NmQ3ODM3NmZiN2Y4ODY4YmVkMyA9ICQoYDxkaXYgaWQ9Imh0bWxfYWViMDRiYTg4MDk5NDZkNzgzNzZmYjdmODg2OGJlZDMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDEwMDVfMTBfb3J0aG9fQ2xpcC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MDI4NDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGFfc2hhcmU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQwMjg0MzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80Y2QwMGRmNmU5MTc0YWUwOWI0NzQwMjc2NjVhOGJmYS5zZXRDb250ZW50KGh0bWxfYWViMDRiYTg4MDk5NDZkNzgzNzZmYjdmODg2OGJlZDMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yM2I3NWE0NjNlNmI0ZmFjOWQ2ZDA5YzQzMmI3Y2MyZS5iaW5kUG9wdXAocG9wdXBfNGNkMDBkZjZlOTE3NGFlMDliNDc0MDI3NjY1YThiZmEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWUyMjczNjBhNDcwNGEzOGFiNGUxMzZlMTM2OGRjNDFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lZTIyNzM2MGE0NzA0YTM4YWI0ZTEzNmUxMzY4ZGM0MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lZTIyNzM2MGE0NzA0YTM4YWI0ZTEzNmUxMzY4ZGM0MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzIwYzdlMzAyYWM3NjQ0MGI5MjNjYTNkOWZlNDQwODdiKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWUyMjczNjBhNDcwNGEzOGFiNGUxMzZlMTM2OGRjNDFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2VlMjI3MzYwYTQ3MDRhMzhhYjRlMTM2ZTEzNjhkYzQxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lZTIyNzM2MGE0NzA0YTM4YWI0ZTEzNmUxMzY4ZGM0MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI2LjUzMDc0MTA3MDA0NzIsIDM5LjE1ODI3NDc1NjI2ODNdLCBbMjYuNTMyMzYwNjM5NTIzNiwgMzkuMTU4Mjc0NzU2MjY4M10sIFsyNi41MzIzNjA2Mzk1MjM2LCAzOS4xNTk1MTcyMjE4NDQyXSwgWzI2LjUzMDc0MTA3MDA0NzIsIDM5LjE1OTUxNzIyMTg0NDJdLCBbMjYuNTMwNzQxMDcwMDQ3MiwgMzkuMTU4Mjc0NzU2MjY4M11dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lZDM0ZWU5MTkwZjU0NmYwODFmOTc3MTljYzBlY2FhNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xYmNjYTY2NDNmOWU0ZDFlYTMxM2VjOGI2OTk0ZWIyMyA9ICQoYDxkaXYgaWQ9Imh0bWxfMWJjY2E2NjQzZjllNGQxZWEzMTNlYzhiNjk5NGViMjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIxMDZfMTNfb3J0aG9fQ2xpcC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0MDI4NDMxPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGFfc2hhcmU8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQwMjg0MzI8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lZDM0ZWU5MTkwZjU0NmYwODFmOTc3MTljYzBlY2FhNi5zZXRDb250ZW50KGh0bWxfMWJjY2E2NjQzZjllNGQxZWEzMTNlYzhiNjk5NGViMjMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lZTIyNzM2MGE0NzA0YTM4YWI0ZTEzNmUxMzY4ZGM0MS5iaW5kUG9wdXAocG9wdXBfZWQzNGVlOTE5MGY1NDZmMDgxZjk3NzE5Y2MwZWNhYTYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBmZWF0dXJlX2dyb3VwXzVkMTIwYjk3MWM3YjQ4N2E5OTRhNmY1MzJiNTJkNTNkID0gTC5mZWF0dXJlR3JvdXAoCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNCk7CiAgICAgICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iZjA0OTBlNmEzYjI0YjQ4OTJlYTA1ZjEzMTM4NTA0Nl9zdHlsZXIoZmVhdHVyZSkgewogICAgICAgICAgICBzd2l0Y2goZmVhdHVyZS5pZCkgewogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyJjb2xvciI6ICIjQjIyMjIyIiwgImRhc2hBcnJheSI6IDUsICJmaWxsQ29sb3IiOiAiI0IyMjIyMiIsICJmaWxsT3BhY2l0eSI6IDAuNiwgImZpbGxQYXR0ZXJuIjogc3RyaXBlX3BhdHRlcm5fYzViMGE0MGQyMzc4NDdmMDkxMzdhMTBmZWQ4NDJlODB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JmMDQ5MGU2YTNiMjRiNDg5MmVhMDVmMTMxMzg1MDQ2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmYwNDkwZTZhM2IyNGI0ODkyZWEwNWYxMzEzODUwNDYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmYwNDkwZTZhM2IyNGI0ODkyZWEwNWYxMzEzODUwNDZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzdHlsZTogZ2VvX2pzb25fYmYwNDkwZTZhM2IyNGI0ODkyZWEwNWYxMzEzODUwNDZfc3R5bGVyLAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfNWQxMjBiOTcxYzdiNDg3YTk5NGE2ZjUzMmI1MmQ1M2QpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iZjA0OTBlNmEzYjI0YjQ4OTJlYTA1ZjEzMTM4NTA0Nl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYmYwNDkwZTZhM2IyNGI0ODkyZWEwNWYxMzEzODUwNDYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2JmMDQ5MGU2YTNiMjRiNDg5MmVhMDVmMTMxMzg1MDQ2X2FkZCh7ImZlYXR1cmVzIjogW3siZ2VvbWV0cnkiOiB7ImNvb3JkaW5hdGVzIjogW1tbMTAuNDIwNzc0OTQ4NiwgNDMuNzE3OTYxNTE4MzI3NV0sIFsxMC40MjI2MDQ2NTYsIDQzLjcxNzk2MTUxODMyNzVdLCBbMTAuNDIyNjA0NjU2LCA0My43MTkyODkwMjMyXSwgWzEwLjQyMDc3NDk0ODYsIDQzLjcxOTI4OTAyMzJdLCBbMTAuNDIwNzc0OTQ4NiwgNDMuNzE3OTYxNTE4MzI3NV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBjYjM1OTk1MmFjYjRmZDU4YThiNDU0M2VhZWJmZWI0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JlNGQyOWY5NzM4YzRhNGM5OWNjNDk3ZGQxMWQ1MTYwID0gJChgPGRpdiBpZD0iaHRtbF9iZTRkMjlmOTczOGM0YTRjOTljYzQ5N2RkMTFkNTE2MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNjA2NzY0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGFzZXRzIGFuZCBTdXBwb3J0aW5nIE1hdGVyaWFscyBmb3IgdGhlIElQSU4gMjAxOSBDb21wZXRpdGlvbiBUcmFjayAzIChTbWFydHBob25lLWJhc2VkLCBvZmYtc2l0ZSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzYwNjc2NTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMGNiMzU5OTUyYWNiNGZkNThhOGI0NTQzZWFlYmZlYjQuc2V0Q29udGVudChodG1sX2JlNGQyOWY5NzM4YzRhNGM5OWNjNDk3ZGQxMWQ1MTYwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYmYwNDkwZTZhM2IyNGI0ODkyZWEwNWYxMzEzODUwNDYuYmluZFBvcHVwKHBvcHVwXzBjYjM1OTk1MmFjYjRmZDU4YThiNDU0M2VhZWJmZWI0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JkNDQxZDFmODQ2NTQxNDZiNTZlZmE5MmMxOTZkNWJjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmQ0NDFkMWY4NDY1NDE0NmI1NmVmYTkyYzE5NmQ1YmMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmQ0NDFkMWY4NDY1NDE0NmI1NmVmYTkyYzE5NmQ1YmNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF81ZDEyMGI5NzFjN2I0ODdhOTk0YTZmNTMyYjUyZDUzZCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JkNDQxZDFmODQ2NTQxNDZiNTZlZmE5MmMxOTZkNWJjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iZDQ0MWQxZjg0NjU0MTQ2YjU2ZWZhOTJjMTk2ZDViYy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYmQ0NDFkMWY4NDY1NDE0NmI1NmVmYTkyYzE5NmQ1YmNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxMC40MjA3NzY1ODM1Njk2LCA0My43MTc5NjE1MTgzMjc1XSwgWzEwLjQyMjU4NjI2NDMwMTIsIDQzLjcxNzk2MTUxODMyNzVdLCBbMTAuNDIyNTg2MjY0MzAxMiwgNDMuNzE5Mjg0NzgwMDczOV0sIFsxMC40MjA3NzY1ODM1Njk2LCA0My43MTkyODQ3ODAwNzM5XSwgWzEwLjQyMDc3NjU4MzU2OTYsIDQzLjcxNzk2MTUxODMyNzVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfODVmOTczN2M2NWU0NDNhODk5OWU0YjNlY2NlM2FjZjQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNTY3MjA1OThkNzA4NDJlYTkzMTQ1NzYxNzNlYTg1ODcgPSAkKGA8ZGl2IGlkPSJodG1sXzU2NzIwNTk4ZDcwODQyZWE5MzE0NTc2MTczZWE4NTg3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiB0cmFjZV9HVC5rbWw8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGttbDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVWZWN0b3I8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzNjA2NzY0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IERhdGFzZXRzIGFuZCBTdXBwb3J0aW5nIE1hdGVyaWFscyBmb3IgdGhlIElQSU4gMjAxOSBDb21wZXRpdGlvbiBUcmFjayAzIChTbWFydHBob25lLWJhc2VkLCBvZmYtc2l0ZSk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM2MDY3NjU8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84NWY5NzM3YzY1ZTQ0M2E4OTk5ZTRiM2VjY2UzYWNmNC5zZXRDb250ZW50KGh0bWxfNTY3MjA1OThkNzA4NDJlYTkzMTQ1NzYxNzNlYTg1ODcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iZDQ0MWQxZjg0NjU0MTQ2YjU2ZWZhOTJjMTk2ZDViYy5iaW5kUG9wdXAocG9wdXBfODVmOTczN2M2NWU0NDNhODk5OWU0YjNlY2NlM2FjZjQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjI0ZWE4NDE3ZGE0NGViYzkxOWQ5NGNkZmYxN2I2NWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iMjRlYTg0MTdkYTQ0ZWJjOTE5ZDk0Y2RmZjE3YjY1YSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iMjRlYTg0MTdkYTQ0ZWJjOTE5ZDk0Y2RmZjE3YjY1YV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzVkMTIwYjk3MWM3YjQ4N2E5OTRhNmY1MzJiNTJkNTNkKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjI0ZWE4NDE3ZGE0NGViYzkxOWQ5NGNkZmYxN2I2NWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2IyNGVhODQxN2RhNDRlYmM5MTlkOTRjZGZmMTdiNjVhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iMjRlYTg0MTdkYTQ0ZWJjOTE5ZDk0Y2RmZjE3YjY1YV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzEwLjQyMDc3NDk0ODYsIDQzLjcxNzk2Mjk0Nl0sIFsxMC40MjI2MDQ2NTYsIDQzLjcxNzk2Mjk0Nl0sIFsxMC40MjI2MDQ2NTYsIDQzLjcxOTI4OTAyMzJdLCBbMTAuNDIwNzc0OTQ4NiwgNDMuNzE5Mjg5MDIzMl0sIFsxMC40MjA3NzQ5NDg2LCA0My43MTc5NjI5NDZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYWQ2YWY2N2FiMDlkNDdmY2I1ZWI4MzJjZDI2MWEwNDQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNGQ4ZGZmZGY0OTgzNDE5NGIyYjYwOGZhMjA1YzJlZWYgPSAkKGA8ZGl2IGlkPSJodG1sXzRkOGRmZmRmNDk4MzQxOTRiMmI2MDhmYTIwNWMyZWVmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiB0cmFjZV9Db21wZXRpdG9yLmttbDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4ga21sPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDM2MDY3NjQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gRGF0YXNldHMgYW5kIFN1cHBvcnRpbmcgTWF0ZXJpYWxzIGZvciB0aGUgSVBJTiAyMDE5IENvbXBldGl0aW9uIFRyYWNrIDMgKFNtYXJ0cGhvbmUtYmFzZWQsIG9mZi1zaXRlKTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzYwNjc2NTwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2FkNmFmNjdhYjA5ZDQ3ZmNiNWViODMyY2QyNjFhMDQ0LnNldENvbnRlbnQoaHRtbF80ZDhkZmZkZjQ5ODM0MTk0YjJiNjA4ZmEyMDVjMmVlZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2IyNGVhODQxN2RhNDRlYmM5MTlkOTRjZGZmMTdiNjVhLmJpbmRQb3B1cChwb3B1cF9hZDZhZjY3YWIwOWQ0N2ZjYjVlYjgzMmNkMjYxYTA0NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfZGY2MjgwYzBlZWFjNGRiODg0YTVmOTQ5NDc1MDFiMDggPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQ5YjkzNDViZDY3NDQzNDE5NTdlMjVmNjJhNmIxOTczX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDliOTM0NWJkNjc0NDM0MTk1N2UyNWY2MmE2YjE5NzNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80OWI5MzQ1YmQ2NzQ0MzQxOTU3ZTI1ZjYyYTZiMTk3MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80OWI5MzQ1YmQ2NzQ0MzQxOTU3ZTI1ZjYyYTZiMTk3M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl80OWI5MzQ1YmQ2NzQ0MzQxOTU3ZTI1ZjYyYTZiMTk3M19zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kZjYyODBjMGVlYWM0ZGI4ODRhNWY5NDk0NzUwMWIwOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQ5YjkzNDViZDY3NDQzNDE5NTdlMjVmNjJhNmIxOTczX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80OWI5MzQ1YmQ2NzQ0MzQxOTU3ZTI1ZjYyYTZiMTk3My5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNDliOTM0NWJkNjc0NDM0MTk1N2UyNWY2MmE2YjE5NzNfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stMTU1LjkxNTIyNzMyMTYsIDE5LjE3MDA4Nzg1Mjc1MzNdLCBbLTE1NS4yODk3NzAzNjQ5NjIsIDE5LjE3MDA4Nzg1Mjc1MzNdLCBbLTE1NS4yODk3NzAzNjQ5NjIsIDE5LjcyNjM0ODI4NDU0OTldLCBbLTE1NS45MTUyMjczMjE2LCAxOS43MjYzNDgyODQ1NDk5XSwgWy0xNTUuOTE1MjI3MzIxNiwgMTkuMTcwMDg3ODUyNzUzM11dXSwgInR5cGUiOiAiUG9seWdvbiJ9LCAiaWQiOiAiMCIsICJ0eXBlIjogIkZlYXR1cmUifV0sICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2E1OWE2YmQyMDZhNTRmY2Q5N2RjODMxMjdjYWNmMWMyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjI1MCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzgyNDFjMzY0MTE5YjRjNTI5ZTYyMWEzMGE4ZmZiYTNmID0gJChgPGRpdiBpZD0iaHRtbF84MjQxYzM2NDExOWI0YzUyOWU2MjFhMzBhOGZmYmEzZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IFJFUE9TSVRPUlkgPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0Njc3NjIzPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEdlb2RldGljIGRhdGEgYW5kIG1vZGVsbGluZyBmaWxlcyBmb3IgTWF1bmEgTG9hIHZvbGNhbm8sIEhhd2FpaSB1c2VkIGluIFZhcnVndSAmIEFtZWx1bmcsIDIwMjEuPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjQ2Nzc2MjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjxsaT48Yj4gdGJveDogPC9iPjwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2E1OWE2YmQyMDZhNTRmY2Q5N2RjODMxMjdjYWNmMWMyLnNldENvbnRlbnQoaHRtbF84MjQxYzM2NDExOWI0YzUyOWU2MjFhMzBhOGZmYmEzZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQ5YjkzNDViZDY3NDQzNDE5NTdlMjVmNjJhNmIxOTczLmJpbmRQb3B1cChwb3B1cF9hNTlhNmJkMjA2YTU0ZmNkOTdkYzgzMTI3Y2FjZjFjMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xYTdiZWEyNjc5MTI0Y2RiOWEwNTk1NjMwNzI3MWFiZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzFhN2JlYTI2NzkxMjRjZGI5YTA1OTU2MzA3MjcxYWJlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzFhN2JlYTI2NzkxMjRjZGI5YTA1OTU2MzA3MjcxYWJlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZGY2MjgwYzBlZWFjNGRiODg0YTVmOTQ5NDc1MDFiMDgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xYTdiZWEyNjc5MTI0Y2RiOWEwNTk1NjMwNzI3MWFiZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMWE3YmVhMjY3OTEyNGNkYjlhMDU5NTYzMDcyNzFhYmUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzFhN2JlYTI2NzkxMjRjZGI5YTA1OTU2MzA3MjcxYWJlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE1NS45MTUyMjczMjE2LCAxOS4yMDE0MzE1NjI3MTg0XSwgWy0xNTUuNDE4NTQzNDMwMzU0LCAxOS4yMDE0MzE1NjI3MTg0XSwgWy0xNTUuNDE4NTQzNDMwMzU0LCAxOS43MjYxNzUwMTk5MjMyXSwgWy0xNTUuOTE1MjI3MzIxNiwgMTkuNzI2MTc1MDE5OTIzMl0sIFstMTU1LjkxNTIyNzMyMTYsIDE5LjIwMTQzMTU2MjcxODRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzI3MjZmZjFiYmZlNDRhZTgzOWI5MTExY2RmZWRlYzMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTQxMmU5Y2Y2NjdlNGZlYWI3MzA2NGZlZTk0NWU2MjUgPSAkKGA8ZGl2IGlkPSJodG1sXzk0MTJlOWNmNjY3ZTRmZWFiNzMwNjRmZWU5NDVlNjI1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE0MDIxMV8yMDE1MDgyNV9tc2sudW53PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB1bnc8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDY3NzYyMzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBHZW9kZXRpYyBkYXRhIGFuZCBtb2RlbGxpbmcgZmlsZXMgZm9yIE1hdW5hIExvYSB2b2xjYW5vLCBIYXdhaWkgdXNlZCBpbiBWYXJ1Z3UgJiBBbWVsdW5nLCAyMDIxLjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDY3NzYyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzMyNzI2ZmYxYmJmZTQ0YWU4MzliOTExMWNkZmVkZWMzLnNldENvbnRlbnQoaHRtbF85NDEyZTljZjY2N2U0ZmVhYjczMDY0ZmVlOTQ1ZTYyNSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzFhN2JlYTI2NzkxMjRjZGI5YTA1OTU2MzA3MjcxYWJlLmJpbmRQb3B1cChwb3B1cF8zMjcyNmZmMWJiZmU0NGFlODM5YjkxMTFjZGZlZGVjMykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNDEwNDc1MGY4Zjk0MGE1YWM2ZWMxMzkwYmQyOWQyOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y0MTA0NzUwZjhmOTQwYTVhYzZlYzEzOTBiZDI5ZDI4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y0MTA0NzUwZjhmOTQwYTVhYzZlYzEzOTBiZDI5ZDI4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZGY2MjgwYzBlZWFjNGRiODg0YTVmOTQ5NDc1MDFiMDgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNDEwNDc1MGY4Zjk0MGE1YWM2ZWMxMzkwYmQyOWQyOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjQxMDQ3NTBmOGY5NDBhNWFjNmVjMTM5MGJkMjlkMjguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y0MTA0NzUwZjhmOTQwYTVhYzZlYzEzOTBiZDI5ZDI4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE1NS45MTUyMjczMjE2LCAxOS4yMDE0MzE1NjI3MTg0XSwgWy0xNTUuNDE4NTQzNDMwMzU0LCAxOS4yMDE0MzE1NjI3MTg0XSwgWy0xNTUuNDE4NTQzNDMwMzU0LCAxOS43MjYxNzUwMTk5MjMyXSwgWy0xNTUuOTE1MjI3MzIxNiwgMTkuNzI2MTc1MDE5OTIzMl0sIFstMTU1LjkxNTIyNzMyMTYsIDE5LjIwMTQzMTU2MjcxODRdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMmUwZGE1YjgzMDVlNGQwMTk2MGRlMTA1YmRkMmYwZDYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYjY4OWQ0M2RlYTI2NGI4ZmFhMjVjMDZiNDVjODdlMmIgPSAkKGA8ZGl2IGlkPSJodG1sX2I2ODlkNDNkZWEyNjRiOGZhYTI1YzA2YjQ1Yzg3ZTJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE1MDgyNV8yMDE4MDQyN19tc2sudW53PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB1bnc8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDY3NzYyMzwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBHZW9kZXRpYyBkYXRhIGFuZCBtb2RlbGxpbmcgZmlsZXMgZm9yIE1hdW5hIExvYSB2b2xjYW5vLCBIYXdhaWkgdXNlZCBpbiBWYXJ1Z3UgJiBBbWVsdW5nLCAyMDIxLjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDY3NzYyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzJlMGRhNWI4MzA1ZTRkMDE5NjBkZTEwNWJkZDJmMGQ2LnNldENvbnRlbnQoaHRtbF9iNjg5ZDQzZGVhMjY0YjhmYWEyNWMwNmI0NWM4N2UyYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Y0MTA0NzUwZjhmOTQwYTVhYzZlYzEzOTBiZDI5ZDI4LmJpbmRQb3B1cChwb3B1cF8yZTBkYTViODMwNWU0ZDAxOTYwZGUxMDViZGQyZjBkNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zN2MzMTAwNjhlOGE0MDQ5ODkxMjcwNDU2ZDQxZmJhN19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzM3YzMxMDA2OGU4YTQwNDk4OTEyNzA0NTZkNDFmYmE3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzM3YzMxMDA2OGU4YTQwNDk4OTEyNzA0NTZkNDFmYmE3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZGY2MjgwYzBlZWFjNGRiODg0YTVmOTQ5NDc1MDFiMDgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zN2MzMTAwNjhlOGE0MDQ5ODkxMjcwNDU2ZDQxZmJhN19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzdjMzEwMDY4ZThhNDA0OTg5MTI3MDQ1NmQ0MWZiYTcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzM3YzMxMDA2OGU4YTQwNDk4OTEyNzA0NTZkNDFmYmE3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTE1NS43NzA0MjU1NTc4OSwgMTkuMTc1NDkyMjIwMThdLCBbLTE1NS4yODk3NzAzNjQ5NjIsIDE5LjE3NTQ5MjIyMDE4XSwgWy0xNTUuMjg5NzcwMzY0OTYyLCAxOS43MDI3OTAzMjY4MTddLCBbLTE1NS43NzA0MjU1NTc4OSwgMTkuNzAyNzkwMzI2ODE3XSwgWy0xNTUuNzcwNDI1NTU3ODksIDE5LjE3NTQ5MjIyMDE4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2VhMjc2ZWFlNzU1NzQ3ZTA5ZGIxZjZhMWM3NzhlMWVkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzBlY2JmYjI2OTFjNjQzOTQ5ZTUzMjc5ZjFkMzk2MzJlID0gJChgPGRpdiBpZD0iaHRtbF8wZWNiZmIyNjkxYzY0Mzk0OWU1MzI3OWYxZDM5NjMyZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNDAyMDVfMjAxNTA4MjNfbXNrLnVudzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdW53PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ2Nzc2MjM8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gR2VvZGV0aWMgZGF0YSBhbmQgbW9kZWxsaW5nIGZpbGVzIGZvciBNYXVuYSBMb2Egdm9sY2FubywgSGF3YWlpIHVzZWQgaW4gVmFydWd1ICYgQW1lbHVuZywgMjAyMS48L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ2Nzc2MjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lYTI3NmVhZTc1NTc0N2UwOWRiMWY2YTFjNzc4ZTFlZC5zZXRDb250ZW50KGh0bWxfMGVjYmZiMjY5MWM2NDM5NDllNTMyNzlmMWQzOTYzMmUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zN2MzMTAwNjhlOGE0MDQ5ODkxMjcwNDU2ZDQxZmJhNy5iaW5kUG9wdXAocG9wdXBfZWEyNzZlYWU3NTU3NDdlMDlkYjFmNmExYzc3OGUxZWQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjdkYjdlOGMxNWYwNGE0YTk5MWVjNDQxOTcyMDljYmFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iN2RiN2U4YzE1ZjA0YTRhOTkxZWM0NDE5NzIwOWNiYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iN2RiN2U4YzE1ZjA0YTRhOTkxZWM0NDE5NzIwOWNiYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2RmNjI4MGMwZWVhYzRkYjg4NGE1Zjk0OTQ3NTAxYjA4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjdkYjdlOGMxNWYwNGE0YTk5MWVjNDQxOTcyMDljYmFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2I3ZGI3ZThjMTVmMDRhNGE5OTFlYzQ0MTk3MjA5Y2JhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iN2RiN2U4YzE1ZjA0YTRhOTkxZWM0NDE5NzIwOWNiYV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xNTUuOTEzNTY5MTQ2MzYyLCAxOS4yMDE2NDkzMDQ1NjE0XSwgWy0xNTUuNDE3MTk1NjI0MTQ2LCAxOS4yMDE2NDkzMDQ1NjE0XSwgWy0xNTUuNDE3MTk1NjI0MTQ2LCAxOS43MjYzNDgyODQ1NDk5XSwgWy0xNTUuOTEzNTY5MTQ2MzYyLCAxOS43MjYzNDgyODQ1NDk5XSwgWy0xNTUuOTEzNTY5MTQ2MzYyLCAxOS4yMDE2NDkzMDQ1NjE0XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzI1MWU5OTBhZTc5YzQyNzc5MGU2M2U3MWU2Y2Q4YTdjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Y2NTc0YzE0MzZkYzQyMzQ5ODQ0MDZlYjBhM2M1Y2RhID0gJChgPGRpdiBpZD0iaHRtbF9mNjU3NGMxNDM2ZGM0MjM0OTg0NDA2ZWIwYTNjNWNkYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxODA0MjdfMjAyMDA1MThfbXNrLnVudzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdW53PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ2Nzc2MjM8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gR2VvZGV0aWMgZGF0YSBhbmQgbW9kZWxsaW5nIGZpbGVzIGZvciBNYXVuYSBMb2Egdm9sY2FubywgSGF3YWlpIHVzZWQgaW4gVmFydWd1ICYgQW1lbHVuZywgMjAyMS48L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ2Nzc2MjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yNTFlOTkwYWU3OWM0Mjc3OTBlNjNlNzFlNmNkOGE3Yy5zZXRDb250ZW50KGh0bWxfZjY1NzRjMTQzNmRjNDIzNDk4NDQwNmViMGEzYzVjZGEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iN2RiN2U4YzE1ZjA0YTRhOTkxZWM0NDE5NzIwOWNiYS5iaW5kUG9wdXAocG9wdXBfMjUxZTk5MGFlNzljNDI3NzkwZTYzZTcxZTZjZDhhN2MpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzY5OTgzMGMyNWQ3NGQyM2E0Mjc3NTQ4NjFiNTkyMDBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zNjk5ODMwYzI1ZDc0ZDIzYTQyNzc1NDg2MWI1OTIwMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zNjk5ODMwYzI1ZDc0ZDIzYTQyNzc1NDg2MWI1OTIwMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2RmNjI4MGMwZWVhYzRkYjg4NGE1Zjk0OTQ3NTAxYjA4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzY5OTgzMGMyNWQ3NGQyM2E0Mjc3NTQ4NjFiNTkyMDBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzM2OTk4MzBjMjVkNzRkMjNhNDI3NzU0ODYxYjU5MjAwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zNjk5ODMwYzI1ZDc0ZDIzYTQyNzc1NDg2MWI1OTIwMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xNTUuNzcyODkxMDE3MzY5LCAxOS4xNzAwODc4NTI3NTMzXSwgWy0xNTUuMjkzNjM3MzAyOTQ0LCAxOS4xNzAwODc4NTI3NTMzXSwgWy0xNTUuMjkzNjM3MzAyOTQ0LCAxOS42OTY4MTU0NTIzMDA0XSwgWy0xNTUuNzcyODkxMDE3MzY5LCAxOS42OTY4MTU0NTIzMDA0XSwgWy0xNTUuNzcyODkxMDE3MzY5LCAxOS4xNzAwODc4NTI3NTMzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzM2MjUzZDk2YjYxZjQwODBhOTkwMzI5YmY2YjRjNTllID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZkNDRhNzRiNDlkYzQzZmViNzUyN2NhMzE1YTg4YTQxID0gJChgPGRpdiBpZD0iaHRtbF82ZDQ0YTc0YjQ5ZGM0M2ZlYjc1MjdjYTMxNWE4OGE0MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxODA0MjVfMjAyMDA1MTZfbXNrLnVudzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdW53PC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ2Nzc2MjM8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gR2VvZGV0aWMgZGF0YSBhbmQgbW9kZWxsaW5nIGZpbGVzIGZvciBNYXVuYSBMb2Egdm9sY2FubywgSGF3YWlpIHVzZWQgaW4gVmFydWd1ICYgQW1lbHVuZywgMjAyMS48L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjQ2Nzc2MjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zNjI1M2Q5NmI2MWY0MDgwYTk5MDMyOWJmNmI0YzU5ZS5zZXRDb250ZW50KGh0bWxfNmQ0NGE3NGI0OWRjNDNmZWI3NTI3Y2EzMTVhODhhNDEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zNjk5ODMwYzI1ZDc0ZDIzYTQyNzc1NDg2MWI1OTIwMC5iaW5kUG9wdXAocG9wdXBfMzYyNTNkOTZiNjFmNDA4MGE5OTAzMjliZjZiNGM1OWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzMwY2YxZDBkMjEyNGY3NmJkYTAyNjk3M2RjNzI2Y2Vfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zMzBjZjFkMGQyMTI0Zjc2YmRhMDI2OTczZGM3MjZjZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zMzBjZjFkMGQyMTI0Zjc2YmRhMDI2OTczZGM3MjZjZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2RmNjI4MGMwZWVhYzRkYjg4NGE1Zjk0OTQ3NTAxYjA4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzMwY2YxZDBkMjEyNGY3NmJkYTAyNjk3M2RjNzI2Y2VfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzMzMGNmMWQwZDIxMjRmNzZiZGEwMjY5NzNkYzcyNmNlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zMzBjZjFkMGQyMTI0Zjc2YmRhMDI2OTczZGM3MjZjZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xNTUuNzcwNDI1NTU3ODksIDE5LjE3NTQ5MjIyMDE4XSwgWy0xNTUuMjg5NzcwMzY0OTYyLCAxOS4xNzU0OTIyMjAxOF0sIFstMTU1LjI4OTc3MDM2NDk2MiwgMTkuNzAyNzkwMzI2ODE3XSwgWy0xNTUuNzcwNDI1NTU3ODksIDE5LjcwMjc5MDMyNjgxN10sIFstMTU1Ljc3MDQyNTU1Nzg5LCAxOS4xNzU0OTIyMjAxOF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85YjFmYmRiMDYxN2M0ZmJiYWE3M2ZmNjFlMzgzY2YxNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kMzgzOWZhZjBjZWI0MDRjODAwYjk4NDBmZTU1ZDRhNiA9ICQoYDxkaXYgaWQ9Imh0bWxfZDM4MzlmYWYwY2ViNDA0YzgwMGI5ODQwZmU1NWQ0YTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTUwODIzXzIwMTgwNDI1X21zay51bnc8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHVudzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0Njc3NjIzPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEdlb2RldGljIGRhdGEgYW5kIG1vZGVsbGluZyBmaWxlcyBmb3IgTWF1bmEgTG9hIHZvbGNhbm8sIEhhd2FpaSB1c2VkIGluIFZhcnVndSAmIEFtZWx1bmcsIDIwMjEuPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby40Njc3NjI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOWIxZmJkYjA2MTdjNGZiYmFhNzNmZjYxZTM4M2NmMTYuc2V0Q29udGVudChodG1sX2QzODM5ZmFmMGNlYjQwNGM4MDBiOTg0MGZlNTVkNGE2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzMwY2YxZDBkMjEyNGY3NmJkYTAyNjk3M2RjNzI2Y2UuYmluZFBvcHVwKHBvcHVwXzliMWZiZGIwNjE3YzRmYmJhYTczZmY2MWUzODNjZjE2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgZmVhdHVyZV9ncm91cF9iMzg3MWY5MzYwMmU0N2JmOTEyZjgxYjVkODI2NmQxMyA9IEwuZmVhdHVyZUdyb3VwKAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjY3ZGZhNDY0YWEyNDFmNGFlY2I0ZjlkMzRlNzAzYWVfc3R5bGVyKGZlYXR1cmUpIHsKICAgICAgICAgICAgc3dpdGNoKGZlYXR1cmUuaWQpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsiY29sb3IiOiAiI0IyMjIyMiIsICJkYXNoQXJyYXkiOiA1LCAiZmlsbENvbG9yIjogIiNCMjIyMjIiLCAiZmlsbE9wYWNpdHkiOiAwLjYsICJmaWxsUGF0dGVybiI6IHN0cmlwZV9wYXR0ZXJuX2M1YjBhNDBkMjM3ODQ3ZjA5MTM3YTEwZmVkODQyZTgwfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNjdkZmE0NjRhYTI0MWY0YWVjYjRmOWQzNGU3MDNhZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y2N2RmYTQ2NGFhMjQxZjRhZWNiNGY5ZDM0ZTcwM2FlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y2N2RmYTQ2NGFhMjQxZjRhZWNiNGY5ZDM0ZTcwM2FlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3R5bGU6IGdlb19qc29uX2Y2N2RmYTQ2NGFhMjQxZjRhZWNiNGY5ZDM0ZTcwM2FlX3N0eWxlciwKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2IzODcxZjkzNjAyZTQ3YmY5MTJmODFiNWQ4MjY2ZDEzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjY3ZGZhNDY0YWEyNDFmNGFlY2I0ZjlkMzRlNzAzYWVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Y2N2RmYTQ2NGFhMjQxZjRhZWNiNGY5ZDM0ZTcwM2FlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mNjdkZmE0NjRhYTI0MWY0YWVjYjRmOWQzNGU3MDNhZV9hZGQoeyJmZWF0dXJlcyI6IFt7Imdlb21ldHJ5IjogeyJjb29yZGluYXRlcyI6IFtbWy0yLjg0MDkwOTU1MjQzNzMxLCAtMi44NjIzODIyNDQxNTEwM10sIFszMC45NDM4NDg4MzM0NzAyLCAtMi44NjIzODIyNDQxNTEwM10sIFszMC45NDM4NDg4MzM0NzAyLCAzMC45MDEzMTE1NzldLCBbLTIuODQwOTA5NTUyNDM3MzEsIDMwLjkwMTMxMTU3OV0sIFstMi44NDA5MDk1NTI0MzczMSwgLTIuODYyMzgyMjQ0MTUxMDNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85NTM5Y2RkZGMxMmM0MjU0ODFmZWIyNTU5NjJhNTIwMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82MTc1NzQ5ZTJmZmM0N2RhOTU4ZDk2Y2FiYTBjZTUyMyA9ICQoYDxkaXYgaWQ9Imh0bWxfNjE3NTc0OWUyZmZjNDdkYTk1OGQ5NmNhYmEwY2U1MjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMyNjcwMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBXZXRsYW5kIGRlbGluZWF0aW9uIGFuZCBjaGFyYWN0ZXJpemF0aW9uIGxheWVycyAyMDE0LTIwMTcsIFJ3YW5kYTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+IDwvYj4xMC41MjgxL3plbm9kby40MzI2NzAyPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48bGk+PGI+IHRib3g6IDwvYj48L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85NTM5Y2RkZGMxMmM0MjU0ODFmZWIyNTU5NjJhNTIwMi5zZXRDb250ZW50KGh0bWxfNjE3NTc0OWUyZmZjNDdkYTk1OGQ5NmNhYmEwY2U1MjMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mNjdkZmE0NjRhYTI0MWY0YWVjYjRmOWQzNGU3MDNhZS5iaW5kUG9wdXAocG9wdXBfOTUzOWNkZGRjMTJjNDI1NDgxZmViMjU1OTYyYTUyMDIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzYxMTNiZjE0ZTIxNGY5MjhhMTZjZTNhMDc3NzY2Yjdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83NjExM2JmMTRlMjE0ZjkyOGExNmNlM2EwNzc3NjZiNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83NjExM2JmMTRlMjE0ZjkyOGExNmNlM2EwNzc3NjZiN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2IzODcxZjkzNjAyZTQ3YmY5MTJmODFiNWQ4MjY2ZDEzKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzYxMTNiZjE0ZTIxNGY5MjhhMTZjZTNhMDc3NzY2YjdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzc2MTEzYmYxNGUyMTRmOTI4YTE2Y2UzYTA3Nzc2NmI3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83NjExM2JmMTRlMjE0ZjkyOGExNmNlM2EwNzc3NjZiN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzI4Ljg1NzYzMjIzNjU3MzEsIC0yLjg2MjM4MjI0NDE1MTAzXSwgWzMwLjk0Mzg0ODgzMzQ3MDIsIC0yLjg2MjM4MjI0NDE1MTAzXSwgWzMwLjk0Mzg0ODgzMzQ3MDIsIC0xLjAwMTQ3MzExMTMxNDEzXSwgWzI4Ljg1NzYzMjIzNjU3MzEsIC0xLjAwMTQ3MzExMTMxNDEzXSwgWzI4Ljg1NzYzMjIzNjU3MzEsIC0yLjg2MjM4MjI0NDE1MTAzXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2U4NjRkM2NkZmZlMTQxYjk4ZjMzMTI2OWRlNjc3ODRmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzdjM2Y3YTc5YTYxMzRjMTJiMTljMDlhMDQxMjBkMjZlID0gJChgPGRpdiBpZD0iaHRtbF83YzNmN2E3OWE2MTM0YzEyYjE5YzA5YTA0MTIwZDI2ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gV2V0bGFuZF9Vc2VfSW50ZW5zaXR5XzIwMTcudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMyNjcwMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBXZXRsYW5kIGRlbGluZWF0aW9uIGFuZCBjaGFyYWN0ZXJpemF0aW9uIGxheWVycyAyMDE0LTIwMTcsIFJ3YW5kYTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDMyNjcwMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2U4NjRkM2NkZmZlMTQxYjk4ZjMzMTI2OWRlNjc3ODRmLnNldENvbnRlbnQoaHRtbF83YzNmN2E3OWE2MTM0YzEyYjE5YzA5YTA0MTIwZDI2ZSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzc2MTEzYmYxNGUyMTRmOTI4YTE2Y2UzYTA3Nzc2NmI3LmJpbmRQb3B1cChwb3B1cF9lODY0ZDNjZGZmZTE0MWI5OGYzMzEyNjlkZTY3Nzg0ZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85NDc4ZTBhYjMxOWI0YzMyOGIyYjc2ZmM0ZTAyYzE2NV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzk0NzhlMGFiMzE5YjRjMzI4YjJiNzZmYzRlMDJjMTY1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzk0NzhlMGFiMzE5YjRjMzI4YjJiNzZmYzRlMDJjMTY1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYjM4NzFmOTM2MDJlNDdiZjkxMmY4MWI1ZDgyNjZkMTMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85NDc4ZTBhYjMxOWI0YzMyOGIyYjc2ZmM0ZTAyYzE2NV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOTQ3OGUwYWIzMTliNGMzMjhiMmI3NmZjNGUwMmMxNjUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzk0NzhlMGFiMzE5YjRjMzI4YjJiNzZmYzRlMDJjMTY1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbMjguODU0MjYxMTU5NTAxMywgLTIuODMwNzc5NDQwMjU0MjddLCBbMzAuODkzMjI1NTY1NDU1MywgLTIuODMwNzc5NDQwMjU0MjddLCBbMzAuODkzMjI1NTY1NDU1MywgLTEuMDUyMjg0NDUzMTM1NTFdLCBbMjguODU0MjYxMTU5NTAxMywgLTEuMDUyMjg0NDUzMTM1NTFdLCBbMjguODU0MjYxMTU5NTAxMywgLTIuODMwNzc5NDQwMjU0MjddXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOGQ5ZjE2ZTNhNTliNDJiOTgzZTg2NWE4YmM3NzMyNTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMzI4N2E1NTQzZjFjNDNkYmE5ZWYyYTkxMDkzMWNiN2EgPSAkKGA8ZGl2IGlkPSJodG1sXzMyODdhNTU0M2YxYzQzZGJhOWVmMmE5MTA5MzFjYjdhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBQb3RlbnRpYWxfV2V0bGFuZHMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMyNjcwMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBXZXRsYW5kIGRlbGluZWF0aW9uIGFuZCBjaGFyYWN0ZXJpemF0aW9uIGxheWVycyAyMDE0LTIwMTcsIFJ3YW5kYTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDMyNjcwMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzhkOWYxNmUzYTU5YjQyYjk4M2U4NjVhOGJjNzczMjUxLnNldENvbnRlbnQoaHRtbF8zMjg3YTU1NDNmMWM0M2RiYTllZjJhOTEwOTMxY2I3YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzk0NzhlMGFiMzE5YjRjMzI4YjJiNzZmYzRlMDJjMTY1LmJpbmRQb3B1cChwb3B1cF84ZDlmMTZlM2E1OWI0MmI5ODNlODY1YThiYzc3MzI1MSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lOGIxZDhjYjNlZjM0MjVlOTJjNzAyZWRjNGFjYWJiZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2U4YjFkOGNiM2VmMzQyNWU5MmM3MDJlZGM0YWNhYmJlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2U4YjFkOGNiM2VmMzQyNWU5MmM3MDJlZGM0YWNhYmJlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYjM4NzFmOTM2MDJlNDdiZjkxMmY4MWI1ZDgyNjZkMTMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lOGIxZDhjYjNlZjM0MjVlOTJjNzAyZWRjNGFjYWJiZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZThiMWQ4Y2IzZWYzNDI1ZTkyYzcwMmVkYzRhY2FiYmUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2U4YjFkOGNiM2VmMzQyNWU5MmM3MDJlZGM0YWNhYmJlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTIuODI3Mzc1OTgwNTQ3NiwgMjguODYwMzM5MjUzMTg1XSwgWy0xLjA1MTYzNDY0NDE3OTIxLCAyOC44NjAzMzkyNTMxODVdLCBbLTEuMDUxNjM0NjQ0MTc5MjEsIDMwLjkwMTMwODg0MzU4NzddLCBbLTIuODI3Mzc1OTgwNTQ3NiwgMzAuOTAxMzA4ODQzNTg3N10sIFstMi44MjczNzU5ODA1NDc2LCAyOC44NjAzMzkyNTMxODVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMjE1NzA0MzYwYjhlNDMzZjk0NWJlOWE0NTM5NmEzZWYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjgxNTA0NzRmM2UxNDZkYWEzYmU3MDhjMDc4NjY5MDcgPSAkKGA8ZGl2IGlkPSJodG1sXzI4MTUwNDc0ZjNlMTQ2ZGFhM2JlNzA4YzA3ODY2OTA3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBXZXRsYW5kX0RlbGluZWF0aW9uXzIwMTcuZGJmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBkYmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMyNjcwMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBXZXRsYW5kIGRlbGluZWF0aW9uIGFuZCBjaGFyYWN0ZXJpemF0aW9uIGxheWVycyAyMDE0LTIwMTcsIFJ3YW5kYTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDMyNjcwMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzIxNTcwNDM2MGI4ZTQzM2Y5NDViZTlhNDUzOTZhM2VmLnNldENvbnRlbnQoaHRtbF8yODE1MDQ3NGYzZTE0NmRhYTNiZTcwOGMwNzg2NjkwNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2U4YjFkOGNiM2VmMzQyNWU5MmM3MDJlZGM0YWNhYmJlLmJpbmRQb3B1cChwb3B1cF8yMTU3MDQzNjBiOGU0MzNmOTQ1YmU5YTQ1Mzk2YTNlZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMjYwOWMyYjkyZmI0ZTUxYWVkMTA0ZWI5YzMwYTgxMl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzMyNjA5YzJiOTJmYjRlNTFhZWQxMDRlYjljMzBhODEyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzMyNjA5YzJiOTJmYjRlNTFhZWQxMDRlYjljMzBhODEyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYjM4NzFmOTM2MDJlNDdiZjkxMmY4MWI1ZDgyNjZkMTMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zMjYwOWMyYjkyZmI0ZTUxYWVkMTA0ZWI5YzMwYTgxMl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzI2MDljMmI5MmZiNGU1MWFlZDEwNGViOWMzMGE4MTIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzMyNjA5YzJiOTJmYjRlNTFhZWQxMDRlYjljMzBhODEyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTIuODI3Mzc1OTgwNTQ3NiwgMjguODYwMzM5MjUzMTg1XSwgWy0xLjA1MTYzNDY0NDE3OTIxLCAyOC44NjAzMzkyNTMxODVdLCBbLTEuMDUxNjM0NjQ0MTc5MjEsIDMwLjkwMTMwODg0MzU4NzddLCBbLTIuODI3Mzc1OTgwNTQ3NiwgMzAuOTAxMzA4ODQzNTg3N10sIFstMi44MjczNzU5ODA1NDc2LCAyOC44NjAzMzkyNTMxODVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzg1N2Q3YTZhMjAwNDAzOWJjYTg5N2Q4NzY3MjRlNjYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMmJiMjE0MDViMDQzNGFiOGJkODQ2ODZlYjczZjA3NzIgPSAkKGA8ZGl2IGlkPSJodG1sXzJiYjIxNDA1YjA0MzRhYjhiZDg0Njg2ZWI3M2YwNzcyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBXZXRsYW5kX0RlbGluZWF0aW9uXzIwMTcuc2h4PC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHg8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMyNjcwMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBXZXRsYW5kIGRlbGluZWF0aW9uIGFuZCBjaGFyYWN0ZXJpemF0aW9uIGxheWVycyAyMDE0LTIwMTcsIFJ3YW5kYTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDMyNjcwMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzM4NTdkN2E2YTIwMDQwMzliY2E4OTdkODc2NzI0ZTY2LnNldENvbnRlbnQoaHRtbF8yYmIyMTQwNWIwNDM0YWI4YmQ4NDY4NmViNzNmMDc3Mik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzMyNjA5YzJiOTJmYjRlNTFhZWQxMDRlYjljMzBhODEyLmJpbmRQb3B1cChwb3B1cF8zODU3ZDdhNmEyMDA0MDM5YmNhODk3ZDg3NjcyNGU2NikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81YTIzNjA5NTRhMzA0MjA5YTBlNGFkMTg1Mjg1ZjZiZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzVhMjM2MDk1NGEzMDQyMDlhMGU0YWQxODUyODVmNmJkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzVhMjM2MDk1NGEzMDQyMDlhMGU0YWQxODUyODVmNmJkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYjM4NzFmOTM2MDJlNDdiZjkxMmY4MWI1ZDgyNjZkMTMpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81YTIzNjA5NTRhMzA0MjA5YTBlNGFkMTg1Mjg1ZjZiZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNWEyMzYwOTU0YTMwNDIwOWEwZTRhZDE4NTI4NWY2YmQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzVhMjM2MDk1NGEzMDQyMDlhMGU0YWQxODUyODVmNmJkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTIuODI3Mzc1OTgwNTQ3NiwgMjguODYwMzM5MjUzMTg1XSwgWy0xLjA1MTYzNDY0NDE3OTIxLCAyOC44NjAzMzkyNTMxODVdLCBbLTEuMDUxNjM0NjQ0MTc5MjEsIDMwLjkwMTMwODg0MzU4NzddLCBbLTIuODI3Mzc1OTgwNTQ3NiwgMzAuOTAxMzA4ODQzNTg3N10sIFstMi44MjczNzU5ODA1NDc2LCAyOC44NjAzMzkyNTMxODVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNDZlMjYwMDVkOWQ0NDRiMzliMzljNTBmOWI4MzE2ZTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfM2E1YzI5NDE1YjBkNGE5YTg5ZjhiOGMwOTkxMzBkNjAgPSAkKGA8ZGl2IGlkPSJodG1sXzNhNWMyOTQxNWIwZDRhOWE4OWY4YjhjMDk5MTMwZDYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBXZXRsYW5kX0RlbGluZWF0aW9uXzIwMTcuc2hwPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBzaHA8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDMyNjcwMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBXZXRsYW5kIGRlbGluZWF0aW9uIGFuZCBjaGFyYWN0ZXJpemF0aW9uIGxheWVycyAyMDE0LTIwMTcsIFJ3YW5kYTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNDMyNjcwMjwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQ2ZTI2MDA1ZDlkNDQ0YjM5YjM5YzUwZjliODMxNmUxLnNldENvbnRlbnQoaHRtbF8zYTVjMjk0MTViMGQ0YTlhODlmOGI4YzA5OTEzMGQ2MCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzVhMjM2MDk1NGEzMDQyMDlhMGU0YWQxODUyODVmNmJkLmJpbmRQb3B1cChwb3B1cF80NmUyNjAwNWQ5ZDQ0NGIzOWIzOWM1MGY5YjgzMTZlMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfZDBkYjg5MDFhYzU5NGRmNDgzNDNmMTRlMjlkNjY5ZjggPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzI2ZDhjNmRjMGI1ZjRkYjRiNmEyOWUwNzRlYzgyM2RlX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjZkOGM2ZGMwYjVmNGRiNGI2YTI5ZTA3NGVjODIzZGVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNmQ4YzZkYzBiNWY0ZGI0YjZhMjllMDc0ZWM4MjNkZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNmQ4YzZkYzBiNWY0ZGI0YjZhMjllMDc0ZWM4MjNkZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl8yNmQ4YzZkYzBiNWY0ZGI0YjZhMjllMDc0ZWM4MjNkZV9zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzI2ZDhjNmRjMGI1ZjRkYjRiNmEyOWUwNzRlYzgyM2RlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yNmQ4YzZkYzBiNWY0ZGI0YjZhMjllMDc0ZWM4MjNkZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMjZkOGM2ZGMwYjVmNGRiNGI2YTI5ZTA3NGVjODIzZGVfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1sxMC40OTY1LCAxMC4xMjY4MzZdLCBbNDQuNTQ4NDIzLCAxMC4xMjY4MzZdLCBbNDQuNTQ4NDIzLCA0My43ODQ1XSwgWzEwLjQ5NjUsIDQzLjc4NDVdLCBbMTAuNDk2NSwgMTAuMTI2ODM2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0sICJpZCI6ICIwIiwgInR5cGUiOiAiRmVhdHVyZSJ9XSwgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzY0YmZlZWNkNWNkNGRiYmIyNmMzMDNkYWIxYTA5NzUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMjUwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDMwNTgyMTJlMDg0NGY0OWJhMDUwMTg3YmU5OGRmNmQgPSAkKGA8ZGl2IGlkPSJodG1sX2QzMDU4MjEyZTA4NDRmNDliYTA1MDE4N2JlOThkZjZkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gUkVQT1NJVE9SWSA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDY0MDY1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBNYXBwaW5nIGFuZCBhbmFseXNpcyBvZiB0aGUgQ2VudHJhbCBJdGFseSBFYXJ0aHF1YWtlICgyMDE2KSB3aXRoIFNlbnRpbmVsLTEgQS9CIGludGVyZmVyb21ldHJ5PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUyODEvemVub2RvLjYxMTMzPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMzY0YmZlZWNkNWNkNGRiYmIyNmMzMDNkYWIxYTA5NzUuc2V0Q29udGVudChodG1sX2QzMDU4MjEyZTA4NDRmNDliYTA1MDE4N2JlOThkZjZkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMjZkOGM2ZGMwYjVmNGRiNGI2YTI5ZTA3NGVjODIzZGUuYmluZFBvcHVwKHBvcHVwXzM2NGJmZWVjZDVjZDRkYmJiMjZjMzAzZGFiMWEwOTc1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q3MzczMjI4MDcxYjRlYTI4YzI3OTBiYjk1ZDFlYTRhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZDczNzMyMjgwNzFiNGVhMjhjMjc5MGJiOTVkMWVhNGEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZDczNzMyMjgwNzFiNGVhMjhjMjc5MGJiOTVkMWVhNGFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q3MzczMjI4MDcxYjRlYTI4YzI3OTBiYjk1ZDFlYTRhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kNzM3MzIyODA3MWI0ZWEyOGMyNzkwYmI5NWQxZWE0YS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZDczNzMyMjgwNzFiNGVhMjhjMjc5MGJiOTVkMWVhNGFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Mi4zNDk2LCAxMi44MjkxXSwgWzQzLjA4OTQsIDEyLjgyOTFdLCBbNDMuMDg5NCwgMTMuNzI4OV0sIFs0Mi4zNDk2LCAxMy43Mjg5XSwgWzQyLjM0OTYsIDEyLjgyOTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNDQ2MDM4NDFhNjg5NGYwZGI0NzY1OWRkYzEyMWIzNGYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzVjMDdiOWYwNDRjNDJmOGExODIyZjYxMWQxOTJmYWMgPSAkKGA8ZGl2IGlkPSJodG1sXzc1YzA3YjlmMDQ0YzQyZjhhMTgyMmY2MTFkMTkyZmFjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBbWF0cmljZV9FVy5rbWw8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGttbDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDQ2MDM4NDFhNjg5NGYwZGI0NzY1OWRkYzEyMWIzNGYuc2V0Q29udGVudChodG1sXzc1YzA3YjlmMDQ0YzQyZjhhMTgyMmY2MTFkMTkyZmFjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZDczNzMyMjgwNzFiNGVhMjhjMjc5MGJiOTVkMWVhNGEuYmluZFBvcHVwKHBvcHVwXzQ0NjAzODQxYTY4OTRmMGRiNDc2NTlkZGMxMjFiMzRmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkyMjZmNGJmNjM2NDQxMTVhZGU1Y2ZmZTNkZDU2ZmY3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOTIyNmY0YmY2MzY0NDExNWFkZTVjZmZlM2RkNTZmZjcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOTIyNmY0YmY2MzY0NDExNWFkZTVjZmZlM2RkNTZmZjdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkyMjZmNGJmNjM2NDQxMTVhZGU1Y2ZmZTNkZDU2ZmY3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85MjI2ZjRiZjYzNjQ0MTE1YWRlNWNmZmUzZGQ1NmZmNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOTIyNmY0YmY2MzY0NDExNWFkZTVjZmZlM2RkNTZmZjdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Mi4zNDk1LCAxMi44MjldLCBbNDMuMDg5NSwgMTIuODI5XSwgWzQzLjA4OTUsIDEzLjcyOV0sIFs0Mi4zNDk1LCAxMy43MjldLCBbNDIuMzQ5NSwgMTIuODI5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzIwNWQxNzVhNzE0MzRkNzRhZDkzNGU3MjQzOWY3MjU1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzgxZmVmMmE5MmE0NzQzMWZiYmRkMGQ5NjViMTRiNjdhID0gJChgPGRpdiBpZD0iaHRtbF84MWZlZjJhOTJhNDc0MzFmYmJkZDBkOTY1YjE0YjY3YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfdmVydGljYWwudGlmZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMjA1ZDE3NWE3MTQzNGQ3NGFkOTM0ZTcyNDM5ZjcyNTUuc2V0Q29udGVudChodG1sXzgxZmVmMmE5MmE0NzQzMWZiYmRkMGQ5NjViMTRiNjdhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTIyNmY0YmY2MzY0NDExNWFkZTVjZmZlM2RkNTZmZjcuYmluZFBvcHVwKHBvcHVwXzIwNWQxNzVhNzE0MzRkNzRhZDkzNGU3MjQzOWY3MjU1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZkNThjYjIxNjFmYTQ3NDdhNDU4ZDI0MGIzMjJkYzljX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZmQ1OGNiMjE2MWZhNDc0N2E0NThkMjQwYjMyMmRjOWMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZmQ1OGNiMjE2MWZhNDc0N2E0NThkMjQwYjMyMmRjOWNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZkNThjYjIxNjFmYTQ3NDdhNDU4ZDI0MGIzMjJkYzljX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mZDU4Y2IyMTYxZmE0NzQ3YTQ1OGQyNDBiMzIyZGM5Yy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZmQ1OGNiMjE2MWZhNDc0N2E0NThkMjQwYjMyMmRjOWNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0MS44MTcsIDEyLjEyODUwMV0sIFs0My44LCAxMi4xMjg1MDFdLCBbNDMuOCwgMTUuNTI5MDAxXSwgWzQxLjgxNywgMTUuNTI5MDAxXSwgWzQxLjgxNywgMTIuMTI4NTAxXV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2FiZGE1MjM5ZWUzNDRkMTlhYThmYWRkNDY4YjhlOTk0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2ZhOWYwYjUzMDRiZTRiZmQ5N2IyNDFjMjgwNmM0MmRmID0gJChgPGRpdiBpZD0iaHRtbF9mYTlmMGI1MzA0YmU0YmZkOTdiMjQxYzI4MDZjNDJkZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfMjJEXzZkYXlfMjAxNjA4MjFUMDUxMF8yMDE2MDgyN1QwNTEwX2NvaC5rbWw8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGttbDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYWJkYTUyMzllZTM0NGQxOWFhOGZhZGQ0NjhiOGU5OTQuc2V0Q29udGVudChodG1sX2ZhOWYwYjUzMDRiZTRiZmQ5N2IyNDFjMjgwNmM0MmRmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZmQ1OGNiMjE2MWZhNDc0N2E0NThkMjQwYjMyMmRjOWMuYmluZFBvcHVwKHBvcHVwX2FiZGE1MjM5ZWUzNDRkMTlhYThmYWRkNDY4YjhlOTk0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM2ZDE3MmU1NDU2YzRhNjFiMGQwOTYyMjU3NTlhZjVjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzZkMTcyZTU0NTZjNGE2MWIwZDA5NjIyNTc1OWFmNWMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzZkMTcyZTU0NTZjNGE2MWIwZDA5NjIyNTc1OWFmNWNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM2ZDE3MmU1NDU2YzRhNjFiMGQwOTYyMjU3NTlhZjVjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zNmQxNzJlNTQ1NmM0YTYxYjBkMDk2MjI1NzU5YWY1Yy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzZkMTcyZTU0NTZjNGE2MWIwZDA5NjIyNTc1OWFmNWNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Mi4zNDk2LCAxMi44MjkxXSwgWzQzLjA4OTQsIDEyLjgyOTFdLCBbNDMuMDg5NCwgMTMuNzI4OV0sIFs0Mi4zNDk2LCAxMy43Mjg5XSwgWzQyLjM0OTYsIDEyLjgyOTFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMmJhNDRlOThmY2Q0NGQwYmE0N2FlODE3Mjc1Nzk0NjYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMmVmMTAyNzcyMjdjNGY4Yjg1OWNkYjRlMWNkMGQ2YTkgPSAkKGA8ZGl2IGlkPSJodG1sXzJlZjEwMjc3MjI3YzRmOGI4NTljZGI0ZTFjZDBkNmE5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBbWF0cmljZV92ZXJ0aWNhbC5rbWw8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGttbDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMmJhNDRlOThmY2Q0NGQwYmE0N2FlODE3Mjc1Nzk0NjYuc2V0Q29udGVudChodG1sXzJlZjEwMjc3MjI3YzRmOGI4NTljZGI0ZTFjZDBkNmE5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzZkMTcyZTU0NTZjNGE2MWIwZDA5NjIyNTc1OWFmNWMuYmluZFBvcHVwKHBvcHVwXzJiYTQ0ZTk4ZmNkNDRkMGJhNDdhZTgxNzI3NTc5NDY2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2UwZmZkYTRjOTA3MDRlNzE5YWMxOWE0ZWIyNTJkN2I2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTBmZmRhNGM5MDcwNGU3MTlhYzE5YTRlYjI1MmQ3YjYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTBmZmRhNGM5MDcwNGU3MTlhYzE5YTRlYjI1MmQ3YjZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2UwZmZkYTRjOTA3MDRlNzE5YWMxOWE0ZWIyNTJkN2I2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lMGZmZGE0YzkwNzA0ZTcxOWFjMTlhNGViMjUyZDdiNi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTBmZmRhNGM5MDcwNGU3MTlhYzE5YTRlYjI1MmQ3YjZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Mi4yNDAxNSwgMTIuNzY4ODVdLCBbNDMuMTg5NjUsIDEyLjc2ODg1XSwgWzQzLjE4OTY1LCAxMy44NTg4NV0sIFs0Mi4yNDAxNSwgMTMuODU4ODVdLCBbNDIuMjQwMTUsIDEyLjc2ODg1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzFkNDcwODY0MzEyMDRkNjU4YTBhOWU2M2MxMDA3OWI3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NlNDMxNWQ1YTJjNTQzOTZhMzhhMWIwZTgxNDg2ZTU0ID0gJChgPGRpdiBpZD0iaHRtbF9jZTQzMTVkNWEyYzU0Mzk2YTM4YTFiMGU4MTQ4NmU1NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfMTE3QV8yMDE2MDgyMVQxNzA1XzIwMTYwODI3VDE3MDVfdW53X3pvb20udGlmZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMWQ0NzA4NjQzMTIwNGQ2NThhMGE5ZTYzYzEwMDc5Yjcuc2V0Q29udGVudChodG1sX2NlNDMxNWQ1YTJjNTQzOTZhMzhhMWIwZTgxNDg2ZTU0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTBmZmRhNGM5MDcwNGU3MTlhYzE5YTRlYjI1MmQ3YjYuYmluZFBvcHVwKHBvcHVwXzFkNDcwODY0MzEyMDRkNjU4YTBhOWU2M2MxMDA3OWI3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzMzNGI0NDUxMjVhNDQ5NGQ5NjJkMDMwMTRhZWNjNzA5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzM0YjQ0NTEyNWE0NDk0ZDk2MmQwMzAxNGFlY2M3MDkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzM0YjQ0NTEyNWE0NDk0ZDk2MmQwMzAxNGFlY2M3MDlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzMzNGI0NDUxMjVhNDQ5NGQ5NjJkMDMwMTRhZWNjNzA5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zMzRiNDQ1MTI1YTQ0OTRkOTYyZDAzMDE0YWVjYzcwOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzM0YjQ0NTEyNWE0NDk0ZDk2MmQwMzAxNGFlY2M3MDlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Mi4yNDAxNSwgMTIuNzY4ODVdLCBbNDMuMTg5NjUsIDEyLjc2ODg1XSwgWzQzLjE4OTY1LCAxMy44NTg4NV0sIFs0Mi4yNDAxNSwgMTMuODU4ODVdLCBbNDIuMjQwMTUsIDEyLjc2ODg1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE1N2FhMDE4Y2RkZTQ2MjlhMGM2NjRiMDVmZjAzNThjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Y4YTFkNTljM2VjZjQ5MDE4NmFmYWQ5OTI2ODNmMjgzID0gJChgPGRpdiBpZD0iaHRtbF9mOGExZDU5YzNlY2Y0OTAxODZhZmFkOTkyNjgzZjI4MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfMjJEXzIwMTYwODIxVDE3MDVfMjAxNjA4MjdUMTcwNV91bndfem9vbS50aWZmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWZmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDY0MDY1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBNYXBwaW5nIGFuZCBhbmFseXNpcyBvZiB0aGUgQ2VudHJhbCBJdGFseSBFYXJ0aHF1YWtlICgyMDE2KSB3aXRoIFNlbnRpbmVsLTEgQS9CIGludGVyZmVyb21ldHJ5PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby42MTEzMzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xNTdhYTAxOGNkZGU0NjI5YTBjNjY0YjA1ZmYwMzU4Yy5zZXRDb250ZW50KGh0bWxfZjhhMWQ1OWMzZWNmNDkwMTg2YWZhZDk5MjY4M2YyODMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zMzRiNDQ1MTI1YTQ0OTRkOTYyZDAzMDE0YWVjYzcwOS5iaW5kUG9wdXAocG9wdXBfMTU3YWEwMThjZGRlNDYyOWEwYzY2NGIwNWZmMDM1OGMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzhkNjQwOTAzOWY0NGFkOWE3ZjQzZmNhM2EzMzM5NTFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83OGQ2NDA5MDM5ZjQ0YWQ5YTdmNDNmY2EzYTMzMzk1MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83OGQ2NDA5MDM5ZjQ0YWQ5YTdmNDNmY2EzYTMzMzk1MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2QwZGI4OTAxYWM1OTRkZjQ4MzQzZjE0ZTI5ZDY2OWY4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzhkNjQwOTAzOWY0NGFkOWE3ZjQzZmNhM2EzMzM5NTFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzc4ZDY0MDkwMzlmNDRhZDlhN2Y0M2ZjYTNhMzMzOTUxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83OGQ2NDA5MDM5ZjQ0YWQ5YTdmNDNmY2EzYTMzMzk1MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQxLjgxNywgMTIuMTI4NTAxXSwgWzQzLjgsIDEyLjEyODUwMV0sIFs0My44LCAxNS41MjkwMDFdLCBbNDEuODE3LCAxNS41MjkwMDFdLCBbNDEuODE3LCAxMi4xMjg1MDFdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOGYxMGMxZTQ4YTM1NDM3Yjk3ZGMxZDA1YjNkZGIyMjcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDI0ODg1MTZjY2I4NDQ5M2JjMjYxNzg1NTJjYzFkMTMgPSAkKGA8ZGl2IGlkPSJodG1sX2QyNDg4NTE2Y2NiODQ0OTNiYzI2MTc4NTUyY2MxZDEzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBbWF0cmljZV8yMkRfNmRheV8yMDE2MDgyMVQwNTEwXzIwMTYwODI3VDA1MTBfZ29sZF9waGFzZS5rbWw8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGttbDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOGYxMGMxZTQ4YTM1NDM3Yjk3ZGMxZDA1YjNkZGIyMjcuc2V0Q29udGVudChodG1sX2QyNDg4NTE2Y2NiODQ0OTNiYzI2MTc4NTUyY2MxZDEzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzhkNjQwOTAzOWY0NGFkOWE3ZjQzZmNhM2EzMzM5NTEuYmluZFBvcHVwKHBvcHVwXzhmMTBjMWU0OGEzNTQzN2I5N2RjMWQwNWIzZGRiMjI3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVkNTFkYmIwMGYzMjRiMWM4YzAyZDJhZWUwZDY5MmE1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNWQ1MWRiYjAwZjMyNGIxYzhjMDJkMmFlZTBkNjkyYTUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNWQ1MWRiYjAwZjMyNGIxYzhjMDJkMmFlZTBkNjkyYTVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzVkNTFkYmIwMGYzMjRiMWM4YzAyZDJhZWUwZDY5MmE1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81ZDUxZGJiMDBmMzI0YjFjOGMwMmQyYWVlMGQ2OTJhNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNWQ1MWRiYjAwZjMyNGIxYzhjMDJkMmFlZTBkNjkyYTVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Mi4wOTQ5NTUsIDEwLjEyNjgzNl0sIFs0NC41NDg0MjMsIDEwLjEyNjgzNl0sIFs0NC41NDg0MjMsIDEzLjY5MzE1M10sIFs0Mi4wOTQ5NTUsIDEzLjY5MzE1M10sIFs0Mi4wOTQ5NTUsIDEwLjEyNjgzNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80ZDJhYmZkYTExNmE0ZGM5OWM2MjYwNjA3MmFiYjhiYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xMmI1NDYxZjMxOTM0YjUwYjQ3MmE4ZTUzNzU5MDU0NyA9ICQoYDxkaXYgaWQ9Imh0bWxfMTJiNTQ2MWYzMTkzNGI1MGI0NzJhOGU1Mzc1OTA1NDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEFtYXRyaWNlXzk1RF8xMmRheV8yMDE2MDgyNlQwNTE5MTlfMjAxNjA4MTRUMDUxOTE4X2NvaC5rbWw8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGttbDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNGQyYWJmZGExMTZhNGRjOTljNjI2MDYwNzJhYmI4YmMuc2V0Q29udGVudChodG1sXzEyYjU0NjFmMzE5MzRiNTBiNDcyYThlNTM3NTkwNTQ3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNWQ1MWRiYjAwZjMyNGIxYzhjMDJkMmFlZTBkNjkyYTUuYmluZFBvcHVwKHBvcHVwXzRkMmFiZmRhMTE2YTRkYzk5YzYyNjA2MDcyYWJiOGJjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2UwNGE5NjEyNjYyNzQwMDg4ODFiZmNkYTIxZjJjOTU0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTA0YTk2MTI2NjI3NDAwODg4MWJmY2RhMjFmMmM5NTQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTA0YTk2MTI2NjI3NDAwODg4MWJmY2RhMjFmMmM5NTRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2UwNGE5NjEyNjYyNzQwMDg4ODFiZmNkYTIxZjJjOTU0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lMDRhOTYxMjY2Mjc0MDA4ODgxYmZjZGEyMWYyYzk1NC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTA0YTk2MTI2NjI3NDAwODg4MWJmY2RhMjFmMmM5NTRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0Mi4zNDk1LCAxMi44MjldLCBbNDMuMDg5NSwgMTIuODI5XSwgWzQzLjA4OTUsIDEzLjcyOV0sIFs0Mi4zNDk1LCAxMy43MjldLCBbNDIuMzQ5NSwgMTIuODI5XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2VkYmZiYTRlNDg5ODQ3NzE4OWRhZGM0NWNhNGFjOTM5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2ExMTBjZmUzMGRhMjQ2MGI5OTE5ZTIzNDBmOTk2YWVjID0gJChgPGRpdiBpZD0iaHRtbF9hMTEwY2ZlMzBkYTI0NjBiOTkxOWUyMzQwZjk5NmFlYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfRVcudGlmZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZWRiZmJhNGU0ODk4NDc3MTg5ZGFkYzQ1Y2E0YWM5Mzkuc2V0Q29udGVudChodG1sX2ExMTBjZmUzMGRhMjQ2MGI5OTE5ZTIzNDBmOTk2YWVjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTA0YTk2MTI2NjI3NDAwODg4MWJmY2RhMjFmMmM5NTQuYmluZFBvcHVwKHBvcHVwX2VkYmZiYTRlNDg5ODQ3NzE4OWRhZGM0NWNhNGFjOTM5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzIyZjgyMDliMWIyMTQ1ZjViZDViYTkwZWY5ZjMxMmIxX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMjJmODIwOWIxYjIxNDVmNWJkNWJhOTBlZjlmMzEyYjEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMjJmODIwOWIxYjIxNDVmNWJkNWJhOTBlZjlmMzEyYjFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzIyZjgyMDliMWIyMTQ1ZjViZDViYTkwZWY5ZjMxMmIxX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yMmY4MjA5YjFiMjE0NWY1YmQ1YmE5MGVmOWYzMTJiMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMjJmODIwOWIxYjIxNDVmNWJkNWJhOTBlZjlmMzEyYjFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s0MS44MTY3NTAxMjM0ODU3LCAxMi4xMjgyNTEwMDcyNjMzXSwgWzQzLjgwMDI1MDIxNzY5NjksIDEyLjEyODI1MTAwNzI2MzNdLCBbNDMuODAwMjUwMjE3Njk2OSwgMTUuNTI5MjUxMTY4ODAyMV0sIFs0MS44MTY3NTAxMjM0ODU3LCAxNS41MjkyNTExNjg4MDIxXSwgWzQxLjgxNjc1MDEyMzQ4NTcsIDEyLjEyODI1MTAwNzI2MzNdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNTBkNDI0ODQ4NjQ0NGM2NGE3YTQ5ODVhYTJlMWJkYWIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODc4NWNhNThlMDQ2NDM4Y2E5MjRjMTdmMDk2OWUxMmEgPSAkKGA8ZGl2IGlkPSJodG1sXzg3ODVjYTU4ZTA0NjQzOGNhOTI0YzE3ZjA5NjllMTJhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBBbWF0cmljZV8yMkRfMjAxNjA4MjFUMDUxMF8yMDE2MDgyN1QwNTEwX3BoYXNlLnRpZmY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZmY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjQwNjU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE1hcHBpbmcgYW5kIGFuYWx5c2lzIG9mIHRoZSBDZW50cmFsIEl0YWx5IEVhcnRocXVha2UgKDIwMTYpIHdpdGggU2VudGluZWwtMSBBL0IgaW50ZXJmZXJvbWV0cnk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjYxMTMzPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzUwZDQyNDg0ODY0NDRjNjRhN2E0OTg1YWEyZTFiZGFiLnNldENvbnRlbnQoaHRtbF84Nzg1Y2E1OGUwNDY0MzhjYTkyNGMxN2YwOTY5ZTEyYSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzIyZjgyMDliMWIyMTQ1ZjViZDViYTkwZWY5ZjMxMmIxLmJpbmRQb3B1cChwb3B1cF81MGQ0MjQ4NDg2NDQ0YzY0YTdhNDk4NWFhMmUxYmRhYikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mOTJlMTdhODYyYjc0NGJjODk2NTc5OWJlYzJjYzk2M19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y5MmUxN2E4NjJiNzQ0YmM4OTY1Nzk5YmVjMmNjOTYzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y5MmUxN2E4NjJiNzQ0YmM4OTY1Nzk5YmVjMmNjOTYzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfZDBkYjg5MDFhYzU5NGRmNDgzNDNmMTRlMjlkNjY5ZjgpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mOTJlMTdhODYyYjc0NGJjODk2NTc5OWJlYzJjYzk2M19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjkyZTE3YTg2MmI3NDRiYzg5NjU3OTliZWMyY2M5NjMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y5MmUxN2E4NjJiNzQ0YmM4OTY1Nzk5YmVjMmNjOTYzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbNDIuMTA1MywgMTAuMTM5N10sIFs0NC41MzkyLCAxMC4xMzk3XSwgWzQ0LjUzOTIsIDEzLjY3NTVdLCBbNDIuMTA1MywgMTMuNjc1NV0sIFs0Mi4xMDUzLCAxMC4xMzk3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzRiMWQyNGRiYTM0YzQ3NDQ4NzU4YTMwNWM0NmM3NWE4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzE3YjFmOTNmM2IxODQ0MDY5YzNiNjFiZDE2N2FlYzBlID0gJChgPGRpdiBpZD0iaHRtbF8xN2IxZjkzZjNiMTg0NDA2OWMzYjYxYmQxNjdhZWMwZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfOTVEXzEyZGF5XzIwMTYwODI2VDA1MTkxOV8yMDE2MDgxNFQwNTE5MThfZ29sZF9waGFzZS5rbWw8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGttbDwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNGIxZDI0ZGJhMzRjNDc0NDg3NThhMzA1YzQ2Yzc1YTguc2V0Q29udGVudChodG1sXzE3YjFmOTNmM2IxODQ0MDY5YzNiNjFiZDE2N2FlYzBlKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZjkyZTE3YTg2MmI3NDRiYzg5NjU3OTliZWMyY2M5NjMuYmluZFBvcHVwKHBvcHVwXzRiMWQyNGRiYTM0YzQ3NDQ4NzU4YTMwNWM0NmM3NWE4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzcyMmU2MTRlMGYyZTRlNTE5NmIxZGE1ZDFmZjU0NWU4X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNzIyZTYxNGUwZjJlNGU1MTk2YjFkYTVkMWZmNTQ1ZTggPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNzIyZTYxNGUwZjJlNGU1MTk2YjFkYTVkMWZmNTQ1ZThfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzcyMmU2MTRlMGYyZTRlNTE5NmIxZGE1ZDFmZjU0NWU4X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83MjJlNjE0ZTBmMmU0ZTUxOTZiMWRhNWQxZmY1NDVlOC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNzIyZTYxNGUwZjJlNGU1MTk2YjFkYTVkMWZmNTQ1ZThfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxMC40OTY1LCA0MC44NThdLCBbMTQuMDk3LCA0MC44NThdLCBbMTQuMDk3LCA0My43ODQ1XSwgWzEwLjQ5NjUsIDQzLjc4NDVdLCBbMTAuNDk2NSwgNDAuODU4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzY1NzgzNDc5NDc1NTQwNWVhOTY1OGM1NjJiYTFkYzAwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzhlNTI0ZDI1ODlmMTRiZjRiZTY2YzhkOWUwZDlkOGI0ID0gJChgPGRpdiBpZD0iaHRtbF84ZTUyNGQyNTg5ZjE0YmY0YmU2NmM4ZDllMGQ5ZDhiNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfMTE3QV82ZGF5XzIwMTYwODIxVDE3MDVfMjAxNjA4MjdUMTcwNV9nb2xkX3BoYXNlLmttbDwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4ga21sPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVZlY3RvcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDY0MDY1ODwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBNYXBwaW5nIGFuZCBhbmFseXNpcyBvZiB0aGUgQ2VudHJhbCBJdGFseSBFYXJ0aHF1YWtlICgyMDE2KSB3aXRoIFNlbnRpbmVsLTEgQS9CIGludGVyZmVyb21ldHJ5PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby42MTEzMzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82NTc4MzQ3OTQ3NTU0MDVlYTk2NThjNTYyYmExZGMwMC5zZXRDb250ZW50KGh0bWxfOGU1MjRkMjU4OWYxNGJmNGJlNjZjOGQ5ZTBkOWQ4YjQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83MjJlNjE0ZTBmMmU0ZTUxOTZiMWRhNWQxZmY1NDVlOC5iaW5kUG9wdXAocG9wdXBfNjU3ODM0Nzk0NzU1NDA1ZWE5NjU4YzU2MmJhMWRjMDApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmVkMzQ0ODIzMzgxNDc1MWIyYmRlZWY1MTkyYTI2OWNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mZWQzNDQ4MjMzODE0NzUxYjJiZGVlZjUxOTJhMjY5YyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mZWQzNDQ4MjMzODE0NzUxYjJiZGVlZjUxOTJhMjY5Y19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2QwZGI4OTAxYWM1OTRkZjQ4MzQzZjE0ZTI5ZDY2OWY4KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmVkMzQ0ODIzMzgxNDc1MWIyYmRlZWY1MTkyYTI2OWNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2ZlZDM0NDgyMzM4MTQ3NTFiMmJkZWVmNTE5MmEyNjljLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mZWQzNDQ4MjMzODE0NzUxYjJiZGVlZjUxOTJhMjY5Y19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzQwLjg1Nzc1MDEyMzk2MiwgMTAuNDk2MjUwMDIzNTddLCBbNDMuNzg0NzUwMjY0NDU4LCAxMC40OTYyNTAwMjM1N10sIFs0My43ODQ3NTAyNjQ0NTgsIDE0LjA5NzI1MDE5NjQxOF0sIFs0MC44NTc3NTAxMjM5NjIsIDE0LjA5NzI1MDE5NjQxOF0sIFs0MC44NTc3NTAxMjM5NjIsIDEwLjQ5NjI1MDAyMzU3XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBiYWZlYTYzZGE2ZTQ0YzY4MGJkZmMxZGY4Yjc5MWQ5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzA4OTRlNjA0ZDM3MzQ5NmZiMzg0YWY5NGIyMDI0ZTcyID0gJChgPGRpdiBpZD0iaHRtbF8wODk0ZTYwNGQzNzM0OTZmYjM4NGFmOTRiMjAyNGU3MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfMTE3QV8yMDE2MDgyMVQxNzA1XzIwMTYwODI3VDE3MDVfcGhhc2UudGlmZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA2NDA2NTg8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gTWFwcGluZyBhbmQgYW5hbHlzaXMgb2YgdGhlIENlbnRyYWwgSXRhbHkgRWFydGhxdWFrZSAoMjAxNikgd2l0aCBTZW50aW5lbC0xIEEvQiBpbnRlcmZlcm9tZXRyeTwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uNjExMzM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMGJhZmVhNjNkYTZlNDRjNjgwYmRmYzFkZjhiNzkxZDkuc2V0Q29udGVudChodG1sXzA4OTRlNjA0ZDM3MzQ5NmZiMzg0YWY5NGIyMDI0ZTcyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZmVkMzQ0ODIzMzgxNDc1MWIyYmRlZWY1MTkyYTI2OWMuYmluZFBvcHVwKHBvcHVwXzBiYWZlYTYzZGE2ZTQ0YzY4MGJkZmMxZGY4Yjc5MWQ5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2VhNGI0N2ZlNmJiMzQ1YzliYzNlZTE4MmY4YWUyZWM5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZWE0YjQ3ZmU2YmIzNDVjOWJjM2VlMTgyZjhhZTJlYzkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZWE0YjQ3ZmU2YmIzNDVjOWJjM2VlMTgyZjhhZTJlYzlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2VhNGI0N2ZlNmJiMzQ1YzliYzNlZTE4MmY4YWUyZWM5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lYTRiNDdmZTZiYjM0NWM5YmMzZWUxODJmOGFlMmVjOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZWE0YjQ3ZmU2YmIzNDVjOWJjM2VlMTgyZjhhZTJlYzlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1sxMC40OTY1LCA0MC44NThdLCBbMTQuMDk3LCA0MC44NThdLCBbMTQuMDk3LCA0My43ODQ1XSwgWzEwLjQ5NjUsIDQzLjc4NDVdLCBbMTAuNDk2NSwgNDAuODU4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2QzOTEzYzVjMWE3NjQzMGFiODNlZDg4MmEwYmYxMTc4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FmZDJhMTQ0OTUyYTQzODViYTAyYmExOTY1YzU4MDY5ID0gJChgPGRpdiBpZD0iaHRtbF9hZmQyYTE0NDk1MmE0Mzg1YmEwMmJhMTk2NWM1ODA2OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQW1hdHJpY2VfMTE3QV82ZGF5XzIwMTYwODIxVDE3MDVfMjAxNjA4MjdUMTcwNV9jb2gua21sPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBrbWw8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlVmVjdG9yPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNjQwNjU4PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IE1hcHBpbmcgYW5kIGFuYWx5c2lzIG9mIHRoZSBDZW50cmFsIEl0YWx5IEVhcnRocXVha2UgKDIwMTYpIHdpdGggU2VudGluZWwtMSBBL0IgaW50ZXJmZXJvbWV0cnk8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjYxMTMzPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2QzOTEzYzVjMWE3NjQzMGFiODNlZDg4MmEwYmYxMTc4LnNldENvbnRlbnQoaHRtbF9hZmQyYTE0NDk1MmE0Mzg1YmEwMmJhMTk2NWM1ODA2OSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2VhNGI0N2ZlNmJiMzQ1YzliYzNlZTE4MmY4YWUyZWM5LmJpbmRQb3B1cChwb3B1cF9kMzkxM2M1YzFhNzY0MzBhYjgzZWQ4ODJhMGJmMTE3OCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfYzBiNWE4N2Y5ZmNiNDVhNDlhY2M2MDMwMjNlNzFiYzkgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U1ZWQxYzFmNDJkZTQ3OTM4NzJjYjUzNjM4MmU5MmNjX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTVlZDFjMWY0MmRlNDc5Mzg3MmNiNTM2MzgyZTkyY2Nfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lNWVkMWMxZjQyZGU0NzkzODcyY2I1MzYzODJlOTJjYyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lNWVkMWMxZjQyZGU0NzkzODcyY2I1MzYzODJlOTJjY19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl9lNWVkMWMxZjQyZGU0NzkzODcyY2I1MzYzODJlOTJjY19zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U1ZWQxYzFmNDJkZTQ3OTM4NzJjYjUzNjM4MmU5MmNjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lNWVkMWMxZjQyZGU0NzkzODcyY2I1MzYzODJlOTJjYy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTVlZDFjMWY0MmRlNDc5Mzg3MmNiNTM2MzgyZTkyY2NfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzUzNzUsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjcsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85OTE2ZTczMjE1NTU0MGQ4YjgwZmU1Y2JlM2M5YTZjNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kNTMxMTUyZTU1OGE0OGYxYjQ2NDk5MGRmOWUwZTVkOCA9ICQoYDxkaXYgaWQ9Imh0bWxfZDUzMTE1MmU1NThhNDhmMWI0NjQ5OTBkZjllMGU1ZDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4gPC9iPjEwLjUwNjEvZHJ5YWQudmRuY2pzeHRjPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTkxNmU3MzIxNTU1NDBkOGI4MGZlNWNiZTNjOWE2YzQuc2V0Q29udGVudChodG1sX2Q1MzExNTJlNTU4YTQ4ZjFiNDY0OTkwZGY5ZTBlNWQ4KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTVlZDFjMWY0MmRlNDc5Mzg3MmNiNTM2MzgyZTkyY2MuYmluZFBvcHVwKHBvcHVwXzk5MTZlNzMyMTU1NTQwZDhiODBmZTVjYmUzYzlhNmM0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2EwYTVhYzQxZTE3YjQ4ODBiODk3YjQzN2Q2NDJiOTU5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYTBhNWFjNDFlMTdiNDg4MGI4OTdiNDM3ZDY0MmI5NTkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYTBhNWFjNDFlMTdiNDg4MGI4OTdiNDM3ZDY0MmI5NTlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2EwYTVhYzQxZTE3YjQ4ODBiODk3YjQzN2Q2NDJiOTU5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9hMGE1YWM0MWUxN2I0ODgwYjg5N2I0MzdkNjQyYjk1OS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYTBhNWFjNDFlMTdiNDg4MGI4OTdiNDM3ZDY0MmI5NTlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NjY3LCAtNDAuMDI0OTk5OTk4ODA2XSwgWy03MC4wNTgzMzMzMzUzNzUsIC00MC4wMjQ5OTk5OTg4MDZdLCBbLTcwLjA1ODMzMzMzNTM3NSwgLTEwLjE4MzMzMzMzMzMzM10sIFstMTIxLjAxNjY2NjY2NjY3LCAtMTAuMTgzMzMzMzMzMzMzXSwgWy0xMjEuMDE2NjY2NjY2NjcsIC00MC4wMjQ5OTk5OTg4MDZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfODFlZWVhOTYyZjk2NDU5ZmFhYzUwOTc0Y2JlODI1NjUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZmE3ZDkyZmZjYWMzNDYzNWEyNmNlYTU3OWRkMTBmNjkgPSAkKGA8ZGl2IGlkPSJodG1sX2ZhN2Q5MmZmY2FjMzQ2MzVhMjZjZWE1NzlkZDEwZjY5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBkaXNzb2x2ZWRveHlnZW4uYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84MWVlZWE5NjJmOTY0NTlmYWFjNTA5NzRjYmU4MjU2NS5zZXRDb250ZW50KGh0bWxfZmE3ZDkyZmZjYWMzNDYzNWEyNmNlYTU3OWRkMTBmNjkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hMGE1YWM0MWUxN2I0ODgwYjg5N2I0MzdkNjQyYjk1OS5iaW5kUG9wdXAocG9wdXBfODFlZWVhOTYyZjk2NDU5ZmFhYzUwOTc0Y2JlODI1NjUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDU0Mjc4ZTdlMDRmNDQwNjllYmEzNzVjOWI5NDczMjlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kNTQyNzhlN2UwNGY0NDA2OWViYTM3NWM5Yjk0NzMyOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kNTQyNzhlN2UwNGY0NDA2OWViYTM3NWM5Yjk0NzMyOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDU0Mjc4ZTdlMDRmNDQwNjllYmEzNzVjOWI5NDczMjlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Q1NDI3OGU3ZTA0ZjQ0MDY5ZWJhMzc1YzliOTQ3MzI5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kNTQyNzhlN2UwNGY0NDA2OWViYTM3NWM5Yjk0NzMyOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY2NjcsIC00MC4wMjQ5OTk5OTg4MDZdLCBbLTcwLjA1ODMzMzMzNTM3NSwgLTQwLjAyNDk5OTk5ODgwNl0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtMTAuMTgzMzMzMzMzMzMzXSwgWy0xMjEuMDE2NjY2NjY2NjcsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjY2NywgLTQwLjAyNDk5OTk5ODgwNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82MzdhMzk4OWVkZjM0YTBiYmMzOTUwMDE1MGI2ZGEzNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wNWRlMjliZTA2NDY0NDMyYTk3NTI3MjEyZDA4NzA1ZCA9ICQoYDxkaXYgaWQ9Imh0bWxfMDVkZTI5YmUwNjQ2NDQzMmE5NzUyNzIxMmQwODcwNWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHRwaV81MDAwMC5hc2M8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGFzYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTYwODU0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFRoZSBtb2RlbGVkIGRpc3RyaWJ1dGlvbiBvZiBjb3JhbHMgYW5kIHNwb25nZXMgc3Vycm91bmRpbmcgdGhlIFNhbGFzIHkgR8OzbWV6IGFuZCBOYXpjYSByaWRnZXMgd2l0aCBpbXBsaWNhdGlvbnMgZm9yIGhpZ2ggc2VhcyBjb25zZXJ2YXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUwNjEvZHJ5YWQudmRuY2pzeHRjPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzYzN2EzOTg5ZWRmMzRhMGJiYzM5NTAwMTUwYjZkYTM2LnNldENvbnRlbnQoaHRtbF8wNWRlMjliZTA2NDY0NDMyYTk3NTI3MjEyZDA4NzA1ZCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Q1NDI3OGU3ZTA0ZjQ0MDY5ZWJhMzc1YzliOTQ3MzI5LmJpbmRQb3B1cChwb3B1cF82MzdhMzk4OWVkZjM0YTBiYmMzOTUwMDE1MGI2ZGEzNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85MzFlMjNmYmEwMzE0YTkxOWEzZmNlZDNmZWQxMzhkYl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzkzMWUyM2ZiYTAzMTRhOTE5YTNmY2VkM2ZlZDEzOGRiID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzkzMWUyM2ZiYTAzMTRhOTE5YTNmY2VkM2ZlZDEzOGRiX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYzBiNWE4N2Y5ZmNiNDVhNDlhY2M2MDMwMjNlNzFiYzkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85MzFlMjNmYmEwMzE0YTkxOWEzZmNlZDNmZWQxMzhkYl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOTMxZTIzZmJhMDMxNGE5MTlhM2ZjZWQzZmVkMTM4ZGIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzkzMWUyM2ZiYTAzMTRhOTE5YTNmY2VkM2ZlZDEzOGRiX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEyMS4wMTY2NjY2NjY2NywgLTQwLjAyNDk5OTk5ODgwNl0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtNDAuMDI0OTk5OTk4ODA2XSwgWy03MC4wNTgzMzMzMzUzNzUsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjY2NywgLTEwLjE4MzMzMzMzMzMzM10sIFstMTIxLjAxNjY2NjY2NjY3LCAtNDAuMDI0OTk5OTk4ODA2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2IwODQ5NGJlZGUxMDRkOGNiMWNlNTVjMjg2NzNjNjcwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzkxNDkzZDgyNmQ3YTQxNTFhZTE5MWEzNDgwZGYzZWEwID0gJChgPGRpdiBpZD0iaHRtbF85MTQ5M2Q4MjZkN2E0MTUxYWUxOTFhMzQ4MGRmM2VhMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc2xvcGUuYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iMDg0OTRiZWRlMTA0ZDhjYjFjZTU1YzI4NjczYzY3MC5zZXRDb250ZW50KGh0bWxfOTE0OTNkODI2ZDdhNDE1MWFlMTkxYTM0ODBkZjNlYTApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85MzFlMjNmYmEwMzE0YTkxOWEzZmNlZDNmZWQxMzhkYi5iaW5kUG9wdXAocG9wdXBfYjA4NDk0YmVkZTEwNGQ4Y2IxY2U1NWMyODY3M2M2NzApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWM1YzU2M2NmMmQyNDQ2YWI1MWFkNTFhZWNjNzBjMjZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85YzVjNTYzY2YyZDI0NDZhYjUxYWQ1MWFlY2M3MGMyNiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85YzVjNTYzY2YyZDI0NDZhYjUxYWQ1MWFlY2M3MGMyNl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWM1YzU2M2NmMmQyNDQ2YWI1MWFkNTFhZWNjNzBjMjZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzljNWM1NjNjZjJkMjQ0NmFiNTFhZDUxYWVjYzcwYzI2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85YzVjNTYzY2YyZDI0NDZhYjUxYWQ1MWFlY2M3MGMyNl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY2NjcsIC00MC4wMjQ5OTk5OTg4MDZdLCBbLTcwLjA1ODMzMzMzNTM3NSwgLTQwLjAyNDk5OTk5ODgwNl0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtMTAuMTgzMzMzMzMzMzMzXSwgWy0xMjEuMDE2NjY2NjY2NjcsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjY2NywgLTQwLjAyNDk5OTk5ODgwNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wMmM5YmRjZWI0ODI0ZGYwODBkNmVkMTI2NDNjY2NlZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zNWNiMTE1NmZlOGE0NTY0ODk1MTNjMjQwM2UwNDJlOCA9ICQoYDxkaXYgaWQ9Imh0bWxfMzVjYjExNTZmZThhNDU2NDg5NTEzYzI0MDNlMDQyZTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IG5pdHJhdGUuYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wMmM5YmRjZWI0ODI0ZGYwODBkNmVkMTI2NDNjY2NlZS5zZXRDb250ZW50KGh0bWxfMzVjYjExNTZmZThhNDU2NDg5NTEzYzI0MDNlMDQyZTgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85YzVjNTYzY2YyZDI0NDZhYjUxYWQ1MWFlY2M3MGMyNi5iaW5kUG9wdXAocG9wdXBfMDJjOWJkY2ViNDgyNGRmMDgwZDZlZDEyNjQzY2NjZWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjkyMTA4NDg1OGJkNDQ2NWI3NTc5NzQ1MzE2Yjk0ZDBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iOTIxMDg0ODU4YmQ0NDY1Yjc1Nzk3NDUzMTZiOTRkMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iOTIxMDg0ODU4YmQ0NDY1Yjc1Nzk3NDUzMTZiOTRkMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjkyMTA4NDg1OGJkNDQ2NWI3NTc5NzQ1MzE2Yjk0ZDBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2I5MjEwODQ4NThiZDQ0NjViNzU3OTc0NTMxNmI5NGQwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iOTIxMDg0ODU4YmQ0NDY1Yjc1Nzk3NDUzMTZiOTRkMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY2NjcsIC00MC4wMjQ5OTk5OTg4MDZdLCBbLTcwLjA1ODMzMzMzNTM3NSwgLTQwLjAyNDk5OTk5ODgwNl0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtMTAuMTgzMzMzMzMzMzMzXSwgWy0xMjEuMDE2NjY2NjY2NjcsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjY2NywgLTQwLjAyNDk5OTk5ODgwNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iOGIxZTljMmJlY2Q0NGFjOWM0NWE4OWUyNGQwM2ZhYiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81MDA3ZWIyNTM1NzE0YTVkYjEzNmJhMTUyM2UyMDQwNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNTAwN2ViMjUzNTcxNGE1ZGIxMzZiYTE1MjNlMjA0MDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGVhc3RuZXNzLmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYjhiMWU5YzJiZWNkNDRhYzljNDVhODllMjRkMDNmYWIuc2V0Q29udGVudChodG1sXzUwMDdlYjI1MzU3MTRhNWRiMTM2YmExNTIzZTIwNDA1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYjkyMTA4NDg1OGJkNDQ2NWI3NTc5NzQ1MzE2Yjk0ZDAuYmluZFBvcHVwKHBvcHVwX2I4YjFlOWMyYmVjZDQ0YWM5YzQ1YTg5ZTI0ZDAzZmFiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NjNDJhODVhYjRiOTQyYzI4ZTBiMTJhYTc3MzlhNTlmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fY2M0MmE4NWFiNGI5NDJjMjhlMGIxMmFhNzczOWE1OWYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fY2M0MmE4NWFiNGI5NDJjMjhlMGIxMmFhNzczOWE1OWZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NjNDJhODVhYjRiOTQyYzI4ZTBiMTJhYTc3MzlhNTlmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jYzQyYTg1YWI0Yjk0MmMyOGUwYjEyYWE3NzM5YTU5Zi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fY2M0MmE4NWFiNGI5NDJjMjhlMGIxMmFhNzczOWE1OWZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTQwLjAyNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hYjk0ODdhZjY3MzU0NDY1OGNjNzZmMzk4M2FlYjFjMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80MzNkYTczNGYxYTk0ZDZkOGViMDFiNzViMjJlOWY2NiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDMzZGE3MzRmMWE5NGQ2ZDhlYjAxYjc1YjIyZTlmNjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFJGX0hTX2dsYXNzc3BvbmdlLmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYWI5NDg3YWY2NzM1NDQ2NThjYzc2ZjM5ODNhZWIxYzIuc2V0Q29udGVudChodG1sXzQzM2RhNzM0ZjFhOTRkNmQ4ZWIwMWI3NWIyMmU5ZjY2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fY2M0MmE4NWFiNGI5NDJjMjhlMGIxMmFhNzczOWE1OWYuYmluZFBvcHVwKHBvcHVwX2FiOTQ4N2FmNjczNTQ0NjU4Y2M3NmYzOTgzYWViMWMyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdiMWRmZGIwMTViOTQxMDU5MTdlZDUxYjFhNDA2OTY2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fN2IxZGZkYjAxNWI5NDEwNTkxN2VkNTFiMWE0MDY5NjYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fN2IxZGZkYjAxNWI5NDEwNTkxN2VkNTFiMWE0MDY5NjZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdiMWRmZGIwMTViOTQxMDU5MTdlZDUxYjFhNDA2OTY2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83YjFkZmRiMDE1Yjk0MTA1OTE3ZWQ1MWIxYTQwNjk2Ni5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fN2IxZGZkYjAxNWI5NDEwNTkxN2VkNTFiMWE0MDY5NjZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTQwLjAyNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83MDEwNmY2ZjI1YmE0OTI4ODJhYmQwMTdjY2ZlN2QyZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82OWUxMzM1ZWU0MWI0NGYxYTMzZTMzZmU2YjcwM2U5MCA9ICQoYDxkaXYgaWQ9Imh0bWxfNjllMTMzNWVlNDFiNDRmMWEzM2UzM2ZlNmI3MDNlOTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEdBTV9IU19zdG9ueWNvcmFsLmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNzAxMDZmNmYyNWJhNDkyODgyYWJkMDE3Y2NmZTdkMmUuc2V0Q29udGVudChodG1sXzY5ZTEzMzVlZTQxYjQ0ZjFhMzNlMzNmZTZiNzAzZTkwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fN2IxZGZkYjAxNWI5NDEwNTkxN2VkNTFiMWE0MDY5NjYuYmluZFBvcHVwKHBvcHVwXzcwMTA2ZjZmMjViYTQ5Mjg4MmFiZDAxN2NjZmU3ZDJlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q3M2UxZmRhZmExOTRlNWViZDgyNTgxMjAxNzQxZDQ3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZDczZTFmZGFmYTE5NGU1ZWJkODI1ODEyMDE3NDFkNDcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZDczZTFmZGFmYTE5NGU1ZWJkODI1ODEyMDE3NDFkNDdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Q3M2UxZmRhZmExOTRlNWViZDgyNTgxMjAxNzQxZDQ3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kNzNlMWZkYWZhMTk0ZTVlYmQ4MjU4MTIwMTc0MWQ0Ny5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZDczZTFmZGFmYTE5NGU1ZWJkODI1ODEyMDE3NDFkNDdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTQwLjAyNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82NDhhYThjYjRiMmI0Njc5OWRhYTc4M2IzZDM1OWEwNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84MWM3NWVlZmNkYmY0NmJjOTYzNmQ1M2E0YzVlMTNiMiA9ICQoYDxkaXYgaWQ9Imh0bWxfODFjNzVlZWZjZGJmNDZiYzk2MzZkNTNhNGM1ZTEzYjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEdBTV9IU19kZW1vc3BvbmdlLmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjQ4YWE4Y2I0YjJiNDY3OTlkYWE3ODNiM2QzNTlhMDQuc2V0Q29udGVudChodG1sXzgxYzc1ZWVmY2RiZjQ2YmM5NjM2ZDUzYTRjNWUxM2IyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZDczZTFmZGFmYTE5NGU1ZWJkODI1ODEyMDE3NDFkNDcuYmluZFBvcHVwKHBvcHVwXzY0OGFhOGNiNGIyYjQ2Nzk5ZGFhNzgzYjNkMzU5YTA0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2UzYWNjMThmNzg2MDQxNDhiZjUyNjBjNWNmYjAyZjQ0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTNhY2MxOGY3ODYwNDE0OGJmNTI2MGM1Y2ZiMDJmNDQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTNhY2MxOGY3ODYwNDE0OGJmNTI2MGM1Y2ZiMDJmNDRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2UzYWNjMThmNzg2MDQxNDhiZjUyNjBjNWNmYjAyZjQ0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lM2FjYzE4Zjc4NjA0MTQ4YmY1MjYwYzVjZmIwMmY0NC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTNhY2MxOGY3ODYwNDE0OGJmNTI2MGM1Y2ZiMDJmNDRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTQwLjAyNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zMDBiYzgxNWU3MDU0NGNmOTA0MjNmNzhlMWQ2NWU3ZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zMjdmNWE3YjM1MWE0NThmYmNiMTcwNmQ3MThkYzVkNSA9ICQoYDxkaXYgaWQ9Imh0bWxfMzI3ZjVhN2IzNTFhNDU4ZmJjYjE3MDZkNzE4ZGM1ZDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IFJGX0hTX2RlbW9zcG9uZ2UuYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zMDBiYzgxNWU3MDU0NGNmOTA0MjNmNzhlMWQ2NWU3ZS5zZXRDb250ZW50KGh0bWxfMzI3ZjVhN2IzNTFhNDU4ZmJjYjE3MDZkNzE4ZGM1ZDUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lM2FjYzE4Zjc4NjA0MTQ4YmY1MjYwYzVjZmIwMmY0NC5iaW5kUG9wdXAocG9wdXBfMzAwYmM4MTVlNzA1NDRjZjkwNDIzZjc4ZTFkNjVlN2UpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmIyN2Y5MzkyYWU0NDk2ZjhiMmIxOTVkYzUxNjY4NDZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iYjI3ZjkzOTJhZTQ0OTZmOGIyYjE5NWRjNTE2Njg0NiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iYjI3ZjkzOTJhZTQ0OTZmOGIyYjE5NWRjNTE2Njg0Nl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmIyN2Y5MzkyYWU0NDk2ZjhiMmIxOTVkYzUxNjY4NDZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2JiMjdmOTM5MmFlNDQ5NmY4YjJiMTk1ZGM1MTY2ODQ2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iYjI3ZjkzOTJhZTQ0OTZmOGIyYjE5NWRjNTE2Njg0Nl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY3LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC00MC4wMjVdLCBbLTcwLjA1ODMzMzMzNiwgLTEwLjE4MzMzMzMzMzY5OTddLCBbLTEyMS4wMTY2NjY2NjcsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtNDAuMDI1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzY0ZmQwMGM5MmNlYTQyYTY4MDJlZGY4OGI0YzlkMTJmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2U3NjM3ZTM5MDUzMTRmNzBiNjc4ZGYwN2U1MjA1OTk4ID0gJChgPGRpdiBpZD0iaHRtbF9lNzYzN2UzOTA1MzE0ZjcwYjY3OGRmMDdlNTIwNTk5OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gRW5zZW1ibGVfSFNfZGVtb3Nwb25nZS5hc2M8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGFzYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTYwODU0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFRoZSBtb2RlbGVkIGRpc3RyaWJ1dGlvbiBvZiBjb3JhbHMgYW5kIHNwb25nZXMgc3Vycm91bmRpbmcgdGhlIFNhbGFzIHkgR8OzbWV6IGFuZCBOYXpjYSByaWRnZXMgd2l0aCBpbXBsaWNhdGlvbnMgZm9yIGhpZ2ggc2VhcyBjb25zZXJ2YXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUwNjEvZHJ5YWQudmRuY2pzeHRjPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzY0ZmQwMGM5MmNlYTQyYTY4MDJlZGY4OGI0YzlkMTJmLnNldENvbnRlbnQoaHRtbF9lNzYzN2UzOTA1MzE0ZjcwYjY3OGRmMDdlNTIwNTk5OCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2JiMjdmOTM5MmFlNDQ5NmY4YjJiMTk1ZGM1MTY2ODQ2LmJpbmRQb3B1cChwb3B1cF82NGZkMDBjOTJjZWE0MmE2ODAyZWRmODhiNGM5ZDEyZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNzcxYTE0MDA5N2Y0YjhmODE3MDdiODc4MDI4ZTRhN19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y3NzFhMTQwMDk3ZjRiOGY4MTcwN2I4NzgwMjhlNGE3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y3NzFhMTQwMDk3ZjRiOGY4MTcwN2I4NzgwMjhlNGE3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYzBiNWE4N2Y5ZmNiNDVhNDlhY2M2MDMwMjNlNzFiYzkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNzcxYTE0MDA5N2Y0YjhmODE3MDdiODc4MDI4ZTRhN19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjc3MWExNDAwOTdmNGI4ZjgxNzA3Yjg3ODAyOGU0YTcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y3NzFhMTQwMDk3ZjRiOGY4MTcwN2I4NzgwMjhlNGE3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdLCBbLTcwLjA1ODMzMzMzNiwgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTEwLjE4MzMzMzMzMzY5OTddLCBbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNzkzMjM0NjBhNGE0NDU0ZTg5NGM2OTA4M2M1MTQzMjYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNDhkNDRlNDg5ZTE0NGQ1ODkzZTkwNmFjZjQ5NmI5MDcgPSAkKGA8ZGl2IGlkPSJodG1sXzQ4ZDQ0ZTQ4OWUxNDRkNTg5M2U5MDZhY2Y0OTZiOTA3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBHQU1fSFNfZ2xhc3NzcG9uZ2UuYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83OTMyMzQ2MGE0YTQ0NTRlODk0YzY5MDgzYzUxNDMyNi5zZXRDb250ZW50KGh0bWxfNDhkNDRlNDg5ZTE0NGQ1ODkzZTkwNmFjZjQ5NmI5MDcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mNzcxYTE0MDA5N2Y0YjhmODE3MDdiODc4MDI4ZTRhNy5iaW5kUG9wdXAocG9wdXBfNzkzMjM0NjBhNGE0NDU0ZTg5NGM2OTA4M2M1MTQzMjYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODMzMTE4YWY5YmNmNDdjNGFkOTAxZjE2ZjQ0MTg4MzJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84MzMxMThhZjliY2Y0N2M0YWQ5MDFmMTZmNDQxODgzMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84MzMxMThhZjliY2Y0N2M0YWQ5MDFmMTZmNDQxODgzMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODMzMTE4YWY5YmNmNDdjNGFkOTAxZjE2ZjQ0MTg4MzJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzgzMzExOGFmOWJjZjQ3YzRhZDkwMWYxNmY0NDE4ODMyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84MzMxMThhZjliY2Y0N2M0YWQ5MDFmMTZmNDQxODgzMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY3LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC00MC4wMjVdLCBbLTcwLjA1ODMzMzMzNiwgLTEwLjE4MzMzMzMzMzY5OTddLCBbLTEyMS4wMTY2NjY2NjcsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtNDAuMDI1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzc0ZmNkNjhlNjBmZDQzYWVhYjk5ZWRkNGYyNDRiNjUwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2YwMmExZjYxMWMyNzQ2ZGRhNjlhMjA1ZDMzMDY2YzY0ID0gJChgPGRpdiBpZD0iaHRtbF9mMDJhMWY2MTFjMjc0NmRkYTY5YTIwNWQzMzA2NmM2NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gQlJUX0hTX2RlbW9zcG9uZ2UuYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83NGZjZDY4ZTYwZmQ0M2FlYWI5OWVkZDRmMjQ0YjY1MC5zZXRDb250ZW50KGh0bWxfZjAyYTFmNjExYzI3NDZkZGE2OWEyMDVkMzMwNjZjNjQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84MzMxMThhZjliY2Y0N2M0YWQ5MDFmMTZmNDQxODgzMi5iaW5kUG9wdXAocG9wdXBfNzRmY2Q2OGU2MGZkNDNhZWFiOTllZGQ0ZjI0NGI2NTApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWRjOGM3NmNmZDcxNDc1ZWIwYTZjMTk4NmU4ZWEyYjBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81ZGM4Yzc2Y2ZkNzE0NzVlYjBhNmMxOTg2ZThlYTJiMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81ZGM4Yzc2Y2ZkNzE0NzVlYjBhNmMxOTg2ZThlYTJiMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWRjOGM3NmNmZDcxNDc1ZWIwYTZjMTk4NmU4ZWEyYjBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzVkYzhjNzZjZmQ3MTQ3NWViMGE2YzE5ODZlOGVhMmIwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81ZGM4Yzc2Y2ZkNzE0NzVlYjBhNmMxOTg2ZThlYTJiMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY3LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC00MC4wMjVdLCBbLTcwLjA1ODMzMzMzNiwgLTEwLjE4MzMzMzMzMzY5OTddLCBbLTEyMS4wMTY2NjY2NjcsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtNDAuMDI1XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzllOGUzNDQ5Njk3NTQxZDQ4ZjFiNjFlYmQxNDA0YzY3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzlmMDJmODlkNTMwYzRlZjRiMDhkNTgxMTg2MWM5MDAxID0gJChgPGRpdiBpZD0iaHRtbF85ZjAyZjg5ZDUzMGM0ZWY0YjA4ZDU4MTE4NjFjOTAwMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gUkZfSFNfbWF4bm9kZTEwLmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOWU4ZTM0NDk2OTc1NDFkNDhmMWI2MWViZDE0MDRjNjcuc2V0Q29udGVudChodG1sXzlmMDJmODlkNTMwYzRlZjRiMDhkNTgxMTg2MWM5MDAxKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNWRjOGM3NmNmZDcxNDc1ZWIwYTZjMTk4NmU4ZWEyYjAuYmluZFBvcHVwKHBvcHVwXzllOGUzNDQ5Njk3NTQxZDQ4ZjFiNjFlYmQxNDA0YzY3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhkNDVlNDU0MTgwMzQwMjk4OGFhNDdlNTg0OTgyYTdlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOGQ0NWU0NTQxODAzNDAyOTg4YWE0N2U1ODQ5ODJhN2UgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOGQ0NWU0NTQxODAzNDAyOTg4YWE0N2U1ODQ5ODJhN2Vfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzhkNDVlNDU0MTgwMzQwMjk4OGFhNDdlNTg0OTgyYTdlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84ZDQ1ZTQ1NDE4MDM0MDI5ODhhYTQ3ZTU4NDk4MmE3ZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOGQ0NWU0NTQxODAzNDAyOTg4YWE0N2U1ODQ5ODJhN2VfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTQwLjAyNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wN2M3NmY1N2ZiOTQ0MGQ1OGY1MWZkNmJhMWUxODFlNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yZWExOGY5MGVhOGY0Y2VkYWY5Y2M5M2RhOGY3NTIwMCA9ICQoYDxkaXYgaWQ9Imh0bWxfMmVhMThmOTBlYThmNGNlZGFmOWNjOTNkYThmNzUyMDAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IE1BWEVOVF9IU19zdG9ueWNvcmFsLmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMDdjNzZmNTdmYjk0NDBkNThmNTFmZDZiYTFlMTgxZTcuc2V0Q29udGVudChodG1sXzJlYTE4ZjkwZWE4ZjRjZWRhZjljYzkzZGE4Zjc1MjAwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOGQ0NWU0NTQxODAzNDAyOTg4YWE0N2U1ODQ5ODJhN2UuYmluZFBvcHVwKHBvcHVwXzA3Yzc2ZjU3ZmI5NDQwZDU4ZjUxZmQ2YmExZTE4MWU3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzFkY2JjN2VmMGFjYzQ0Zjg4ODIwNDkyNjYwNTQ2YmZlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMWRjYmM3ZWYwYWNjNDRmODg4MjA0OTI2NjA1NDZiZmUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMWRjYmM3ZWYwYWNjNDRmODg4MjA0OTI2NjA1NDZiZmVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzFkY2JjN2VmMGFjYzQ0Zjg4ODIwNDkyNjYwNTQ2YmZlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xZGNiYzdlZjBhY2M0NGY4ODgyMDQ5MjY2MDU0NmJmZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMWRjYmM3ZWYwYWNjNDRmODg4MjA0OTI2NjA1NDZiZmVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTQwLjAyNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jODRjNjg1NWMzYzY0N2U1OWY1MzFiNGY1ZDdlN2YyYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wM2I5YTI2ZTFlNjI0ZDQzYTU3MTY2NzU0YTAxYTYyMCA9ICQoYDxkaXYgaWQ9Imh0bWxfMDNiOWEyNmUxZTYyNGQ0M2E1NzE2Njc1NGEwMWE2MjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEVuc2VtYmxlX0hTX3N0b255LmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYzg0YzY4NTVjM2M2NDdlNTlmNTMxYjRmNWQ3ZTdmMmEuc2V0Q29udGVudChodG1sXzAzYjlhMjZlMWU2MjRkNDNhNTcxNjY3NTRhMDFhNjIwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMWRjYmM3ZWYwYWNjNDRmODg4MjA0OTI2NjA1NDZiZmUuYmluZFBvcHVwKHBvcHVwX2M4NGM2ODU1YzNjNjQ3ZTU5ZjUzMWI0ZjVkN2U3ZjJhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYzYzBlZDNlN2JlOTQ4NDFiZWY1NGU3ZTYwZWZhOGRlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjNjMGVkM2U3YmU5NDg0MWJlZjU0ZTdlNjBlZmE4ZGUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjNjMGVkM2U3YmU5NDg0MWJlZjU0ZTdlNjBlZmE4ZGVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYzYzBlZDNlN2JlOTQ4NDFiZWY1NGU3ZTYwZWZhOGRlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82M2MwZWQzZTdiZTk0ODQxYmVmNTRlN2U2MGVmYThkZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjNjMGVkM2U3YmU5NDg0MWJlZjU0ZTdlNjBlZmE4ZGVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTQwLjAyNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84MmNkNzFiOTI0YmI0YzYwOGI4YTg4ODQ5NGVhNzRkMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83ZGQzNDBkMjdmOTA0MjE2OTMwNDIwMGMxYThjZGI2MiA9ICQoYDxkaXYgaWQ9Imh0bWxfN2RkMzQwZDI3ZjkwNDIxNjkzMDQyMDBjMWE4Y2RiNjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEVuc2VtYmxlX0hTX2dsYXNzc3BvbmdlLmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODJjZDcxYjkyNGJiNGM2MDhiOGE4ODg0OTRlYTc0ZDIuc2V0Q29udGVudChodG1sXzdkZDM0MGQyN2Y5MDQyMTY5MzA0MjAwYzFhOGNkYjYyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjNjMGVkM2U3YmU5NDg0MWJlZjU0ZTdlNjBlZmE4ZGUuYmluZFBvcHVwKHBvcHVwXzgyY2Q3MWI5MjRiYjRjNjA4YjhhODg4NDk0ZWE3NGQyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzg4YTBlZWEyNGQxMzRkY2Q4MmM2ODlkNmE3Y2IxNmExX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fODhhMGVlYTI0ZDEzNGRjZDgyYzY4OWQ2YTdjYjE2YTEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fODhhMGVlYTI0ZDEzNGRjZDgyYzY4OWQ2YTdjYjE2YTFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzg4YTBlZWEyNGQxMzRkY2Q4MmM2ODlkNmE3Y2IxNmExX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84OGEwZWVhMjRkMTM0ZGNkODJjNjg5ZDZhN2NiMTZhMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fODhhMGVlYTI0ZDEzNGRjZDgyYzY4OWQ2YTdjYjE2YTFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NywgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtNDAuMDI1XSwgWy03MC4wNTgzMzMzMzYsIC0xMC4xODMzMzMzMzM2OTk3XSwgWy0xMjEuMDE2NjY2NjY3LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTQwLjAyNV1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85ODBlM2I3OGE4MTc0NWNhYWE3YmUxY2NhY2FmZTFmMyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jMDkyMDYxZmZhZWU0NDM1ODk1NjMwYTBlNTE3NTVmYyA9ICQoYDxkaXYgaWQ9Imh0bWxfYzA5MjA2MWZmYWVlNDQzNTg5NTYzMGEwZTUxNzU1ZmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IEJSVF9IU19nbGFzc3Nwb25nZS5hc2M8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGFzYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTYwODU0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFRoZSBtb2RlbGVkIGRpc3RyaWJ1dGlvbiBvZiBjb3JhbHMgYW5kIHNwb25nZXMgc3Vycm91bmRpbmcgdGhlIFNhbGFzIHkgR8OzbWV6IGFuZCBOYXpjYSByaWRnZXMgd2l0aCBpbXBsaWNhdGlvbnMgZm9yIGhpZ2ggc2VhcyBjb25zZXJ2YXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUwNjEvZHJ5YWQudmRuY2pzeHRjPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzk4MGUzYjc4YTgxNzQ1Y2FhYTdiZTFjY2FjYWZlMWYzLnNldENvbnRlbnQoaHRtbF9jMDkyMDYxZmZhZWU0NDM1ODk1NjMwYTBlNTE3NTVmYyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzg4YTBlZWEyNGQxMzRkY2Q4MmM2ODlkNmE3Y2IxNmExLmJpbmRQb3B1cChwb3B1cF85ODBlM2I3OGE4MTc0NWNhYWE3YmUxY2NhY2FmZTFmMykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYzkyMjdkY2JkZGQ0OTNkODQ0ZGFmZDUxNTI3N2E2Zl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzJjOTIyN2RjYmRkZDQ5M2Q4NDRkYWZkNTE1Mjc3YTZmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzJjOTIyN2RjYmRkZDQ5M2Q4NDRkYWZkNTE1Mjc3YTZmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYzBiNWE4N2Y5ZmNiNDVhNDlhY2M2MDMwMjNlNzFiYzkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYzkyMjdkY2JkZGQ0OTNkODQ0ZGFmZDUxNTI3N2E2Zl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMmM5MjI3ZGNiZGRkNDkzZDg0NGRhZmQ1MTUyNzdhNmYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzJjOTIyN2RjYmRkZDQ5M2Q4NDRkYWZkNTE1Mjc3YTZmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdLCBbLTcwLjA1ODMzMzMzNiwgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTEwLjE4MzMzMzMzMzY5OTddLCBbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYmJjYjFjODlkM2Y0NGZhNmJmMGM0N2I1NWM1YmJjOWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZTRkYTljMzIwNWRlNDQyMWFhMGY0Y2IwYjBiYjQ5MjUgPSAkKGA8ZGl2IGlkPSJodG1sX2U0ZGE5YzMyMDVkZTQ0MjFhYTBmNGNiMGIwYmI0OTI1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBNQVhFTlRfSFNfZGVtb3Nwb25nZS5hc2M8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGFzYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTYwODU0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFRoZSBtb2RlbGVkIGRpc3RyaWJ1dGlvbiBvZiBjb3JhbHMgYW5kIHNwb25nZXMgc3Vycm91bmRpbmcgdGhlIFNhbGFzIHkgR8OzbWV6IGFuZCBOYXpjYSByaWRnZXMgd2l0aCBpbXBsaWNhdGlvbnMgZm9yIGhpZ2ggc2VhcyBjb25zZXJ2YXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUwNjEvZHJ5YWQudmRuY2pzeHRjPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2JiY2IxYzg5ZDNmNDRmYTZiZjBjNDdiNTVjNWJiYzllLnNldENvbnRlbnQoaHRtbF9lNGRhOWMzMjA1ZGU0NDIxYWEwZjRjYjBiMGJiNDkyNSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzJjOTIyN2RjYmRkZDQ5M2Q4NDRkYWZkNTE1Mjc3YTZmLmJpbmRQb3B1cChwb3B1cF9iYmNiMWM4OWQzZjQ0ZmE2YmYwYzQ3YjU1YzViYmM5ZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMjAwNTAwMWQwNDM0ZTk3YTkwYjllZjViMTBlYTZmNF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2IyMDA1MDAxZDA0MzRlOTdhOTBiOWVmNWIxMGVhNmY0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2IyMDA1MDAxZDA0MzRlOTdhOTBiOWVmNWIxMGVhNmY0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYzBiNWE4N2Y5ZmNiNDVhNDlhY2M2MDMwMjNlNzFiYzkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMjAwNTAwMWQwNDM0ZTk3YTkwYjllZjViMTBlYTZmNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYjIwMDUwMDFkMDQzNGU5N2E5MGI5ZWY1YjEwZWE2ZjQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2IyMDA1MDAxZDA0MzRlOTdhOTBiOWVmNWIxMGVhNmY0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdLCBbLTcwLjA1ODMzMzMzNiwgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTEwLjE4MzMzMzMzMzY5OTddLCBbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOGEyNDk4MzU0OTU4NGVkNjhhNzYwOGE1NmQ1MGMwNjUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjQzNDJlMDNmNWJkNDQ1OGE2YTkwNDBlNzFjMGJiNjEgPSAkKGA8ZGl2IGlkPSJodG1sX2Y0MzQyZTAzZjViZDQ0NThhNmE5MDQwZTcxYzBiYjYxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBCUlRfSFNfc3Rvbnljb3JhbC5hc2M8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGFzYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTYwODU0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFRoZSBtb2RlbGVkIGRpc3RyaWJ1dGlvbiBvZiBjb3JhbHMgYW5kIHNwb25nZXMgc3Vycm91bmRpbmcgdGhlIFNhbGFzIHkgR8OzbWV6IGFuZCBOYXpjYSByaWRnZXMgd2l0aCBpbXBsaWNhdGlvbnMgZm9yIGhpZ2ggc2VhcyBjb25zZXJ2YXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUwNjEvZHJ5YWQudmRuY2pzeHRjPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzhhMjQ5ODM1NDk1ODRlZDY4YTc2MDhhNTZkNTBjMDY1LnNldENvbnRlbnQoaHRtbF9mNDM0MmUwM2Y1YmQ0NDU4YTZhOTA0MGU3MWMwYmI2MSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2IyMDA1MDAxZDA0MzRlOTdhOTBiOWVmNWIxMGVhNmY0LmJpbmRQb3B1cChwb3B1cF84YTI0OTgzNTQ5NTg0ZWQ2OGE3NjA4YTU2ZDUwYzA2NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85ZTE2MDg3NTdiYmI0OTRmYjFlODk0N2IzYjc5MWUzZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzllMTYwODc1N2JiYjQ5NGZiMWU4OTQ3YjNiNzkxZTNkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzllMTYwODc1N2JiYjQ5NGZiMWU4OTQ3YjNiNzkxZTNkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYzBiNWE4N2Y5ZmNiNDVhNDlhY2M2MDMwMjNlNzFiYzkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85ZTE2MDg3NTdiYmI0OTRmYjFlODk0N2IzYjc5MWUzZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOWUxNjA4NzU3YmJiNDk0ZmIxZTg5NDdiM2I3OTFlM2QuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzllMTYwODc1N2JiYjQ5NGZiMWU4OTQ3YjNiNzkxZTNkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdLCBbLTcwLjA1ODMzMzMzNiwgLTQwLjAyNV0sIFstNzAuMDU4MzMzMzM2LCAtMTAuMTgzMzMzMzMzNjk5N10sIFstMTIxLjAxNjY2NjY2NywgLTEwLjE4MzMzMzMzMzY5OTddLCBbLTEyMS4wMTY2NjY2NjcsIC00MC4wMjVdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjQ2NWJmODY5YTEyNDExY2FkZTRkYmRmZmI1MzExNDkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZTZhZTM1OGY1MzIwNDljZGEyM2E0MjRkMjA3NDMyMzggPSAkKGA8ZGl2IGlkPSJodG1sX2U2YWUzNThmNTMyMDQ5Y2RhMjNhNDI0ZDIwNzQzMjM4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBNQVhFTlRfSFNfZ2xhc3NzcG9uZ2UuYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iNDY1YmY4NjlhMTI0MTFjYWRlNGRiZGZmYjUzMTE0OS5zZXRDb250ZW50KGh0bWxfZTZhZTM1OGY1MzIwNDljZGEyM2E0MjRkMjA3NDMyMzgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85ZTE2MDg3NTdiYmI0OTRmYjFlODk0N2IzYjc5MWUzZC5iaW5kUG9wdXAocG9wdXBfYjQ2NWJmODY5YTEyNDExY2FkZTRkYmRmZmI1MzExNDkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDY4OTRiMmU5YmJiNGU0MGJjYzQ4MTk5YTVlZWNjMWNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kNjg5NGIyZTliYmI0ZTQwYmNjNDgxOTlhNWVlY2MxYyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kNjg5NGIyZTliYmI0ZTQwYmNjNDgxOTlhNWVlY2MxY19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDY4OTRiMmU5YmJiNGU0MGJjYzQ4MTk5YTVlZWNjMWNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2Q2ODk0YjJlOWJiYjRlNDBiY2M0ODE5OWE1ZWVjYzFjLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kNjg5NGIyZTliYmI0ZTQwYmNjNDgxOTlhNWVlY2MxY19hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY2NjcsIC00MC4wMjQ5OTk5OTg4MDZdLCBbLTcwLjA1ODMzMzMzNTM3NSwgLTQwLjAyNDk5OTk5ODgwNl0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtMTAuMTgzMzMzMzMzMzMzXSwgWy0xMjEuMDE2NjY2NjY2NjcsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjY2NywgLTQwLjAyNDk5OTk5ODgwNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zYjRiNWE1OGUzMWE0ZGMzOTRmYzg3MzQyZDQzZDVkYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hZGJmMmFhMTk0OWU0MTk2OGQxZWQzYTAzNzQ1ZTQ5ZCA9ICQoYDxkaXYgaWQ9Imh0bWxfYWRiZjJhYTE5NDllNDE5NjhkMWVkM2EwMzc0NWU0OWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGFyYWdvbml0ZXNhdHVyYXRpb25zdGF0ZS5hc2M8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGFzYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTYwODU0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFRoZSBtb2RlbGVkIGRpc3RyaWJ1dGlvbiBvZiBjb3JhbHMgYW5kIHNwb25nZXMgc3Vycm91bmRpbmcgdGhlIFNhbGFzIHkgR8OzbWV6IGFuZCBOYXpjYSByaWRnZXMgd2l0aCBpbXBsaWNhdGlvbnMgZm9yIGhpZ2ggc2VhcyBjb25zZXJ2YXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUwNjEvZHJ5YWQudmRuY2pzeHRjPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNiNGI1YTU4ZTMxYTRkYzM5NGZjODczNDJkNDNkNWRhLnNldENvbnRlbnQoaHRtbF9hZGJmMmFhMTk0OWU0MTk2OGQxZWQzYTAzNzQ1ZTQ5ZCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2Q2ODk0YjJlOWJiYjRlNDBiY2M0ODE5OWE1ZWVjYzFjLmJpbmRQb3B1cChwb3B1cF8zYjRiNWE1OGUzMWE0ZGMzOTRmYzg3MzQyZDQzZDVkYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mYmU4MDk1MDQ3MzU0ZTRlYjllM2E2OTU4YjMxMGFhM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2ZiZTgwOTUwNDczNTRlNGViOWUzYTY5NThiMzEwYWEzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2ZiZTgwOTUwNDczNTRlNGViOWUzYTY5NThiMzEwYWEzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfYzBiNWE4N2Y5ZmNiNDVhNDlhY2M2MDMwMjNlNzFiYzkpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mYmU4MDk1MDQ3MzU0ZTRlYjllM2E2OTU4YjMxMGFhM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZmJlODA5NTA0NzM1NGU0ZWI5ZTNhNjk1OGIzMTBhYTMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2ZiZTgwOTUwNDczNTRlNGViOWUzYTY5NThiMzEwYWEzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbLTEyMS4wMTY2NjY2NjY2NywgLTQwLjAyNDk5OTk5ODgwNl0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtNDAuMDI0OTk5OTk4ODA2XSwgWy03MC4wNTgzMzMzMzUzNzUsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjY2NywgLTEwLjE4MzMzMzMzMzMzM10sIFstMTIxLjAxNjY2NjY2NjY3LCAtNDAuMDI0OTk5OTk4ODA2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2U3NjAzZWViMDE0NDQ3NjViNzlkZDQwN2FhYjMwOGJlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzVjOTdlOGNhZWMzNzRhY2Q5MTExOWZkYTg0ZTNmNjkxID0gJChgPGRpdiBpZD0iaHRtbF81Yzk3ZThjYWVjMzc0YWNkOTExMTlmZGE4NGUzZjY5MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gc2lsaWNhdGUuYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lNzYwM2VlYjAxNDQ0NzY1Yjc5ZGQ0MDdhYWIzMDhiZS5zZXRDb250ZW50KGh0bWxfNWM5N2U4Y2FlYzM3NGFjZDkxMTE5ZmRhODRlM2Y2OTEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mYmU4MDk1MDQ3MzU0ZTRlYjllM2E2OTU4YjMxMGFhMy5iaW5kUG9wdXAocG9wdXBfZTc2MDNlZWIwMTQ0NDc2NWI3OWRkNDA3YWFiMzA4YmUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTk3NDg0NDA3ZWJhNDY3ZTljNWY3Nzg3ZTE4YzUxODJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xOTc0ODQ0MDdlYmE0NjdlOWM1Zjc3ODdlMThjNTE4MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xOTc0ODQ0MDdlYmE0NjdlOWM1Zjc3ODdlMThjNTE4Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTk3NDg0NDA3ZWJhNDY3ZTljNWY3Nzg3ZTE4YzUxODJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzE5NzQ4NDQwN2ViYTQ2N2U5YzVmNzc4N2UxOGM1MTgyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xOTc0ODQ0MDdlYmE0NjdlOWM1Zjc3ODdlMThjNTE4Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY2NjcsIC00MC4wMjQ5OTk5OTg4MDZdLCBbLTcwLjA1ODMzMzMzNTM3NSwgLTQwLjAyNDk5OTk5ODgwNl0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtMTAuMTgzMzMzMzMzMzMzXSwgWy0xMjEuMDE2NjY2NjY2NjcsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjY2NywgLTQwLjAyNDk5OTk5ODgwNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81NjYyODZlZjE3NGI0NDYyYmY5YzMxMWI4NjhhYTVkNSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kNDJhNjgzNjRmYWY0YzE3OGVlMmUwMzA1NzQxNDljZCA9ICQoYDxkaXYgaWQ9Imh0bWxfZDQyYTY4MzY0ZmFmNGMxNzhlZTJlMDMwNTc0MTQ5Y2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IGRlcHRoLmFzYzwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gYXNjPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDQ1NjA4NTQ8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gVGhlIG1vZGVsZWQgZGlzdHJpYnV0aW9uIG9mIGNvcmFscyBhbmQgc3BvbmdlcyBzdXJyb3VuZGluZyB0aGUgU2FsYXMgeSBHw7NtZXogYW5kIE5hemNhIHJpZGdlcyB3aXRoIGltcGxpY2F0aW9ucyBmb3IgaGlnaCBzZWFzIGNvbnNlcnZhdGlvbjwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTA2MS9kcnlhZC52ZG5janN4dGM8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQzAtMS4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTY2Mjg2ZWYxNzRiNDQ2MmJmOWMzMTFiODY4YWE1ZDUuc2V0Q29udGVudChodG1sX2Q0MmE2ODM2NGZhZjRjMTc4ZWUyZTAzMDU3NDE0OWNkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMTk3NDg0NDA3ZWJhNDY3ZTljNWY3Nzg3ZTE4YzUxODIuYmluZFBvcHVwKHBvcHVwXzU2NjI4NmVmMTc0YjQ0NjJiZjljMzExYjg2OGFhNWQ1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQwOWYwNTkyYzI2YjQxZmI5YTg3Yzg1MzVhOTdhZWE5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNDA5ZjA1OTJjMjZiNDFmYjlhODdjODUzNWE5N2FlYTkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNDA5ZjA1OTJjMjZiNDFmYjlhODdjODUzNWE5N2FlYTlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF9jMGI1YTg3ZjlmY2I0NWE0OWFjYzYwMzAyM2U3MWJjOSk7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzQwOWYwNTkyYzI2YjQxZmI5YTg3Yzg1MzVhOTdhZWE5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl80MDlmMDU5MmMyNmI0MWZiOWE4N2M4NTM1YTk3YWVhOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNDA5ZjA1OTJjMjZiNDFmYjlhODdjODUzNWE5N2FlYTlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1stMTIxLjAxNjY2NjY2NjY3LCAtNDAuMDI0OTk5OTk4ODA2XSwgWy03MC4wNTgzMzMzMzUzNzUsIC00MC4wMjQ5OTk5OTg4MDZdLCBbLTcwLjA1ODMzMzMzNTM3NSwgLTEwLjE4MzMzMzMzMzMzM10sIFstMTIxLjAxNjY2NjY2NjY3LCAtMTAuMTgzMzMzMzMzMzMzXSwgWy0xMjEuMDE2NjY2NjY2NjcsIC00MC4wMjQ5OTk5OTg4MDZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZGMyZDlkOWFjMDllNDgwMGI5Zjc4Y2EwNWQ3MTBjMWYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYzc4NDRiODgyYTMzNDg4NmFjODJhMzhhOGRlYmVhZDQgPSAkKGA8ZGl2IGlkPSJodG1sX2M3ODQ0Yjg4MmEzMzQ4ODZhYzgyYTM4YThkZWJlYWQ0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiBwb2MuYXNjPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiBhc2M8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gNDU2MDg1NDwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBUaGUgbW9kZWxlZCBkaXN0cmlidXRpb24gb2YgY29yYWxzIGFuZCBzcG9uZ2VzIHN1cnJvdW5kaW5nIHRoZSBTYWxhcyB5IEfDs21leiBhbmQgTmF6Y2EgcmlkZ2VzIHdpdGggaW1wbGljYXRpb25zIGZvciBoaWdoIHNlYXMgY29uc2VydmF0aW9uPC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MDYxL2RyeWFkLnZkbmNqc3h0YzwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDMC0xLjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kYzJkOWQ5YWMwOWU0ODAwYjlmNzhjYTA1ZDcxMGMxZi5zZXRDb250ZW50KGh0bWxfYzc4NDRiODgyYTMzNDg4NmFjODJhMzhhOGRlYmVhZDQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl80MDlmMDU5MmMyNmI0MWZiOWE4N2M4NTM1YTk3YWVhOS5iaW5kUG9wdXAocG9wdXBfZGMyZDlkOWFjMDllNDgwMGI5Zjc4Y2EwNWQ3MTBjMWYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjhkNWYwNTBiYzQ1NDQ1NDkyMTg3N2Y4ZTJkMjViNWJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82OGQ1ZjA1MGJjNDU0NDU0OTIxODc3ZjhlMmQyNWI1YiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82OGQ1ZjA1MGJjNDU0NDU0OTIxODc3ZjhlMmQyNWI1Yl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5KTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjhkNWYwNTBiYzQ1NDQ1NDkyMTg3N2Y4ZTJkMjViNWJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzY4ZDVmMDUwYmM0NTQ0NTQ5MjE4NzdmOGUyZDI1YjViLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82OGQ1ZjA1MGJjNDU0NDU0OTIxODc3ZjhlMmQyNWI1Yl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWy0xMjEuMDE2NjY2NjY2NjcsIC00MC4wMjQ5OTk5OTg4MDZdLCBbLTcwLjA1ODMzMzMzNTM3NSwgLTQwLjAyNDk5OTk5ODgwNl0sIFstNzAuMDU4MzMzMzM1Mzc1LCAtMTAuMTgzMzMzMzMzMzMzXSwgWy0xMjEuMDE2NjY2NjY2NjcsIC0xMC4xODMzMzMzMzMzMzNdLCBbLTEyMS4wMTY2NjY2NjY2NywgLTQwLjAyNDk5OTk5ODgwNl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wYWIwNTIzMjRhNGU0MDFjODk5YjQxZWFjZTExNDAxMyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82OWU2MTMxZmExNzc0ZmEyYmE1NDQxMWE1N2M1MzUxMiA9ICQoYDxkaXYgaWQ9Imh0bWxfNjllNjEzMWZhMTc3NGZhMmJhNTQ0MTFhNTdjNTM1MTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IHBob3NwaGF0ZS5hc2M8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IGFzYzwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiA0NTYwODU0PC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IFRoZSBtb2RlbGVkIGRpc3RyaWJ1dGlvbiBvZiBjb3JhbHMgYW5kIHNwb25nZXMgc3Vycm91bmRpbmcgdGhlIFNhbGFzIHkgR8OzbWV6IGFuZCBOYXpjYSByaWRnZXMgd2l0aCBpbXBsaWNhdGlvbnMgZm9yIGhpZ2ggc2VhcyBjb25zZXJ2YXRpb248L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUwNjEvZHJ5YWQudmRuY2pzeHRjPC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MwLTEuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzBhYjA1MjMyNGE0ZTQwMWM4OTliNDFlYWNlMTE0MDEzLnNldENvbnRlbnQoaHRtbF82OWU2MTMxZmExNzc0ZmEyYmE1NDQxMWE1N2M1MzUxMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzY4ZDVmMDUwYmM0NTQ0NTQ5MjE4NzdmOGUyZDI1YjViLmJpbmRQb3B1cChwb3B1cF8wYWIwNTIzMjRhNGU0MDFjODk5YjQxZWFjZTExNDAxMykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIgPSBMLmZlYXR1cmVHcm91cCgKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0KTsKICAgICAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZjY2VhZjNkNDg4MDRjM2I4YzRlYWVlOWQ2NWYyOGQzX3N0eWxlcihmZWF0dXJlKSB7CiAgICAgICAgICAgIHN3aXRjaChmZWF0dXJlLmlkKSB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIHJldHVybiB7ImNvbG9yIjogIiNCMjIyMjIiLCAiZGFzaEFycmF5IjogNSwgImZpbGxDb2xvciI6ICIjQjIyMjIyIiwgImZpbGxPcGFjaXR5IjogMC42LCAiZmlsbFBhdHRlcm4iOiBzdHJpcGVfcGF0dGVybl9jNWIwYTQwZDIzNzg0N2YwOTEzN2ExMGZlZDg0MmU4MH07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmNjZWFmM2Q0ODgwNGMzYjhjNGVhZWU5ZDY1ZjI4ZDNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82Y2NlYWYzZDQ4ODA0YzNiOGM0ZWFlZTlkNjVmMjhkMyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82Y2NlYWYzZDQ4ODA0YzNiOGM0ZWFlZTlkNjVmMjhkM19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHN0eWxlOiBnZW9fanNvbl82Y2NlYWYzZDQ4ODA0YzNiOGM0ZWFlZTlkNjVmMjhkM19zdHlsZXIsCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZjY2VhZjNkNDg4MDRjM2I4YzRlYWVlOWQ2NWYyOGQzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82Y2NlYWYzZDQ4ODA0YzNiOGM0ZWFlZTlkNjVmMjhkMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNmNjZWFmM2Q0ODgwNGMzYjhjNGVhZWU5ZDY1ZjI4ZDNfYWRkKHsiZmVhdHVyZXMiOiBbeyJnZW9tZXRyeSI6IHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSwgImlkIjogIjAiLCAidHlwZSI6ICJGZWF0dXJlIn1dLCAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mM2JjMDNjZWQwMDE0M2FkYmQxYTU4YjkwYmNiOGM5MSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIyNTAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84YjUzZDVjNzZiNDc0ZDVjYTk5NWY4ZDQyYmVjNzk2YyA9ICQoYDxkaXYgaWQ9Imh0bWxfOGI1M2Q1Yzc2YjQ3NGQ1Y2E5OTVmOGQ0MmJlYzc5NmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBSRVBPU0lUT1JZIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PGxpPjxiPiB0Ym94OiA8L2I+PC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZjNiYzAzY2VkMDAxNDNhZGJkMWE1OGI5MGJjYjhjOTEuc2V0Q29udGVudChodG1sXzhiNTNkNWM3NmI0NzRkNWNhOTk1ZjhkNDJiZWM3OTZjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNmNjZWFmM2Q0ODgwNGMzYjhjNGVhZWU5ZDY1ZjI4ZDMuYmluZFBvcHVwKHBvcHVwX2YzYmMwM2NlZDAwMTQzYWRiZDFhNThiOTBiY2I4YzkxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzEyNGU2ZTYxYTA2ZjRkZmE4OGMyNTg3ZWY4MWQ2NjhjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMTI0ZTZlNjFhMDZmNGRmYTg4YzI1ODdlZjgxZDY2OGMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMTI0ZTZlNjFhMDZmNGRmYTg4YzI1ODdlZjgxZDY2OGNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzEyNGU2ZTYxYTA2ZjRkZmE4OGMyNTg3ZWY4MWQ2NjhjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xMjRlNmU2MWEwNmY0ZGZhODhjMjU4N2VmODFkNjY4Yy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMTI0ZTZlNjFhMDZmNGRmYTg4YzI1ODdlZjgxZDY2OGNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMWZkZmZhNjZlOGE3NDFmMTkwODVlNjJmM2QzMDdmNzIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYjBiY2MyN2UxNTUyNDkyMGI2OTBmOTM1NGE4YmNkYjkgPSAkKGA8ZGl2IGlkPSJodG1sX2IwYmNjMjdlMTU1MjQ5MjBiNjkwZjkzNTRhOGJjZGI5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE3MDgudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xZmRmZmE2NmU4YTc0MWYxOTA4NWU2MmYzZDMwN2Y3Mi5zZXRDb250ZW50KGh0bWxfYjBiY2MyN2UxNTUyNDkyMGI2OTBmOTM1NGE4YmNkYjkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8xMjRlNmU2MWEwNmY0ZGZhODhjMjU4N2VmODFkNjY4Yy5iaW5kUG9wdXAocG9wdXBfMWZkZmZhNjZlOGE3NDFmMTkwODVlNjJmM2QzMDdmNzIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWZlMGEwMzA5OWI2NDM1ZDkyMTdjZjBkZjUzYTY0YjFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81ZmUwYTAzMDk5YjY0MzVkOTIxN2NmMGRmNTNhNjRiMSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81ZmUwYTAzMDk5YjY0MzVkOTIxN2NmMGRmNTNhNjRiMV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNWZlMGEwMzA5OWI2NDM1ZDkyMTdjZjBkZjUzYTY0YjFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzVmZTBhMDMwOTliNjQzNWQ5MjE3Y2YwZGY1M2E2NGIxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81ZmUwYTAzMDk5YjY0MzVkOTIxN2NmMGRmNTNhNjRiMV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jNmRlOTJiN2JhNjc0M2U4ODA0ODQ0ZjFkNDBkM2YyMCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81M2E3MzQzNjJmMDY0ZWNhYTMzMmM1YzdjY2E3ZmJhNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNTNhNzM0MzYyZjA2NGVjYWEzMzJjNWM3Y2NhN2ZiYTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTcwNS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M2ZGU5MmI3YmE2NzQzZTg4MDQ4NDRmMWQ0MGQzZjIwLnNldENvbnRlbnQoaHRtbF81M2E3MzQzNjJmMDY0ZWNhYTMzMmM1YzdjY2E3ZmJhNSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzVmZTBhMDMwOTliNjQzNWQ5MjE3Y2YwZGY1M2E2NGIxLmJpbmRQb3B1cChwb3B1cF9jNmRlOTJiN2JhNjc0M2U4ODA0ODQ0ZjFkNDBkM2YyMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xNjNhMWRjMDg2NWE0NDkzOTBjMWM3ZjBmYmE1ZTZjOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzE2M2ExZGMwODY1YTQ0OTM5MGMxYzdmMGZiYTVlNmM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzE2M2ExZGMwODY1YTQ0OTM5MGMxYzdmMGZiYTVlNmM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xNjNhMWRjMDg2NWE0NDkzOTBjMWM3ZjBmYmE1ZTZjOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMTYzYTFkYzA4NjVhNDQ5MzkwYzFjN2YwZmJhNWU2YzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzE2M2ExZGMwODY1YTQ0OTM5MGMxYzdmMGZiYTVlNmM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2U2NWE1MTgzNDM4MDQyNjg5YmRiNmFhMWFlZjYxOTMzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzE1ZjkyY2QwMzViNjQ3NzZiYzUyZmY4MTVjYzI2OTc3ID0gJChgPGRpdiBpZD0iaHRtbF8xNWY5MmNkMDM1YjY0Nzc2YmM1MmZmODE1Y2MyNjk3NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNzA0LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZTY1YTUxODM0MzgwNDI2ODliZGI2YWExYWVmNjE5MzMuc2V0Q29udGVudChodG1sXzE1ZjkyY2QwMzViNjQ3NzZiYzUyZmY4MTVjYzI2OTc3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMTYzYTFkYzA4NjVhNDQ5MzkwYzFjN2YwZmJhNWU2YzguYmluZFBvcHVwKHBvcHVwX2U2NWE1MTgzNDM4MDQyNjg5YmRiNmFhMWFlZjYxOTMzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U1YmMyYWM4MjNiNzQ1MTFhNWExNTk0NzlmY2FhODc5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTViYzJhYzgyM2I3NDUxMWE1YTE1OTQ3OWZjYWE4NzkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTViYzJhYzgyM2I3NDUxMWE1YTE1OTQ3OWZjYWE4Nzlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U1YmMyYWM4MjNiNzQ1MTFhNWExNTk0NzlmY2FhODc5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lNWJjMmFjODIzYjc0NTExYTVhMTU5NDc5ZmNhYTg3OS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTViYzJhYzgyM2I3NDUxMWE1YTE1OTQ3OWZjYWE4NzlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjY1OGJkYmNlNjM0NDA3OGE1ZjZmOGM4ZjFhZTAxNjUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTU3NDc4ZGY2NmVkNDQzMmJjMjA3YTFiMjA3ZDA1ZjkgPSAkKGA8ZGl2IGlkPSJodG1sXzk1NzQ3OGRmNjZlZDQ0MzJiYzIwN2ExYjIwN2QwNWY5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE3MDYudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82NjU4YmRiY2U2MzQ0MDc4YTVmNmY4YzhmMWFlMDE2NS5zZXRDb250ZW50KGh0bWxfOTU3NDc4ZGY2NmVkNDQzMmJjMjA3YTFiMjA3ZDA1ZjkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lNWJjMmFjODIzYjc0NTExYTVhMTU5NDc5ZmNhYTg3OS5iaW5kUG9wdXAocG9wdXBfNjY1OGJkYmNlNjM0NDA3OGE1ZjZmOGM4ZjFhZTAxNjUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDVhZjNjNDM1ZDE1NGJlMjkwMGFiNzdlNjEzNWQ5ODBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80NWFmM2M0MzVkMTU0YmUyOTAwYWI3N2U2MTM1ZDk4MCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80NWFmM2M0MzVkMTU0YmUyOTAwYWI3N2U2MTM1ZDk4MF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDVhZjNjNDM1ZDE1NGJlMjkwMGFiNzdlNjEzNWQ5ODBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQ1YWYzYzQzNWQxNTRiZTI5MDBhYjc3ZTYxMzVkOTgwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80NWFmM2M0MzVkMTU0YmUyOTAwYWI3N2U2MTM1ZDk4MF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jNzYzOTc0ODhkOWQ0ZGNjOWVhYTdhYjg2Zjg2NjNmMCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kNDZhZDk5MDAxYzI0YzAzODNmYjNiYTFjMjlkZDVkNCA9ICQoYDxkaXYgaWQ9Imh0bWxfZDQ2YWQ5OTAwMWMyNGMwMzgzZmIzYmExYzI5ZGQ1ZDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTcwOS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M3NjM5NzQ4OGQ5ZDRkY2M5ZWFhN2FiODZmODY2M2YwLnNldENvbnRlbnQoaHRtbF9kNDZhZDk5MDAxYzI0YzAzODNmYjNiYTFjMjlkZDVkNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQ1YWYzYzQzNWQxNTRiZTI5MDBhYjc3ZTYxMzVkOTgwLmJpbmRQb3B1cChwb3B1cF9jNzYzOTc0ODhkOWQ0ZGNjOWVhYTdhYjg2Zjg2NjNmMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kODJhZjUxYTU5Mjg0NTM0OWNkZTc4N2Q4YjkzNTRiY19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Q4MmFmNTFhNTkyODQ1MzQ5Y2RlNzg3ZDhiOTM1NGJjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Q4MmFmNTFhNTkyODQ1MzQ5Y2RlNzg3ZDhiOTM1NGJjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kODJhZjUxYTU5Mjg0NTM0OWNkZTc4N2Q4YjkzNTRiY19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDgyYWY1MWE1OTI4NDUzNDljZGU3ODdkOGI5MzU0YmMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Q4MmFmNTFhNTkyODQ1MzQ5Y2RlNzg3ZDhiOTM1NGJjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE2YjU0YzFlODczNDQzNmI4NWY3NmI1ODE4MzQ5NTM1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2E4ZWE3YTJmNTYxOTRmNmZiNGI2NzM5ZWY3ZTU5YTliID0gJChgPGRpdiBpZD0iaHRtbF9hOGVhN2EyZjU2MTk0ZjZmYjRiNjczOWVmN2U1OWE5YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNzAyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTZiNTRjMWU4NzM0NDM2Yjg1Zjc2YjU4MTgzNDk1MzUuc2V0Q29udGVudChodG1sX2E4ZWE3YTJmNTYxOTRmNmZiNGI2NzM5ZWY3ZTU5YTliKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZDgyYWY1MWE1OTI4NDUzNDljZGU3ODdkOGI5MzU0YmMuYmluZFBvcHVwKHBvcHVwXzE2YjU0YzFlODczNDQzNmI4NWY3NmI1ODE4MzQ5NTM1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzUyNTVjN2IyZDQxYTQxMmJiYjk4ODBiNmNmMGY1N2JiX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTI1NWM3YjJkNDFhNDEyYmJiOTg4MGI2Y2YwZjU3YmIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTI1NWM3YjJkNDFhNDEyYmJiOTg4MGI2Y2YwZjU3YmJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzUyNTVjN2IyZDQxYTQxMmJiYjk4ODBiNmNmMGY1N2JiX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81MjU1YzdiMmQ0MWE0MTJiYmI5ODgwYjZjZjBmNTdiYi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTI1NWM3YjJkNDFhNDEyYmJiOTg4MGI2Y2YwZjU3YmJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYWU3MDQ0MjFjYjcwNDdlOTkwYjNjNTgwZGYzY2VkYzYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODBmZjBjNTljYzQyNDFkZmJmZWEwMjBlZTMyOGY4OTUgPSAkKGA8ZGl2IGlkPSJodG1sXzgwZmYwYzU5Y2M0MjQxZGZiZmVhMDIwZWUzMjhmODk1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE3MTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hZTcwNDQyMWNiNzA0N2U5OTBiM2M1ODBkZjNjZWRjNi5zZXRDb250ZW50KGh0bWxfODBmZjBjNTljYzQyNDFkZmJmZWEwMjBlZTMyOGY4OTUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81MjU1YzdiMmQ0MWE0MTJiYmI5ODgwYjZjZjBmNTdiYi5iaW5kUG9wdXAocG9wdXBfYWU3MDQ0MjFjYjcwNDdlOTkwYjNjNTgwZGYzY2VkYzYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzU3ZmZiZDhmMTk2NGEwMGJkMWI4M2QyMTIwYzE1OTdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jNTdmZmJkOGYxOTY0YTAwYmQxYjgzZDIxMjBjMTU5NyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jNTdmZmJkOGYxOTY0YTAwYmQxYjgzZDIxMjBjMTU5N19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzU3ZmZiZDhmMTk2NGEwMGJkMWI4M2QyMTIwYzE1OTdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2M1N2ZmYmQ4ZjE5NjRhMDBiZDFiODNkMjEyMGMxNTk3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jNTdmZmJkOGYxOTY0YTAwYmQxYjgzZDIxMjBjMTU5N19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82ZjBhYTllYzI5Nzc0OGEzYTU1MTZiMGU0YzIxNGJmYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84ZGE4NmQyMjUzNTA0NjA5OWNhNjlhYjM1NDQ3OTg3OCA9ICQoYDxkaXYgaWQ9Imh0bWxfOGRhODZkMjI1MzUwNDYwOTljYTY5YWIzNTQ0Nzk4NzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTcwMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzZmMGFhOWVjMjk3NzQ4YTNhNTUxNmIwZTRjMjE0YmZjLnNldENvbnRlbnQoaHRtbF84ZGE4NmQyMjUzNTA0NjA5OWNhNjlhYjM1NDQ3OTg3OCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2M1N2ZmYmQ4ZjE5NjRhMDBiZDFiODNkMjEyMGMxNTk3LmJpbmRQb3B1cChwb3B1cF82ZjBhYTllYzI5Nzc0OGEzYTU1MTZiMGU0YzIxNGJmYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yY2MyMzczYjM3ZWM0NzJmOWNmYmZhYzhhZTZmOWRlOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzJjYzIzNzNiMzdlYzQ3MmY5Y2ZiZmFjOGFlNmY5ZGU4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzJjYzIzNzNiMzdlYzQ3MmY5Y2ZiZmFjOGFlNmY5ZGU4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yY2MyMzczYjM3ZWM0NzJmOWNmYmZhYzhhZTZmOWRlOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMmNjMjM3M2IzN2VjNDcyZjljZmJmYWM4YWU2ZjlkZTguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzJjYzIzNzNiMzdlYzQ3MmY5Y2ZiZmFjOGFlNmY5ZGU4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2RkZjZiZjcxOGRkNTQ5ZTdhMzYyY2VlOWNhNmNmNTM4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NjMzJhYjE1Y2FmZDRlYTdiOTFkMTg4NDBlYzc4NzdiID0gJChgPGRpdiBpZD0iaHRtbF9jYzMyYWIxNWNhZmQ0ZWE3YjkxZDE4ODQwZWM3ODc3YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNzEyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZGRmNmJmNzE4ZGQ1NDllN2EzNjJjZWU5Y2E2Y2Y1Mzguc2V0Q29udGVudChodG1sX2NjMzJhYjE1Y2FmZDRlYTdiOTFkMTg4NDBlYzc4NzdiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMmNjMjM3M2IzN2VjNDcyZjljZmJmYWM4YWU2ZjlkZTguYmluZFBvcHVwKHBvcHVwX2RkZjZiZjcxOGRkNTQ5ZTdhMzYyY2VlOWNhNmNmNTM4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JlNTZkMDQ3NWVjNjQ3MzU4ZWIzZTIzYzY4MDc4ZDM3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmU1NmQwNDc1ZWM2NDczNThlYjNlMjNjNjgwNzhkMzcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmU1NmQwNDc1ZWM2NDczNThlYjNlMjNjNjgwNzhkMzdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JlNTZkMDQ3NWVjNjQ3MzU4ZWIzZTIzYzY4MDc4ZDM3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iZTU2ZDA0NzVlYzY0NzM1OGViM2UyM2M2ODA3OGQzNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYmU1NmQwNDc1ZWM2NDczNThlYjNlMjNjNjgwNzhkMzdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMGJiMmRiZTYzM2NmNGVjOWJlOWVhMWIyOTJkNWVjYTkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZWY4NTE4ZWY5Mjc4NDc0Yzk0ZGJkZTMyZWUwNjYxNmIgPSAkKGA8ZGl2IGlkPSJodG1sX2VmODUxOGVmOTI3ODQ3NGM5NGRiZGUzMmVlMDY2MTZiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE3MDMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wYmIyZGJlNjMzY2Y0ZWM5YmU5ZWExYjI5MmQ1ZWNhOS5zZXRDb250ZW50KGh0bWxfZWY4NTE4ZWY5Mjc4NDc0Yzk0ZGJkZTMyZWUwNjYxNmIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iZTU2ZDA0NzVlYzY0NzM1OGViM2UyM2M2ODA3OGQzNy5iaW5kUG9wdXAocG9wdXBfMGJiMmRiZTYzM2NmNGVjOWJlOWVhMWIyOTJkNWVjYTkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjkyZWMxOTNiODQ1NDQ3YjhkOTQ3NWU0M2M0YTNlYmJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iOTJlYzE5M2I4NDU0NDdiOGQ5NDc1ZTQzYzRhM2ViYiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iOTJlYzE5M2I4NDU0NDdiOGQ5NDc1ZTQzYzRhM2ViYl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjkyZWMxOTNiODQ1NDQ3YjhkOTQ3NWU0M2M0YTNlYmJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2I5MmVjMTkzYjg0NTQ0N2I4ZDk0NzVlNDNjNGEzZWJiLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iOTJlYzE5M2I4NDU0NDdiOGQ5NDc1ZTQzYzRhM2ViYl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jOWZlZGZmMDM5YmE0NmRhODJjYTA2YzVlYmRhMDNlNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mMGFiZGQwY2NkZGM0N2U3YTM2MzRlYmRiZWYzZTViOSA9ICQoYDxkaXYgaWQ9Imh0bWxfZjBhYmRkMGNjZGRjNDdlN2EzNjM0ZWJkYmVmM2U1YjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTcxMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M5ZmVkZmYwMzliYTQ2ZGE4MmNhMDZjNWViZGEwM2U2LnNldENvbnRlbnQoaHRtbF9mMGFiZGQwY2NkZGM0N2U3YTM2MzRlYmRiZWYzZTViOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2I5MmVjMTkzYjg0NTQ0N2I4ZDk0NzVlNDNjNGEzZWJiLmJpbmRQb3B1cChwb3B1cF9jOWZlZGZmMDM5YmE0NmRhODJjYTA2YzVlYmRhMDNlNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xMTQ4OTMxYzgwOTQ0NmVjODg1MzMzOGMwNDMzYTEwMV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzExNDg5MzFjODA5NDQ2ZWM4ODUzMzM4YzA0MzNhMTAxID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzExNDg5MzFjODA5NDQ2ZWM4ODUzMzM4YzA0MzNhMTAxX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xMTQ4OTMxYzgwOTQ0NmVjODg1MzMzOGMwNDMzYTEwMV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMTE0ODkzMWM4MDk0NDZlYzg4NTMzMzhjMDQzM2ExMDEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzExNDg5MzFjODA5NDQ2ZWM4ODUzMzM4YzA0MzNhMTAxX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2Y1NWYzMTU5YTc0MjRjNDk5ZjkyYWFkNjY5OWJiOTQ3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzA1OTJjMmQyNmE1NTQzMzNiNTk3ZmRhZDJlN2Y0NjJjID0gJChgPGRpdiBpZD0iaHRtbF8wNTkyYzJkMjZhNTU0MzMzYjU5N2ZkYWQyZTdmNDYyYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNzA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZjU1ZjMxNTlhNzQyNGM0OTlmOTJhYWQ2Njk5YmI5NDcuc2V0Q29udGVudChodG1sXzA1OTJjMmQyNmE1NTQzMzNiNTk3ZmRhZDJlN2Y0NjJjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMTE0ODkzMWM4MDk0NDZlYzg4NTMzMzhjMDQzM2ExMDEuYmluZFBvcHVwKHBvcHVwX2Y1NWYzMTU5YTc0MjRjNDk5ZjkyYWFkNjY5OWJiOTQ3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzBlNGZhOTY4NjNkNjQ1NTQ4YjVmODA4MTk0Mjc4ZDcwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMGU0ZmE5Njg2M2Q2NDU1NDhiNWY4MDgxOTQyNzhkNzAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMGU0ZmE5Njg2M2Q2NDU1NDhiNWY4MDgxOTQyNzhkNzBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzBlNGZhOTY4NjNkNjQ1NTQ4YjVmODA4MTk0Mjc4ZDcwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wZTRmYTk2ODYzZDY0NTU0OGI1ZjgwODE5NDI3OGQ3MC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMGU0ZmE5Njg2M2Q2NDU1NDhiNWY4MDgxOTQyNzhkNzBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfN2Q2YzQyOTU3YThlNDNiZDhiNzM4ZTNjMGY5NzU5ODAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNmQzMTk5NzFmOTE1NDc4OWI0M2M2MjYzYTRjYTZmNTQgPSAkKGA8ZGl2IGlkPSJodG1sXzZkMzE5OTcxZjkxNTQ3ODliNDNjNjI2M2E0Y2E2ZjU0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE2MTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83ZDZjNDI5NTdhOGU0M2JkOGI3MzhlM2MwZjk3NTk4MC5zZXRDb250ZW50KGh0bWxfNmQzMTk5NzFmOTE1NDc4OWI0M2M2MjYzYTRjYTZmNTQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wZTRmYTk2ODYzZDY0NTU0OGI1ZjgwODE5NDI3OGQ3MC5iaW5kUG9wdXAocG9wdXBfN2Q2YzQyOTU3YThlNDNiZDhiNzM4ZTNjMGY5NzU5ODApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDI5MmIwZTZlY2RmNDJmYTg0OTJlYjdjMjEzMmFjZDdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80MjkyYjBlNmVjZGY0MmZhODQ5MmViN2MyMTMyYWNkNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80MjkyYjBlNmVjZGY0MmZhODQ5MmViN2MyMTMyYWNkN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDI5MmIwZTZlY2RmNDJmYTg0OTJlYjdjMjEzMmFjZDdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQyOTJiMGU2ZWNkZjQyZmE4NDkyZWI3YzIxMzJhY2Q3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80MjkyYjBlNmVjZGY0MmZhODQ5MmViN2MyMTMyYWNkN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xZjIwMjc0MTFhMzQ0MTBlYmJlMzJlNTQ5Mzc2MzJkYSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jYjNmZDBhZjRkOGE0NmU1YmEwNjc4MzQzZWZkZDJkNCA9ICQoYDxkaXYgaWQ9Imh0bWxfY2IzZmQwYWY0ZDhhNDZlNWJhMDY3ODM0M2VmZGQyZDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTYwOS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzFmMjAyNzQxMWEzNDQxMGViYmUzMmU1NDkzNzYzMmRhLnNldENvbnRlbnQoaHRtbF9jYjNmZDBhZjRkOGE0NmU1YmEwNjc4MzQzZWZkZDJkNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQyOTJiMGU2ZWNkZjQyZmE4NDkyZWI3YzIxMzJhY2Q3LmJpbmRQb3B1cChwb3B1cF8xZjIwMjc0MTFhMzQ0MTBlYmJlMzJlNTQ5Mzc2MzJkYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83NDA1ZmM0YTBiZmQ0ZTkyYjM0YWJhMmUxNjc1ODViOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzc0MDVmYzRhMGJmZDRlOTJiMzRhYmEyZTE2NzU4NWI5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzc0MDVmYzRhMGJmZDRlOTJiMzRhYmEyZTE2NzU4NWI5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83NDA1ZmM0YTBiZmQ0ZTkyYjM0YWJhMmUxNjc1ODViOV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzQwNWZjNGEwYmZkNGU5MmIzNGFiYTJlMTY3NTg1YjkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzc0MDVmYzRhMGJmZDRlOTJiMzRhYmEyZTE2NzU4NWI5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQ1YjYyODIwYzk5NDRhNzhiNDNiZWE4NzMyYzkwODdiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2VhMGQ2YzAwMTNkODQyZGJiNjYwZGZkNWY4NDExMTAyID0gJChgPGRpdiBpZD0iaHRtbF9lYTBkNmMwMDEzZDg0MmRiYjY2MGRmZDVmODQxMTEwMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNjA1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDViNjI4MjBjOTk0NGE3OGI0M2JlYTg3MzJjOTA4N2Iuc2V0Q29udGVudChodG1sX2VhMGQ2YzAwMTNkODQyZGJiNjYwZGZkNWY4NDExMTAyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzQwNWZjNGEwYmZkNGU5MmIzNGFiYTJlMTY3NTg1YjkuYmluZFBvcHVwKHBvcHVwXzQ1YjYyODIwYzk5NDRhNzhiNDNiZWE4NzMyYzkwODdiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NmYWEzMzU2YTk3MjQ0ZTA4ZGE5MjEwYWEzMzk1MGE3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fY2ZhYTMzNTZhOTcyNDRlMDhkYTkyMTBhYTMzOTUwYTcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fY2ZhYTMzNTZhOTcyNDRlMDhkYTkyMTBhYTMzOTUwYTdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NmYWEzMzU2YTk3MjQ0ZTA4ZGE5MjEwYWEzMzk1MGE3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jZmFhMzM1NmE5NzI0NGUwOGRhOTIxMGFhMzM5NTBhNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fY2ZhYTMzNTZhOTcyNDRlMDhkYTkyMTBhYTMzOTUwYTdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOTZkYWViZDI4OGY3NDAzZGI0OWY1MWQ4NWNkYWE1NmMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZWY0NzBmMzZmNTRmNGVlOWJkYThkNjRlNTg5ZjQ5NGMgPSAkKGA8ZGl2IGlkPSJodG1sX2VmNDcwZjM2ZjU0ZjRlZTliZGE4ZDY0ZTU4OWY0OTRjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE2MDgudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85NmRhZWJkMjg4Zjc0MDNkYjQ5ZjUxZDg1Y2RhYTU2Yy5zZXRDb250ZW50KGh0bWxfZWY0NzBmMzZmNTRmNGVlOWJkYThkNjRlNTg5ZjQ5NGMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jZmFhMzM1NmE5NzI0NGUwOGRhOTIxMGFhMzM5NTBhNy5iaW5kUG9wdXAocG9wdXBfOTZkYWViZDI4OGY3NDAzZGI0OWY1MWQ4NWNkYWE1NmMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzc1ZmVmMDJhM2MxNGRhOGI4ZGM1NjE0NTI0YTY4NTFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jNzVmZWYwMmEzYzE0ZGE4YjhkYzU2MTQ1MjRhNjg1MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jNzVmZWYwMmEzYzE0ZGE4YjhkYzU2MTQ1MjRhNjg1MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzc1ZmVmMDJhM2MxNGRhOGI4ZGM1NjE0NTI0YTY4NTFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2M3NWZlZjAyYTNjMTRkYThiOGRjNTYxNDUyNGE2ODUxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jNzVmZWYwMmEzYzE0ZGE4YjhkYzU2MTQ1MjRhNjg1MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83ODA5ZDExZGQ1YzA0YmUzODYwNDFmNWFkN2M2NTg2NSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80NDg2NjJmM2U1NzQ0NWMyYjQ5OTE3ODQ3YjVkYWM5NiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDQ4NjYyZjNlNTc0NDVjMmI0OTkxNzg0N2I1ZGFjOTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTYwMy50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzc4MDlkMTFkZDVjMDRiZTM4NjA0MWY1YWQ3YzY1ODY1LnNldENvbnRlbnQoaHRtbF80NDg2NjJmM2U1NzQ0NWMyYjQ5OTE3ODQ3YjVkYWM5Nik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2M3NWZlZjAyYTNjMTRkYThiOGRjNTYxNDUyNGE2ODUxLmJpbmRQb3B1cChwb3B1cF83ODA5ZDExZGQ1YzA0YmUzODYwNDFmNWFkN2M2NTg2NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yMWQ5ZGRiYjU2YzM0ZjgyOWUyZGE4NjQ2NWJmODk1Zl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzIxZDlkZGJiNTZjMzRmODI5ZTJkYTg2NDY1YmY4OTVmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzIxZDlkZGJiNTZjMzRmODI5ZTJkYTg2NDY1YmY4OTVmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yMWQ5ZGRiYjU2YzM0ZjgyOWUyZGE4NjQ2NWJmODk1Zl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMjFkOWRkYmI1NmMzNGY4MjllMmRhODY0NjViZjg5NWYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzIxZDlkZGJiNTZjMzRmODI5ZTJkYTg2NDY1YmY4OTVmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE2NTNmNTllYWQzMTQ5ODg4ZmY0ZDAyYTYxNTljNGQ3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2RiZjY3ZjM0NGM5ODRlM2U4YWYxZDNkMzI2OTE2NjNjID0gJChgPGRpdiBpZD0iaHRtbF9kYmY2N2YzNDRjOTg0ZTNlOGFmMWQzZDMyNjkxNjYzYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNjExLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTY1M2Y1OWVhZDMxNDk4ODhmZjRkMDJhNjE1OWM0ZDcuc2V0Q29udGVudChodG1sX2RiZjY3ZjM0NGM5ODRlM2U4YWYxZDNkMzI2OTE2NjNjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMjFkOWRkYmI1NmMzNGY4MjllMmRhODY0NjViZjg5NWYuYmluZFBvcHVwKHBvcHVwXzE2NTNmNTllYWQzMTQ5ODg4ZmY0ZDAyYTYxNTljNGQ3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E0NDY4ZTVmMWRlYjQ5YTlhNjU2NmE1NzM0YTliN2M0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYTQ0NjhlNWYxZGViNDlhOWE2NTY2YTU3MzRhOWI3YzQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYTQ0NjhlNWYxZGViNDlhOWE2NTY2YTU3MzRhOWI3YzRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E0NDY4ZTVmMWRlYjQ5YTlhNjU2NmE1NzM0YTliN2M0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9hNDQ2OGU1ZjFkZWI0OWE5YTY1NjZhNTczNGE5YjdjNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYTQ0NjhlNWYxZGViNDlhOWE2NTY2YTU3MzRhOWI3YzRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMGEwZTVkZmY5ZDhjNDIwZmJiZGJiOTBhODlmZmI4NWEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTI1OWQzYTE0MWQ0NGI0NDk3ZGM5MWJmZGI0ODdhYWIgPSAkKGA8ZGl2IGlkPSJodG1sXzkyNTlkM2ExNDFkNDRiNDQ5N2RjOTFiZmRiNDg3YWFiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE2MDQudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wYTBlNWRmZjlkOGM0MjBmYmJkYmI5MGE4OWZmYjg1YS5zZXRDb250ZW50KGh0bWxfOTI1OWQzYTE0MWQ0NGI0NDk3ZGM5MWJmZGI0ODdhYWIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hNDQ2OGU1ZjFkZWI0OWE5YTY1NjZhNTczNGE5YjdjNC5iaW5kUG9wdXAocG9wdXBfMGEwZTVkZmY5ZDhjNDIwZmJiZGJiOTBhODlmZmI4NWEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTIzNGEwMmEyNDljNDY0NGIyZWFhZWJiMmFmZDM2OWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81MjM0YTAyYTI0OWM0NjQ0YjJlYWFlYmIyYWZkMzY5YSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81MjM0YTAyYTI0OWM0NjQ0YjJlYWFlYmIyYWZkMzY5YV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTIzNGEwMmEyNDljNDY0NGIyZWFhZWJiMmFmZDM2OWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzUyMzRhMDJhMjQ5YzQ2NDRiMmVhYWViYjJhZmQzNjlhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81MjM0YTAyYTI0OWM0NjQ0YjJlYWFlYmIyYWZkMzY5YV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zYmQzYmQ4YmE2YTI0YzA1OWE2NjFlOTgxNThmYjRmMyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81MTIwYTRhZDMxZGE0NGIwOTVkZmIzNTVhY2QxY2EzMSA9ICQoYDxkaXYgaWQ9Imh0bWxfNTEyMGE0YWQzMWRhNDRiMDk1ZGZiMzU1YWNkMWNhMzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTYwNi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNiZDNiZDhiYTZhMjRjMDU5YTY2MWU5ODE1OGZiNGYzLnNldENvbnRlbnQoaHRtbF81MTIwYTRhZDMxZGE0NGIwOTVkZmIzNTVhY2QxY2EzMSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzUyMzRhMDJhMjQ5YzQ2NDRiMmVhYWViYjJhZmQzNjlhLmJpbmRQb3B1cChwb3B1cF8zYmQzYmQ4YmE2YTI0YzA1OWE2NjFlOTgxNThmYjRmMykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84YjZiMDk1OTI2MjA0NGY1OThkNjdmNTAyN2QzMzM0Ml9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzhiNmIwOTU5MjYyMDQ0ZjU5OGQ2N2Y1MDI3ZDMzMzQyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzhiNmIwOTU5MjYyMDQ0ZjU5OGQ2N2Y1MDI3ZDMzMzQyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84YjZiMDk1OTI2MjA0NGY1OThkNjdmNTAyN2QzMzM0Ml9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOGI2YjA5NTkyNjIwNDRmNTk4ZDY3ZjUwMjdkMzMzNDIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzhiNmIwOTU5MjYyMDQ0ZjU5OGQ2N2Y1MDI3ZDMzMzQyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzVmOTc2OGI1MGNkNTRlZDJiZjY1OWUzMmRmYzcwNzEzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2U0ZWQ0NTAyYmYwNDQ4NDQ5ZWZhYWJmYWZkYTg5ZTk0ID0gJChgPGRpdiBpZD0iaHRtbF9lNGVkNDUwMmJmMDQ0ODQ0OWVmYWFiZmFmZGE4OWU5NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNjA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNWY5NzY4YjUwY2Q1NGVkMmJmNjU5ZTMyZGZjNzA3MTMuc2V0Q29udGVudChodG1sX2U0ZWQ0NTAyYmYwNDQ4NDQ5ZWZhYWJmYWZkYTg5ZTk0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOGI2YjA5NTkyNjIwNDRmNTk4ZDY3ZjUwMjdkMzMzNDIuYmluZFBvcHVwKHBvcHVwXzVmOTc2OGI1MGNkNTRlZDJiZjY1OWUzMmRmYzcwNzEzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM0MmZjZTk2ODc1NjRmOGVhMjg3MjE0OTNlZWIyY2Y2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzQyZmNlOTY4NzU2NGY4ZWEyODcyMTQ5M2VlYjJjZjYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzQyZmNlOTY4NzU2NGY4ZWEyODcyMTQ5M2VlYjJjZjZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM0MmZjZTk2ODc1NjRmOGVhMjg3MjE0OTNlZWIyY2Y2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zNDJmY2U5Njg3NTY0ZjhlYTI4NzIxNDkzZWViMmNmNi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzQyZmNlOTY4NzU2NGY4ZWEyODcyMTQ5M2VlYjJjZjZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYmRlOTFlZWZkNTU3NDUzOTg4NThlNjMwOTBkZGVkNDkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYzA4MjQ0NWFhNzkxNGY1YmE2ZjY3ODA5ZTFmNjVkMjggPSAkKGA8ZGl2IGlkPSJodG1sX2MwODI0NDVhYTc5MTRmNWJhNmY2NzgwOWUxZjY1ZDI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE2MDIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iZGU5MWVlZmQ1NTc0NTM5ODg1OGU2MzA5MGRkZWQ0OS5zZXRDb250ZW50KGh0bWxfYzA4MjQ0NWFhNzkxNGY1YmE2ZjY3ODA5ZTFmNjVkMjgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zNDJmY2U5Njg3NTY0ZjhlYTI4NzIxNDkzZWViMmNmNi5iaW5kUG9wdXAocG9wdXBfYmRlOTFlZWZkNTU3NDUzOTg4NThlNjMwOTBkZGVkNDkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjRiNzVlNWU1M2NkNDU1Y2ExMmJlMTBlODY4Mzg0OGFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNGI3NWU1ZTUzY2Q0NTVjYTEyYmUxMGU4NjgzODQ4YSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNGI3NWU1ZTUzY2Q0NTVjYTEyYmUxMGU4NjgzODQ4YV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjRiNzVlNWU1M2NkNDU1Y2ExMmJlMTBlODY4Mzg0OGFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzI0Yjc1ZTVlNTNjZDQ1NWNhMTJiZTEwZTg2ODM4NDhhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yNGI3NWU1ZTUzY2Q0NTVjYTEyYmUxMGU4NjgzODQ4YV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85YmI5NDgzOWFlMWY0MjU1YTg4MDcyODE2ZmQxN2IwMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zZjU4MmVlZWI5MDc0OWY2YWY2YmEyMTgzYWUyYjlmOSA9ICQoYDxkaXYgaWQ9Imh0bWxfM2Y1ODJlZWViOTA3NDlmNmFmNmJhMjE4M2FlMmI5ZjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTYwMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzliYjk0ODM5YWUxZjQyNTVhODgwNzI4MTZmZDE3YjAxLnNldENvbnRlbnQoaHRtbF8zZjU4MmVlZWI5MDc0OWY2YWY2YmEyMTgzYWUyYjlmOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzI0Yjc1ZTVlNTNjZDQ1NWNhMTJiZTEwZTg2ODM4NDhhLmJpbmRQb3B1cChwb3B1cF85YmI5NDgzOWFlMWY0MjU1YTg4MDcyODE2ZmQxN2IwMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yZmExZDJjN2IyNzM0N2M4OTJiMWM5OTcwZTM2M2IzOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzJmYTFkMmM3YjI3MzQ3Yzg5MmIxYzk5NzBlMzYzYjM5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzJmYTFkMmM3YjI3MzQ3Yzg5MmIxYzk5NzBlMzYzYjM5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yZmExZDJjN2IyNzM0N2M4OTJiMWM5OTcwZTM2M2IzOV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMmZhMWQyYzdiMjczNDdjODkyYjFjOTk3MGUzNjNiMzkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzJmYTFkMmM3YjI3MzQ3Yzg5MmIxYzk5NzBlMzYzYjM5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2RhNDY0M2JmZTBkNjRkNjVhYWJjNzJlZDhlYTBkMGY4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NhNWNjMDc5MDg3OTQ5NWQ4ZTIwYzkzZWY4YmEyZDY5ID0gJChgPGRpdiBpZD0iaHRtbF9jYTVjYzA3OTA4Nzk0OTVkOGUyMGM5M2VmOGJhMmQ2OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNjEyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZGE0NjQzYmZlMGQ2NGQ2NWFhYmM3MmVkOGVhMGQwZjguc2V0Q29udGVudChodG1sX2NhNWNjMDc5MDg3OTQ5NWQ4ZTIwYzkzZWY4YmEyZDY5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMmZhMWQyYzdiMjczNDdjODkyYjFjOTk3MGUzNjNiMzkuYmluZFBvcHVwKHBvcHVwX2RhNDY0M2JmZTBkNjRkNjVhYWJjNzJlZDhlYTBkMGY4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdkNDc4MzA4OGYzZTRjN2ZiMzcyODdmMjdhMTY3Njk3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fN2Q0NzgzMDg4ZjNlNGM3ZmIzNzI4N2YyN2ExNjc2OTcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fN2Q0NzgzMDg4ZjNlNGM3ZmIzNzI4N2YyN2ExNjc2OTdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzdkNDc4MzA4OGYzZTRjN2ZiMzcyODdmMjdhMTY3Njk3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83ZDQ3ODMwODhmM2U0YzdmYjM3Mjg3ZjI3YTE2NzY5Ny5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fN2Q0NzgzMDg4ZjNlNGM3ZmIzNzI4N2YyN2ExNjc2OTdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNTAzNDdlOTU4NDAyNDVkNGI0MjhhZDkzNDIxNzMzMzcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNGJkMjhiMzM5MjkyNDIzOWIxOTYxMjRlZWE1OTcwYjAgPSAkKGA8ZGl2IGlkPSJodG1sXzRiZDI4YjMzOTI5MjQyMzliMTk2MTI0ZWVhNTk3MGIwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDExMDcudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81MDM0N2U5NTg0MDI0NWQ0YjQyOGFkOTM0MjE3MzMzNy5zZXRDb250ZW50KGh0bWxfNGJkMjhiMzM5MjkyNDIzOWIxOTYxMjRlZWE1OTcwYjApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83ZDQ3ODMwODhmM2U0YzdmYjM3Mjg3ZjI3YTE2NzY5Ny5iaW5kUG9wdXAocG9wdXBfNTAzNDdlOTU4NDAyNDVkNGI0MjhhZDkzNDIxNzMzMzcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWNkMWVjNmRlZDcxNGEzMzllMmJjMmNiNjAyYzI3Mjdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lY2QxZWM2ZGVkNzE0YTMzOWUyYmMyY2I2MDJjMjcyNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lY2QxZWM2ZGVkNzE0YTMzOWUyYmMyY2I2MDJjMjcyN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZWNkMWVjNmRlZDcxNGEzMzllMmJjMmNiNjAyYzI3MjdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2VjZDFlYzZkZWQ3MTRhMzM5ZTJiYzJjYjYwMmMyNzI3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lY2QxZWM2ZGVkNzE0YTMzOWUyYmMyY2I2MDJjMjcyN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wNTgzN2Q3YWNlNTU0OGI1OWZlMjI1ZGNkNWQ1N2I3NSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lN2UxZTJlYTQyOWY0MTY0YWNkMTE4ZTEwZTg4MGZlOSA9ICQoYDxkaXYgaWQ9Imh0bWxfZTdlMWUyZWE0MjlmNDE2NGFjZDExOGUxMGU4ODBmZTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTEwNS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzA1ODM3ZDdhY2U1NTQ4YjU5ZmUyMjVkY2Q1ZDU3Yjc1LnNldENvbnRlbnQoaHRtbF9lN2UxZTJlYTQyOWY0MTY0YWNkMTE4ZTEwZTg4MGZlOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2VjZDFlYzZkZWQ3MTRhMzM5ZTJiYzJjYjYwMmMyNzI3LmJpbmRQb3B1cChwb3B1cF8wNTgzN2Q3YWNlNTU0OGI1OWZlMjI1ZGNkNWQ1N2I3NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85NjJlMzkzZTY5MTk0MmZjOGMxZDFlODMyNDY5MzIxM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzk2MmUzOTNlNjkxOTQyZmM4YzFkMWU4MzI0NjkzMjEzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzk2MmUzOTNlNjkxOTQyZmM4YzFkMWU4MzI0NjkzMjEzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85NjJlMzkzZTY5MTk0MmZjOGMxZDFlODMyNDY5MzIxM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOTYyZTM5M2U2OTE5NDJmYzhjMWQxZTgzMjQ2OTMyMTMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzk2MmUzOTNlNjkxOTQyZmM4YzFkMWU4MzI0NjkzMjEzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzU3Mjg1MGM1ZDlkNzQyYWI4NDU1YTE3ZDE3Y2VkMzExID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2IxZTk2YmE2YjQ4YTRlYzZiZDk4ZDA0ZWFlZDUxM2FjID0gJChgPGRpdiBpZD0iaHRtbF9iMWU5NmJhNmI0OGE0ZWM2YmQ5OGQwNGVhZWQ1MTNhYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMTAxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTcyODUwYzVkOWQ3NDJhYjg0NTVhMTdkMTdjZWQzMTEuc2V0Q29udGVudChodG1sX2IxZTk2YmE2YjQ4YTRlYzZiZDk4ZDA0ZWFlZDUxM2FjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTYyZTM5M2U2OTE5NDJmYzhjMWQxZTgzMjQ2OTMyMTMuYmluZFBvcHVwKHBvcHVwXzU3Mjg1MGM1ZDlkNzQyYWI4NDU1YTE3ZDE3Y2VkMzExKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkxYzcxNzcwNDA0ODQ1MDJhMTBiNTRhNGFkYmExYzI3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOTFjNzE3NzA0MDQ4NDUwMmExMGI1NGE0YWRiYTFjMjcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOTFjNzE3NzA0MDQ4NDUwMmExMGI1NGE0YWRiYTFjMjdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkxYzcxNzcwNDA0ODQ1MDJhMTBiNTRhNGFkYmExYzI3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85MWM3MTc3MDQwNDg0NTAyYTEwYjU0YTRhZGJhMWMyNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOTFjNzE3NzA0MDQ4NDUwMmExMGI1NGE0YWRiYTFjMjdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzFhNjEwYzE0NWY5NDAyMzliZmJkOTlhNGI1YjU5NzkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZTk2ZGE0MTE2NGU5NGY2ZWFjOGI5ODUzMDQ0YzIwYjcgPSAkKGA8ZGl2IGlkPSJodG1sX2U5NmRhNDExNjRlOTRmNmVhYzhiOTg1MzA0NGMyMGI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDExMTEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zMWE2MTBjMTQ1Zjk0MDIzOWJmYmQ5OWE0YjViNTk3OS5zZXRDb250ZW50KGh0bWxfZTk2ZGE0MTE2NGU5NGY2ZWFjOGI5ODUzMDQ0YzIwYjcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85MWM3MTc3MDQwNDg0NTAyYTEwYjU0YTRhZGJhMWMyNy5iaW5kUG9wdXAocG9wdXBfMzFhNjEwYzE0NWY5NDAyMzliZmJkOTlhNGI1YjU5NzkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTgwODE4OTdhZDBiNGY2MGE0MmYxYzVlODg3OGVjMTRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hODA4MTg5N2FkMGI0ZjYwYTQyZjFjNWU4ODc4ZWMxNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hODA4MTg5N2FkMGI0ZjYwYTQyZjFjNWU4ODc4ZWMxNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTgwODE4OTdhZDBiNGY2MGE0MmYxYzVlODg3OGVjMTRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2E4MDgxODk3YWQwYjRmNjBhNDJmMWM1ZTg4NzhlYzE0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hODA4MTg5N2FkMGI0ZjYwYTQyZjFjNWU4ODc4ZWMxNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82NzZkZjg5NzdkMzI0MzM1YjhlMWY5YTkwMTgyMmE2YSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zOWYwNTc1MGZlMzQ0MzgwYmEwOGJmOWMwNmFiODI0OSA9ICQoYDxkaXYgaWQ9Imh0bWxfMzlmMDU3NTBmZTM0NDM4MGJhMDhiZjljMDZhYjgyNDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTEwOS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzY3NmRmODk3N2QzMjQzMzViOGUxZjlhOTAxODIyYTZhLnNldENvbnRlbnQoaHRtbF8zOWYwNTc1MGZlMzQ0MzgwYmEwOGJmOWMwNmFiODI0OSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2E4MDgxODk3YWQwYjRmNjBhNDJmMWM1ZTg4NzhlYzE0LmJpbmRQb3B1cChwb3B1cF82NzZkZjg5NzdkMzI0MzM1YjhlMWY5YTkwMTgyMmE2YSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMzc4OGViNWQ1YTE0NDA0ODFjZWM5ZTBiOTY3ZGU0ZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2IzNzg4ZWI1ZDVhMTQ0MDQ4MWNlYzllMGI5NjdkZTRlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2IzNzg4ZWI1ZDVhMTQ0MDQ4MWNlYzllMGI5NjdkZTRlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMzc4OGViNWQ1YTE0NDA0ODFjZWM5ZTBiOTY3ZGU0ZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYjM3ODhlYjVkNWExNDQwNDgxY2VjOWUwYjk2N2RlNGUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2IzNzg4ZWI1ZDVhMTQ0MDQ4MWNlYzllMGI5NjdkZTRlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzljNTNkNmJiYTU3OTRiMDVhMjY4ZTNhZWM0MTZmYWI1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzhlYmUzNTE5MjVmYTQ5N2ZiNTE3Mjg4M2FmMTFhZDA2ID0gJChgPGRpdiBpZD0iaHRtbF84ZWJlMzUxOTI1ZmE0OTdmYjUxNzI4ODNhZjExYWQwNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMTAzLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOWM1M2Q2YmJhNTc5NGIwNWEyNjhlM2FlYzQxNmZhYjUuc2V0Q29udGVudChodG1sXzhlYmUzNTE5MjVmYTQ5N2ZiNTE3Mjg4M2FmMTFhZDA2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYjM3ODhlYjVkNWExNDQwNDgxY2VjOWUwYjk2N2RlNGUuYmluZFBvcHVwKHBvcHVwXzljNTNkNmJiYTU3OTRiMDVhMjY4ZTNhZWM0MTZmYWI1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzMwYjlkOTZlZWVhZjRkNjFiYmUyNTViMDViYmQxNzQ4X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzBiOWQ5NmVlZWFmNGQ2MWJiZTI1NWIwNWJiZDE3NDggPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzBiOWQ5NmVlZWFmNGQ2MWJiZTI1NWIwNWJiZDE3NDhfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzMwYjlkOTZlZWVhZjRkNjFiYmUyNTViMDViYmQxNzQ4X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zMGI5ZDk2ZWVlYWY0ZDYxYmJlMjU1YjA1YmJkMTc0OC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzBiOWQ5NmVlZWFmNGQ2MWJiZTI1NWIwNWJiZDE3NDhfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjk5YTM5MDNlNDNkNGJiN2JlMjgxOWY5Nzg0YWNjZGYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMWEzODZlYzI1OTNjNDgzODgwNTdjYzUxOGViNGI0YmYgPSAkKGA8ZGl2IGlkPSJodG1sXzFhMzg2ZWMyNTkzYzQ4Mzg4MDU3Y2M1MThlYjRiNGJmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDExMTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82OTlhMzkwM2U0M2Q0YmI3YmUyODE5Zjk3ODRhY2NkZi5zZXRDb250ZW50KGh0bWxfMWEzODZlYzI1OTNjNDgzODgwNTdjYzUxOGViNGI0YmYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zMGI5ZDk2ZWVlYWY0ZDYxYmJlMjU1YjA1YmJkMTc0OC5iaW5kUG9wdXAocG9wdXBfNjk5YTM5MDNlNDNkNGJiN2JlMjgxOWY5Nzg0YWNjZGYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTE2YmZiMjExOWIzNGFlNTliNGVjZTYyOTNhMzM3NWJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hMTZiZmIyMTE5YjM0YWU1OWI0ZWNlNjI5M2EzMzc1YiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hMTZiZmIyMTE5YjM0YWU1OWI0ZWNlNjI5M2EzMzc1Yl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTE2YmZiMjExOWIzNGFlNTliNGVjZTYyOTNhMzM3NWJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2ExNmJmYjIxMTliMzRhZTU5YjRlY2U2MjkzYTMzNzViLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hMTZiZmIyMTE5YjM0YWU1OWI0ZWNlNjI5M2EzMzc1Yl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84ZTliMzFiN2M4YjQ0OTY1YTc2ZjA4MTUyNTUxMzE1YyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mYTBiOWNkOTRhMWM0MGFjOWI5OTJiOTlkNjU5YWQ3MCA9ICQoYDxkaXYgaWQ9Imh0bWxfZmEwYjljZDk0YTFjNDBhYzliOTkyYjk5ZDY1OWFkNzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTEwNi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzhlOWIzMWI3YzhiNDQ5NjVhNzZmMDgxNTI1NTEzMTVjLnNldENvbnRlbnQoaHRtbF9mYTBiOWNkOTRhMWM0MGFjOWI5OTJiOTlkNjU5YWQ3MCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2ExNmJmYjIxMTliMzRhZTU5YjRlY2U2MjkzYTMzNzViLmJpbmRQb3B1cChwb3B1cF84ZTliMzFiN2M4YjQ0OTY1YTc2ZjA4MTUyNTUxMzE1YykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YTQ5MjAxNWU1MjI0NTc3OTc4NjI3MDE2NWU0NTliZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRhNDkyMDE1ZTUyMjQ1Nzc5Nzg2MjcwMTY1ZTQ1OWJmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRhNDkyMDE1ZTUyMjQ1Nzc5Nzg2MjcwMTY1ZTQ1OWJmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YTQ5MjAxNWU1MjI0NTc3OTc4NjI3MDE2NWU0NTliZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGE0OTIwMTVlNTIyNDU3Nzk3ODYyNzAxNjVlNDU5YmYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRhNDkyMDE1ZTUyMjQ1Nzc5Nzg2MjcwMTY1ZTQ1OWJmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNkNTBhZWQ1NTBiMDQzODViODA2NTM3NTY3MWFjY2RiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzkyNDE1OGRhNzI0MjRjODU4MWYyYWI3ODM1OGJmMzQ5ID0gJChgPGRpdiBpZD0iaHRtbF85MjQxNThkYTcyNDI0Yzg1ODFmMmFiNzgzNThiZjM0OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMTA0LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfM2Q1MGFlZDU1MGIwNDM4NWI4MDY1Mzc1NjcxYWNjZGIuc2V0Q29udGVudChodG1sXzkyNDE1OGRhNzI0MjRjODU4MWYyYWI3ODM1OGJmMzQ5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGE0OTIwMTVlNTIyNDU3Nzk3ODYyNzAxNjVlNDU5YmYuYmluZFBvcHVwKHBvcHVwXzNkNTBhZWQ1NTBiMDQzODViODA2NTM3NTY3MWFjY2RiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JhZjg0ZWVkZWUwNDQxMTRiYTMyYjE5YmIxYjc1NTIwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYmFmODRlZWRlZTA0NDExNGJhMzJiMTliYjFiNzU1MjAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYmFmODRlZWRlZTA0NDExNGJhMzJiMTliYjFiNzU1MjBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2JhZjg0ZWVkZWUwNDQxMTRiYTMyYjE5YmIxYjc1NTIwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iYWY4NGVlZGVlMDQ0MTE0YmEzMmIxOWJiMWI3NTUyMC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYmFmODRlZWRlZTA0NDExNGJhMzJiMTliYjFiNzU1MjBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfM2ViNzkzODdkZjM2NDAyZDlmYmI0YWQ4ZDUwZTlmZDIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGRmODZhM2ZhZjEwNDNjOThiYzU5M2MyYzhiMGIwNGYgPSAkKGA8ZGl2IGlkPSJodG1sXzhkZjg2YTNmYWYxMDQzYzk4YmM1OTNjMmM4YjBiMDRmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDExMDgudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zZWI3OTM4N2RmMzY0MDJkOWZiYjRhZDhkNTBlOWZkMi5zZXRDb250ZW50KGh0bWxfOGRmODZhM2ZhZjEwNDNjOThiYzU5M2MyYzhiMGIwNGYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iYWY4NGVlZGVlMDQ0MTE0YmEzMmIxOWJiMWI3NTUyMC5iaW5kUG9wdXAocG9wdXBfM2ViNzkzODdkZjM2NDAyZDlmYmI0YWQ4ZDUwZTlmZDIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODZjMDA2MTNiNjllNDY0YzllNTgxMzI4M2I3YjRlZTdfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84NmMwMDYxM2I2OWU0NjRjOWU1ODEzMjgzYjdiNGVlNyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84NmMwMDYxM2I2OWU0NjRjOWU1ODEzMjgzYjdiNGVlN19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODZjMDA2MTNiNjllNDY0YzllNTgxMzI4M2I3YjRlZTdfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzg2YzAwNjEzYjY5ZTQ2NGM5ZTU4MTMyODNiN2I0ZWU3LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84NmMwMDYxM2I2OWU0NjRjOWU1ODEzMjgzYjdiNGVlN19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jODY1NTc5OWUzNmI0NWI4YmQ2ZjdjNDgwNjE5YjM4YiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wZDM3ODE1OGM4MmE0NmY1Yjk2ZmI2NWMyODg1MzkyZSA9ICQoYDxkaXYgaWQ9Imh0bWxfMGQzNzgxNThjODJhNDZmNWI5NmZiNjVjMjg4NTM5MmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTEwMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M4NjU1Nzk5ZTM2YjQ1YjhiZDZmN2M0ODA2MTliMzhiLnNldENvbnRlbnQoaHRtbF8wZDM3ODE1OGM4MmE0NmY1Yjk2ZmI2NWMyODg1MzkyZSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzg2YzAwNjEzYjY5ZTQ2NGM5ZTU4MTMyODNiN2I0ZWU3LmJpbmRQb3B1cChwb3B1cF9jODY1NTc5OWUzNmI0NWI4YmQ2ZjdjNDgwNjE5YjM4YikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84MGM0M2EzMGQ1YjE0YTRiYmE1YThiNWY0YmE4MzQ4Y19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzgwYzQzYTMwZDViMTRhNGJiYTVhOGI1ZjRiYTgzNDhjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzgwYzQzYTMwZDViMTRhNGJiYTVhOGI1ZjRiYTgzNDhjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84MGM0M2EzMGQ1YjE0YTRiYmE1YThiNWY0YmE4MzQ4Y19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fODBjNDNhMzBkNWIxNGE0YmJhNWE4YjVmNGJhODM0OGMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzgwYzQzYTMwZDViMTRhNGJiYTVhOGI1ZjRiYTgzNDhjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzI2ZTU2NzhlNTViNjRjOWRiOTk1N2Y4MzhjN2FiOTM1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JiMmQzOGEwMTEwYjRhMmY4YzA2Zjc4ZDZmZDE1ZTU3ID0gJChgPGRpdiBpZD0iaHRtbF9iYjJkMzhhMDExMGI0YTJmOGMwNmY3OGQ2ZmQxNWU1NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMTEyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMjZlNTY3OGU1NWI2NGM5ZGI5OTU3ZjgzOGM3YWI5MzUuc2V0Q29udGVudChodG1sX2JiMmQzOGEwMTEwYjRhMmY4YzA2Zjc4ZDZmZDE1ZTU3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fODBjNDNhMzBkNWIxNGE0YmJhNWE4YjVmNGJhODM0OGMuYmluZFBvcHVwKHBvcHVwXzI2ZTU2NzhlNTViNjRjOWRiOTk1N2Y4MzhjN2FiOTM1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U3MGUyNjAyOWJmNzRhYmI5MGU2OWZkYjExN2VlMWY2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTcwZTI2MDI5YmY3NGFiYjkwZTY5ZmRiMTE3ZWUxZjYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTcwZTI2MDI5YmY3NGFiYjkwZTY5ZmRiMTE3ZWUxZjZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U3MGUyNjAyOWJmNzRhYmI5MGU2OWZkYjExN2VlMWY2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lNzBlMjYwMjliZjc0YWJiOTBlNjlmZGIxMTdlZTFmNi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTcwZTI2MDI5YmY3NGFiYjkwZTY5ZmRiMTE3ZWUxZjZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfY2IzY2Q4MDQ0ZjI1NDA2OTg3ZmU5OTU3YjM1ZDA2OGEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODQ3NWQxYzQ0YzJiNGY5MzhiNTA2NzBjY2ZhMGEwNGQgPSAkKGA8ZGl2IGlkPSJodG1sXzg0NzVkMWM0NGMyYjRmOTM4YjUwNjcwY2NmYTBhMDRkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA0MTEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jYjNjZDgwNDRmMjU0MDY5ODdmZTk5NTdiMzVkMDY4YS5zZXRDb250ZW50KGh0bWxfODQ3NWQxYzQ0YzJiNGY5MzhiNTA2NzBjY2ZhMGEwNGQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lNzBlMjYwMjliZjc0YWJiOTBlNjlmZGIxMTdlZTFmNi5iaW5kUG9wdXAocG9wdXBfY2IzY2Q4MDQ0ZjI1NDA2OTg3ZmU5OTU3YjM1ZDA2OGEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWI1YzA4MzdiYjBkNGJkM2FiMjc3MDA5OWRiODlkNjFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85YjVjMDgzN2JiMGQ0YmQzYWIyNzcwMDk5ZGI4OWQ2MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85YjVjMDgzN2JiMGQ0YmQzYWIyNzcwMDk5ZGI4OWQ2MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWI1YzA4MzdiYjBkNGJkM2FiMjc3MDA5OWRiODlkNjFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzliNWMwODM3YmIwZDRiZDNhYjI3NzAwOTlkYjg5ZDYxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85YjVjMDgzN2JiMGQ0YmQzYWIyNzcwMDk5ZGI4OWQ2MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iM2ExZmU0OGZkZDM0MDEwYmM4YTNlMzc2YThiNGRjMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kMzVlODJlYzZlNGE0MGM3YjRkM2FlY2M1YzY0NzdlZCA9ICQoYDxkaXYgaWQ9Imh0bWxfZDM1ZTgyZWM2ZTRhNDBjN2I0ZDNhZWNjNWM2NDc3ZWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDQxMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2IzYTFmZTQ4ZmRkMzQwMTBiYzhhM2UzNzZhOGI0ZGMyLnNldENvbnRlbnQoaHRtbF9kMzVlODJlYzZlNGE0MGM3YjRkM2FlY2M1YzY0NzdlZCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzliNWMwODM3YmIwZDRiZDNhYjI3NzAwOTlkYjg5ZDYxLmJpbmRQb3B1cChwb3B1cF9iM2ExZmU0OGZkZDM0MDEwYmM4YTNlMzc2YThiNGRjMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYjE3MWRhNTk3NDk0MTMxOGM1ODk0N2UzOWZkNmY4ZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzNiMTcxZGE1OTc0OTQxMzE4YzU4OTQ3ZTM5ZmQ2ZjhlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzNiMTcxZGE1OTc0OTQxMzE4YzU4OTQ3ZTM5ZmQ2ZjhlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYjE3MWRhNTk3NDk0MTMxOGM1ODk0N2UzOWZkNmY4ZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fM2IxNzFkYTU5NzQ5NDEzMThjNTg5NDdlMzlmZDZmOGUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzNiMTcxZGE1OTc0OTQxMzE4YzU4OTQ3ZTM5ZmQ2ZjhlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzcyMGNhMzI5ZTA5ZjRlMWJhNWQzMjA0NGRjZjc4Y2QwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQ5ZWM5ZDJiYzk5ODQ0MWJhNGVkOWJmZDU1MGVmNTQ2ID0gJChgPGRpdiBpZD0iaHRtbF80OWVjOWQyYmM5OTg0NDFiYTRlZDliZmQ1NTBlZjU0NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNDA0LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNzIwY2EzMjllMDlmNGUxYmE1ZDMyMDQ0ZGNmNzhjZDAuc2V0Q29udGVudChodG1sXzQ5ZWM5ZDJiYzk5ODQ0MWJhNGVkOWJmZDU1MGVmNTQ2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fM2IxNzFkYTU5NzQ5NDEzMThjNTg5NDdlMzlmZDZmOGUuYmluZFBvcHVwKHBvcHVwXzcyMGNhMzI5ZTA5ZjRlMWJhNWQzMjA0NGRjZjc4Y2QwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAzMDgwNzA4NzViNzRhNTJiMWFkOTk3MjNmOTk4YzM5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMDMwODA3MDg3NWI3NGE1MmIxYWQ5OTcyM2Y5OThjMzkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMDMwODA3MDg3NWI3NGE1MmIxYWQ5OTcyM2Y5OThjMzlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAzMDgwNzA4NzViNzRhNTJiMWFkOTk3MjNmOTk4YzM5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wMzA4MDcwODc1Yjc0YTUyYjFhZDk5NzIzZjk5OGMzOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDMwODA3MDg3NWI3NGE1MmIxYWQ5OTcyM2Y5OThjMzlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNDgyMTkxYmY0YTYyNGRlMzk1YWU3ZTVkMjIyMzFmOGUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfY2M3ZTJhYmI3ZDZkNDY5ZWJhMDMwMzE0NTU2YmI3MDMgPSAkKGA8ZGl2IGlkPSJodG1sX2NjN2UyYWJiN2Q2ZDQ2OWViYTAzMDMxNDU1NmJiNzAzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA0MDYudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80ODIxOTFiZjRhNjI0ZGUzOTVhZTdlNWQyMjIzMWY4ZS5zZXRDb250ZW50KGh0bWxfY2M3ZTJhYmI3ZDZkNDY5ZWJhMDMwMzE0NTU2YmI3MDMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wMzA4MDcwODc1Yjc0YTUyYjFhZDk5NzIzZjk5OGMzOS5iaW5kUG9wdXAocG9wdXBfNDgyMTkxYmY0YTYyNGRlMzk1YWU3ZTVkMjIyMzFmOGUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjdlODc0NzdmNDI4NDBjMDlhNTRmMmYwZjg1ZDUxNmVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82N2U4NzQ3N2Y0Mjg0MGMwOWE1NGYyZjBmODVkNTE2ZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82N2U4NzQ3N2Y0Mjg0MGMwOWE1NGYyZjBmODVkNTE2ZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNjdlODc0NzdmNDI4NDBjMDlhNTRmMmYwZjg1ZDUxNmVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzY3ZTg3NDc3ZjQyODQwYzA5YTU0ZjJmMGY4NWQ1MTZlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82N2U4NzQ3N2Y0Mjg0MGMwOWE1NGYyZjBmODVkNTE2ZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xOGRkMzRlMjcxZjk0ZjIxYmYyNzI5MDczYWVlZThjMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80ZTAxZjFkNGVkNjg0OGUyODFmNjYwMGNlNWE3ZjdkMyA9ICQoYDxkaXYgaWQ9Imh0bWxfNGUwMWYxZDRlZDY4NDhlMjgxZjY2MDBjZTVhN2Y3ZDMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDQwMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzE4ZGQzNGUyNzFmOTRmMjFiZjI3MjkwNzNhZWVlOGMxLnNldENvbnRlbnQoaHRtbF80ZTAxZjFkNGVkNjg0OGUyODFmNjYwMGNlNWE3ZjdkMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzY3ZTg3NDc3ZjQyODQwYzA5YTU0ZjJmMGY4NWQ1MTZlLmJpbmRQb3B1cChwb3B1cF8xOGRkMzRlMjcxZjk0ZjIxYmYyNzI5MDczYWVlZThjMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82OGFmYjBlOTc5YjM0NWE5OTEwYjhkODczZTQ4N2ExMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzY4YWZiMGU5NzliMzQ1YTk5MTBiOGQ4NzNlNDg3YTEwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzY4YWZiMGU5NzliMzQ1YTk5MTBiOGQ4NzNlNDg3YTEwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82OGFmYjBlOTc5YjM0NWE5OTEwYjhkODczZTQ4N2ExMF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjhhZmIwZTk3OWIzNDVhOTkxMGI4ZDg3M2U0ODdhMTAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY4YWZiMGU5NzliMzQ1YTk5MTBiOGQ4NzNlNDg3YTEwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzA0MzE4NTYwNjVlNDQ5OGNiZDlkZmNhZmUyYjllOWM5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2VlNDMwYzYzMjE5OTRmMGJhNGIzNjg3ZmJlZmQzYTU4ID0gJChgPGRpdiBpZD0iaHRtbF9lZTQzMGM2MzIxOTk0ZjBiYTRiMzY4N2ZiZWZkM2E1OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNDAyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMDQzMTg1NjA2NWU0NDk4Y2JkOWRmY2FmZTJiOWU5Yzkuc2V0Q29udGVudChodG1sX2VlNDMwYzYzMjE5OTRmMGJhNGIzNjg3ZmJlZmQzYTU4KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjhhZmIwZTk3OWIzNDVhOTkxMGI4ZDg3M2U0ODdhMTAuYmluZFBvcHVwKHBvcHVwXzA0MzE4NTYwNjVlNDQ5OGNiZDlkZmNhZmUyYjllOWM5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc5ZmUyMTNkZDY4MDQyZDlhMjNjNTJjOTMzY2EyMjJjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNzlmZTIxM2RkNjgwNDJkOWEyM2M1MmM5MzNjYTIyMmMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNzlmZTIxM2RkNjgwNDJkOWEyM2M1MmM5MzNjYTIyMmNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzc5ZmUyMTNkZDY4MDQyZDlhMjNjNTJjOTMzY2EyMjJjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83OWZlMjEzZGQ2ODA0MmQ5YTIzYzUyYzkzM2NhMjIyYy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNzlmZTIxM2RkNjgwNDJkOWEyM2M1MmM5MzNjYTIyMmNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTQ2NzIwZTY2MDRmNDU4MmJjZjkwYjZhM2MyMjczYmQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZWE3MGNhMTY0NTlhNDIzZTk0ODhhZDY4NDc0OWEyNGEgPSAkKGA8ZGl2IGlkPSJodG1sX2VhNzBjYTE2NDU5YTQyM2U5NDg4YWQ2ODQ3NDlhMjRhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA0MTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lNDY3MjBlNjYwNGY0NTgyYmNmOTBiNmEzYzIyNzNiZC5zZXRDb250ZW50KGh0bWxfZWE3MGNhMTY0NTlhNDIzZTk0ODhhZDY4NDc0OWEyNGEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83OWZlMjEzZGQ2ODA0MmQ5YTIzYzUyYzkzM2NhMjIyYy5iaW5kUG9wdXAocG9wdXBfZTQ2NzIwZTY2MDRmNDU4MmJjZjkwYjZhM2MyMjczYmQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMWQ5ZmM4YzQ1ZDVmNGNlZmI3ZjYxZDhmZWNjN2M1OThfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xZDlmYzhjNDVkNWY0Y2VmYjdmNjFkOGZlY2M3YzU5OCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xZDlmYzhjNDVkNWY0Y2VmYjdmNjFkOGZlY2M3YzU5OF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMWQ5ZmM4YzQ1ZDVmNGNlZmI3ZjYxZDhmZWNjN2M1OThfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzFkOWZjOGM0NWQ1ZjRjZWZiN2Y2MWQ4ZmVjYzdjNTk4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xZDlmYzhjNDVkNWY0Y2VmYjdmNjFkOGZlY2M3YzU5OF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80M2ViZDVlNmVhMjM0MjQxOGY5NmYwNWQxZTNiYWZkMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hYzQ0YjhjNTVlNTU0Yjg4OTljZTIyZjMyNGNhMGYyYiA9ICQoYDxkaXYgaWQ9Imh0bWxfYWM0NGI4YzU1ZTU1NGI4ODk5Y2UyMmYzMjRjYTBmMmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDQwOC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQzZWJkNWU2ZWEyMzQyNDE4Zjk2ZjA1ZDFlM2JhZmQyLnNldENvbnRlbnQoaHRtbF9hYzQ0YjhjNTVlNTU0Yjg4OTljZTIyZjMyNGNhMGYyYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzFkOWZjOGM0NWQ1ZjRjZWZiN2Y2MWQ4ZmVjYzdjNTk4LmJpbmRQb3B1cChwb3B1cF80M2ViZDVlNmVhMjM0MjQxOGY5NmYwNWQxZTNiYWZkMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNjgwZWE2ZjQ0Y2U0OWI2OTIwN2UxM2ZlNzMwYWVkNF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y2ODBlYTZmNDRjZTQ5YjY5MjA3ZTEzZmU3MzBhZWQ0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y2ODBlYTZmNDRjZTQ5YjY5MjA3ZTEzZmU3MzBhZWQ0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mNjgwZWE2ZjQ0Y2U0OWI2OTIwN2UxM2ZlNzMwYWVkNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjY4MGVhNmY0NGNlNDliNjkyMDdlMTNmZTczMGFlZDQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y2ODBlYTZmNDRjZTQ5YjY5MjA3ZTEzZmU3MzBhZWQ0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2VjOWViNWY5NTllMTRmNTJhZmY0NGMwNzg3OGY0YjkxID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2U2ZDVhNzlhNDJlNTRjNGY4NTNlMGI4MTkxZWMyMTgxID0gJChgPGRpdiBpZD0iaHRtbF9lNmQ1YTc5YTQyZTU0YzRmODUzZTBiODE5MWVjMjE4MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNDA5LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZWM5ZWI1Zjk1OWUxNGY1MmFmZjQ0YzA3ODc4ZjRiOTEuc2V0Q29udGVudChodG1sX2U2ZDVhNzlhNDJlNTRjNGY4NTNlMGI4MTkxZWMyMTgxKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZjY4MGVhNmY0NGNlNDliNjkyMDdlMTNmZTczMGFlZDQuYmluZFBvcHVwKHBvcHVwX2VjOWViNWY5NTllMTRmNTJhZmY0NGMwNzg3OGY0YjkxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzljZGYyYTVhZDY3NDQwMDQ4N2JlNGJhZjdlNGY2Y2VlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOWNkZjJhNWFkNjc0NDAwNDg3YmU0YmFmN2U0ZjZjZWUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOWNkZjJhNWFkNjc0NDAwNDg3YmU0YmFmN2U0ZjZjZWVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzljZGYyYTVhZDY3NDQwMDQ4N2JlNGJhZjdlNGY2Y2VlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85Y2RmMmE1YWQ2NzQ0MDA0ODdiZTRiYWY3ZTRmNmNlZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOWNkZjJhNWFkNjc0NDAwNDg3YmU0YmFmN2U0ZjZjZWVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMjIwODk0M2QxNmQ5NDhjNDgyOTdlY2YwOWViM2ZmYjIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYmEzOTY3MjRiZTFlNDJlMmFiN2ZkMGVmMDRjMmIzOTAgPSAkKGA8ZGl2IGlkPSJodG1sX2JhMzk2NzI0YmUxZTQyZTJhYjdmZDBlZjA0YzJiMzkwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA0MDcudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yMjA4OTQzZDE2ZDk0OGM0ODI5N2VjZjA5ZWIzZmZiMi5zZXRDb250ZW50KGh0bWxfYmEzOTY3MjRiZTFlNDJlMmFiN2ZkMGVmMDRjMmIzOTApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85Y2RmMmE1YWQ2NzQ0MDA0ODdiZTRiYWY3ZTRmNmNlZS5iaW5kUG9wdXAocG9wdXBfMjIwODk0M2QxNmQ5NDhjNDgyOTdlY2YwOWViM2ZmYjIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDdlNTYyZWVlNTlkNDRlNzg4OTM3NDBlODgyNmNkNTZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80N2U1NjJlZWU1OWQ0NGU3ODg5Mzc0MGU4ODI2Y2Q1NiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80N2U1NjJlZWU1OWQ0NGU3ODg5Mzc0MGU4ODI2Y2Q1Nl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDdlNTYyZWVlNTlkNDRlNzg4OTM3NDBlODgyNmNkNTZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQ3ZTU2MmVlZTU5ZDQ0ZTc4ODkzNzQwZTg4MjZjZDU2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80N2U1NjJlZWU1OWQ0NGU3ODg5Mzc0MGU4ODI2Y2Q1Nl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84NWNmNDY0ZWEzMDg0MWVkOGIyODY0OWJjMGRlYTUxMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81NjRiZDUyMmU1MDE0MGIwOGY3MDJhOWVhZmYyODlmOSA9ICQoYDxkaXYgaWQ9Imh0bWxfNTY0YmQ1MjJlNTAxNDBiMDhmNzAyYTllYWZmMjg5ZjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDQwNS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzg1Y2Y0NjRlYTMwODQxZWQ4YjI4NjQ5YmMwZGVhNTExLnNldENvbnRlbnQoaHRtbF81NjRiZDUyMmU1MDE0MGIwOGY3MDJhOWVhZmYyODlmOSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQ3ZTU2MmVlZTU5ZDQ0ZTc4ODkzNzQwZTg4MjZjZDU2LmJpbmRQb3B1cChwb3B1cF84NWNmNDY0ZWEzMDg0MWVkOGIyODY0OWJjMGRlYTUxMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kNTM5MDZhMzNkNGM0MDRlYjE0ZDQ5Mzg4NjM3Y2EwOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Q1MzkwNmEzM2Q0YzQwNGViMTRkNDkzODg2MzdjYTA4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Q1MzkwNmEzM2Q0YzQwNGViMTRkNDkzODg2MzdjYTA4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kNTM5MDZhMzNkNGM0MDRlYjE0ZDQ5Mzg4NjM3Y2EwOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDUzOTA2YTMzZDRjNDA0ZWIxNGQ0OTM4ODYzN2NhMDguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Q1MzkwNmEzM2Q0YzQwNGViMTRkNDkzODg2MzdjYTA4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzIwMThjOTFkNTExOTRmNWQ5NzI5ODQwYmQzYTkwZmUwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JiYjlkOGUxYzdiZjQ3ODA5YWMwNDgxMjQwOTdlOWE5ID0gJChgPGRpdiBpZD0iaHRtbF9iYmI5ZDhlMWM3YmY0NzgwOWFjMDQ4MTI0MDk3ZTlhOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNDAzLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMjAxOGM5MWQ1MTE5NGY1ZDk3Mjk4NDBiZDNhOTBmZTAuc2V0Q29udGVudChodG1sX2JiYjlkOGUxYzdiZjQ3ODA5YWMwNDgxMjQwOTdlOWE5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZDUzOTA2YTMzZDRjNDA0ZWIxNGQ0OTM4ODYzN2NhMDguYmluZFBvcHVwKHBvcHVwXzIwMThjOTFkNTExOTRmNWQ5NzI5ODQwYmQzYTkwZmUwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZjMWVhNDEwNmIxNzQyNWU5YWY5OGNkM2U1MjdkNzY1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNmMxZWE0MTA2YjE3NDI1ZTlhZjk4Y2QzZTUyN2Q3NjUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNmMxZWE0MTA2YjE3NDI1ZTlhZjk4Y2QzZTUyN2Q3NjVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZjMWVhNDEwNmIxNzQyNWU5YWY5OGNkM2U1MjdkNzY1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82YzFlYTQxMDZiMTc0MjVlOWFmOThjZDNlNTI3ZDc2NS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNmMxZWE0MTA2YjE3NDI1ZTlhZjk4Y2QzZTUyN2Q3NjVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNDMyNTM1N2Y3MzZlNGZjMjhhNmI5Y2M5ZjJkNDlkZjEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYTU3ZDg4MGJhNDk4NDAzZDhmNzNmNTBjYzVhN2VkMDggPSAkKGA8ZGl2IGlkPSJodG1sX2E1N2Q4ODBiYTQ5ODQwM2Q4ZjczZjUwY2M1YTdlZDA4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA5MDMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80MzI1MzU3ZjczNmU0ZmMyOGE2YjljYzlmMmQ0OWRmMS5zZXRDb250ZW50KGh0bWxfYTU3ZDg4MGJhNDk4NDAzZDhmNzNmNTBjYzVhN2VkMDgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82YzFlYTQxMDZiMTc0MjVlOWFmOThjZDNlNTI3ZDc2NS5iaW5kUG9wdXAocG9wdXBfNDMyNTM1N2Y3MzZlNGZjMjhhNmI5Y2M5ZjJkNDlkZjEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTQ0MTNjODdkMjI5NGY0MThjNGY0NDg1NDBhZTcwODNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9hNDQxM2M4N2QyMjk0ZjQxOGM0ZjQ0ODU0MGFlNzA4MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9hNDQxM2M4N2QyMjk0ZjQxOGM0ZjQ0ODU0MGFlNzA4M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYTQ0MTNjODdkMjI5NGY0MThjNGY0NDg1NDBhZTcwODNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2E0NDEzYzg3ZDIyOTRmNDE4YzRmNDQ4NTQwYWU3MDgzLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9hNDQxM2M4N2QyMjk0ZjQxOGM0ZjQ0ODU0MGFlNzA4M19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83N2YwMmJlNWFlYjg0OWJmODUwOGU3ODI0ZWY4YTQwNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83YzE4ZDgxZDM3Zjk0ODVmODU4NjU4YzBiMjg0NDNkZiA9ICQoYDxkaXYgaWQ9Imh0bWxfN2MxOGQ4MWQzN2Y5NDg1Zjg1ODY1OGMwYjI4NDQzZGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDkwOS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzc3ZjAyYmU1YWViODQ5YmY4NTA4ZTc4MjRlZjhhNDA0LnNldENvbnRlbnQoaHRtbF83YzE4ZDgxZDM3Zjk0ODVmODU4NjU4YzBiMjg0NDNkZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2E0NDEzYzg3ZDIyOTRmNDE4YzRmNDQ4NTQwYWU3MDgzLmJpbmRQb3B1cChwb3B1cF83N2YwMmJlNWFlYjg0OWJmODUwOGU3ODI0ZWY4YTQwNCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lMzAzNGExYjZiY2Y0NWUwYTIwMjVmYWI3YmE0ZjYzNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2UzMDM0YTFiNmJjZjQ1ZTBhMjAyNWZhYjdiYTRmNjM1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2UzMDM0YTFiNmJjZjQ1ZTBhMjAyNWZhYjdiYTRmNjM1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lMzAzNGExYjZiY2Y0NWUwYTIwMjVmYWI3YmE0ZjYzNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZTMwMzRhMWI2YmNmNDVlMGEyMDI1ZmFiN2JhNGY2MzUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2UzMDM0YTFiNmJjZjQ1ZTBhMjAyNWZhYjdiYTRmNjM1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBmZTQ1MmY1M2U0ODQ5N2M5NDFhM2IyYWMzOWQwYTQzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2VkNTAzMjQ4MDk0ZDRlMWM4NGU1ZTY2Y2IxZWVlZGUwID0gJChgPGRpdiBpZD0iaHRtbF9lZDUwMzI0ODA5NGQ0ZTFjODRlNWU2NmNiMWVlZWRlMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwOTEwLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMGZlNDUyZjUzZTQ4NDk3Yzk0MWEzYjJhYzM5ZDBhNDMuc2V0Q29udGVudChodG1sX2VkNTAzMjQ4MDk0ZDRlMWM4NGU1ZTY2Y2IxZWVlZGUwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTMwMzRhMWI2YmNmNDVlMGEyMDI1ZmFiN2JhNGY2MzUuYmluZFBvcHVwKHBvcHVwXzBmZTQ1MmY1M2U0ODQ5N2M5NDFhM2IyYWMzOWQwYTQzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzk2N2ZjNjZjYTFmNTQ5ZjNhNmUyZDYyYmZlOTk1MmIzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOTY3ZmM2NmNhMWY1NDlmM2E2ZTJkNjJiZmU5OTUyYjMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOTY3ZmM2NmNhMWY1NDlmM2E2ZTJkNjJiZmU5OTUyYjNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzk2N2ZjNjZjYTFmNTQ5ZjNhNmUyZDYyYmZlOTk1MmIzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85NjdmYzY2Y2ExZjU0OWYzYTZlMmQ2MmJmZTk5NTJiMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOTY3ZmM2NmNhMWY1NDlmM2E2ZTJkNjJiZmU5OTUyYjNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjU0NzcxZThiM2NjNGJkYThkNDVlZTk2OWNlN2VlMzYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjliYjI1YzFkMjgxNDM3MWI5ZDU4ZTgyYWQ2MTEwOGYgPSAkKGA8ZGl2IGlkPSJodG1sXzI5YmIyNWMxZDI4MTQzNzFiOWQ1OGU4MmFkNjExMDhmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA5MDIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iNTQ3NzFlOGIzY2M0YmRhOGQ0NWVlOTY5Y2U3ZWUzNi5zZXRDb250ZW50KGh0bWxfMjliYjI1YzFkMjgxNDM3MWI5ZDU4ZTgyYWQ2MTEwOGYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85NjdmYzY2Y2ExZjU0OWYzYTZlMmQ2MmJmZTk5NTJiMy5iaW5kUG9wdXAocG9wdXBfYjU0NzcxZThiM2NjNGJkYThkNDVlZTk2OWNlN2VlMzYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGE1NGE1Yjc4NTg0NGNkYTk4OTY4ZTFlMzkzYjNkMDJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wYTU0YTViNzg1ODQ0Y2RhOTg5NjhlMWUzOTNiM2QwMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wYTU0YTViNzg1ODQ0Y2RhOTg5NjhlMWUzOTNiM2QwMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMGE1NGE1Yjc4NTg0NGNkYTk4OTY4ZTFlMzkzYjNkMDJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzBhNTRhNWI3ODU4NDRjZGE5ODk2OGUxZTM5M2IzZDAyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wYTU0YTViNzg1ODQ0Y2RhOTg5NjhlMWUzOTNiM2QwMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83NmYzZTVjNWQ0OTI0YTQwODkxNWZiYTliYTY5Yjk5MSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zNjFlODJlNDE4NzA0NzUyYjA3ZjcyNzc4NzgwM2U1YSA9ICQoYDxkaXYgaWQ9Imh0bWxfMzYxZTgyZTQxODcwNDc1MmIwN2Y3Mjc3ODc4MDNlNWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDkxMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzc2ZjNlNWM1ZDQ5MjRhNDA4OTE1ZmJhOWJhNjliOTkxLnNldENvbnRlbnQoaHRtbF8zNjFlODJlNDE4NzA0NzUyYjA3ZjcyNzc4NzgwM2U1YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzBhNTRhNWI3ODU4NDRjZGE5ODk2OGUxZTM5M2IzZDAyLmJpbmRQb3B1cChwb3B1cF83NmYzZTVjNWQ0OTI0YTQwODkxNWZiYTliYTY5Yjk5MSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hYWY0YTRiMGY4MWE0NmE0YjIxNmE1OGJmYjJmYzQ3OV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2FhZjRhNGIwZjgxYTQ2YTRiMjE2YTU4YmZiMmZjNDc5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2FhZjRhNGIwZjgxYTQ2YTRiMjE2YTU4YmZiMmZjNDc5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hYWY0YTRiMGY4MWE0NmE0YjIxNmE1OGJmYjJmYzQ3OV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYWFmNGE0YjBmODFhNDZhNGIyMTZhNThiZmIyZmM0NzkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2FhZjRhNGIwZjgxYTQ2YTRiMjE2YTU4YmZiMmZjNDc5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzc4NTQ2NmYyMDdlZTQ4Y2NhNDg1MGJhOGQ1ZWE3MzQ3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzUxZWRjYWQ4M2VkNDQxMzI4MzA4NzJmMTk3ZThiNTRmID0gJChgPGRpdiBpZD0iaHRtbF81MWVkY2FkODNlZDQ0MTMyODMwODcyZjE5N2U4YjU0ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwOTA1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNzg1NDY2ZjIwN2VlNDhjY2E0ODUwYmE4ZDVlYTczNDcuc2V0Q29udGVudChodG1sXzUxZWRjYWQ4M2VkNDQxMzI4MzA4NzJmMTk3ZThiNTRmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYWFmNGE0YjBmODFhNDZhNGIyMTZhNThiZmIyZmM0NzkuYmluZFBvcHVwKHBvcHVwXzc4NTQ2NmYyMDdlZTQ4Y2NhNDg1MGJhOGQ1ZWE3MzQ3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzllYjEwNjE3MDJhYTQxNGY4NjkzMDdjNjRjNWVjODMyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOWViMTA2MTcwMmFhNDE0Zjg2OTMwN2M2NGM1ZWM4MzIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOWViMTA2MTcwMmFhNDE0Zjg2OTMwN2M2NGM1ZWM4MzJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzllYjEwNjE3MDJhYTQxNGY4NjkzMDdjNjRjNWVjODMyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85ZWIxMDYxNzAyYWE0MTRmODY5MzA3YzY0YzVlYzgzMi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOWViMTA2MTcwMmFhNDE0Zjg2OTMwN2M2NGM1ZWM4MzJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMTQxMjk2YmQ3ZTMxNDQwN2EzYjgyM2I5NTk2N2YxZGQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZmEwMzYxMjkzOTk3NDdiYTgxODAyMjE3ZWI3NGQ1ZDYgPSAkKGA8ZGl2IGlkPSJodG1sX2ZhMDM2MTI5Mzk5NzQ3YmE4MTgwMjIxN2ViNzRkNWQ2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA5MDcudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xNDEyOTZiZDdlMzE0NDA3YTNiODIzYjk1OTY3ZjFkZC5zZXRDb250ZW50KGh0bWxfZmEwMzYxMjkzOTk3NDdiYTgxODAyMjE3ZWI3NGQ1ZDYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85ZWIxMDYxNzAyYWE0MTRmODY5MzA3YzY0YzVlYzgzMi5iaW5kUG9wdXAocG9wdXBfMTQxMjk2YmQ3ZTMxNDQwN2EzYjgyM2I5NTk2N2YxZGQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmRlZDA1ZjcyMjgwNDI4ZjhmZDE2MDM3NjlkMjhjYjRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82ZGVkMDVmNzIyODA0MjhmOGZkMTYwMzc2OWQyOGNiNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82ZGVkMDVmNzIyODA0MjhmOGZkMTYwMzc2OWQyOGNiNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmRlZDA1ZjcyMjgwNDI4ZjhmZDE2MDM3NjlkMjhjYjRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzZkZWQwNWY3MjI4MDQyOGY4ZmQxNjAzNzY5ZDI4Y2I0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82ZGVkMDVmNzIyODA0MjhmOGZkMTYwMzc2OWQyOGNiNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80YzBlOGRkN2FmMGY0MjJlOTYxYjk1MjU4MDYyZTE3OCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84OWNlZWEyY2MzNmU0ZmE5ODU1MmM1MjUwODNkOTk1MiA9ICQoYDxkaXYgaWQ9Imh0bWxfODljZWVhMmNjMzZlNGZhOTg1NTJjNTI1MDgzZDk5NTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDkwOC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzRjMGU4ZGQ3YWYwZjQyMmU5NjFiOTUyNTgwNjJlMTc4LnNldENvbnRlbnQoaHRtbF84OWNlZWEyY2MzNmU0ZmE5ODU1MmM1MjUwODNkOTk1Mik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzZkZWQwNWY3MjI4MDQyOGY4ZmQxNjAzNzY5ZDI4Y2I0LmJpbmRQb3B1cChwb3B1cF80YzBlOGRkN2FmMGY0MjJlOTYxYjk1MjU4MDYyZTE3OCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83YmFiYzA2YjJiMTc0NGZiYjY2NmU4ZTQzZDlmMDQzY19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzdiYWJjMDZiMmIxNzQ0ZmJiNjY2ZThlNDNkOWYwNDNjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzdiYWJjMDZiMmIxNzQ0ZmJiNjY2ZThlNDNkOWYwNDNjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83YmFiYzA2YjJiMTc0NGZiYjY2NmU4ZTQzZDlmMDQzY19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fN2JhYmMwNmIyYjE3NDRmYmI2NjZlOGU0M2Q5ZjA0M2MuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzdiYWJjMDZiMmIxNzQ0ZmJiNjY2ZThlNDNkOWYwNDNjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ZjNzEzODYxZThiNDQxYjBiZDg5NDNiZWUwYjVmZDYwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Q5ZmY0ZWZjZDQ4MTQ5YzU4NmI3YjAwZWU1MjU5MTIyID0gJChgPGRpdiBpZD0iaHRtbF9kOWZmNGVmY2Q0ODE0OWM1ODZiN2IwMGVlNTI1OTEyMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwOTA0LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmM3MTM4NjFlOGI0NDFiMGJkODk0M2JlZTBiNWZkNjAuc2V0Q29udGVudChodG1sX2Q5ZmY0ZWZjZDQ4MTQ5YzU4NmI3YjAwZWU1MjU5MTIyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fN2JhYmMwNmIyYjE3NDRmYmI2NjZlOGU0M2Q5ZjA0M2MuYmluZFBvcHVwKHBvcHVwX2ZjNzEzODYxZThiNDQxYjBiZDg5NDNiZWUwYjVmZDYwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzg4ZGY1ZDlkNDhkYzRiMjhiNTc1ZGFhM2FlYWJmYTAyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fODhkZjVkOWQ0OGRjNGIyOGI1NzVkYWEzYWVhYmZhMDIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fODhkZjVkOWQ0OGRjNGIyOGI1NzVkYWEzYWVhYmZhMDJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzg4ZGY1ZDlkNDhkYzRiMjhiNTc1ZGFhM2FlYWJmYTAyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84OGRmNWQ5ZDQ4ZGM0YjI4YjU3NWRhYTNhZWFiZmEwMi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fODhkZjVkOWQ0OGRjNGIyOGI1NzVkYWEzYWVhYmZhMDJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNDg3MDIzZmUzYzNhNGE2ZGIwOTQyMWMzNDM0MzA3MTAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMWE1ZDZmMjZjZGRkNGM2MmJiOTU0OTJhYTNkZDhmYjggPSAkKGA8ZGl2IGlkPSJodG1sXzFhNWQ2ZjI2Y2RkZDRjNjJiYjk1NDkyYWEzZGQ4ZmI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA5MTEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80ODcwMjNmZTNjM2E0YTZkYjA5NDIxYzM0MzQzMDcxMC5zZXRDb250ZW50KGh0bWxfMWE1ZDZmMjZjZGRkNGM2MmJiOTU0OTJhYTNkZDhmYjgpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84OGRmNWQ5ZDQ4ZGM0YjI4YjU3NWRhYTNhZWFiZmEwMi5iaW5kUG9wdXAocG9wdXBfNDg3MDIzZmUzYzNhNGE2ZGIwOTQyMWMzNDM0MzA3MTApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmI4MjA3NDI0Yjg5NDVlYjk0NmQ2OGZlYmU0OGNhYWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82YjgyMDc0MjRiODk0NWViOTQ2ZDY4ZmViZTQ4Y2FhYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82YjgyMDc0MjRiODk0NWViOTQ2ZDY4ZmViZTQ4Y2FhYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmI4MjA3NDI0Yjg5NDVlYjk0NmQ2OGZlYmU0OGNhYWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzZiODIwNzQyNGI4OTQ1ZWI5NDZkNjhmZWJlNDhjYWFhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82YjgyMDc0MjRiODk0NWViOTQ2ZDY4ZmViZTQ4Y2FhYV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hZGFhZmY0M2IzYjM0MGVjYTlhODQxYmZjZDZkZWNlMCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80MjUzZTQ3M2M4Nzg0ZWMyYWZiYzliMjgzOTY3YmMzNiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDI1M2U0NzNjODc4NGVjMmFmYmM5YjI4Mzk2N2JjMzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDkwMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2FkYWFmZjQzYjNiMzQwZWNhOWE4NDFiZmNkNmRlY2UwLnNldENvbnRlbnQoaHRtbF80MjUzZTQ3M2M4Nzg0ZWMyYWZiYzliMjgzOTY3YmMzNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzZiODIwNzQyNGI4OTQ1ZWI5NDZkNjhmZWJlNDhjYWFhLmJpbmRQb3B1cChwb3B1cF9hZGFhZmY0M2IzYjM0MGVjYTlhODQxYmZjZDZkZWNlMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80MDMzNGVjNjI5NTY0OTBmOTdjMmVmMTNlYzQ3YTZiZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzQwMzM0ZWM2Mjk1NjQ5MGY5N2MyZWYxM2VjNDdhNmJlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzQwMzM0ZWM2Mjk1NjQ5MGY5N2MyZWYxM2VjNDdhNmJlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80MDMzNGVjNjI5NTY0OTBmOTdjMmVmMTNlYzQ3YTZiZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNDAzMzRlYzYyOTU2NDkwZjk3YzJlZjEzZWM0N2E2YmUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzQwMzM0ZWM2Mjk1NjQ5MGY5N2MyZWYxM2VjNDdhNmJlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzZlNWM1ZGJkYjUzMDQwZjE4OTMzNWZmMzMyMmQ1MjIwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzBjY2E1YzRiY2RkZjQ4M2JiMGVlMjY2ZmYwYWRmZWI5ID0gJChgPGRpdiBpZD0iaHRtbF8wY2NhNWM0YmNkZGY0ODNiYjBlZTI2NmZmMGFkZmViOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwOTA2LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNmU1YzVkYmRiNTMwNDBmMTg5MzM1ZmYzMzIyZDUyMjAuc2V0Q29udGVudChodG1sXzBjY2E1YzRiY2RkZjQ4M2JiMGVlMjY2ZmYwYWRmZWI5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNDAzMzRlYzYyOTU2NDkwZjk3YzJlZjEzZWM0N2E2YmUuYmluZFBvcHVwKHBvcHVwXzZlNWM1ZGJkYjUzMDQwZjE4OTMzNWZmMzMyMmQ1MjIwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM2MGFkZmZmNGQ2MTRmNDFiYjEzOTQ2ZGMyMzc3OGY2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMzYwYWRmZmY0ZDYxNGY0MWJiMTM5NDZkYzIzNzc4ZjYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMzYwYWRmZmY0ZDYxNGY0MWJiMTM5NDZkYzIzNzc4ZjZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzM2MGFkZmZmNGQ2MTRmNDFiYjEzOTQ2ZGMyMzc3OGY2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8zNjBhZGZmZjRkNjE0ZjQxYmIxMzk0NmRjMjM3NzhmNi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMzYwYWRmZmY0ZDYxNGY0MWJiMTM5NDZkYzIzNzc4ZjZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfY2YzMmY1ZWVjNzIzNGQ3YThiZDZhYTViMzUyNmEzNDkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZGRhNGRhMGVmYjFiNGVkMjhmOWFjOTc2MTYyNjExZTIgPSAkKGA8ZGl2IGlkPSJodG1sX2RkYTRkYTBlZmIxYjRlZDI4ZjlhYzk3NjE2MjYxMWUyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA3MDIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jZjMyZjVlZWM3MjM0ZDdhOGJkNmFhNWIzNTI2YTM0OS5zZXRDb250ZW50KGh0bWxfZGRhNGRhMGVmYjFiNGVkMjhmOWFjOTc2MTYyNjExZTIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8zNjBhZGZmZjRkNjE0ZjQxYmIxMzk0NmRjMjM3NzhmNi5iaW5kUG9wdXAocG9wdXBfY2YzMmY1ZWVjNzIzNGQ3YThiZDZhYTViMzUyNmEzNDkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTQ0ODk3MWVhMmVjNDFmMzg1M2M1YjRhNWJiYmQ0Zjlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81NDQ4OTcxZWEyZWM0MWYzODUzYzViNGE1YmJiZDRmOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81NDQ4OTcxZWEyZWM0MWYzODUzYzViNGE1YmJiZDRmOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTQ0ODk3MWVhMmVjNDFmMzg1M2M1YjRhNWJiYmQ0ZjlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzU0NDg5NzFlYTJlYzQxZjM4NTNjNWI0YTViYmJkNGY5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81NDQ4OTcxZWEyZWM0MWYzODUzYzViNGE1YmJiZDRmOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82NDkyMjBiOWU3Yzk0ZmQyYmMzMmNhZDA5YmVkNmViNSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82NWMwZjM4OWRiODk0ODI3OTVhYWU1Yzk0ZWFmZGM1OSA9ICQoYDxkaXYgaWQ9Imh0bWxfNjVjMGYzODlkYjg5NDgyNzk1YWFlNWM5NGVhZmRjNTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDcxMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzY0OTIyMGI5ZTdjOTRmZDJiYzMyY2FkMDliZWQ2ZWI1LnNldENvbnRlbnQoaHRtbF82NWMwZjM4OWRiODk0ODI3OTVhYWU1Yzk0ZWFmZGM1OSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzU0NDg5NzFlYTJlYzQxZjM4NTNjNWI0YTViYmJkNGY5LmJpbmRQb3B1cChwb3B1cF82NDkyMjBiOWU3Yzk0ZmQyYmMzMmNhZDA5YmVkNmViNSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wMGE4MWIwNjc0OTM0NzFmYmM3ZTVhNDM0MWJmOGY2M19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzAwYTgxYjA2NzQ5MzQ3MWZiYzdlNWE0MzQxYmY4ZjYzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzAwYTgxYjA2NzQ5MzQ3MWZiYzdlNWE0MzQxYmY4ZjYzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wMGE4MWIwNjc0OTM0NzFmYmM3ZTVhNDM0MWJmOGY2M19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMDBhODFiMDY3NDkzNDcxZmJjN2U1YTQzNDFiZjhmNjMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzAwYTgxYjA2NzQ5MzQ3MWZiYzdlNWE0MzQxYmY4ZjYzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzM3Mjk5NjdjYzI4ODQ2NmFhOGQ0YzIwMTMwNjZlZTQ3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzU0NjQ0ZWEwYTcxOTRjZGRhM2FjNzc1YjlmNzhlNTYwID0gJChgPGRpdiBpZD0iaHRtbF81NDY0NGVhMGE3MTk0Y2RkYTNhYzc3NWI5Zjc4ZTU2MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNzA1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMzcyOTk2N2NjMjg4NDY2YWE4ZDRjMjAxMzA2NmVlNDcuc2V0Q29udGVudChodG1sXzU0NjQ0ZWEwYTcxOTRjZGRhM2FjNzc1YjlmNzhlNTYwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMDBhODFiMDY3NDkzNDcxZmJjN2U1YTQzNDFiZjhmNjMuYmluZFBvcHVwKHBvcHVwXzM3Mjk5NjdjYzI4ODQ2NmFhOGQ0YzIwMTMwNjZlZTQ3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzg2ZWJmOGVjY2ZiNTRiOWQ5MTEzNGZiYTQzNzNmYWY0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fODZlYmY4ZWNjZmI1NGI5ZDkxMTM0ZmJhNDM3M2ZhZjQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fODZlYmY4ZWNjZmI1NGI5ZDkxMTM0ZmJhNDM3M2ZhZjRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzg2ZWJmOGVjY2ZiNTRiOWQ5MTEzNGZiYTQzNzNmYWY0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl84NmViZjhlY2NmYjU0YjlkOTExMzRmYmE0MzczZmFmNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fODZlYmY4ZWNjZmI1NGI5ZDkxMTM0ZmJhNDM3M2ZhZjRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMDk0OWQ4ZmM1NzYxNGVhMjljMjczNzE2YTY5YzI2YTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjMzNTBjYTk5NzVkNDlmYmJkOTJmN2I2YmYzYWExYzUgPSAkKGA8ZGl2IGlkPSJodG1sXzIzMzUwY2E5OTc1ZDQ5ZmJiZDkyZjdiNmJmM2FhMWM1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA3MDMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wOTQ5ZDhmYzU3NjE0ZWEyOWMyNzM3MTZhNjljMjZhMS5zZXRDb250ZW50KGh0bWxfMjMzNTBjYTk5NzVkNDlmYmJkOTJmN2I2YmYzYWExYzUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl84NmViZjhlY2NmYjU0YjlkOTExMzRmYmE0MzczZmFmNC5iaW5kUG9wdXAocG9wdXBfMDk0OWQ4ZmM1NzYxNGVhMjljMjczNzE2YTY5YzI2YTEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmU1MjlkM2Q3MzBmNDkwNWI2ZDkxN2FlNWEwZGU0OGRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl82ZTUyOWQzZDczMGY0OTA1YjZkOTE3YWU1YTBkZTQ4ZCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl82ZTUyOWQzZDczMGY0OTA1YjZkOTE3YWU1YTBkZTQ4ZF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNmU1MjlkM2Q3MzBmNDkwNWI2ZDkxN2FlNWEwZGU0OGRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzZlNTI5ZDNkNzMwZjQ5MDViNmQ5MTdhZTVhMGRlNDhkLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl82ZTUyOWQzZDczMGY0OTA1YjZkOTE3YWU1YTBkZTQ4ZF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zMjVjNzAxMDdjZWY0NmJkYjFmMjJkMzFmNjMyZDg1MyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81YTQ0MmI3ZmM1MWQ0MGU1OTIyMTRkYTAyYjYyNDdiZiA9ICQoYDxkaXYgaWQ9Imh0bWxfNWE0NDJiN2ZjNTFkNDBlNTkyMjE0ZGEwMmI2MjQ3YmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDcwMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzMyNWM3MDEwN2NlZjQ2YmRiMWYyMmQzMWY2MzJkODUzLnNldENvbnRlbnQoaHRtbF81YTQ0MmI3ZmM1MWQ0MGU1OTIyMTRkYTAyYjYyNDdiZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzZlNTI5ZDNkNzMwZjQ5MDViNmQ5MTdhZTVhMGRlNDhkLmJpbmRQb3B1cChwb3B1cF8zMjVjNzAxMDdjZWY0NmJkYjFmMjJkMzFmNjMyZDg1MykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xNzIwMjUxNTI2NTI0NzViOGFlZWE2ZGIxOTM1NDhmZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzE3MjAyNTE1MjY1MjQ3NWI4YWVlYTZkYjE5MzU0OGZmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzE3MjAyNTE1MjY1MjQ3NWI4YWVlYTZkYjE5MzU0OGZmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8xNzIwMjUxNTI2NTI0NzViOGFlZWE2ZGIxOTM1NDhmZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMTcyMDI1MTUyNjUyNDc1YjhhZWVhNmRiMTkzNTQ4ZmYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzE3MjAyNTE1MjY1MjQ3NWI4YWVlYTZkYjE5MzU0OGZmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQ3NWQ2YTQxYjhhYTQ4OTdhODE2YTY2ZmExNjdlZmYwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzgzYTEwMTM5OGM3NDRhOGI4ZGRlNmNjNWQ4YWM1NzE2ID0gJChgPGRpdiBpZD0iaHRtbF84M2ExMDEzOThjNzQ0YThiOGRkZTZjYzVkOGFjNTcxNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNzA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDc1ZDZhNDFiOGFhNDg5N2E4MTZhNjZmYTE2N2VmZjAuc2V0Q29udGVudChodG1sXzgzYTEwMTM5OGM3NDRhOGI4ZGRlNmNjNWQ4YWM1NzE2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMTcyMDI1MTUyNjUyNDc1YjhhZWVhNmRiMTkzNTQ4ZmYuYmluZFBvcHVwKHBvcHVwXzQ3NWQ2YTQxYjhhYTQ4OTdhODE2YTY2ZmExNjdlZmYwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU4MWRjMWQ5YzQ0YjRiODlhZmJjZjAzZTgzMzUwNDIzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTgxZGMxZDljNDRiNGI4OWFmYmNmMDNlODMzNTA0MjMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTgxZGMxZDljNDRiNGI4OWFmYmNmMDNlODMzNTA0MjNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU4MWRjMWQ5YzQ0YjRiODlhZmJjZjAzZTgzMzUwNDIzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81ODFkYzFkOWM0NGI0Yjg5YWZiY2YwM2U4MzM1MDQyMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTgxZGMxZDljNDRiNGI4OWFmYmNmMDNlODMzNTA0MjNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZGZiNWU2NjJhNTdkNGI5ODg2Y2ExYjkxMmIxNTNmYjEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOWZkMWVmMDU0Zjg0NGMxYmE1NmE1ZThlZDVjZTAxZjcgPSAkKGA8ZGl2IGlkPSJodG1sXzlmZDFlZjA1NGY4NDRjMWJhNTZhNWU4ZWQ1Y2UwMWY3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA3MDgudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kZmI1ZTY2MmE1N2Q0Yjk4ODZjYTFiOTEyYjE1M2ZiMS5zZXRDb250ZW50KGh0bWxfOWZkMWVmMDU0Zjg0NGMxYmE1NmE1ZThlZDVjZTAxZjcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81ODFkYzFkOWM0NGI0Yjg5YWZiY2YwM2U4MzM1MDQyMy5iaW5kUG9wdXAocG9wdXBfZGZiNWU2NjJhNTdkNGI5ODg2Y2ExYjkxMmIxNTNmYjEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzIwNTUwMzJjOTE0NDdhNzkxYjhlNjBkYTc4NDVhMmJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jMjA1NTAzMmM5MTQ0N2E3OTFiOGU2MGRhNzg0NWEyYiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jMjA1NTAzMmM5MTQ0N2E3OTFiOGU2MGRhNzg0NWEyYl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYzIwNTUwMzJjOTE0NDdhNzkxYjhlNjBkYTc4NDVhMmJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2MyMDU1MDMyYzkxNDQ3YTc5MWI4ZTYwZGE3ODQ1YTJiLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jMjA1NTAzMmM5MTQ0N2E3OTFiOGU2MGRhNzg0NWEyYl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kYTYxMDk3OTIwMmE0ZmIxOTFiNGI1YTI1NTMxZWIwNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hNzJiN2EzZmI4ZGY0Yzk1YWM0NjE3ODQ3NTRiMzBmMCA9ICQoYDxkaXYgaWQ9Imh0bWxfYTcyYjdhM2ZiOGRmNGM5NWFjNDYxNzg0NzU0YjMwZjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDcxMC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2RhNjEwOTc5MjAyYTRmYjE5MWI0YjVhMjU1MzFlYjA2LnNldENvbnRlbnQoaHRtbF9hNzJiN2EzZmI4ZGY0Yzk1YWM0NjE3ODQ3NTRiMzBmMCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2MyMDU1MDMyYzkxNDQ3YTc5MWI4ZTYwZGE3ODQ1YTJiLmJpbmRQb3B1cChwb3B1cF9kYTYxMDk3OTIwMmE0ZmIxOTFiNGI1YTI1NTMxZWIwNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MThkMzJkOWZlOWQ0MzJiYjdkNjY0ZmY0ZmIxOGMzOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzcxOGQzMmQ5ZmU5ZDQzMmJiN2Q2NjRmZjRmYjE4YzM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzcxOGQzMmQ5ZmU5ZDQzMmJiN2Q2NjRmZjRmYjE4YzM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MThkMzJkOWZlOWQ0MzJiYjdkNjY0ZmY0ZmIxOGMzOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzE4ZDMyZDlmZTlkNDMyYmI3ZDY2NGZmNGZiMThjMzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzcxOGQzMmQ5ZmU5ZDQzMmJiN2Q2NjRmZjRmYjE4YzM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE1ZWU1YWEwYmRmNTRmYzQ4ZGMyZGFkYzRmOTIzZTE0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzJmMTY5YjY4NmQyYjQ3MzViYmE0Nzk5MDY4Zjc4NWVmID0gJChgPGRpdiBpZD0iaHRtbF8yZjE2OWI2ODZkMmI0NzM1YmJhNDc5OTA2OGY3ODVlZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNzA5LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTVlZTVhYTBiZGY1NGZjNDhkYzJkYWRjNGY5MjNlMTQuc2V0Q29udGVudChodG1sXzJmMTY5YjY4NmQyYjQ3MzViYmE0Nzk5MDY4Zjc4NWVmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzE4ZDMyZDlmZTlkNDMyYmI3ZDY2NGZmNGZiMThjMzguYmluZFBvcHVwKHBvcHVwXzE1ZWU1YWEwYmRmNTRmYzQ4ZGMyZGFkYzRmOTIzZTE0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkyMzRhMzUxOGU3YjQ0MWU4ODUwNzY5MzYyNDlhZjhlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOTIzNGEzNTE4ZTdiNDQxZTg4NTA3NjkzNjI0OWFmOGUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOTIzNGEzNTE4ZTdiNDQxZTg4NTA3NjkzNjI0OWFmOGVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkyMzRhMzUxOGU3YjQ0MWU4ODUwNzY5MzYyNDlhZjhlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85MjM0YTM1MThlN2I0NDFlODg1MDc2OTM2MjQ5YWY4ZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOTIzNGEzNTE4ZTdiNDQxZTg4NTA3NjkzNjI0OWFmOGVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMjIwNTczMjBlY2U3NDI1N2EyN2QzOGE4ODVmNWRiZmYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNWU5YjA4NzUzZTZhNDQzMWFkYzVlYWY1NzI4YjQ2NDkgPSAkKGA8ZGl2IGlkPSJodG1sXzVlOWIwODc1M2U2YTQ0MzFhZGM1ZWFmNTcyOGI0NjQ5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA3MDYudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yMjA1NzMyMGVjZTc0MjU3YTI3ZDM4YTg4NWY1ZGJmZi5zZXRDb250ZW50KGh0bWxfNWU5YjA4NzUzZTZhNDQzMWFkYzVlYWY1NzI4YjQ2NDkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85MjM0YTM1MThlN2I0NDFlODg1MDc2OTM2MjQ5YWY4ZS5iaW5kUG9wdXAocG9wdXBfMjIwNTczMjBlY2U3NDI1N2EyN2QzOGE4ODVmNWRiZmYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMWQ0YmQxYTM3ZGIzNDcyNDg3ODI0Y2FjZTE5ZDE3OTJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xZDRiZDFhMzdkYjM0NzI0ODc4MjRjYWNlMTlkMTc5MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xZDRiZDFhMzdkYjM0NzI0ODc4MjRjYWNlMTlkMTc5Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMWQ0YmQxYTM3ZGIzNDcyNDg3ODI0Y2FjZTE5ZDE3OTJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzFkNGJkMWEzN2RiMzQ3MjQ4NzgyNGNhY2UxOWQxNzkyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xZDRiZDFhMzdkYjM0NzI0ODc4MjRjYWNlMTlkMTc5Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mZTYzYzUyY2U4MDc0OWFiYWJkZGYwYzRiZTY1OTNmNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80OWY3YWY1MGFiZTg0MzE1YjJjZTZhYjQ1Y2JkNDIwZSA9ICQoYDxkaXYgaWQ9Imh0bWxfNDlmN2FmNTBhYmU4NDMxNWIyY2U2YWI0NWNiZDQyMGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDcwNC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ZlNjNjNTJjZTgwNzQ5YWJhYmRkZjBjNGJlNjU5M2Y2LnNldENvbnRlbnQoaHRtbF80OWY3YWY1MGFiZTg0MzE1YjJjZTZhYjQ1Y2JkNDIwZSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzFkNGJkMWEzN2RiMzQ3MjQ4NzgyNGNhY2UxOWQxNzkyLmJpbmRQb3B1cChwb3B1cF9mZTYzYzUyY2U4MDc0OWFiYWJkZGYwYzRiZTY1OTNmNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYWRjNGNkMjIzYzg0ZGE2YWNkZjM2MzcxYWI3OWU1Y19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzJhZGM0Y2QyMjNjODRkYTZhY2RmMzYzNzFhYjc5ZTVjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzJhZGM0Y2QyMjNjODRkYTZhY2RmMzYzNzFhYjc5ZTVjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYWRjNGNkMjIzYzg0ZGE2YWNkZjM2MzcxYWI3OWU1Y19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMmFkYzRjZDIyM2M4NGRhNmFjZGYzNjM3MWFiNzllNWMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzJhZGM0Y2QyMjNjODRkYTZhY2RmMzYzNzFhYjc5ZTVjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2I2MzUzYmUxNzFiYzRhOGRhM2E4MDMyNDc4MDI4MmVkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzIyMDVlZjdjYTk4MDRhMDI4NWVkM2MxMTdhNTcwMjUyID0gJChgPGRpdiBpZD0iaHRtbF8yMjA1ZWY3Y2E5ODA0YTAyODVlZDNjMTE3YTU3MDI1MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNzExLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYjYzNTNiZTE3MWJjNGE4ZGEzYTgwMzI0NzgwMjgyZWQuc2V0Q29udGVudChodG1sXzIyMDVlZjdjYTk4MDRhMDI4NWVkM2MxMTdhNTcwMjUyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMmFkYzRjZDIyM2M4NGRhNmFjZGYzNjM3MWFiNzllNWMuYmluZFBvcHVwKHBvcHVwX2I2MzUzYmUxNzFiYzRhOGRhM2E4MDMyNDc4MDI4MmVkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZmOTU2OTc3NTNjMTRhMjJhMjQwOTljZWQyOThjZGZmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZmY5NTY5Nzc1M2MxNGEyMmEyNDA5OWNlZDI5OGNkZmYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZmY5NTY5Nzc1M2MxNGEyMmEyNDA5OWNlZDI5OGNkZmZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZmOTU2OTc3NTNjMTRhMjJhMjQwOTljZWQyOThjZGZmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mZjk1Njk3NzUzYzE0YTIyYTI0MDk5Y2VkMjk4Y2RmZi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZmY5NTY5Nzc1M2MxNGEyMmEyNDA5OWNlZDI5OGNkZmZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzFkN2RhY2U2ODBiNDk4ZjliYmQ5Y2E4MDhmZTc3MWIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMDliMjg2Y2JiMzhiNDI3YmE1ZTg0NDUzYzU4ODMwYmYgPSAkKGA8ZGl2IGlkPSJodG1sXzA5YjI4NmNiYjM4YjQyN2JhNWU4NDQ1M2M1ODgzMGJmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEyMTIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jMWQ3ZGFjZTY4MGI0OThmOWJiZDljYTgwOGZlNzcxYi5zZXRDb250ZW50KGh0bWxfMDliMjg2Y2JiMzhiNDI3YmE1ZTg0NDUzYzU4ODMwYmYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mZjk1Njk3NzUzYzE0YTIyYTI0MDk5Y2VkMjk4Y2RmZi5iaW5kUG9wdXAocG9wdXBfYzFkN2RhY2U2ODBiNDk4ZjliYmQ5Y2E4MDhmZTc3MWIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjQzNTZkNTk3MjY2NGEyNDlmMjU0MGE2OTkwYTI5ZGFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iNDM1NmQ1OTcyNjY0YTI0OWYyNTQwYTY5OTBhMjlkYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iNDM1NmQ1OTcyNjY0YTI0OWYyNTQwYTY5OTBhMjlkYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYjQzNTZkNTk3MjY2NGEyNDlmMjU0MGE2OTkwYTI5ZGFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2I0MzU2ZDU5NzI2NjRhMjQ5ZjI1NDBhNjk5MGEyOWRhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iNDM1NmQ1OTcyNjY0YTI0OWYyNTQwYTY5OTBhMjlkYV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80YTZhM2QzZWMzNDY0OGM2YWFhZjkwNzZhYzY3NmRkOCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hN2EyNTM5ZGUyNjg0ZDYxYTdhNDQ0OWRiZjNjMDU2MCA9ICQoYDxkaXYgaWQ9Imh0bWxfYTdhMjUzOWRlMjY4NGQ2MWE3YTQ0NDlkYmYzYzA1NjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTIwNi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzRhNmEzZDNlYzM0NjQ4YzZhYWFmOTA3NmFjNjc2ZGQ4LnNldENvbnRlbnQoaHRtbF9hN2EyNTM5ZGUyNjg0ZDYxYTdhNDQ0OWRiZjNjMDU2MCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2I0MzU2ZDU5NzI2NjRhMjQ5ZjI1NDBhNjk5MGEyOWRhLmJpbmRQb3B1cChwb3B1cF80YTZhM2QzZWMzNDY0OGM2YWFhZjkwNzZhYzY3NmRkOCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jN2VjYzBlMDMxZDQ0MmM0OTZkM2E5MTQ2MWE0MWJhNl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2M3ZWNjMGUwMzFkNDQyYzQ5NmQzYTkxNDYxYTQxYmE2ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2M3ZWNjMGUwMzFkNDQyYzQ5NmQzYTkxNDYxYTQxYmE2X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jN2VjYzBlMDMxZDQ0MmM0OTZkM2E5MTQ2MWE0MWJhNl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYzdlY2MwZTAzMWQ0NDJjNDk2ZDNhOTE0NjFhNDFiYTYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2M3ZWNjMGUwMzFkNDQyYzQ5NmQzYTkxNDYxYTQxYmE2X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2E2ZTU0MGI1ZjUzYjQ2YjI5MDlhYTNiMmRhZTNlMTIyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQ0YWY5MDc2YzUxYjQ2YmVhN2Q5OTY1N2Y2MTVmNjQ4ID0gJChgPGRpdiBpZD0iaHRtbF80NGFmOTA3NmM1MWI0NmJlYTdkOTk2NTdmNjE1ZjY0OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMjA5LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYTZlNTQwYjVmNTNiNDZiMjkwOWFhM2IyZGFlM2UxMjIuc2V0Q29udGVudChodG1sXzQ0YWY5MDc2YzUxYjQ2YmVhN2Q5OTY1N2Y2MTVmNjQ4KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYzdlY2MwZTAzMWQ0NDJjNDk2ZDNhOTE0NjFhNDFiYTYuYmluZFBvcHVwKHBvcHVwX2E2ZTU0MGI1ZjUzYjQ2YjI5MDlhYTNiMmRhZTNlMTIyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzEyNjNmZTZiZWVhMjQ4ZjliMmJlODkyMDM5OGJjZmVkX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMTI2M2ZlNmJlZWEyNDhmOWIyYmU4OTIwMzk4YmNmZWQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMTI2M2ZlNmJlZWEyNDhmOWIyYmU4OTIwMzk4YmNmZWRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzEyNjNmZTZiZWVhMjQ4ZjliMmJlODkyMDM5OGJjZmVkX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xMjYzZmU2YmVlYTI0OGY5YjJiZTg5MjAzOThiY2ZlZC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMTI2M2ZlNmJlZWEyNDhmOWIyYmU4OTIwMzk4YmNmZWRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYTQ5YTdlY2FjYzJhNDRhZmIxY2Q1ZGRhMzVlMWUzMzUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODZkZjg0Njg4ODQzNDk5Zjk3NDAyNjIyMzZkZmIwODkgPSAkKGA8ZGl2IGlkPSJodG1sXzg2ZGY4NDY4ODg0MzQ5OWY5NzQwMjYyMjM2ZGZiMDg5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEyMDIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hNDlhN2VjYWNjMmE0NGFmYjFjZDVkZGEzNWUxZTMzNS5zZXRDb250ZW50KGh0bWxfODZkZjg0Njg4ODQzNDk5Zjk3NDAyNjIyMzZkZmIwODkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8xMjYzZmU2YmVlYTI0OGY5YjJiZTg5MjAzOThiY2ZlZC5iaW5kUG9wdXAocG9wdXBfYTQ5YTdlY2FjYzJhNDRhZmIxY2Q1ZGRhMzVlMWUzMzUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTNjZGQxYWVlMjljNDFkNWI3NjdjYmQyYzhmNGFlNzNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl81M2NkZDFhZWUyOWM0MWQ1Yjc2N2NiZDJjOGY0YWU3MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl81M2NkZDFhZWUyOWM0MWQ1Yjc2N2NiZDJjOGY0YWU3M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNTNjZGQxYWVlMjljNDFkNWI3NjdjYmQyYzhmNGFlNzNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzUzY2RkMWFlZTI5YzQxZDViNzY3Y2JkMmM4ZjRhZTczLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl81M2NkZDFhZWUyOWM0MWQ1Yjc2N2NiZDJjOGY0YWU3M19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iZTUwMjRjN2MxMDM0NGRkOTEzNDY4NDk2OTBlMzgxMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hNTIxZmFkYzIzMTc0MGM4ODZmNDhkOTQwNjk1NTlmNiA9ICQoYDxkaXYgaWQ9Imh0bWxfYTUyMWZhZGMyMzE3NDBjODg2ZjQ4ZDk0MDY5NTU5ZjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTIwMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2JlNTAyNGM3YzEwMzQ0ZGQ5MTM0Njg0OTY5MGUzODEyLnNldENvbnRlbnQoaHRtbF9hNTIxZmFkYzIzMTc0MGM4ODZmNDhkOTQwNjk1NTlmNik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzUzY2RkMWFlZTI5YzQxZDViNzY3Y2JkMmM4ZjRhZTczLmJpbmRQb3B1cChwb3B1cF9iZTUwMjRjN2MxMDM0NGRkOTEzNDY4NDk2OTBlMzgxMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82ZDMwYTcyYzNmNTE0OTJlYTMxMTYzNWIzM2ZjOTVlMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzZkMzBhNzJjM2Y1MTQ5MmVhMzExNjM1YjMzZmM5NWUwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzZkMzBhNzJjM2Y1MTQ5MmVhMzExNjM1YjMzZmM5NWUwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82ZDMwYTcyYzNmNTE0OTJlYTMxMTYzNWIzM2ZjOTVlMF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNmQzMGE3MmMzZjUxNDkyZWEzMTE2MzViMzNmYzk1ZTAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzZkMzBhNzJjM2Y1MTQ5MmVhMzExNjM1YjMzZmM5NWUwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzkxOWU1NTJkNzI5YTRlOTA4NzM2MDRiY2IyNDg0YzhhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzkxOTM5MTI4ODNlYTQxNGVhODdiZGY5Nzk1ZmI2YTVkID0gJChgPGRpdiBpZD0iaHRtbF85MTkzOTEyODgzZWE0MTRlYTg3YmRmOTc5NWZiNmE1ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMjEwLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTE5ZTU1MmQ3MjlhNGU5MDg3MzYwNGJjYjI0ODRjOGEuc2V0Q29udGVudChodG1sXzkxOTM5MTI4ODNlYTQxNGVhODdiZGY5Nzk1ZmI2YTVkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNmQzMGE3MmMzZjUxNDkyZWEzMTE2MzViMzNmYzk1ZTAuYmluZFBvcHVwKHBvcHVwXzkxOWU1NTJkNzI5YTRlOTA4NzM2MDRiY2IyNDg0YzhhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZjNjdiNzk1ZDc1NTQzZjQ4ZjVlYTllYTkwMTcxZjQ0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZmM2N2I3OTVkNzU1NDNmNDhmNWVhOWVhOTAxNzFmNDQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZmM2N2I3OTVkNzU1NDNmNDhmNWVhOWVhOTAxNzFmNDRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2ZjNjdiNzk1ZDc1NTQzZjQ4ZjVlYTllYTkwMTcxZjQ0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mYzY3Yjc5NWQ3NTU0M2Y0OGY1ZWE5ZWE5MDE3MWY0NC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZmM2N2I3OTVkNzU1NDNmNDhmNWVhOWVhOTAxNzFmNDRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMmE2OGQwZmE4N2JiNDhmNGI5MThlMzlkYzljNzJmMTcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMmNjOTFlZTZkYzhlNDk5OGEzODEyODM1ZWVhNjU1MDQgPSAkKGA8ZGl2IGlkPSJodG1sXzJjYzkxZWU2ZGM4ZTQ5OThhMzgxMjgzNWVlYTY1NTA0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEyMDcudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yYTY4ZDBmYTg3YmI0OGY0YjkxOGUzOWRjOWM3MmYxNy5zZXRDb250ZW50KGh0bWxfMmNjOTFlZTZkYzhlNDk5OGEzODEyODM1ZWVhNjU1MDQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mYzY3Yjc5NWQ3NTU0M2Y0OGY1ZWE5ZWE5MDE3MWY0NC5iaW5kUG9wdXAocG9wdXBfMmE2OGQwZmE4N2JiNDhmNGI5MThlMzlkYzljNzJmMTcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2Y3NGNlMGQxZWIwNGUxY2JmNDc4ZjA0MzQ3ZWYyNDFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zZjc0Y2UwZDFlYjA0ZTFjYmY0NzhmMDQzNDdlZjI0MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zZjc0Y2UwZDFlYjA0ZTFjYmY0NzhmMDQzNDdlZjI0MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2Y3NGNlMGQxZWIwNGUxY2JmNDc4ZjA0MzQ3ZWYyNDFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzNmNzRjZTBkMWViMDRlMWNiZjQ3OGYwNDM0N2VmMjQxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zZjc0Y2UwZDFlYjA0ZTFjYmY0NzhmMDQzNDdlZjI0MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yODA3N2Y1MzVlMDk0Y2IyODhlZTZjYWFlOGRhMjE5MiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jZjQwYzc5NWFhOWQ0OGFmYTZlZWI5YjQxMTQ2MTdlMCA9ICQoYDxkaXYgaWQ9Imh0bWxfY2Y0MGM3OTVhYTlkNDhhZmE2ZWViOWI0MTE0NjE3ZTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTIwOC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzI4MDc3ZjUzNWUwOTRjYjI4OGVlNmNhYWU4ZGEyMTkyLnNldENvbnRlbnQoaHRtbF9jZjQwYzc5NWFhOWQ0OGFmYTZlZWI5YjQxMTQ2MTdlMCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzNmNzRjZTBkMWViMDRlMWNiZjQ3OGYwNDM0N2VmMjQxLmJpbmRQb3B1cChwb3B1cF8yODA3N2Y1MzVlMDk0Y2IyODhlZTZjYWFlOGRhMjE5MikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81ODQ2ZWVjZjc4NWE0YzdkODU0NWE2ODQ0M2QwMmIyMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzU4NDZlZWNmNzg1YTRjN2Q4NTQ1YTY4NDQzZDAyYjIwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzU4NDZlZWNmNzg1YTRjN2Q4NTQ1YTY4NDQzZDAyYjIwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl81ODQ2ZWVjZjc4NWE0YzdkODU0NWE2ODQ0M2QwMmIyMF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNTg0NmVlY2Y3ODVhNGM3ZDg1NDVhNjg0NDNkMDJiMjAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzU4NDZlZWNmNzg1YTRjN2Q4NTQ1YTY4NDQzZDAyYjIwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE2YTU3M2M1MDk1NjQ0MWI4YzRmMzNmNmQ3ZGJhZmI1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzgyZmI0OTAyNTJmNTQzNjViMzQxYmRkNDQyOTJhNmRmID0gJChgPGRpdiBpZD0iaHRtbF84MmZiNDkwMjUyZjU0MzY1YjM0MWJkZDQ0MjkyYTZkZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMjExLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTZhNTczYzUwOTU2NDQxYjhjNGYzM2Y2ZDdkYmFmYjUuc2V0Q29udGVudChodG1sXzgyZmI0OTAyNTJmNTQzNjViMzQxYmRkNDQyOTJhNmRmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNTg0NmVlY2Y3ODVhNGM3ZDg1NDVhNjg0NDNkMDJiMjAuYmluZFBvcHVwKHBvcHVwXzE2YTU3M2M1MDk1NjQ0MWI4YzRmMzNmNmQ3ZGJhZmI1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzllMmJhOTA4NjE3NzQ3MGJhNWQ5NGQ0NmZlMzlhMmUyX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOWUyYmE5MDg2MTc3NDcwYmE1ZDk0ZDQ2ZmUzOWEyZTIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOWUyYmE5MDg2MTc3NDcwYmE1ZDk0ZDQ2ZmUzOWEyZTJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzllMmJhOTA4NjE3NzQ3MGJhNWQ5NGQ0NmZlMzlhMmUyX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85ZTJiYTkwODYxNzc0NzBiYTVkOTRkNDZmZTM5YTJlMi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOWUyYmE5MDg2MTc3NDcwYmE1ZDk0ZDQ2ZmUzOWEyZTJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfN2FmMmI1YzI2Nzk1NGM3NGFkYTM5NDg3MWZiZmY4ZWEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYmNiOWVkODJjZjc1NDIzZWFmMzQ5NGE4NTU2NTBjMDcgPSAkKGA8ZGl2IGlkPSJodG1sX2JjYjllZDgyY2Y3NTQyM2VhZjM0OTRhODU1NjUwYzA3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEyMDQudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83YWYyYjVjMjY3OTU0Yzc0YWRhMzk0ODcxZmJmZjhlYS5zZXRDb250ZW50KGh0bWxfYmNiOWVkODJjZjc1NDIzZWFmMzQ5NGE4NTU2NTBjMDcpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85ZTJiYTkwODYxNzc0NzBiYTVkOTRkNDZmZTM5YTJlMi5iaW5kUG9wdXAocG9wdXBfN2FmMmI1YzI2Nzk1NGM3NGFkYTM5NDg3MWZiZmY4ZWEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2IwY2RkNGZmOGFlNGQ5NWJlZDE1OGMxNzhmZWRlNTZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zYjBjZGQ0ZmY4YWU0ZDk1YmVkMTU4YzE3OGZlZGU1NiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zYjBjZGQ0ZmY4YWU0ZDk1YmVkMTU4YzE3OGZlZGU1Nl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2IwY2RkNGZmOGFlNGQ5NWJlZDE1OGMxNzhmZWRlNTZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzNiMGNkZDRmZjhhZTRkOTViZWQxNThjMTc4ZmVkZTU2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zYjBjZGQ0ZmY4YWU0ZDk1YmVkMTU4YzE3OGZlZGU1Nl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xMmU3NTg2Yjk4NDE0OWZkOGMyZWU2OTEwM2U5YzBlZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kNTEzMjJlNGRmZDY0NGIzYjI5ZTVmZTQxYzM4Y2ZlNyA9ICQoYDxkaXYgaWQ9Imh0bWxfZDUxMzIyZTRkZmQ2NDRiM2IyOWU1ZmU0MWMzOGNmZTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTIwMy50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzEyZTc1ODZiOTg0MTQ5ZmQ4YzJlZTY5MTAzZTljMGVlLnNldENvbnRlbnQoaHRtbF9kNTEzMjJlNGRmZDY0NGIzYjI5ZTVmZTQxYzM4Y2ZlNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzNiMGNkZDRmZjhhZTRkOTViZWQxNThjMTc4ZmVkZTU2LmJpbmRQb3B1cChwb3B1cF8xMmU3NTg2Yjk4NDE0OWZkOGMyZWU2OTEwM2U5YzBlZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85MTE0MGEyODk4MTU0Yzc1ODQ2YWMzYmIzYjZhYWZjZl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzkxMTQwYTI4OTgxNTRjNzU4NDZhYzNiYjNiNmFhZmNmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzkxMTQwYTI4OTgxNTRjNzU4NDZhYzNiYjNiNmFhZmNmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl85MTE0MGEyODk4MTU0Yzc1ODQ2YWMzYmIzYjZhYWZjZl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOTExNDBhMjg5ODE1NGM3NTg0NmFjM2JiM2I2YWFmY2YuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzkxMTQwYTI4OTgxNTRjNzU4NDZhYzNiYjNiNmFhZmNmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2MwN2ExNzY1ZTNlMTRjNzBiYzQyN2Y5YTc3YzdlMGUxID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzFkNzkxNTM4NmY4MjQ5Zjc5ODMwZGYxZGE0NTMyYmU3ID0gJChgPGRpdiBpZD0iaHRtbF8xZDc5MTUzODZmODI0OWY3OTgzMGRmMWRhNDUzMmJlNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMjA1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYzA3YTE3NjVlM2UxNGM3MGJjNDI3ZjlhNzdjN2UwZTEuc2V0Q29udGVudChodG1sXzFkNzkxNTM4NmY4MjQ5Zjc5ODMwZGYxZGE0NTMyYmU3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOTExNDBhMjg5ODE1NGM3NTg0NmFjM2JiM2I2YWFmY2YuYmluZFBvcHVwKHBvcHVwX2MwN2ExNzY1ZTNlMTRjNzBiYzQyN2Y5YTc3YzdlMGUxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MyZGU1YzUyNTVmNzQxYzVhYTNhYTU2YWJlMmY0ZTQ5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYzJkZTVjNTI1NWY3NDFjNWFhM2FhNTZhYmUyZjRlNDkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYzJkZTVjNTI1NWY3NDFjNWFhM2FhNTZhYmUyZjRlNDlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MyZGU1YzUyNTVmNzQxYzVhYTNhYTU2YWJlMmY0ZTQ5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jMmRlNWM1MjU1Zjc0MWM1YWEzYWE1NmFiZTJmNGU0OS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYzJkZTVjNTI1NWY3NDFjNWFhM2FhNTZhYmUyZjRlNDlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOTA5NzI5YmU2MjRmNDhmM2JlNjdiMTUwNWRlOGYyMDUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGRmYTUxMTY2OGYyNGI2ZmI0MTc1MjA3OTkwYTI0ZWEgPSAkKGA8ZGl2IGlkPSJodG1sXzhkZmE1MTE2NjhmMjRiNmZiNDE3NTIwNzk5MGEyNGVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA2MDEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85MDk3MjliZTYyNGY0OGYzYmU2N2IxNTA1ZGU4ZjIwNS5zZXRDb250ZW50KGh0bWxfOGRmYTUxMTY2OGYyNGI2ZmI0MTc1MjA3OTkwYTI0ZWEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jMmRlNWM1MjU1Zjc0MWM1YWEzYWE1NmFiZTJmNGU0OS5iaW5kUG9wdXAocG9wdXBfOTA5NzI5YmU2MjRmNDhmM2JlNjdiMTUwNWRlOGYyMDUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjRmYzZiZjNhMWQ0NDEyZDhkNmQ1N2I1YjA2OWUwODFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yNGZjNmJmM2ExZDQ0MTJkOGQ2ZDU3YjViMDY5ZTA4MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yNGZjNmJmM2ExZDQ0MTJkOGQ2ZDU3YjViMDY5ZTA4MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjRmYzZiZjNhMWQ0NDEyZDhkNmQ1N2I1YjA2OWUwODFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzI0ZmM2YmYzYTFkNDQxMmQ4ZDZkNTdiNWIwNjllMDgxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yNGZjNmJmM2ExZDQ0MTJkOGQ2ZDU3YjViMDY5ZTA4MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lNDI1OTMxMzkzNzc0Mjc0YmYxNDQ4ZWM5NmM1ZTBmOSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yZmZmNDNmMzUxOGQ0OWYxODJmOTQ3YjQzYmU0NzBkYiA9ICQoYDxkaXYgaWQ9Imh0bWxfMmZmZjQzZjM1MThkNDlmMTgyZjk0N2I0M2JlNDcwZGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDYxMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2U0MjU5MzEzOTM3NzQyNzRiZjE0NDhlYzk2YzVlMGY5LnNldENvbnRlbnQoaHRtbF8yZmZmNDNmMzUxOGQ0OWYxODJmOTQ3YjQzYmU0NzBkYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzI0ZmM2YmYzYTFkNDQxMmQ4ZDZkNTdiNWIwNjllMDgxLmJpbmRQb3B1cChwb3B1cF9lNDI1OTMxMzkzNzc0Mjc0YmYxNDQ4ZWM5NmM1ZTBmOSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jMWNjNWYxZGYyMmE0YzM4YTlkMGQ3ZjMwODcwMDdmYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2MxY2M1ZjFkZjIyYTRjMzhhOWQwZDdmMzA4NzAwN2ZhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2MxY2M1ZjFkZjIyYTRjMzhhOWQwZDdmMzA4NzAwN2ZhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jMWNjNWYxZGYyMmE0YzM4YTlkMGQ3ZjMwODcwMDdmYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYzFjYzVmMWRmMjJhNGMzOGE5ZDBkN2YzMDg3MDA3ZmEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2MxY2M1ZjFkZjIyYTRjMzhhOWQwZDdmMzA4NzAwN2ZhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE2MmUzNTFkNGFhNzQ5NGJhN2VkNWU0MjY3ZDBhNzY5ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzdiZjg4MWFkYjhjZDQ2ZjliYmM5ZDkxNTFmNWMxOTc1ID0gJChgPGRpdiBpZD0iaHRtbF83YmY4ODFhZGI4Y2Q0NmY5YmJjOWQ5MTUxZjVjMTk3NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNjAyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTYyZTM1MWQ0YWE3NDk0YmE3ZWQ1ZTQyNjdkMGE3Njkuc2V0Q29udGVudChodG1sXzdiZjg4MWFkYjhjZDQ2ZjliYmM5ZDkxNTFmNWMxOTc1KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYzFjYzVmMWRmMjJhNGMzOGE5ZDBkN2YzMDg3MDA3ZmEuYmluZFBvcHVwKHBvcHVwXzE2MmUzNTFkNGFhNzQ5NGJhN2VkNWU0MjY3ZDBhNzY5KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MxMGI1OGY2Mjc3MDQ0MDM5MjA5NWY0ODA5M2FlNzhmX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYzEwYjU4ZjYyNzcwNDQwMzkyMDk1ZjQ4MDkzYWU3OGYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYzEwYjU4ZjYyNzcwNDQwMzkyMDk1ZjQ4MDkzYWU3OGZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2MxMGI1OGY2Mjc3MDQ0MDM5MjA5NWY0ODA5M2FlNzhmX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jMTBiNThmNjI3NzA0NDAzOTIwOTVmNDgwOTNhZTc4Zi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYzEwYjU4ZjYyNzcwNDQwMzkyMDk1ZjQ4MDkzYWU3OGZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfY2Q1ZGFiNTJiNGY3NDY4Y2E3YTkxMmEyMDUwMDMzZTUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMDRmMGIzNzEzNDBjNGFlZWE5YWU5MjFlOWUyM2MyOTUgPSAkKGA8ZGl2IGlkPSJodG1sXzA0ZjBiMzcxMzQwYzRhZWVhOWFlOTIxZTllMjNjMjk1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA2MDMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jZDVkYWI1MmI0Zjc0NjhjYTdhOTEyYTIwNTAwMzNlNS5zZXRDb250ZW50KGh0bWxfMDRmMGIzNzEzNDBjNGFlZWE5YWU5MjFlOWUyM2MyOTUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jMTBiNThmNjI3NzA0NDAzOTIwOTVmNDgwOTNhZTc4Zi5iaW5kUG9wdXAocG9wdXBfY2Q1ZGFiNTJiNGY3NDY4Y2E3YTkxMmEyMDUwMDMzZTUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDFlNWVhM2M2M2M5NDFmNmIwMzJlMGJhOWQ2MGZlMDRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kMWU1ZWEzYzYzYzk0MWY2YjAzMmUwYmE5ZDYwZmUwNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kMWU1ZWEzYzYzYzk0MWY2YjAzMmUwYmE5ZDYwZmUwNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDFlNWVhM2M2M2M5NDFmNmIwMzJlMGJhOWQ2MGZlMDRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2QxZTVlYTNjNjNjOTQxZjZiMDMyZTBiYTlkNjBmZTA0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kMWU1ZWEzYzYzYzk0MWY2YjAzMmUwYmE5ZDYwZmUwNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF81NjcxMzU4ODZlMzk0NzEwODk4MjExZjU3NjZmZjdlOSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wNDYxMmZjYWRiNWE0ZmQ4YWMxMGFiM2FlYjVmMWU5MyA9ICQoYDxkaXYgaWQ9Imh0bWxfMDQ2MTJmY2FkYjVhNGZkOGFjMTBhYjNhZWI1ZjFlOTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDYwOS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzU2NzEzNTg4NmUzOTQ3MTA4OTgyMTFmNTc2NmZmN2U5LnNldENvbnRlbnQoaHRtbF8wNDYxMmZjYWRiNWE0ZmQ4YWMxMGFiM2FlYjVmMWU5Myk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2QxZTVlYTNjNjNjOTQxZjZiMDMyZTBiYTlkNjBmZTA0LmJpbmRQb3B1cChwb3B1cF81NjcxMzU4ODZlMzk0NzEwODk4MjExZjU3NjZmZjdlOSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYWQzZTE5MTYzMWM0ZjVkOTM1MzgxZjFjYjQ4NDMyMV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzNhZDNlMTkxNjMxYzRmNWQ5MzUzODFmMWNiNDg0MzIxID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzNhZDNlMTkxNjMxYzRmNWQ5MzUzODFmMWNiNDg0MzIxX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYWQzZTE5MTYzMWM0ZjVkOTM1MzgxZjFjYjQ4NDMyMV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fM2FkM2UxOTE2MzFjNGY1ZDkzNTM4MWYxY2I0ODQzMjEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzNhZDNlMTkxNjMxYzRmNWQ5MzUzODFmMWNiNDg0MzIxX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzU5NmU0ZGUzNmM0NzRlNDNiNWUwYTk0YTFlNDAxNTc2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NjZTMyMmIzZDU3YTRhOGViMDFlZGFhYWRkOWU4OGQwID0gJChgPGRpdiBpZD0iaHRtbF9jY2UzMjJiM2Q1N2E0YThlYjAxZWRhYWFkZDllODhkMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNjA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTk2ZTRkZTM2YzQ3NGU0M2I1ZTBhOTRhMWU0MDE1NzYuc2V0Q29udGVudChodG1sX2NjZTMyMmIzZDU3YTRhOGViMDFlZGFhYWRkOWU4OGQwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fM2FkM2UxOTE2MzFjNGY1ZDkzNTM4MWYxY2I0ODQzMjEuYmluZFBvcHVwKHBvcHVwXzU5NmU0ZGUzNmM0NzRlNDNiNWUwYTk0YTFlNDAxNTc2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U2ZDY2MGU5YzNmOTQxOGY5ZjdlYjRjZmViNjllN2Y1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTZkNjYwZTljM2Y5NDE4ZjlmN2ViNGNmZWI2OWU3ZjUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTZkNjYwZTljM2Y5NDE4ZjlmN2ViNGNmZWI2OWU3ZjVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U2ZDY2MGU5YzNmOTQxOGY5ZjdlYjRjZmViNjllN2Y1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lNmQ2NjBlOWMzZjk0MThmOWY3ZWI0Y2ZlYjY5ZTdmNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTZkNjYwZTljM2Y5NDE4ZjlmN2ViNGNmZWI2OWU3ZjVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfM2EzNDExZmE5MGIwNGYzODljNDFiNzMzZDUyNmM0ZjIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGYwYTFmMDIwNmUyNGU1MzhiYmU5YmNiMzFmNDI0OTYgPSAkKGA8ZGl2IGlkPSJodG1sXzhmMGExZjAyMDZlMjRlNTM4YmJlOWJjYjMxZjQyNDk2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA2MTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zYTM0MTFmYTkwYjA0ZjM4OWM0MWI3MzNkNTI2YzRmMi5zZXRDb250ZW50KGh0bWxfOGYwYTFmMDIwNmUyNGU1MzhiYmU5YmNiMzFmNDI0OTYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lNmQ2NjBlOWMzZjk0MThmOWY3ZWI0Y2ZlYjY5ZTdmNS5iaW5kUG9wdXAocG9wdXBfM2EzNDExZmE5MGIwNGYzODljNDFiNzMzZDUyNmM0ZjIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzBjZDU3OTk5NzVkNDEzZDhlNTRjMmI4OGE1MmQzZjBfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83MGNkNTc5OTk3NWQ0MTNkOGU1NGMyYjg4YTUyZDNmMCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83MGNkNTc5OTk3NWQ0MTNkOGU1NGMyYjg4YTUyZDNmMF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNzBjZDU3OTk5NzVkNDEzZDhlNTRjMmI4OGE1MmQzZjBfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzcwY2Q1Nzk5OTc1ZDQxM2Q4ZTU0YzJiODhhNTJkM2YwLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83MGNkNTc5OTk3NWQ0MTNkOGU1NGMyYjg4YTUyZDNmMF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82MGU0NmE2NzMzNTI0NTcyYTI2MjNkZmYwZDYzMzY2NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lOGE0YWJjYjhiNjM0YTMzOWNmYjFkZmEwNTA0MjhjMiA9ICQoYDxkaXYgaWQ9Imh0bWxfZThhNGFiY2I4YjYzNGEzMzljZmIxZGZhMDUwNDI4YzIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDYwNi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzYwZTQ2YTY3MzM1MjQ1NzJhMjYyM2RmZjBkNjMzNjY0LnNldENvbnRlbnQoaHRtbF9lOGE0YWJjYjhiNjM0YTMzOWNmYjFkZmEwNTA0MjhjMik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzcwY2Q1Nzk5OTc1ZDQxM2Q4ZTU0YzJiODhhNTJkM2YwLmJpbmRQb3B1cChwb3B1cF82MGU0NmE2NzMzNTI0NTcyYTI2MjNkZmYwZDYzMzY2NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ZjU2MTdlNzJhNDI0NWFhODdkZjE0MGIzMTk4MmNjM19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzhmNTYxN2U3MmE0MjQ1YWE4N2RmMTQwYjMxOTgyY2MzID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzhmNTYxN2U3MmE0MjQ1YWE4N2RmMTQwYjMxOTgyY2MzX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl84ZjU2MTdlNzJhNDI0NWFhODdkZjE0MGIzMTk4MmNjM19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fOGY1NjE3ZTcyYTQyNDVhYTg3ZGYxNDBiMzE5ODJjYzMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzhmNTYxN2U3MmE0MjQ1YWE4N2RmMTQwYjMxOTgyY2MzX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2NhMmU3M2U2MDU3ZDQxYThiMjE5YzRjMTA1Yzk2MTNlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FkOTMwYjU4ODIwOTQxYTA5MmUzYTE0OTlkZTZhOWMzID0gJChgPGRpdiBpZD0iaHRtbF9hZDkzMGI1ODgyMDk0MWEwOTJlM2ExNDk5ZGU2YTljMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNjA0LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfY2EyZTczZTYwNTdkNDFhOGIyMTljNGMxMDVjOTYxM2Uuc2V0Q29udGVudChodG1sX2FkOTMwYjU4ODIwOTQxYTA5MmUzYTE0OTlkZTZhOWMzKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fOGY1NjE3ZTcyYTQyNDVhYTg3ZGYxNDBiMzE5ODJjYzMuYmluZFBvcHVwKHBvcHVwX2NhMmU3M2U2MDU3ZDQxYThiMjE5YzRjMTA1Yzk2MTNlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YwNWI2MTEwYTIyNDQyNzM4ZGExNTk1Mzk0N2NhNWUzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZjA1YjYxMTBhMjI0NDI3MzhkYTE1OTUzOTQ3Y2E1ZTMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZjA1YjYxMTBhMjI0NDI3MzhkYTE1OTUzOTQ3Y2E1ZTNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2YwNWI2MTEwYTIyNDQyNzM4ZGExNTk1Mzk0N2NhNWUzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mMDViNjExMGEyMjQ0MjczOGRhMTU5NTM5NDdjYTVlMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZjA1YjYxMTBhMjI0NDI3MzhkYTE1OTUzOTQ3Y2E1ZTNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjQ2ZWNhYjgwNGI1NDk5ZGIxMGNjNmI5MDIzMmFlYjcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNGY0YzlkYTIzZGUzNGViZGJhMmYwM2IzYTFlMDkxNGYgPSAkKGA8ZGl2IGlkPSJodG1sXzRmNGM5ZGEyM2RlMzRlYmRiYTJmMDNiM2ExZTA5MTRmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA2MDgudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82NDZlY2FiODA0YjU0OTlkYjEwY2M2YjkwMjMyYWViNy5zZXRDb250ZW50KGh0bWxfNGY0YzlkYTIzZGUzNGViZGJhMmYwM2IzYTFlMDkxNGYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mMDViNjExMGEyMjQ0MjczOGRhMTU5NTM5NDdjYTVlMy5iaW5kUG9wdXAocG9wdXBfNjQ2ZWNhYjgwNGI1NDk5ZGIxMGNjNmI5MDIzMmFlYjcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmQ5NmVmZWY3YzZkNDY4Mjg1NDE4YTQ3NThjMTI5OGFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yZDk2ZWZlZjdjNmQ0NjgyODU0MThhNDc1OGMxMjk4YSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yZDk2ZWZlZjdjNmQ0NjgyODU0MThhNDc1OGMxMjk4YV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMmQ5NmVmZWY3YzZkNDY4Mjg1NDE4YTQ3NThjMTI5OGFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzJkOTZlZmVmN2M2ZDQ2ODI4NTQxOGE0NzU4YzEyOThhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yZDk2ZWZlZjdjNmQ0NjgyODU0MThhNDc1OGMxMjk4YV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lNjY4YzY5YWVlMDM0YmRhODA4OTU2ZTZjYjk5NzkxYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yMjgzOWRhNjc3NDg0OGIyODg5MGIzNWQxMTVjODJlMSA9ICQoYDxkaXYgaWQ9Imh0bWxfMjI4MzlkYTY3NzQ4NDhiMjg4OTBiMzVkMTE1YzgyZTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDYxMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2U2NjhjNjlhZWUwMzRiZGE4MDg5NTZlNmNiOTk3OTFjLnNldENvbnRlbnQoaHRtbF8yMjgzOWRhNjc3NDg0OGIyODg5MGIzNWQxMTVjODJlMSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzJkOTZlZmVmN2M2ZDQ2ODI4NTQxOGE0NzU4YzEyOThhLmJpbmRQb3B1cChwb3B1cF9lNjY4YzY5YWVlMDM0YmRhODA4OTU2ZTZjYjk5NzkxYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lMzE3NDEyNGY3ZDI0ZTc4OTNlYzM5NDY3NDZiMjUzYV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2UzMTc0MTI0ZjdkMjRlNzg5M2VjMzk0Njc0NmIyNTNhID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2UzMTc0MTI0ZjdkMjRlNzg5M2VjMzk0Njc0NmIyNTNhX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lMzE3NDEyNGY3ZDI0ZTc4OTNlYzM5NDY3NDZiMjUzYV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZTMxNzQxMjRmN2QyNGU3ODkzZWMzOTQ2NzQ2YjI1M2EuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2UzMTc0MTI0ZjdkMjRlNzg5M2VjMzk0Njc0NmIyNTNhX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzVmOTBjNmQyYjBiMTQ2ZmFiM2I2ZTdlNDJkMDg4NjgyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2VjYWQzYmM5ZTcxMDQ3YThiMzk5MzY1NWQ1OWU1Mjc2ID0gJChgPGRpdiBpZD0iaHRtbF9lY2FkM2JjOWU3MTA0N2E4YjM5OTM2NTVkNTllNTI3NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNjA1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNWY5MGM2ZDJiMGIxNDZmYWIzYjZlN2U0MmQwODg2ODIuc2V0Q29udGVudChodG1sX2VjYWQzYmM5ZTcxMDQ3YThiMzk5MzY1NWQ1OWU1Mjc2KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTMxNzQxMjRmN2QyNGU3ODkzZWMzOTQ2NzQ2YjI1M2EuYmluZFBvcHVwKHBvcHVwXzVmOTBjNmQyYjBiMTQ2ZmFiM2I2ZTdlNDJkMDg4NjgyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U5MjgwNGVkMjcyMzQ4MmQ4MThiYmNjNDIyZWMwM2JhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTkyODA0ZWQyNzIzNDgyZDgxOGJiY2M0MjJlYzAzYmEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTkyODA0ZWQyNzIzNDgyZDgxOGJiY2M0MjJlYzAzYmFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U5MjgwNGVkMjcyMzQ4MmQ4MThiYmNjNDIyZWMwM2JhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lOTI4MDRlZDI3MjM0ODJkODE4YmJjYzQyMmVjMDNiYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTkyODA0ZWQyNzIzNDgyZDgxOGJiY2M0MjJlYzAzYmFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZDJmNGQyY2NlZTg5NDA1MWE2NDA0NWYzNzg4M2Q0ZTcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYmUxMDg1ZjMxODBhNDAxM2FiZWMzZjJmMTk4YTljZGIgPSAkKGA8ZGl2IGlkPSJodG1sX2JlMTA4NWYzMTgwYTQwMTNhYmVjM2YyZjE5OGE5Y2RiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEzMDIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kMmY0ZDJjY2VlODk0MDUxYTY0MDQ1ZjM3ODgzZDRlNy5zZXRDb250ZW50KGh0bWxfYmUxMDg1ZjMxODBhNDAxM2FiZWMzZjJmMTk4YTljZGIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lOTI4MDRlZDI3MjM0ODJkODE4YmJjYzQyMmVjMDNiYS5iaW5kUG9wdXAocG9wdXBfZDJmNGQyY2NlZTg5NDA1MWE2NDA0NWYzNzg4M2Q0ZTcpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTg4MGQwZWU5ZWI5NGIzYzhkYjRhMTg1MGQxYzA2NjRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85ODgwZDBlZTllYjk0YjNjOGRiNGExODUwZDFjMDY2NCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85ODgwZDBlZTllYjk0YjNjOGRiNGExODUwZDFjMDY2NF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOTg4MGQwZWU5ZWI5NGIzYzhkYjRhMTg1MGQxYzA2NjRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzk4ODBkMGVlOWViOTRiM2M4ZGI0YTE4NTBkMWMwNjY0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85ODgwZDBlZTllYjk0YjNjOGRiNGExODUwZDFjMDY2NF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lNDg3Zjk4NzgxZGU0NWI5OTQyZDU4ODNhMTY0Y2ViMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wNzNiY2ZlNzk2ZGU0YjI1YWRlOGVhZTJmOWUzNDM2MSA9ICQoYDxkaXYgaWQ9Imh0bWxfMDczYmNmZTc5NmRlNGIyNWFkZThlYWUyZjllMzQzNjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTMwMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2U0ODdmOTg3ODFkZTQ1Yjk5NDJkNTg4M2ExNjRjZWIyLnNldENvbnRlbnQoaHRtbF8wNzNiY2ZlNzk2ZGU0YjI1YWRlOGVhZTJmOWUzNDM2MSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzk4ODBkMGVlOWViOTRiM2M4ZGI0YTE4NTBkMWMwNjY0LmJpbmRQb3B1cChwb3B1cF9lNDg3Zjk4NzgxZGU0NWI5OTQyZDU4ODNhMTY0Y2ViMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hZjcwNzI0YTU1MDU0ODc5YmY5ODU3MmMyMDM2ZjRhNF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2FmNzA3MjRhNTUwNTQ4NzliZjk4NTcyYzIwMzZmNGE0ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2FmNzA3MjRhNTUwNTQ4NzliZjk4NTcyYzIwMzZmNGE0X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hZjcwNzI0YTU1MDU0ODc5YmY5ODU3MmMyMDM2ZjRhNF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYWY3MDcyNGE1NTA1NDg3OWJmOTg1NzJjMjAzNmY0YTQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2FmNzA3MjRhNTUwNTQ4NzliZjk4NTcyYzIwMzZmNGE0X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2E5M2NiYzUyODUwMTRiOGQ5ZjZkMjUwM2I2YjZjZDM0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzVjODdhOGNlNjU2ZTRjYjY5YzQ5YTY0NTMwNWE5NTdhID0gJChgPGRpdiBpZD0iaHRtbF81Yzg3YThjZTY1NmU0Y2I2OWM0OWE2NDUzMDVhOTU3YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMzAzLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYTkzY2JjNTI4NTAxNGI4ZDlmNmQyNTAzYjZiNmNkMzQuc2V0Q29udGVudChodG1sXzVjODdhOGNlNjU2ZTRjYjY5YzQ5YTY0NTMwNWE5NTdhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYWY3MDcyNGE1NTA1NDg3OWJmOTg1NzJjMjAzNmY0YTQuYmluZFBvcHVwKHBvcHVwX2E5M2NiYzUyODUwMTRiOGQ5ZjZkMjUwM2I2YjZjZDM0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZjMmVjM2JhMjNhZTQyNzNiMjk4YjM0NTg1ZWIyYTdhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNmMyZWMzYmEyM2FlNDI3M2IyOThiMzQ1ODVlYjJhN2EgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNmMyZWMzYmEyM2FlNDI3M2IyOThiMzQ1ODVlYjJhN2Ffb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzZjMmVjM2JhMjNhZTQyNzNiMjk4YjM0NTg1ZWIyYTdhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82YzJlYzNiYTIzYWU0MjczYjI5OGIzNDU4NWViMmE3YS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNmMyZWMzYmEyM2FlNDI3M2IyOThiMzQ1ODVlYjJhN2FfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNWMzNjc3ZWY1ZDE2NDU0NWFjMjUzZWM4ODI4ZmM5M2QgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMmNlMjMxZGI0ZWQ3NGE3NTkxNzlhZjJkYTc4MWNjZmMgPSAkKGA8ZGl2IGlkPSJodG1sXzJjZTIzMWRiNGVkNzRhNzU5MTc5YWYyZGE3ODFjY2ZjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEzMDYudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81YzM2NzdlZjVkMTY0NTQ1YWMyNTNlYzg4MjhmYzkzZC5zZXRDb250ZW50KGh0bWxfMmNlMjMxZGI0ZWQ3NGE3NTkxNzlhZjJkYTc4MWNjZmMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82YzJlYzNiYTIzYWU0MjczYjI5OGIzNDU4NWViMmE3YS5iaW5kUG9wdXAocG9wdXBfNWMzNjc3ZWY1ZDE2NDU0NWFjMjUzZWM4ODI4ZmM5M2QpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDY2MjliNDQzMWM1NDhjNTk1ZTJkZjA1ZTc5N2I0OTZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wNjYyOWI0NDMxYzU0OGM1OTVlMmRmMDVlNzk3YjQ5NiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wNjYyOWI0NDMxYzU0OGM1OTVlMmRmMDVlNzk3YjQ5Nl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDY2MjliNDQzMWM1NDhjNTk1ZTJkZjA1ZTc5N2I0OTZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzA2NjI5YjQ0MzFjNTQ4YzU5NWUyZGYwNWU3OTdiNDk2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wNjYyOWI0NDMxYzU0OGM1OTVlMmRmMDVlNzk3YjQ5Nl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wYzI2YjY4NDM1YjU0YTYxOWY0MzA2MzdlYjRkYjVhNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81OTU4MjM4OWQ5NjM0NGM2OTc3MDBiOWFlMzEyZTRkNCA9ICQoYDxkaXYgaWQ9Imh0bWxfNTk1ODIzODlkOTYzNDRjNjk3NzAwYjlhZTMxMmU0ZDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTMwNS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzBjMjZiNjg0MzViNTRhNjE5ZjQzMDYzN2ViNGRiNWE2LnNldENvbnRlbnQoaHRtbF81OTU4MjM4OWQ5NjM0NGM2OTc3MDBiOWFlMzEyZTRkNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzA2NjI5YjQ0MzFjNTQ4YzU5NWUyZGYwNWU3OTdiNDk2LmJpbmRQb3B1cChwb3B1cF8wYzI2YjY4NDM1YjU0YTYxOWY0MzA2MzdlYjRkYjVhNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80MDllZmI5MDYxN2Q0MmQ5YWQxODZkNjlhYzIyYmEwMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzQwOWVmYjkwNjE3ZDQyZDlhZDE4NmQ2OWFjMjJiYTAwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzQwOWVmYjkwNjE3ZDQyZDlhZDE4NmQ2OWFjMjJiYTAwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80MDllZmI5MDYxN2Q0MmQ5YWQxODZkNjlhYzIyYmEwMF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNDA5ZWZiOTA2MTdkNDJkOWFkMTg2ZDY5YWMyMmJhMDAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzQwOWVmYjkwNjE3ZDQyZDlhZDE4NmQ2OWFjMjJiYTAwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ZlOWQxNWM3ZjAxZTQ1OGFhMDQ0YTg2ZDdjOWU1Y2ZmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2ZkY2VhZTE3ZDU5NDQ5YTdiODFkM2I3OWRkY2VhYTI5ID0gJChgPGRpdiBpZD0iaHRtbF9mZGNlYWUxN2Q1OTQ0OWE3YjgxZDNiNzlkZGNlYWEyOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMzA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmU5ZDE1YzdmMDFlNDU4YWEwNDRhODZkN2M5ZTVjZmYuc2V0Q29udGVudChodG1sX2ZkY2VhZTE3ZDU5NDQ5YTdiODFkM2I3OWRkY2VhYTI5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNDA5ZWZiOTA2MTdkNDJkOWFkMTg2ZDY5YWMyMmJhMDAuYmluZFBvcHVwKHBvcHVwX2ZlOWQxNWM3ZjAxZTQ1OGFhMDQ0YTg2ZDdjOWU1Y2ZmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E4YTAyMGY0NGQ4NTQyYzE5ZTMwZTE4ODI5Y2M1ZWI5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYThhMDIwZjQ0ZDg1NDJjMTllMzBlMTg4MjljYzVlYjkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYThhMDIwZjQ0ZDg1NDJjMTllMzBlMTg4MjljYzVlYjlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2E4YTAyMGY0NGQ4NTQyYzE5ZTMwZTE4ODI5Y2M1ZWI5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9hOGEwMjBmNDRkODU0MmMxOWUzMGUxODgyOWNjNWViOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYThhMDIwZjQ0ZDg1NDJjMTllMzBlMTg4MjljYzVlYjlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYWRhYTU0YjkzOGViNGVjMWE0NTExOGU4MTc5YjUxMmEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYjA5MjczYWMyMTZjNDA2Y2E5OTU4YjA2NjJiZTcxNzIgPSAkKGA8ZGl2IGlkPSJodG1sX2IwOTI3M2FjMjE2YzQwNmNhOTk1OGIwNjYyYmU3MTcyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEzMDkudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hZGFhNTRiOTM4ZWI0ZWMxYTQ1MTE4ZTgxNzliNTEyYS5zZXRDb250ZW50KGh0bWxfYjA5MjczYWMyMTZjNDA2Y2E5OTU4YjA2NjJiZTcxNzIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hOGEwMjBmNDRkODU0MmMxOWUzMGUxODgyOWNjNWViOS5iaW5kUG9wdXAocG9wdXBfYWRhYTU0YjkzOGViNGVjMWE0NTExOGU4MTc5YjUxMmEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDU5NzRjYWFlMWRmNGU2NmI2ZTRhZjQwOGYzOWM2ZDhfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80NTk3NGNhYWUxZGY0ZTY2YjZlNGFmNDA4ZjM5YzZkOCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80NTk3NGNhYWUxZGY0ZTY2YjZlNGFmNDA4ZjM5YzZkOF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDU5NzRjYWFlMWRmNGU2NmI2ZTRhZjQwOGYzOWM2ZDhfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQ1OTc0Y2FhZTFkZjRlNjZiNmU0YWY0MDhmMzljNmQ4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80NTk3NGNhYWUxZGY0ZTY2YjZlNGFmNDA4ZjM5YzZkOF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lZTI0N2ZmODFhZDE0ZDViOTE5MTM3NDFlYzMyZTViNiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lNzg3Y2ZlOGUwMzI0ZDU1Yjk4NmRlM2M1YWNiYmEwMyA9ICQoYDxkaXYgaWQ9Imh0bWxfZTc4N2NmZThlMDMyNGQ1NWI5ODZkZTNjNWFjYmJhMDMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTMwNC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2VlMjQ3ZmY4MWFkMTRkNWI5MTkxMzc0MWVjMzJlNWI2LnNldENvbnRlbnQoaHRtbF9lNzg3Y2ZlOGUwMzI0ZDU1Yjk4NmRlM2M1YWNiYmEwMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQ1OTc0Y2FhZTFkZjRlNjZiNmU0YWY0MDhmMzljNmQ4LmJpbmRQb3B1cChwb3B1cF9lZTI0N2ZmODFhZDE0ZDViOTE5MTM3NDFlYzMyZTViNikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80MjcyYzNhODYxZGQ0Mzk2ODA1MjRjNzIwZDViNzM3Ml9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzQyNzJjM2E4NjFkZDQzOTY4MDUyNGM3MjBkNWI3MzcyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzQyNzJjM2E4NjFkZDQzOTY4MDUyNGM3MjBkNWI3MzcyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80MjcyYzNhODYxZGQ0Mzk2ODA1MjRjNzIwZDViNzM3Ml9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNDI3MmMzYTg2MWRkNDM5NjgwNTI0YzcyMGQ1YjczNzIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzQyNzJjM2E4NjFkZDQzOTY4MDUyNGM3MjBkNWI3MzcyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2E1OGVlNWYzODk2MTRmMTA5ZmYxZmM0MGQyZjZkZDYzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2EyZjgxNDk4YTk1MzQ3MmM4MjY0MDBmZDY0Y2Q0NTA5ID0gJChgPGRpdiBpZD0iaHRtbF9hMmY4MTQ5OGE5NTM0NzJjODI2NDAwZmQ2NGNkNDUwOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMzEyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYTU4ZWU1ZjM4OTYxNGYxMDlmZjFmYzQwZDJmNmRkNjMuc2V0Q29udGVudChodG1sX2EyZjgxNDk4YTk1MzQ3MmM4MjY0MDBmZDY0Y2Q0NTA5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNDI3MmMzYTg2MWRkNDM5NjgwNTI0YzcyMGQ1YjczNzIuYmluZFBvcHVwKHBvcHVwX2E1OGVlNWYzODk2MTRmMTA5ZmYxZmM0MGQyZjZkZDYzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzcyZjQyOTAxOWFjODQ3OWNhYWVkNTIwNjY3MDg3YmU5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNzJmNDI5MDE5YWM4NDc5Y2FhZWQ1MjA2NjcwODdiZTkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNzJmNDI5MDE5YWM4NDc5Y2FhZWQ1MjA2NjcwODdiZTlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzcyZjQyOTAxOWFjODQ3OWNhYWVkNTIwNjY3MDg3YmU5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl83MmY0MjkwMTlhYzg0NzljYWFlZDUyMDY2NzA4N2JlOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNzJmNDI5MDE5YWM4NDc5Y2FhZWQ1MjA2NjcwODdiZTlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzgzZDA0MzBhN2ViNGI0OGI1NjBmNjI1YmYyNzFjOGYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMzVmODI1ZWQ5NGFlNGFjNTkzYWJkOGMxMGNhODQzZmMgPSAkKGA8ZGl2IGlkPSJodG1sXzM1ZjgyNWVkOTRhZTRhYzU5M2FiZDhjMTBjYTg0M2ZjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEzMTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jODNkMDQzMGE3ZWI0YjQ4YjU2MGY2MjViZjI3MWM4Zi5zZXRDb250ZW50KGh0bWxfMzVmODI1ZWQ5NGFlNGFjNTkzYWJkOGMxMGNhODQzZmMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl83MmY0MjkwMTlhYzg0NzljYWFlZDUyMDY2NzA4N2JlOS5iaW5kUG9wdXAocG9wdXBfYzgzZDA0MzBhN2ViNGI0OGI1NjBmNjI1YmYyNzFjOGYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzg5OWZkNjBmZDdkNDc1NmIwOGYwMDUyODRhNjFjYTJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zODk5ZmQ2MGZkN2Q0NzU2YjA4ZjAwNTI4NGE2MWNhMiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zODk5ZmQ2MGZkN2Q0NzU2YjA4ZjAwNTI4NGE2MWNhMl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzg5OWZkNjBmZDdkNDc1NmIwOGYwMDUyODRhNjFjYTJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzM4OTlmZDYwZmQ3ZDQ3NTZiMDhmMDA1Mjg0YTYxY2EyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zODk5ZmQ2MGZkN2Q0NzU2YjA4ZjAwNTI4NGE2MWNhMl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85ZDFjMmYwYjQ4ZTg0Y2Y0YjI3ZWE5ZGU1YTgxNjIzZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yNTQzMTViOGMwYjc0ZTNkOWViYzg3Y2E0ZGIzODg4OCA9ICQoYDxkaXYgaWQ9Imh0bWxfMjU0MzE1YjhjMGI3NGUzZDllYmM4N2NhNGRiMzg4ODgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTMxMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzlkMWMyZjBiNDhlODRjZjRiMjdlYTlkZTVhODE2MjNkLnNldENvbnRlbnQoaHRtbF8yNTQzMTViOGMwYjc0ZTNkOWViYzg3Y2E0ZGIzODg4OCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzM4OTlmZDYwZmQ3ZDQ3NTZiMDhmMDA1Mjg0YTYxY2EyLmJpbmRQb3B1cChwb3B1cF85ZDFjMmYwYjQ4ZTg0Y2Y0YjI3ZWE5ZGU1YTgxNjIzZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MzM4ZWIzOTU5MjI0NDdjOGZhYjJlMDc3MGRkNWU3ZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzczMzhlYjM5NTkyMjQ0N2M4ZmFiMmUwNzcwZGQ1ZTdlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzczMzhlYjM5NTkyMjQ0N2M4ZmFiMmUwNzcwZGQ1ZTdlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl83MzM4ZWIzOTU5MjI0NDdjOGZhYjJlMDc3MGRkNWU3ZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNzMzOGViMzk1OTIyNDQ3YzhmYWIyZTA3NzBkZDVlN2UuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzczMzhlYjM5NTkyMjQ0N2M4ZmFiMmUwNzcwZGQ1ZTdlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzg1ZjNkODk1ZWRjZDRlNTc4ZGRhYTAxOGQ5ZDJkMjkyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzczZTI0YjI1YmQ2ZjQxYTk4YjExNmQ0YjliODAyMDFiID0gJChgPGRpdiBpZD0iaHRtbF83M2UyNGIyNWJkNmY0MWE5OGIxMTZkNGI5YjgwMjAxYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMzA4LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODVmM2Q4OTVlZGNkNGU1NzhkZGFhMDE4ZDlkMmQyOTIuc2V0Q29udGVudChodG1sXzczZTI0YjI1YmQ2ZjQxYTk4YjExNmQ0YjliODAyMDFiKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNzMzOGViMzk1OTIyNDQ3YzhmYWIyZTA3NzBkZDVlN2UuYmluZFBvcHVwKHBvcHVwXzg1ZjNkODk1ZWRjZDRlNTc4ZGRhYTAxOGQ5ZDJkMjkyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAzYzEyZDQxODM3NTQyMmI4MzA2MjFiMzA4YTM4NWU5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMDNjMTJkNDE4Mzc1NDIyYjgzMDYyMWIzMDhhMzg1ZTkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMDNjMTJkNDE4Mzc1NDIyYjgzMDYyMWIzMDhhMzg1ZTlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzAzYzEyZDQxODM3NTQyMmI4MzA2MjFiMzA4YTM4NWU5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wM2MxMmQ0MTgzNzU0MjJiODMwNjIxYjMwOGEzODVlOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDNjMTJkNDE4Mzc1NDIyYjgzMDYyMWIzMDhhMzg1ZTlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTNjY2Q5MTk3NTE2NGM0M2I1YTgwY2FiM2QwYzM2Y2YgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMmUzOGQ3ODc5ODUwNDRlYjgyODViMTFjNDU1NTljNjQgPSAkKGA8ZGl2IGlkPSJodG1sXzJlMzhkNzg3OTg1MDQ0ZWI4Mjg1YjExYzQ1NTU5YzY0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEwMDQudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lM2NjZDkxOTc1MTY0YzQzYjVhODBjYWIzZDBjMzZjZi5zZXRDb250ZW50KGh0bWxfMmUzOGQ3ODc5ODUwNDRlYjgyODViMTFjNDU1NTljNjQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wM2MxMmQ0MTgzNzU0MjJiODMwNjIxYjMwOGEzODVlOS5iaW5kUG9wdXAocG9wdXBfZTNjY2Q5MTk3NTE2NGM0M2I1YTgwY2FiM2QwYzM2Y2YpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzdlMWExMzMyM2RjNDE0MThiNDYxZTBmZWM2YzZkODJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zN2UxYTEzMzIzZGM0MTQxOGI0NjFlMGZlYzZjNmQ4MiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zN2UxYTEzMzIzZGM0MTQxOGI0NjFlMGZlYzZjNmQ4Ml9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzdlMWExMzMyM2RjNDE0MThiNDYxZTBmZWM2YzZkODJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzM3ZTFhMTMzMjNkYzQxNDE4YjQ2MWUwZmVjNmM2ZDgyLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zN2UxYTEzMzIzZGM0MTQxOGI0NjFlMGZlYzZjNmQ4Ml9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kYmQ4NTQ2Mzk5NWY0YThjODEzZjg4NGM1MTBhMDU5ZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85MTkwMWNhMTllMWI0YzM0ODBlOTIwNjI5YWY4MWZkOCA9ICQoYDxkaXYgaWQ9Imh0bWxfOTE5MDFjYTE5ZTFiNGMzNDgwZTkyMDYyOWFmODFmZDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTAxMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2RiZDg1NDYzOTk1ZjRhOGM4MTNmODg0YzUxMGEwNTllLnNldENvbnRlbnQoaHRtbF85MTkwMWNhMTllMWI0YzM0ODBlOTIwNjI5YWY4MWZkOCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzM3ZTFhMTMzMjNkYzQxNDE4YjQ2MWUwZmVjNmM2ZDgyLmJpbmRQb3B1cChwb3B1cF9kYmQ4NTQ2Mzk5NWY0YThjODEzZjg4NGM1MTBhMDU5ZSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYzBmOGJlN2ZlZjI0YWI5YmVlM2U0OWU2YWY3MzQ0Zl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzNjMGY4YmU3ZmVmMjRhYjliZWUzZTQ5ZTZhZjczNDRmID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzNjMGY4YmU3ZmVmMjRhYjliZWUzZTQ5ZTZhZjczNDRmX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYzBmOGJlN2ZlZjI0YWI5YmVlM2U0OWU2YWY3MzQ0Zl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fM2MwZjhiZTdmZWYyNGFiOWJlZTNlNDllNmFmNzM0NGYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzNjMGY4YmU3ZmVmMjRhYjliZWUzZTQ5ZTZhZjczNDRmX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQwYTYwOTIxZmIxOTRkNmNhMzhjMDA5M2Q1MTA5OWIzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzUzMjQ4NzM5NjVjMDQxYTc5MTEwMTg1ZDM4ZmMxYjY0ID0gJChgPGRpdiBpZD0iaHRtbF81MzI0ODczOTY1YzA0MWE3OTExMDE4NWQzOGZjMWI2NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMDA2LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNDBhNjA5MjFmYjE5NGQ2Y2EzOGMwMDkzZDUxMDk5YjMuc2V0Q29udGVudChodG1sXzUzMjQ4NzM5NjVjMDQxYTc5MTEwMTg1ZDM4ZmMxYjY0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fM2MwZjhiZTdmZWYyNGFiOWJlZTNlNDllNmFmNzM0NGYuYmluZFBvcHVwKHBvcHVwXzQwYTYwOTIxZmIxOTRkNmNhMzhjMDA5M2Q1MTA5OWIzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2VjMTliZDYwNTUxZTRiYjVhZGEwMjFiZjRiMzY1MGVhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZWMxOWJkNjA1NTFlNGJiNWFkYTAyMWJmNGIzNjUwZWEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZWMxOWJkNjA1NTFlNGJiNWFkYTAyMWJmNGIzNjUwZWFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2VjMTliZDYwNTUxZTRiYjVhZGEwMjFiZjRiMzY1MGVhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lYzE5YmQ2MDU1MWU0YmI1YWRhMDIxYmY0YjM2NTBlYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZWMxOWJkNjA1NTFlNGJiNWFkYTAyMWJmNGIzNjUwZWFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMjYzMmVjYTA1ZmE1NDc3M2EzOWI3ZmQ1ODg0ZWZkZDkgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMjFlMTRhZTc3NDQwNGU5ODk5OWRkZDZmZDMxOWY5MmQgPSAkKGA8ZGl2IGlkPSJodG1sXzIxZTE0YWU3NzQ0MDRlOTg5OTlkZGQ2ZmQzMTlmOTJkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEwMTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yNjMyZWNhMDVmYTU0NzczYTM5YjdmZDU4ODRlZmRkOS5zZXRDb250ZW50KGh0bWxfMjFlMTRhZTc3NDQwNGU5ODk5OWRkZDZmZDMxOWY5MmQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lYzE5YmQ2MDU1MWU0YmI1YWRhMDIxYmY0YjM2NTBlYS5iaW5kUG9wdXAocG9wdXBfMjYzMmVjYTA1ZmE1NDc3M2EzOWI3ZmQ1ODg0ZWZkZDkpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2UxZTJmZDUyMGQzNGZhZTkyN2ZmYjAxNzZkMzhiOTZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zZTFlMmZkNTIwZDM0ZmFlOTI3ZmZiMDE3NmQzOGI5NiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zZTFlMmZkNTIwZDM0ZmFlOTI3ZmZiMDE3NmQzOGI5Nl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2UxZTJmZDUyMGQzNGZhZTkyN2ZmYjAxNzZkMzhiOTZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzNlMWUyZmQ1MjBkMzRmYWU5MjdmZmIwMTc2ZDM4Yjk2LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zZTFlMmZkNTIwZDM0ZmFlOTI3ZmZiMDE3NmQzOGI5Nl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zZWViYzUzNWNiYzA0MDA5YWM5NTk5OWRkNzU3ODc1YiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iOWU3YjhhMjMzODE0NTI0YWRjNjM5NjMxYzYxZTBiNCA9ICQoYDxkaXYgaWQ9Imh0bWxfYjllN2I4YTIzMzgxNDUyNGFkYzYzOTYzMWM2MWUwYjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTAwNS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNlZWJjNTM1Y2JjMDQwMDlhYzk1OTk5ZGQ3NTc4NzViLnNldENvbnRlbnQoaHRtbF9iOWU3YjhhMjMzODE0NTI0YWRjNjM5NjMxYzYxZTBiNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzNlMWUyZmQ1MjBkMzRmYWU5MjdmZmIwMTc2ZDM4Yjk2LmJpbmRQb3B1cChwb3B1cF8zZWViYzUzNWNiYzA0MDA5YWM5NTk5OWRkNzU3ODc1YikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82MmM4OGQxNjY1OGQ0Mzk4YjdjZjMzMmIyNTMwMDVjNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzYyYzg4ZDE2NjU4ZDQzOThiN2NmMzMyYjI1MzAwNWM1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzYyYzg4ZDE2NjU4ZDQzOThiN2NmMzMyYjI1MzAwNWM1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82MmM4OGQxNjY1OGQ0Mzk4YjdjZjMzMmIyNTMwMDVjNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjJjODhkMTY2NThkNDM5OGI3Y2YzMzJiMjUzMDA1YzUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzYyYzg4ZDE2NjU4ZDQzOThiN2NmMzMyYjI1MzAwNWM1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzE3MTE3MDQyZWNjNzQxZTA4Y2E5ZTZmOTQyYjM0YzQ0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzU2ZDZmOWQzN2Q5YzQwMTU5OTM0ZWExZWQ4M2IzOWFmID0gJChgPGRpdiBpZD0iaHRtbF81NmQ2ZjlkMzdkOWM0MDE1OTkzNGVhMWVkODNiMzlhZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMDAzLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMTcxMTcwNDJlY2M3NDFlMDhjYTllNmY5NDJiMzRjNDQuc2V0Q29udGVudChodG1sXzU2ZDZmOWQzN2Q5YzQwMTU5OTM0ZWExZWQ4M2IzOWFmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjJjODhkMTY2NThkNDM5OGI3Y2YzMzJiMjUzMDA1YzUuYmluZFBvcHVwKHBvcHVwXzE3MTE3MDQyZWNjNzQxZTA4Y2E5ZTZmOTQyYjM0YzQ0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzIwMGJkNjRkMDlhYTQzMWU4MmY1NTdkNmE3NTMwOTU0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMjAwYmQ2NGQwOWFhNDMxZTgyZjU1N2Q2YTc1MzA5NTQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMjAwYmQ2NGQwOWFhNDMxZTgyZjU1N2Q2YTc1MzA5NTRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzIwMGJkNjRkMDlhYTQzMWU4MmY1NTdkNmE3NTMwOTU0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yMDBiZDY0ZDA5YWE0MzFlODJmNTU3ZDZhNzUzMDk1NC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMjAwYmQ2NGQwOWFhNDMxZTgyZjU1N2Q2YTc1MzA5NTRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfM2ZmNjEwNzE5NTYxNGEyODgxZjYwYmEzODhjMmYzMTIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZmY5MDAwMjk4ZDhiNGM0YzljNzNjMTdiYzY3MWYwZjkgPSAkKGA8ZGl2IGlkPSJodG1sX2ZmOTAwMDI5OGQ4YjRjNGM5YzczYzE3YmM2NzFmMGY5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEwMTIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zZmY2MTA3MTk1NjE0YTI4ODFmNjBiYTM4OGMyZjMxMi5zZXRDb250ZW50KGh0bWxfZmY5MDAwMjk4ZDhiNGM0YzljNzNjMTdiYzY3MWYwZjkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yMDBiZDY0ZDA5YWE0MzFlODJmNTU3ZDZhNzUzMDk1NC5iaW5kUG9wdXAocG9wdXBfM2ZmNjEwNzE5NTYxNGEyODgxZjYwYmEzODhjMmYzMTIpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZThkOGY4MWIxZTBhNGQwOTk4ZTI2NjVjNWUwODAyYzhfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lOGQ4ZjgxYjFlMGE0ZDA5OThlMjY2NWM1ZTA4MDJjOCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lOGQ4ZjgxYjFlMGE0ZDA5OThlMjY2NWM1ZTA4MDJjOF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZThkOGY4MWIxZTBhNGQwOTk4ZTI2NjVjNWUwODAyYzhfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2U4ZDhmODFiMWUwYTRkMDk5OGUyNjY1YzVlMDgwMmM4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lOGQ4ZjgxYjFlMGE0ZDA5OThlMjY2NWM1ZTA4MDJjOF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kMzA1ZDg1M2I4ZWM0YmUyOWU3MTE4YTVhM2JiMmQ5NSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83Y2E3MGUwNzIyNDA0N2U1OWZkNDFmMWU2OGFjZGFlNyA9ICQoYDxkaXYgaWQ9Imh0bWxfN2NhNzBlMDcyMjQwNDdlNTlmZDQxZjFlNjhhY2RhZTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTAwOS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2QzMDVkODUzYjhlYzRiZTI5ZTcxMThhNWEzYmIyZDk1LnNldENvbnRlbnQoaHRtbF83Y2E3MGUwNzIyNDA0N2U1OWZkNDFmMWU2OGFjZGFlNyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2U4ZDhmODFiMWUwYTRkMDk5OGUyNjY1YzVlMDgwMmM4LmJpbmRQb3B1cChwb3B1cF9kMzA1ZDg1M2I4ZWM0YmUyOWU3MTE4YTVhM2JiMmQ5NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMWJlNTYyNjZkOWI0MTYzODdkMTMxZjdhNTllMDgzOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2IxYmU1NjI2NmQ5YjQxNjM4N2QxMzFmN2E1OWUwODM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2IxYmU1NjI2NmQ5YjQxNjM4N2QxMzFmN2E1OWUwODM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMWJlNTYyNjZkOWI0MTYzODdkMTMxZjdhNTllMDgzOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYjFiZTU2MjY2ZDliNDE2Mzg3ZDEzMWY3YTU5ZTA4MzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2IxYmU1NjI2NmQ5YjQxNjM4N2QxMzFmN2E1OWUwODM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzU2NTY3NjRkMDRiNDQ2NjBiYzNkMzE3ZmZiY2Y2Y2RkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzAxOTU3NmQ4OWUzNzRhODRhZTM5Y2QxNmJmOGIwZTA0ID0gJChgPGRpdiBpZD0iaHRtbF8wMTk1NzZkODllMzc0YTg0YWUzOWNkMTZiZjhiMGUwNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMDAxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTY1Njc2NGQwNGI0NDY2MGJjM2QzMTdmZmJjZjZjZGQuc2V0Q29udGVudChodG1sXzAxOTU3NmQ4OWUzNzRhODRhZTM5Y2QxNmJmOGIwZTA0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYjFiZTU2MjY2ZDliNDE2Mzg3ZDEzMWY3YTU5ZTA4MzguYmluZFBvcHVwKHBvcHVwXzU2NTY3NjRkMDRiNDQ2NjBiYzNkMzE3ZmZiY2Y2Y2RkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NiNzMyNjkwMWZmMTQ3YTE5ZDk1N2JmYTA4YTJiNWM3X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fY2I3MzI2OTAxZmYxNDdhMTlkOTU3YmZhMDhhMmI1YzcgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fY2I3MzI2OTAxZmYxNDdhMTlkOTU3YmZhMDhhMmI1Yzdfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2NiNzMyNjkwMWZmMTQ3YTE5ZDk1N2JmYTA4YTJiNWM3X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9jYjczMjY5MDFmZjE0N2ExOWQ5NTdiZmEwOGEyYjVjNy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fY2I3MzI2OTAxZmYxNDdhMTlkOTU3YmZhMDhhMmI1YzdfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzY5NGQ0NmM3MGIzNDY3Y2I1OTgxODgzNzYwYTQ5NjUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTI5ODQxNzdlNGNjNDgyYTg1OGRmNjkwMTBjOTFjMDkgPSAkKGA8ZGl2IGlkPSJodG1sXzkyOTg0MTc3ZTRjYzQ4MmE4NThkZjY5MDEwYzkxYzA5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDEwMDgudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zNjk0ZDQ2YzcwYjM0NjdjYjU5ODE4ODM3NjBhNDk2NS5zZXRDb250ZW50KGh0bWxfOTI5ODQxNzdlNGNjNDgyYTg1OGRmNjkwMTBjOTFjMDkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9jYjczMjY5MDFmZjE0N2ExOWQ5NTdiZmEwOGEyYjVjNy5iaW5kUG9wdXAocG9wdXBfMzY5NGQ0NmM3MGIzNDY3Y2I1OTgxODgzNzYwYTQ5NjUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTdlZjA3MTc5NDQ5NDZkYmI3ZmEyN2E3MmQ0OWU1MTRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xN2VmMDcxNzk0NDk0NmRiYjdmYTI3YTcyZDQ5ZTUxNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xN2VmMDcxNzk0NDk0NmRiYjdmYTI3YTcyZDQ5ZTUxNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTdlZjA3MTc5NDQ5NDZkYmI3ZmEyN2E3MmQ0OWU1MTRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzE3ZWYwNzE3OTQ0OTQ2ZGJiN2ZhMjdhNzJkNDllNTE0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xN2VmMDcxNzk0NDk0NmRiYjdmYTI3YTcyZDQ5ZTUxNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wMjkwN2M0YjU2M2I0YzNmYjYxYTI0MDIwOWQ3OGVlMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yN2YyZWQ5YmJkYzY0MDUyOWFhMTQ5ZmIwZmU2YzIwNSA9ICQoYDxkaXYgaWQ9Imh0bWxfMjdmMmVkOWJiZGM2NDA1MjlhYTE0OWZiMGZlNmMyMDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTAwMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzAyOTA3YzRiNTYzYjRjM2ZiNjFhMjQwMjA5ZDc4ZWUyLnNldENvbnRlbnQoaHRtbF8yN2YyZWQ5YmJkYzY0MDUyOWFhMTQ5ZmIwZmU2YzIwNSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzE3ZWYwNzE3OTQ0OTQ2ZGJiN2ZhMjdhNzJkNDllNTE0LmJpbmRQb3B1cChwb3B1cF8wMjkwN2M0YjU2M2I0YzNmYjYxYTI0MDIwOWQ3OGVlMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NGQzYjBkMWM4MzI0YzJkYmY5MDYxYzY1MTkyNWI2ZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzY0ZDNiMGQxYzgzMjRjMmRiZjkwNjFjNjUxOTI1YjZlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzY0ZDNiMGQxYzgzMjRjMmRiZjkwNjFjNjUxOTI1YjZlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NGQzYjBkMWM4MzI0YzJkYmY5MDYxYzY1MTkyNWI2ZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjRkM2IwZDFjODMyNGMyZGJmOTA2MWM2NTE5MjViNmUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY0ZDNiMGQxYzgzMjRjMmRiZjkwNjFjNjUxOTI1YjZlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzkzNzE4ZTExYWVjMTQyNzM4Yzg1MDYwMzE2ZDUyMzdiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2VhOTllMjNhNmQ0YzRlZmJhZWRlMTUwZTViZWI4MzFmID0gJChgPGRpdiBpZD0iaHRtbF9lYTk5ZTIzYTZkNGM0ZWZiYWVkZTE1MGU1YmViODMxZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxMDA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTM3MThlMTFhZWMxNDI3MzhjODUwNjAzMTZkNTIzN2Iuc2V0Q29udGVudChodG1sX2VhOTllMjNhNmQ0YzRlZmJhZWRlMTUwZTViZWI4MzFmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjRkM2IwZDFjODMyNGMyZGJmOTA2MWM2NTE5MjViNmUuYmluZFBvcHVwKHBvcHVwXzkzNzE4ZTExYWVjMTQyNzM4Yzg1MDYwMzE2ZDUyMzdiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Y2YTBiMzAyZmQzNDRmNTI4YWM1MDg5NzZmNGUwOWMzX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZjZhMGIzMDJmZDM0NGY1MjhhYzUwODk3NmY0ZTA5YzMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZjZhMGIzMDJmZDM0NGY1MjhhYzUwODk3NmY0ZTA5YzNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Y2YTBiMzAyZmQzNDRmNTI4YWM1MDg5NzZmNGUwOWMzX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mNmEwYjMwMmZkMzQ0ZjUyOGFjNTA4OTc2ZjRlMDljMy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZjZhMGIzMDJmZDM0NGY1MjhhYzUwODk3NmY0ZTA5YzNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfY2QwNDVjMDUwNzA0NDM1MTgzYzRjMmRkOTI1OWUzODUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMDI0ZmNmMjE2MGQ3NDJiMzlhOGI5MmM3NWIyNDIyNjAgPSAkKGA8ZGl2IGlkPSJodG1sXzAyNGZjZjIxNjBkNzQyYjM5YThiOTJjNzViMjQyMjYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA4MDIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jZDA0NWMwNTA3MDQ0MzUxODNjNGMyZGQ5MjU5ZTM4NS5zZXRDb250ZW50KGh0bWxfMDI0ZmNmMjE2MGQ3NDJiMzlhOGI5MmM3NWIyNDIyNjApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mNmEwYjMwMmZkMzQ0ZjUyOGFjNTA4OTc2ZjRlMDljMy5iaW5kUG9wdXAocG9wdXBfY2QwNDVjMDUwNzA0NDM1MTgzYzRjMmRkOTI1OWUzODUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWMwNTQ1MDY2MzMwNDk5ZjhhZDc0NGMyZDBjNDlhZDRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl85YzA1NDUwNjYzMzA0OTlmOGFkNzQ0YzJkMGM0OWFkNCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl85YzA1NDUwNjYzMzA0OTlmOGFkNzQ0YzJkMGM0OWFkNF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fOWMwNTQ1MDY2MzMwNDk5ZjhhZDc0NGMyZDBjNDlhZDRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzljMDU0NTA2NjMzMDQ5OWY4YWQ3NDRjMmQwYzQ5YWQ0LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl85YzA1NDUwNjYzMzA0OTlmOGFkNzQ0YzJkMGM0OWFkNF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mZTFjZDkxZjBjMDE0ZmYxYWQ3NjhlOWRjOGM4ZDNlNSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85MDZjMmNjNTI5Njg0MWU4YjI1MTkxYTEyNDRlNjM1NiA9ICQoYDxkaXYgaWQ9Imh0bWxfOTA2YzJjYzUyOTY4NDFlOGIyNTE5MWExMjQ0ZTYzNTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDgxMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ZlMWNkOTFmMGMwMTRmZjFhZDc2OGU5ZGM4YzhkM2U1LnNldENvbnRlbnQoaHRtbF85MDZjMmNjNTI5Njg0MWU4YjI1MTkxYTEyNDRlNjM1Nik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzljMDU0NTA2NjMzMDQ5OWY4YWQ3NDRjMmQwYzQ5YWQ0LmJpbmRQb3B1cChwb3B1cF9mZTFjZDkxZjBjMDE0ZmYxYWQ3NjhlOWRjOGM4ZDNlNSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYzViNGFlNDdhODM0NjBlOWI3NTJiY2UzMWQ0ZWM0ZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzJjNWI0YWU0N2E4MzQ2MGU5Yjc1MmJjZTMxZDRlYzRkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzJjNWI0YWU0N2E4MzQ2MGU5Yjc1MmJjZTMxZDRlYzRkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yYzViNGFlNDdhODM0NjBlOWI3NTJiY2UzMWQ0ZWM0ZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMmM1YjRhZTQ3YTgzNDYwZTliNzUyYmNlMzFkNGVjNGQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzJjNWI0YWU0N2E4MzQ2MGU5Yjc1MmJjZTMxZDRlYzRkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzY4NjQ3MWMwYmIzMjQ2NGFiNTIxMGMxNGIxYTgwMWI3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQ0MWIyMTEwNDY0YjQyYmFhODRkOTFkMDJhZTlhYzYxID0gJChgPGRpdiBpZD0iaHRtbF80NDFiMjExMDQ2NGI0MmJhYTg0ZDkxZDAyYWU5YWM2MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwODAxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjg2NDcxYzBiYjMyNDY0YWI1MjEwYzE0YjFhODAxYjcuc2V0Q29udGVudChodG1sXzQ0MWIyMTEwNDY0YjQyYmFhODRkOTFkMDJhZTlhYzYxKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMmM1YjRhZTQ3YTgzNDYwZTliNzUyYmNlMzFkNGVjNGQuYmluZFBvcHVwKHBvcHVwXzY4NjQ3MWMwYmIzMjQ2NGFiNTIxMGMxNGIxYTgwMWI3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzViZDFiN2Q5Y2I4YzRiMzdiZmUwNTA3ODYyMGVhY2EwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNWJkMWI3ZDljYjhjNGIzN2JmZTA1MDc4NjIwZWFjYTAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNWJkMWI3ZDljYjhjNGIzN2JmZTA1MDc4NjIwZWFjYTBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzViZDFiN2Q5Y2I4YzRiMzdiZmUwNTA3ODYyMGVhY2EwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81YmQxYjdkOWNiOGM0YjM3YmZlMDUwNzg2MjBlYWNhMC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNWJkMWI3ZDljYjhjNGIzN2JmZTA1MDc4NjIwZWFjYTBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZmM2ZjZjMzYyMjJlNGMwZWI4Y2IyN2ZiODA4OTQ3NmYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMDZiYmQ0OTc2ZmY0NGFmMGE2YmQyZThmMjZjMTg5OWQgPSAkKGA8ZGl2IGlkPSJodG1sXzA2YmJkNDk3NmZmNDRhZjBhNmJkMmU4ZjI2YzE4OTlkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA4MDgudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mYzZmNmMzNjIyMmU0YzBlYjhjYjI3ZmI4MDg5NDc2Zi5zZXRDb250ZW50KGh0bWxfMDZiYmQ0OTc2ZmY0NGFmMGE2YmQyZThmMjZjMTg5OWQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81YmQxYjdkOWNiOGM0YjM3YmZlMDUwNzg2MjBlYWNhMC5iaW5kUG9wdXAocG9wdXBfZmM2ZjZjMzYyMjJlNGMwZWI4Y2IyN2ZiODA4OTQ3NmYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fN2M0MGNhY2JjZWEzNDQzNzljYTVkZjU0ZjI1YTFlOWNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl83YzQwY2FjYmNlYTM0NDM3OWNhNWRmNTRmMjVhMWU5YyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl83YzQwY2FjYmNlYTM0NDM3OWNhNWRmNTRmMjVhMWU5Y19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fN2M0MGNhY2JjZWEzNDQzNzljYTVkZjU0ZjI1YTFlOWNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzdjNDBjYWNiY2VhMzQ0Mzc5Y2E1ZGY1NGYyNWExZTljLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl83YzQwY2FjYmNlYTM0NDM3OWNhNWRmNTRmMjVhMWU5Y19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iMmY1NTU1ODJiZTY0MjVlYjVkZjI4YmNmNmYwZDIyOCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85YTM5MGYxYTBhZDU0MDVlOWU2MWRjNTc1NmI0YzgzYiA9ICQoYDxkaXYgaWQ9Imh0bWxfOWEzOTBmMWEwYWQ1NDA1ZTllNjFkYzU3NTZiNGM4M2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDgxMC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2IyZjU1NTU4MmJlNjQyNWViNWRmMjhiY2Y2ZjBkMjI4LnNldENvbnRlbnQoaHRtbF85YTM5MGYxYTBhZDU0MDVlOWU2MWRjNTc1NmI0YzgzYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzdjNDBjYWNiY2VhMzQ0Mzc5Y2E1ZGY1NGYyNWExZTljLmJpbmRQb3B1cChwb3B1cF9iMmY1NTU1ODJiZTY0MjVlYjVkZjI4YmNmNmYwZDIyOCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zOGE3YTRlNzRmNzU0MDc5YmU2MDE0NmE1OTA1ZWYwMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzM4YTdhNGU3NGY3NTQwNzliZTYwMTQ2YTU5MDVlZjAwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzM4YTdhNGU3NGY3NTQwNzliZTYwMTQ2YTU5MDVlZjAwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zOGE3YTRlNzRmNzU0MDc5YmU2MDE0NmE1OTA1ZWYwMF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzhhN2E0ZTc0Zjc1NDA3OWJlNjAxNDZhNTkwNWVmMDAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzM4YTdhNGU3NGY3NTQwNzliZTYwMTQ2YTU5MDVlZjAwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzUwMzNlNmNlZGY3YjQ4MTM5YmQ2ODUzYjYyZmIwOTU3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2E0YzI3NDAyYjU4MDQ0MDk4ZTM1MWNmMTJiNTY3MWIyID0gJChgPGRpdiBpZD0iaHRtbF9hNGMyNzQwMmI1ODA0NDA5OGUzNTFjZjEyYjU2NzFiMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwODAzLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTAzM2U2Y2VkZjdiNDgxMzliZDY4NTNiNjJmYjA5NTcuc2V0Q29udGVudChodG1sX2E0YzI3NDAyYjU4MDQ0MDk4ZTM1MWNmMTJiNTY3MWIyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzhhN2E0ZTc0Zjc1NDA3OWJlNjAxNDZhNTkwNWVmMDAuYmluZFBvcHVwKHBvcHVwXzUwMzNlNmNlZGY3YjQ4MTM5YmQ2ODUzYjYyZmIwOTU3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYwMTY3NGExYWMxZTQwZWJiMDU0YWNlOThmNTk1NDliX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjAxNjc0YTFhYzFlNDBlYmIwNTRhY2U5OGY1OTU0OWIgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjAxNjc0YTFhYzFlNDBlYmIwNTRhY2U5OGY1OTU0OWJfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzYwMTY3NGExYWMxZTQwZWJiMDU0YWNlOThmNTk1NDliX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82MDE2NzRhMWFjMWU0MGViYjA1NGFjZTk4ZjU5NTQ5Yi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjAxNjc0YTFhYzFlNDBlYmIwNTRhY2U5OGY1OTU0OWJfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfODVhOTllY2RiNGUyNGFkMmEzYWYyOGYxNzE1NWQ2MjEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNDk3ZjM3ZmMzOTI2NDQ0Yjk3MDM3MjNhNmU0MWQ5MDIgPSAkKGA8ZGl2IGlkPSJodG1sXzQ5N2YzN2ZjMzkyNjQ0NGI5NzAzNzIzYTZlNDFkOTAyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA4MDkudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84NWE5OWVjZGI0ZTI0YWQyYTNhZjI4ZjE3MTU1ZDYyMS5zZXRDb250ZW50KGh0bWxfNDk3ZjM3ZmMzOTI2NDQ0Yjk3MDM3MjNhNmU0MWQ5MDIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82MDE2NzRhMWFjMWU0MGViYjA1NGFjZTk4ZjU5NTQ5Yi5iaW5kUG9wdXAocG9wdXBfODVhOTllY2RiNGUyNGFkMmEzYWYyOGYxNzE1NWQ2MjEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTNmMDE1YTlkZmE4NDc3ZmE2NzU3NzY0NGEyNjRlOTVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lM2YwMTVhOWRmYTg0NzdmYTY3NTc3NjQ0YTI2NGU5NSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lM2YwMTVhOWRmYTg0NzdmYTY3NTc3NjQ0YTI2NGU5NV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTNmMDE1YTlkZmE4NDc3ZmE2NzU3NzY0NGEyNjRlOTVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2UzZjAxNWE5ZGZhODQ3N2ZhNjc1Nzc2NDRhMjY0ZTk1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lM2YwMTVhOWRmYTg0NzdmYTY3NTc3NjQ0YTI2NGU5NV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zYzIyYjQ4MDhlYmQ0ZmYyODRhZjFiODRjMThhMzIwZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jYjhmNjM5MzdiOGY0Yjc1YmViMDhjMGE5NDRmMzlkYiA9ICQoYDxkaXYgaWQ9Imh0bWxfY2I4ZjYzOTM3YjhmNGI3NWJlYjA4YzBhOTQ0ZjM5ZGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDgwNC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNjMjJiNDgwOGViZDRmZjI4NGFmMWI4NGMxOGEzMjBkLnNldENvbnRlbnQoaHRtbF9jYjhmNjM5MzdiOGY0Yjc1YmViMDhjMGE5NDRmMzlkYik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2UzZjAxNWE5ZGZhODQ3N2ZhNjc1Nzc2NDRhMjY0ZTk1LmJpbmRQb3B1cChwb3B1cF8zYzIyYjQ4MDhlYmQ0ZmYyODRhZjFiODRjMThhMzIwZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYmI4ODJkMWRiZjc0YTFjODBjYTBkZGRiMmY5ZDRmZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzNiYjg4MmQxZGJmNzRhMWM4MGNhMGRkZGIyZjlkNGZkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzNiYjg4MmQxZGJmNzRhMWM4MGNhMGRkZGIyZjlkNGZkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYmI4ODJkMWRiZjc0YTFjODBjYTBkZGRiMmY5ZDRmZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fM2JiODgyZDFkYmY3NGExYzgwY2EwZGRkYjJmOWQ0ZmQuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzNiYjg4MmQxZGJmNzRhMWM4MGNhMGRkZGIyZjlkNGZkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2VlZDkxMzJlYTQ2NjRiNDA4Nzc3NGIzODMyMmFhNWIxID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzI0OWVkNTYwYThmNzQ3YjY4NWJlMjY1Y2VmZTYzMGFjID0gJChgPGRpdiBpZD0iaHRtbF8yNDllZDU2MGE4Zjc0N2I2ODViZTI2NWNlZmU2MzBhYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwODExLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZWVkOTEzMmVhNDY2NGI0MDg3Nzc0YjM4MzIyYWE1YjEuc2V0Q29udGVudChodG1sXzI0OWVkNTYwYThmNzQ3YjY4NWJlMjY1Y2VmZTYzMGFjKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fM2JiODgyZDFkYmY3NGExYzgwY2EwZGRkYjJmOWQ0ZmQuYmluZFBvcHVwKHBvcHVwX2VlZDkxMzJlYTQ2NjRiNDA4Nzc3NGIzODMyMmFhNWIxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzUxYzY3NjhlMDE1ZjRhNDFhNWMzNmEyMDk1MTFjMWM2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTFjNjc2OGUwMTVmNGE0MWE1YzM2YTIwOTUxMWMxYzYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTFjNjc2OGUwMTVmNGE0MWE1YzM2YTIwOTUxMWMxYzZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzUxYzY3NjhlMDE1ZjRhNDFhNWMzNmEyMDk1MTFjMWM2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81MWM2NzY4ZTAxNWY0YTQxYTVjMzZhMjA5NTExYzFjNi5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTFjNjc2OGUwMTVmNGE0MWE1YzM2YTIwOTUxMWMxYzZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOWYyOGMyYTRiOGI3NGI0NWFiYzdhMWQ4MGI1ODFmYWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNmQ5MTlkMjUxYmRjNGEyOTkzOWZiZDJmNGUwM2U3NjAgPSAkKGA8ZGl2IGlkPSJodG1sXzZkOTE5ZDI1MWJkYzRhMjk5MzlmYmQyZjRlMDNlNzYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA4MDUudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85ZjI4YzJhNGI4Yjc0YjQ1YWJjN2ExZDgwYjU4MWZhZS5zZXRDb250ZW50KGh0bWxfNmQ5MTlkMjUxYmRjNGEyOTkzOWZiZDJmNGUwM2U3NjApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81MWM2NzY4ZTAxNWY0YTQxYTVjMzZhMjA5NTExYzFjNi5iaW5kUG9wdXAocG9wdXBfOWYyOGMyYTRiOGI3NGI0NWFiYzdhMWQ4MGI1ODFmYWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTA5YzNmNjZhZGExNGM5NDg5ODE0M2U4ZDhhYzIzNjFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8xMDljM2Y2NmFkYTE0Yzk0ODk4MTQzZThkOGFjMjM2MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8xMDljM2Y2NmFkYTE0Yzk0ODk4MTQzZThkOGFjMjM2MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMTA5YzNmNjZhZGExNGM5NDg5ODE0M2U4ZDhhYzIzNjFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzEwOWMzZjY2YWRhMTRjOTQ4OTgxNDNlOGQ4YWMyMzYxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8xMDljM2Y2NmFkYTE0Yzk0ODk4MTQzZThkOGFjMjM2MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yMjhhNmIyNmRjNjc0YmRkYjIxZjI4MDI0NTNkNzEzYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83NDAxMTllODkzOGY0N2EwOWFkMGVjYWU5OGUwNGQzNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNzQwMTE5ZTg5MzhmNDdhMDlhZDBlY2FlOThlMDRkMzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDgwNy50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzIyOGE2YjI2ZGM2NzRiZGRiMjFmMjgwMjQ1M2Q3MTNjLnNldENvbnRlbnQoaHRtbF83NDAxMTllODkzOGY0N2EwOWFkMGVjYWU5OGUwNGQzNSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzEwOWMzZjY2YWRhMTRjOTQ4OTgxNDNlOGQ4YWMyMzYxLmJpbmRQb3B1cChwb3B1cF8yMjhhNmIyNmRjNjc0YmRkYjIxZjI4MDI0NTNkNzEzYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NTkzZWFhYjUyNTY0YWRhODY1NmE1NDM1MjhkY2M3Nl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzY1OTNlYWFiNTI1NjRhZGE4NjU2YTU0MzUyOGRjYzc2ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzY1OTNlYWFiNTI1NjRhZGE4NjU2YTU0MzUyOGRjYzc2X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NTkzZWFhYjUyNTY0YWRhODY1NmE1NDM1MjhkY2M3Nl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjU5M2VhYWI1MjU2NGFkYTg2NTZhNTQzNTI4ZGNjNzYuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY1OTNlYWFiNTI1NjRhZGE4NjU2YTU0MzUyOGRjYzc2X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2UyOGI1YmViODA0MjRiNjJiYzkxMzE3MjQ1ODMxNGNkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQwMjIyNTgzMTU3ODQ1ODk5ZWI0MTZiMjAyY2M2YmQwID0gJChgPGRpdiBpZD0iaHRtbF80MDIyMjU4MzE1Nzg0NTg5OWViNDE2YjIwMmNjNmJkMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwODA2LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZTI4YjViZWI4MDQyNGI2MmJjOTEzMTcyNDU4MzE0Y2Quc2V0Q29udGVudChodG1sXzQwMjIyNTgzMTU3ODQ1ODk5ZWI0MTZiMjAyY2M2YmQwKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjU5M2VhYWI1MjU2NGFkYTg2NTZhNTQzNTI4ZGNjNzYuYmluZFBvcHVwKHBvcHVwX2UyOGI1YmViODA0MjRiNjJiYzkxMzE3MjQ1ODMxNGNkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2IwYTZjNTNjYzFmYjRlZjViM2I4MTMwOTFlNTQ0ZTZjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYjBhNmM1M2NjMWZiNGVmNWIzYjgxMzA5MWU1NDRlNmMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYjBhNmM1M2NjMWZiNGVmNWIzYjgxMzA5MWU1NDRlNmNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2IwYTZjNTNjYzFmYjRlZjViM2I4MTMwOTFlNTQ0ZTZjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9iMGE2YzUzY2MxZmI0ZWY1YjNiODEzMDkxZTU0NGU2Yy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYjBhNmM1M2NjMWZiNGVmNWIzYjgxMzA5MWU1NDRlNmNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTNkYjYwMzBjY2NjNDExNDhiNDEzYjhjNTFhOTg1ZDEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOWI2YjU4NjZmMzE0NDI2YWI5N2I2YTRjZDM5MDdjNjAgPSAkKGA8ZGl2IGlkPSJodG1sXzliNmI1ODY2ZjMxNDQyNmFiOTdiNmE0Y2QzOTA3YzYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE0MDMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lM2RiNjAzMGNjY2M0MTE0OGI0MTNiOGM1MWE5ODVkMS5zZXRDb250ZW50KGh0bWxfOWI2YjU4NjZmMzE0NDI2YWI5N2I2YTRjZDM5MDdjNjApOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9iMGE2YzUzY2MxZmI0ZWY1YjNiODEzMDkxZTU0NGU2Yy5iaW5kUG9wdXAocG9wdXBfZTNkYjYwMzBjY2NjNDExNDhiNDEzYjhjNTFhOTg1ZDEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmEwODY1YjA0YTY3NGU2MzgxYmQzMzljMzNhNGJiNGRfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mYTA4NjViMDRhNjc0ZTYzODFiZDMzOWMzM2E0YmI0ZCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mYTA4NjViMDRhNjc0ZTYzODFiZDMzOWMzM2E0YmI0ZF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZmEwODY1YjA0YTY3NGU2MzgxYmQzMzljMzNhNGJiNGRfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2ZhMDg2NWIwNGE2NzRlNjM4MWJkMzM5YzMzYTRiYjRkLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mYTA4NjViMDRhNjc0ZTYzODFiZDMzOWMzM2E0YmI0ZF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xNzE0ODUwNzA4Njk0NmYwOGI3ZGFiZjBlYzA4YWRmNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zNDk5YWY4NmExZjY0OTcyYWM3ZDAyMjRlNWY2M2M1NiA9ICQoYDxkaXYgaWQ9Imh0bWxfMzQ5OWFmODZhMWY2NDk3MmFjN2QwMjI0ZTVmNjNjNTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTQxMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzE3MTQ4NTA3MDg2OTQ2ZjA4YjdkYWJmMGVjMDhhZGY3LnNldENvbnRlbnQoaHRtbF8zNDk5YWY4NmExZjY0OTcyYWM3ZDAyMjRlNWY2M2M1Nik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2ZhMDg2NWIwNGE2NzRlNjM4MWJkMzM5YzMzYTRiYjRkLmJpbmRQb3B1cChwb3B1cF8xNzE0ODUwNzA4Njk0NmYwOGI3ZGFiZjBlYzA4YWRmNykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wNDg1MDQzMjYwMTQ0NjZkODE4NWE5YTllZTUyMDM4MF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzA0ODUwNDMyNjAxNDQ2NmQ4MTg1YTlhOWVlNTIwMzgwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzA0ODUwNDMyNjAxNDQ2NmQ4MTg1YTlhOWVlNTIwMzgwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wNDg1MDQzMjYwMTQ0NjZkODE4NWE5YTllZTUyMDM4MF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMDQ4NTA0MzI2MDE0NDY2ZDgxODVhOWE5ZWU1MjAzODAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzA0ODUwNDMyNjAxNDQ2NmQ4MTg1YTlhOWVlNTIwMzgwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzkyY2VlNDM0YjRkOTRkNjJiMWVlYzgzMDM0ODJiMTg2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzNhMDIxYzkyNTRlNDQ3MjdhMmM1MDc1ZWY2ZTU4NDlhID0gJChgPGRpdiBpZD0iaHRtbF8zYTAyMWM5MjU0ZTQ0NzI3YTJjNTA3NWVmNmU1ODQ5YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNDExLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTJjZWU0MzRiNGQ5NGQ2MmIxZWVjODMwMzQ4MmIxODYuc2V0Q29udGVudChodG1sXzNhMDIxYzkyNTRlNDQ3MjdhMmM1MDc1ZWY2ZTU4NDlhKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMDQ4NTA0MzI2MDE0NDY2ZDgxODVhOWE5ZWU1MjAzODAuYmluZFBvcHVwKHBvcHVwXzkyY2VlNDM0YjRkOTRkNjJiMWVlYzgzMDM0ODJiMTg2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzllMDc1NDQ4NGEzYTQxNjZhNmE2MWNmNjkzZGQzNmRhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOWUwNzU0NDg0YTNhNDE2NmE2YTYxY2Y2OTNkZDM2ZGEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOWUwNzU0NDg0YTNhNDE2NmE2YTYxY2Y2OTNkZDM2ZGFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzllMDc1NDQ4NGEzYTQxNjZhNmE2MWNmNjkzZGQzNmRhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85ZTA3NTQ0ODRhM2E0MTY2YTZhNjFjZjY5M2RkMzZkYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOWUwNzU0NDg0YTNhNDE2NmE2YTYxY2Y2OTNkZDM2ZGFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOTU4NzBlMjI2NWY4NGY3NzlhNjhmNDkxODQ2NDI1YjAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOWFkZDAzODJkNDdjNDAyZGFiZWQ4N2RjZGY5ZmFjMmUgPSAkKGA8ZGl2IGlkPSJodG1sXzlhZGQwMzgyZDQ3YzQwMmRhYmVkODdkY2RmOWZhYzJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE0MTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85NTg3MGUyMjY1Zjg0Zjc3OWE2OGY0OTE4NDY0MjViMC5zZXRDb250ZW50KGh0bWxfOWFkZDAzODJkNDdjNDAyZGFiZWQ4N2RjZGY5ZmFjMmUpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85ZTA3NTQ0ODRhM2E0MTY2YTZhNjFjZjY5M2RkMzZkYS5iaW5kUG9wdXAocG9wdXBfOTU4NzBlMjI2NWY4NGY3NzlhNjhmNDkxODQ2NDI1YjApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjI2MGZmZDkyYzg5NDU0YWFmNTM5ZDdjYTU0NTdiYWJfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9mMjYwZmZkOTJjODk0NTRhYWY1MzlkN2NhNTQ1N2JhYiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9mMjYwZmZkOTJjODk0NTRhYWY1MzlkN2NhNTQ1N2JhYl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZjI2MGZmZDkyYzg5NDU0YWFmNTM5ZDdjYTU0NTdiYWJfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2YyNjBmZmQ5MmM4OTQ1NGFhZjUzOWQ3Y2E1NDU3YmFiLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9mMjYwZmZkOTJjODk0NTRhYWY1MzlkN2NhNTQ1N2JhYl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mYjhkNjE1MDY0NTg0ZTkxYjQ2ZmJlZjIzYTcwZTIwMiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84MzhlYmQ4OGNkZjI0ZTQwODE4MTc5OTlmMTJiYzI1MiA9ICQoYDxkaXYgaWQ9Imh0bWxfODM4ZWJkODhjZGYyNGU0MDgxODE3OTk5ZjEyYmMyNTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTQwNi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2ZiOGQ2MTUwNjQ1ODRlOTFiNDZmYmVmMjNhNzBlMjAyLnNldENvbnRlbnQoaHRtbF84MzhlYmQ4OGNkZjI0ZTQwODE4MTc5OTlmMTJiYzI1Mik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2YyNjBmZmQ5MmM4OTQ1NGFhZjUzOWQ3Y2E1NDU3YmFiLmJpbmRQb3B1cChwb3B1cF9mYjhkNjE1MDY0NTg0ZTkxYjQ2ZmJlZjIzYTcwZTIwMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zNmVhMGEzNGM4NjA0M2NjYmI5ZDg5OWEwMGNmNDAzZF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzM2ZWEwYTM0Yzg2MDQzY2NiYjlkODk5YTAwY2Y0MDNkID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzM2ZWEwYTM0Yzg2MDQzY2NiYjlkODk5YTAwY2Y0MDNkX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zNmVhMGEzNGM4NjA0M2NjYmI5ZDg5OWEwMGNmNDAzZF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMzZlYTBhMzRjODYwNDNjY2JiOWQ4OTlhMDBjZjQwM2QuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzM2ZWEwYTM0Yzg2MDQzY2NiYjlkODk5YTAwY2Y0MDNkX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2UyMDUxNGIxMzYzZjQzZDZiMmFmOWFlNmRlZmMyYjRmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NiNjA1OGZiNDFlZTRiMDhhZDQ0ZDkxNTBhMjI2ZjU4ID0gJChgPGRpdiBpZD0iaHRtbF9jYjYwNThmYjQxZWU0YjA4YWQ0NGQ5MTUwYTIyNmY1OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNDA4LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZTIwNTE0YjEzNjNmNDNkNmIyYWY5YWU2ZGVmYzJiNGYuc2V0Q29udGVudChodG1sX2NiNjA1OGZiNDFlZTRiMDhhZDQ0ZDkxNTBhMjI2ZjU4KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMzZlYTBhMzRjODYwNDNjY2JiOWQ4OTlhMDBjZjQwM2QuYmluZFBvcHVwKHBvcHVwX2UyMDUxNGIxMzYzZjQzZDZiMmFmOWFlNmRlZmMyYjRmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkxY2QwMzYxOWRmOTQ4ODZhYmY1MzQ0MjkyODQ2N2YwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOTFjZDAzNjE5ZGY5NDg4NmFiZjUzNDQyOTI4NDY3ZjAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOTFjZDAzNjE5ZGY5NDg4NmFiZjUzNDQyOTI4NDY3ZjBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkxY2QwMzYxOWRmOTQ4ODZhYmY1MzQ0MjkyODQ2N2YwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85MWNkMDM2MTlkZjk0ODg2YWJmNTM0NDI5Mjg0NjdmMC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOTFjZDAzNjE5ZGY5NDg4NmFiZjUzNDQyOTI4NDY3ZjBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZWY1YmFlNmFiMTY3NGQxZTk2ZDY2MDE2NzFiNzVhZWQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYzg2MWFjYTFhYzI3NDk4NDg1YTZmMDI0OTBhN2M5ZWIgPSAkKGA8ZGl2IGlkPSJodG1sX2M4NjFhY2ExYWMyNzQ5ODQ4NWE2ZjAyNDkwYTdjOWViIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE0MDEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lZjViYWU2YWIxNjc0ZDFlOTZkNjYwMTY3MWI3NWFlZC5zZXRDb250ZW50KGh0bWxfYzg2MWFjYTFhYzI3NDk4NDg1YTZmMDI0OTBhN2M5ZWIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85MWNkMDM2MTlkZjk0ODg2YWJmNTM0NDI5Mjg0NjdmMC5iaW5kUG9wdXAocG9wdXBfZWY1YmFlNmFiMTY3NGQxZTk2ZDY2MDE2NzFiNzVhZWQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODg3M2Y1YTE2MWU3NGI1MmJhZmUzY2RiYTdlOGM4NzNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84ODczZjVhMTYxZTc0YjUyYmFmZTNjZGJhN2U4Yzg3MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84ODczZjVhMTYxZTc0YjUyYmFmZTNjZGJhN2U4Yzg3M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODg3M2Y1YTE2MWU3NGI1MmJhZmUzY2RiYTdlOGM4NzNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzg4NzNmNWExNjFlNzRiNTJiYWZlM2NkYmE3ZThjODczLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84ODczZjVhMTYxZTc0YjUyYmFmZTNjZGJhN2U4Yzg3M19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zZDE4OWI2NWJmNTQ0YzU3ODBmMjNmZDIxOWU0ZTE2OSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hZDJlZDk0Yzk2OTk0NjcyYTQwNDc0MzU1NmY2NGExOCA9ICQoYDxkaXYgaWQ9Imh0bWxfYWQyZWQ5NGM5Njk5NDY3MmE0MDQ3NDM1NTZmNjRhMTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTQwNC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzNkMTg5YjY1YmY1NDRjNTc4MGYyM2ZkMjE5ZTRlMTY5LnNldENvbnRlbnQoaHRtbF9hZDJlZDk0Yzk2OTk0NjcyYTQwNDc0MzU1NmY2NGExOCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzg4NzNmNWExNjFlNzRiNTJiYWZlM2NkYmE3ZThjODczLmJpbmRQb3B1cChwb3B1cF8zZDE4OWI2NWJmNTQ0YzU3ODBmMjNmZDIxOWU0ZTE2OSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NTc2YTQ3ZDlmYzk0MGQzOTdjYjhiNmExMWMyMzYwY19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzY1NzZhNDdkOWZjOTQwZDM5N2NiOGI2YTExYzIzNjBjID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzY1NzZhNDdkOWZjOTQwZDM5N2NiOGI2YTExYzIzNjBjX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NTc2YTQ3ZDlmYzk0MGQzOTdjYjhiNmExMWMyMzYwY19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjU3NmE0N2Q5ZmM5NDBkMzk3Y2I4YjZhMTFjMjM2MGMuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY1NzZhNDdkOWZjOTQwZDM5N2NiOGI2YTExYzIzNjBjX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzczZGI1NTU0ZDU5MDQ0YzZhZjJhODRjODQ5YmFlZDJmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzhjMWQ3YTgxMjAxMjQ5OTI5Y2VmN2UwOGE4ODMyYzMxID0gJChgPGRpdiBpZD0iaHRtbF84YzFkN2E4MTIwMTI0OTkyOWNlZjdlMDhhODgzMmMzMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNDA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNzNkYjU1NTRkNTkwNDRjNmFmMmE4NGM4NDliYWVkMmYuc2V0Q29udGVudChodG1sXzhjMWQ3YTgxMjAxMjQ5OTI5Y2VmN2UwOGE4ODMyYzMxKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjU3NmE0N2Q5ZmM5NDBkMzk3Y2I4YjZhMTFjMjM2MGMuYmluZFBvcHVwKHBvcHVwXzczZGI1NTU0ZDU5MDQ0YzZhZjJhODRjODQ5YmFlZDJmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU0MDczODZhMTc0YjQ4N2VhMzM4NDhjNjAxZjFmNWM1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNTQwNzM4NmExNzRiNDg3ZWEzMzg0OGM2MDFmMWY1YzUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNTQwNzM4NmExNzRiNDg3ZWEzMzg0OGM2MDFmMWY1YzVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzU0MDczODZhMTc0YjQ4N2VhMzM4NDhjNjAxZjFmNWM1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl81NDA3Mzg2YTE3NGI0ODdlYTMzODQ4YzYwMWYxZjVjNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNTQwNzM4NmExNzRiNDg3ZWEzMzg0OGM2MDFmMWY1YzVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzUwMDMzOTA2MTUyNGI5ZjhhZjYyNjQ3NmY3OWFhZTMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNGRhYmVhODE0YTQyNDA4MjkxOGZmMjI5NzBhZjI3ZGQgPSAkKGA8ZGl2IGlkPSJodG1sXzRkYWJlYTgxNGE0MjQwODI5MThmZjIyOTcwYWYyN2RkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE0MDkudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zNTAwMzM5MDYxNTI0YjlmOGFmNjI2NDc2Zjc5YWFlMy5zZXRDb250ZW50KGh0bWxfNGRhYmVhODE0YTQyNDA4MjkxOGZmMjI5NzBhZjI3ZGQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl81NDA3Mzg2YTE3NGI0ODdlYTMzODQ4YzYwMWYxZjVjNS5iaW5kUG9wdXAocG9wdXBfMzUwMDMzOTA2MTUyNGI5ZjhhZjYyNjQ3NmY3OWFhZTMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjFhNzQ2ZGExNDEyNDg1Yjk3MmQ2MzFiN2EzYWU5ZWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8yMWE3NDZkYTE0MTI0ODViOTcyZDYzMWI3YTNhZTllYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8yMWE3NDZkYTE0MTI0ODViOTcyZDYzMWI3YTNhZTllYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMjFhNzQ2ZGExNDEyNDg1Yjk3MmQ2MzFiN2EzYWU5ZWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzIxYTc0NmRhMTQxMjQ4NWI5NzJkNjMxYjdhM2FlOWVhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8yMWE3NDZkYTE0MTI0ODViOTcyZDYzMWI3YTNhZTllYV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80OGQ1NzI4NWQxY2U0YTAyYThlN2ZkMTZlNGVkZWY4ZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80ZjkzMWVlNTk2ZDk0MDAyOTJhMmQ0YjZkYTE0N2E3MSA9ICQoYDxkaXYgaWQ9Imh0bWxfNGY5MzFlZTU5NmQ5NDAwMjkyYTJkNGI2ZGExNDdhNzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTQwMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQ4ZDU3Mjg1ZDFjZTRhMDJhOGU3ZmQxNmU0ZWRlZjhmLnNldENvbnRlbnQoaHRtbF80ZjkzMWVlNTk2ZDk0MDAyOTJhMmQ0YjZkYTE0N2E3MSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzIxYTc0NmRhMTQxMjQ4NWI5NzJkNjMxYjdhM2FlOWVhLmJpbmRQb3B1cChwb3B1cF80OGQ1NzI4NWQxY2U0YTAyYThlN2ZkMTZlNGVkZWY4ZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hMGRjMGUxNjhmZGQ0NzNjOWQwYjAxNjUwMTU4ZThiMV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2EwZGMwZTE2OGZkZDQ3M2M5ZDBiMDE2NTAxNThlOGIxID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2EwZGMwZTE2OGZkZDQ3M2M5ZDBiMDE2NTAxNThlOGIxX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9hMGRjMGUxNjhmZGQ0NzNjOWQwYjAxNjUwMTU4ZThiMV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYTBkYzBlMTY4ZmRkNDczYzlkMGIwMTY1MDE1OGU4YjEuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2EwZGMwZTE2OGZkZDQ3M2M5ZDBiMDE2NTAxNThlOGIxX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ZjN2EwYzdlMjJkNTQyYTQ5ZDBhOGRkNzdiMzM2MjEzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQ1NzExZTZiMDkzNDQ3NDA4OWZhMDFhYmM5MjQwYjE5ID0gJChgPGRpdiBpZD0iaHRtbF80NTcxMWU2YjA5MzQ0NzQwODlmYTAxYWJjOTI0MGIxOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNDA1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmM3YTBjN2UyMmQ1NDJhNDlkMGE4ZGQ3N2IzMzYyMTMuc2V0Q29udGVudChodG1sXzQ1NzExZTZiMDkzNDQ3NDA4OWZhMDFhYmM5MjQwYjE5KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYTBkYzBlMTY4ZmRkNDczYzlkMGIwMTY1MDE1OGU4YjEuYmluZFBvcHVwKHBvcHVwX2ZjN2EwYzdlMjJkNTQyYTQ5ZDBhOGRkNzdiMzM2MjEzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2QzZTY5NmRmNGI5ZTQ3ZjlhNjkzZjRhMzFlMWEzMmVlX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZDNlNjk2ZGY0YjllNDdmOWE2OTNmNGEzMWUxYTMyZWUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZDNlNjk2ZGY0YjllNDdmOWE2OTNmNGEzMWUxYTMyZWVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2QzZTY5NmRmNGI5ZTQ3ZjlhNjkzZjRhMzFlMWEzMmVlX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9kM2U2OTZkZjRiOWU0N2Y5YTY5M2Y0YTMxZTFhMzJlZS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZDNlNjk2ZGY0YjllNDdmOWE2OTNmNGEzMWUxYTMyZWVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNDRiOTE2ZWUzYzQ2NGUxM2I1NTg0ZjY4ODEzM2ZlZDEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMmNhYWI4MjI3YjQ1NGM4ZDlmYzUwMzFkNmQ2YWUzNzkgPSAkKGA8ZGl2IGlkPSJodG1sXzJjYWFiODIyN2I0NTRjOGQ5ZmM1MDMxZDZkNmFlMzc5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDAzMTEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80NGI5MTZlZTNjNDY0ZTEzYjU1ODRmNjg4MTMzZmVkMS5zZXRDb250ZW50KGh0bWxfMmNhYWI4MjI3YjQ1NGM4ZDlmYzUwMzFkNmQ2YWUzNzkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9kM2U2OTZkZjRiOWU0N2Y5YTY5M2Y0YTMxZTFhMzJlZS5iaW5kUG9wdXAocG9wdXBfNDRiOTE2ZWUzYzQ2NGUxM2I1NTg0ZjY4ODEzM2ZlZDEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzFiZWQ1NDY3YjMyNDE2ODk4M2JhNzcwNWIwYzNmYzNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zMWJlZDU0NjdiMzI0MTY4OTgzYmE3NzA1YjBjM2ZjMyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zMWJlZDU0NjdiMzI0MTY4OTgzYmE3NzA1YjBjM2ZjM19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMzFiZWQ1NDY3YjMyNDE2ODk4M2JhNzcwNWIwYzNmYzNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzMxYmVkNTQ2N2IzMjQxNjg5ODNiYTc3MDViMGMzZmMzLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zMWJlZDU0NjdiMzI0MTY4OTgzYmE3NzA1YjBjM2ZjM19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jMDRiOWRjYjQyMzU0OGFkOTJhZDczNjNjYTg2MjBmMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wZTI1MjNiYzkxYTI0ZTkxOWZjNmJjYTUwMTVjMWI3ZiA9ICQoYDxkaXYgaWQ9Imh0bWxfMGUyNTIzYmM5MWEyNGU5MTlmYzZiY2E1MDE1YzFiN2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDMwOC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2MwNGI5ZGNiNDIzNTQ4YWQ5MmFkNzM2M2NhODYyMGYxLnNldENvbnRlbnQoaHRtbF8wZTI1MjNiYzkxYTI0ZTkxOWZjNmJjYTUwMTVjMWI3Zik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzMxYmVkNTQ2N2IzMjQxNjg5ODNiYTc3MDViMGMzZmMzLmJpbmRQb3B1cChwb3B1cF9jMDRiOWRjYjQyMzU0OGFkOTJhZDczNjNjYTg2MjBmMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lOGYzZjlhODFkZTU0NTFkYWM4ZjM4YjM1ZDU4NTU0OF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2U4ZjNmOWE4MWRlNTQ1MWRhYzhmMzhiMzVkNTg1NTQ4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2U4ZjNmOWE4MWRlNTQ1MWRhYzhmMzhiMzVkNTg1NTQ4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lOGYzZjlhODFkZTU0NTFkYWM4ZjM4YjM1ZDU4NTU0OF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZThmM2Y5YTgxZGU1NDUxZGFjOGYzOGIzNWQ1ODU1NDguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2U4ZjNmOWE4MWRlNTQ1MWRhYzhmMzhiMzVkNTg1NTQ4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzA3NmUzM2YxYWRkMzRlMmZhMjBhMGQ2MjFkY2MyYzNjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzZiNmI4NDJjZGVlZTRlZjI5NmE2Mjg4MTFmMzQzZWY3ID0gJChgPGRpdiBpZD0iaHRtbF82YjZiODQyY2RlZWU0ZWYyOTZhNjI4ODExZjM0M2VmNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwMzEwLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMDc2ZTMzZjFhZGQzNGUyZmEyMGEwZDYyMWRjYzJjM2Muc2V0Q29udGVudChodG1sXzZiNmI4NDJjZGVlZTRlZjI5NmE2Mjg4MTFmMzQzZWY3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZThmM2Y5YTgxZGU1NDUxZGFjOGYzOGIzNWQ1ODU1NDguYmluZFBvcHVwKHBvcHVwXzA3NmUzM2YxYWRkMzRlMmZhMjBhMGQ2MjFkY2MyYzNjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzA5NjA3MmRlNWE5NTQyZjA4Zjg0MTA1NGQ1NmYxNDExX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMDk2MDcyZGU1YTk1NDJmMDhmODQxMDU0ZDU2ZjE0MTEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMDk2MDcyZGU1YTk1NDJmMDhmODQxMDU0ZDU2ZjE0MTFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzA5NjA3MmRlNWE5NTQyZjA4Zjg0MTA1NGQ1NmYxNDExX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8wOTYwNzJkZTVhOTU0MmYwOGY4NDEwNTRkNTZmMTQxMS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMDk2MDcyZGU1YTk1NDJmMDhmODQxMDU0ZDU2ZjE0MTFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjM5OTQwNjc4NjE2NGY1YjkwMmJkNjJkZmIxNzRhNDEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTU0MTU3ZGRkZDE5NDEzZjgxMjQ1ZjdkZTU0MDg5NWEgPSAkKGA8ZGl2IGlkPSJodG1sXzk1NDE1N2RkZGQxOTQxM2Y4MTI0NWY3ZGU1NDA4OTVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDAzMDIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iMzk5NDA2Nzg2MTY0ZjViOTAyYmQ2MmRmYjE3NGE0MS5zZXRDb250ZW50KGh0bWxfOTU0MTU3ZGRkZDE5NDEzZjgxMjQ1ZjdkZTU0MDg5NWEpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8wOTYwNzJkZTVhOTU0MmYwOGY4NDEwNTRkNTZmMTQxMS5iaW5kUG9wdXAocG9wdXBfYjM5OTQwNjc4NjE2NGY1YjkwMmJkNjJkZmIxNzRhNDEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODZlZTVlZTc4MmNlNDQzMTkwZWY1ZGYwNDQwNDQ1OTVfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84NmVlNWVlNzgyY2U0NDMxOTBlZjVkZjA0NDA0NDU5NSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84NmVlNWVlNzgyY2U0NDMxOTBlZjVkZjA0NDA0NDU5NV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODZlZTVlZTc4MmNlNDQzMTkwZWY1ZGYwNDQwNDQ1OTVfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzg2ZWU1ZWU3ODJjZTQ0MzE5MGVmNWRmMDQ0MDQ0NTk1LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84NmVlNWVlNzgyY2U0NDMxOTBlZjVkZjA0NDA0NDU5NV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iNTgzYTY2MDEwMGY0ZDk4YTY0YTc2MjRhMWRmZGI4NyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kYjc0OTg0ZDVlMWU0YjBiYjI1NGQyMzU5YzY2NTc5NyA9ICQoYDxkaXYgaWQ9Imh0bWxfZGI3NDk4NGQ1ZTFlNGIwYmIyNTRkMjM1OWM2NjU3OTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDMwNC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2I1ODNhNjYwMTAwZjRkOThhNjRhNzYyNGExZGZkYjg3LnNldENvbnRlbnQoaHRtbF9kYjc0OTg0ZDVlMWU0YjBiYjI1NGQyMzU5YzY2NTc5Nyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzg2ZWU1ZWU3ODJjZTQ0MzE5MGVmNWRmMDQ0MDQ0NTk1LmJpbmRQb3B1cChwb3B1cF9iNTgzYTY2MDEwMGY0ZDk4YTY0YTc2MjRhMWRmZGI4NykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YTljMWJmMWFmYzc0OTVlOTYyNDc1N2E0NWY3NTMyNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzRhOWMxYmYxYWZjNzQ5NWU5NjI0NzU3YTQ1Zjc1MzI1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzRhOWMxYmYxYWZjNzQ5NWU5NjI0NzU3YTQ1Zjc1MzI1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80YTljMWJmMWFmYzc0OTVlOTYyNDc1N2E0NWY3NTMyNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNGE5YzFiZjFhZmM3NDk1ZTk2MjQ3NTdhNDVmNzUzMjUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzRhOWMxYmYxYWZjNzQ5NWU5NjI0NzU3YTQ1Zjc1MzI1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ZhODg0NDc2NmExYjRmODJhNjI2MzMwYzExZjNjZjc0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzY4YTI5NjUxMWM1YjRmMzc4NmY3MjY0YTBiZjQ4YzA0ID0gJChgPGRpdiBpZD0iaHRtbF82OGEyOTY1MTFjNWI0ZjM3ODZmNzI2NGEwYmY0OGMwNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwMzAzLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZmE4ODQ0NzY2YTFiNGY4MmE2MjYzMzBjMTFmM2NmNzQuc2V0Q29udGVudChodG1sXzY4YTI5NjUxMWM1YjRmMzc4NmY3MjY0YTBiZjQ4YzA0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNGE5YzFiZjFhZmM3NDk1ZTk2MjQ3NTdhNDVmNzUzMjUuYmluZFBvcHVwKHBvcHVwX2ZhODg0NDc2NmExYjRmODJhNjI2MzMwYzExZjNjZjc0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Y1NDYxYjA4NWJmYzRjOWU4MzA3ZTg5OThhNzM0ZWY5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZjU0NjFiMDg1YmZjNGM5ZTgzMDdlODk5OGE3MzRlZjkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZjU0NjFiMDg1YmZjNGM5ZTgzMDdlODk5OGE3MzRlZjlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2Y1NDYxYjA4NWJmYzRjOWU4MzA3ZTg5OThhNzM0ZWY5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9mNTQ2MWIwODViZmM0YzllODMwN2U4OTk4YTczNGVmOS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZjU0NjFiMDg1YmZjNGM5ZTgzMDdlODk5OGE3MzRlZjlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMDI4N2M2ZDJmMjk4NDkxNGE1MGQ5OWRiMzExMzUxMDggPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzg4ZDFmOTJlNzNmNDhiODgzZDg1YjQxYTdkMTI3N2UgPSAkKGA8ZGl2IGlkPSJodG1sXzc4OGQxZjkyZTczZjQ4Yjg4M2Q4NWI0MWE3ZDEyNzdlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDAzMDEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wMjg3YzZkMmYyOTg0OTE0YTUwZDk5ZGIzMTEzNTEwOC5zZXRDb250ZW50KGh0bWxfNzg4ZDFmOTJlNzNmNDhiODgzZDg1YjQxYTdkMTI3N2UpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9mNTQ2MWIwODViZmM0YzllODMwN2U4OTk4YTczNGVmOS5iaW5kUG9wdXAocG9wdXBfMDI4N2M2ZDJmMjk4NDkxNGE1MGQ5OWRiMzExMzUxMDgpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDZmN2UzZGUzNDZiNGEyOGIwZjUyMzJhNDI4ZTM5NzFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80NmY3ZTNkZTM0NmI0YTI4YjBmNTIzMmE0MjhlMzk3MSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80NmY3ZTNkZTM0NmI0YTI4YjBmNTIzMmE0MjhlMzk3MV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDZmN2UzZGUzNDZiNGEyOGIwZjUyMzJhNDI4ZTM5NzFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQ2ZjdlM2RlMzQ2YjRhMjhiMGY1MjMyYTQyOGUzOTcxLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80NmY3ZTNkZTM0NmI0YTI4YjBmNTIzMmE0MjhlMzk3MV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lMGU1MmYzMTYyMjg0OTFhOGZmMTNiZmMzNjJjNjkyNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81M2VkODg1MWM1Mjk0NWQ4YWQ1NWE4YjZkMWY3OTc1NCA9ICQoYDxkaXYgaWQ9Imh0bWxfNTNlZDg4NTFjNTI5NDVkOGFkNTVhOGI2ZDFmNzk3NTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDMxMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2UwZTUyZjMxNjIyODQ5MWE4ZmYxM2JmYzM2MmM2OTI0LnNldENvbnRlbnQoaHRtbF81M2VkODg1MWM1Mjk0NWQ4YWQ1NWE4YjZkMWY3OTc1NCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQ2ZjdlM2RlMzQ2YjRhMjhiMGY1MjMyYTQyOGUzOTcxLmJpbmRQb3B1cChwb3B1cF9lMGU1MmYzMTYyMjg0OTFhOGZmMTNiZmMzNjJjNjkyNCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNTZkZDJjMmQ0Y2E0NmJjOTgwZmFlZGUyYzkzOGVhOV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzI1NmRkMmMyZDRjYTQ2YmM5ODBmYWVkZTJjOTM4ZWE5ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzI1NmRkMmMyZDRjYTQ2YmM5ODBmYWVkZTJjOTM4ZWE5X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8yNTZkZDJjMmQ0Y2E0NmJjOTgwZmFlZGUyYzkzOGVhOV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMjU2ZGQyYzJkNGNhNDZiYzk4MGZhZWRlMmM5MzhlYTkuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzI1NmRkMmMyZDRjYTQ2YmM5ODBmYWVkZTJjOTM4ZWE5X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2VkMDY5OWExNzM0YzRlMjk5MjcyYzRlOWE0ZDU5ZmY0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzEwOGI3NGFhMjU3MDQwYjI5MGEwMzM5MmI4ZDMxYjk3ID0gJChgPGRpdiBpZD0iaHRtbF8xMDhiNzRhYTI1NzA0MGIyOTBhMDMzOTJiOGQzMWI5NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwMzA2LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZWQwNjk5YTE3MzRjNGUyOTkyNzJjNGU5YTRkNTlmZjQuc2V0Q29udGVudChodG1sXzEwOGI3NGFhMjU3MDQwYjI5MGEwMzM5MmI4ZDMxYjk3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMjU2ZGQyYzJkNGNhNDZiYzk4MGZhZWRlMmM5MzhlYTkuYmluZFBvcHVwKHBvcHVwX2VkMDY5OWExNzM0YzRlMjk5MjcyYzRlOWE0ZDU5ZmY0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U4NmM2NmJkMTcxNDQ5ZjlhM2NmMzZjNjgxODg2MjE0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fZTg2YzY2YmQxNzE0NDlmOWEzY2YzNmM2ODE4ODYyMTQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fZTg2YzY2YmQxNzE0NDlmOWEzY2YzNmM2ODE4ODYyMTRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2U4NmM2NmJkMTcxNDQ5ZjlhM2NmMzZjNjgxODg2MjE0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9lODZjNjZiZDE3MTQ0OWY5YTNjZjM2YzY4MTg4NjIxNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fZTg2YzY2YmQxNzE0NDlmOWEzY2YzNmM2ODE4ODYyMTRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZDQ0MTkyOWQyYTlmNGM0MzhhOTYyZDU3MWM3MGI4YmEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTU1OWI0M2JmYWJjNGI0NGI5YmNkZWYxZjE1NmQ4YmQgPSAkKGA8ZGl2IGlkPSJodG1sXzk1NTliNDNiZmFiYzRiNDRiOWJjZGVmMWYxNTZkOGJkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDAzMDcudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kNDQxOTI5ZDJhOWY0YzQzOGE5NjJkNTcxYzcwYjhiYS5zZXRDb250ZW50KGh0bWxfOTU1OWI0M2JmYWJjNGI0NGI5YmNkZWYxZjE1NmQ4YmQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9lODZjNjZiZDE3MTQ0OWY5YTNjZjM2YzY4MTg4NjIxNC5iaW5kUG9wdXAocG9wdXBfZDQ0MTkyOWQyYTlmNGM0MzhhOTYyZDU3MWM3MGI4YmEpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmM3ZTAxZGIwYzI5NGNlNWI2NjQwYzQ5MmUzNmQ2ZWZfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9iYzdlMDFkYjBjMjk0Y2U1YjY2NDBjNDkyZTM2ZDZlZiA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9iYzdlMDFkYjBjMjk0Y2U1YjY2NDBjNDkyZTM2ZDZlZl9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fYmM3ZTAxZGIwYzI5NGNlNWI2NjQwYzQ5MmUzNmQ2ZWZfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2JjN2UwMWRiMGMyOTRjZTViNjY0MGM0OTJlMzZkNmVmLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9iYzdlMDFkYjBjMjk0Y2U1YjY2NDBjNDkyZTM2ZDZlZl9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9mN2I5ZmMzMTdlZmI0MjhkYWE1YmFiNjhlNDg2YTkyOSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF85MDI4ZDFjMDcwY2M0MTlmODY2YmRjNDZmNmRlMmEwNCA9ICQoYDxkaXYgaWQ9Imh0bWxfOTAyOGQxYzA3MGNjNDE5Zjg2NmJkYzQ2ZjZkZTJhMDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDMwNS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Y3YjlmYzMxN2VmYjQyOGRhYTViYWI2OGU0ODZhOTI5LnNldENvbnRlbnQoaHRtbF85MDI4ZDFjMDcwY2M0MTlmODY2YmRjNDZmNmRlMmEwNCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2JjN2UwMWRiMGMyOTRjZTViNjY0MGM0OTJlMzZkNmVmLmJpbmRQb3B1cChwb3B1cF9mN2I5ZmMzMTdlZmI0MjhkYWE1YmFiNjhlNDg2YTkyOSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NWI3NGM4ZTEyNTg0ZmYxOGNmYjRkMjZkMWY5ZWQxN19vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzY1Yjc0YzhlMTI1ODRmZjE4Y2ZiNGQyNmQxZjllZDE3ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzY1Yjc0YzhlMTI1ODRmZjE4Y2ZiNGQyNmQxZjllZDE3X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl82NWI3NGM4ZTEyNTg0ZmYxOGNmYjRkMjZkMWY5ZWQxN19hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNjViNzRjOGUxMjU4NGZmMThjZmI0ZDI2ZDFmOWVkMTcuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzY1Yjc0YzhlMTI1ODRmZjE4Y2ZiNGQyNmQxZjllZDE3X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2IzNTc5MzBmY2RlYTQ0ODViYzhjZDYwODc3NDA2MmFjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NjZDVhNGI0OWQxZjRiYTdhNjk1NjA1ZmQ5YmY4Mjc4ID0gJChgPGRpdiBpZD0iaHRtbF9jY2Q1YTRiNDlkMWY0YmE3YTY5NTYwNWZkOWJmODI3OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwMzA5LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYjM1NzkzMGZjZGVhNDQ4NWJjOGNkNjA4Nzc0MDYyYWMuc2V0Q29udGVudChodG1sX2NjZDVhNGI0OWQxZjRiYTdhNjk1NjA1ZmQ5YmY4Mjc4KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNjViNzRjOGUxMjU4NGZmMThjZmI0ZDI2ZDFmOWVkMTcuYmluZFBvcHVwKHBvcHVwX2IzNTc5MzBmY2RlYTQ0ODViYzhjZDYwODc3NDA2MmFjKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2EzZTM1MDEwNGNjMDRhYmNiMzY5NmFmMzBhYTQxNzk5X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYTNlMzUwMTA0Y2MwNGFiY2IzNjk2YWYzMGFhNDE3OTkgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYTNlMzUwMTA0Y2MwNGFiY2IzNjk2YWYzMGFhNDE3OTlfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2EzZTM1MDEwNGNjMDRhYmNiMzY5NmFmMzBhYTQxNzk5X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9hM2UzNTAxMDRjYzA0YWJjYjM2OTZhZjMwYWE0MTc5OS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYTNlMzUwMTA0Y2MwNGFiY2IzNjk2YWYzMGFhNDE3OTlfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjhmODFiNGYxNDE3NDhiM2E0ZTg2N2ExYWU4Yjk1MTAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNWJlZDc4MDJhN2FkNGViNzk4ZTkyMGYzMDc4YmRiMWYgPSAkKGA8ZGl2IGlkPSJodG1sXzViZWQ3ODAyYTdhZDRlYjc5OGU5MjBmMzA3OGJkYjFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE1MDMudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iOGY4MWI0ZjE0MTc0OGIzYTRlODY3YTFhZThiOTUxMC5zZXRDb250ZW50KGh0bWxfNWJlZDc4MDJhN2FkNGViNzk4ZTkyMGYzMDc4YmRiMWYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hM2UzNTAxMDRjYzA0YWJjYjM2OTZhZjMwYWE0MTc5OS5iaW5kUG9wdXAocG9wdXBfYjhmODFiNGYxNDE3NDhiM2E0ZTg2N2ExYWU4Yjk1MTApCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTQyNmUyM2FiYzgxNDhhZGExMzU5Yjc1OGRjZGVlZjlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9lNDI2ZTIzYWJjODE0OGFkYTEzNTliNzU4ZGNkZWVmOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9lNDI2ZTIzYWJjODE0OGFkYTEzNTliNzU4ZGNkZWVmOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZTQyNmUyM2FiYzgxNDhhZGExMzU5Yjc1OGRjZGVlZjlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2U0MjZlMjNhYmM4MTQ4YWRhMTM1OWI3NThkY2RlZWY5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9lNDI2ZTIzYWJjODE0OGFkYTEzNTliNzU4ZGNkZWVmOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kOWE0ZWFhOWUzZDU0N2MzOGVjOGRmMWZhZTJkZmNlMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xZWQ0N2E4NjQxNTQ0NWYzOWUxMzIxZDY4NTlhYWI5YyA9ICQoYDxkaXYgaWQ9Imh0bWxfMWVkNDdhODY0MTU0NDVmMzllMTMyMWQ2ODU5YWFiOWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTUxMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Q5YTRlYWE5ZTNkNTQ3YzM4ZWM4ZGYxZmFlMmRmY2UxLnNldENvbnRlbnQoaHRtbF8xZWQ0N2E4NjQxNTQ0NWYzOWUxMzIxZDY4NTlhYWI5Yyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2U0MjZlMjNhYmM4MTQ4YWRhMTM1OWI3NThkY2RlZWY5LmJpbmRQb3B1cChwb3B1cF9kOWE0ZWFhOWUzZDU0N2MzOGVjOGRmMWZhZTJkZmNlMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lNTAxZGJkNjYxM2M0ZDAxYWQ5ZWFmNzJkZDk0MTczOF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2U1MDFkYmQ2NjEzYzRkMDFhZDllYWY3MmRkOTQxNzM4ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2U1MDFkYmQ2NjEzYzRkMDFhZDllYWY3MmRkOTQxNzM4X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9lNTAxZGJkNjYxM2M0ZDAxYWQ5ZWFmNzJkZDk0MTczOF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZTUwMWRiZDY2MTNjNGQwMWFkOWVhZjcyZGQ5NDE3MzguYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2U1MDFkYmQ2NjEzYzRkMDFhZDllYWY3MmRkOTQxNzM4X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzljN2ViNDE2YTc3NjRmODQ5OTJiMzI3NGE4YzNhODMyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzU0NDFkNmE3MmM4NzQ3NWJhNTFlNWFkY2ZjYzlhZmViID0gJChgPGRpdiBpZD0iaHRtbF81NDQxZDZhNzJjODc0NzViYTUxZTVhZGNmY2M5YWZlYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNTAyLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOWM3ZWI0MTZhNzc2NGY4NDk5MmIzMjc0YThjM2E4MzIuc2V0Q29udGVudChodG1sXzU0NDFkNmE3MmM4NzQ3NWJhNTFlNWFkY2ZjYzlhZmViKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZTUwMWRiZDY2MTNjNGQwMWFkOWVhZjcyZGQ5NDE3MzguYmluZFBvcHVwKHBvcHVwXzljN2ViNDE2YTc3NjRmODQ5OTJiMzI3NGE4YzNhODMyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzlhMjcyOGZiZGY1ZTQ4MTg5YzM0ZTE4NTQxNzZjNjg2X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOWEyNzI4ZmJkZjVlNDgxODljMzRlMTg1NDE3NmM2ODYgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOWEyNzI4ZmJkZjVlNDgxODljMzRlMTg1NDE3NmM2ODZfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzlhMjcyOGZiZGY1ZTQ4MTg5YzM0ZTE4NTQxNzZjNjg2X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85YTI3MjhmYmRmNWU0ODE4OWMzNGUxODU0MTc2YzY4Ni5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOWEyNzI4ZmJkZjVlNDgxODljMzRlMTg1NDE3NmM2ODZfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNmEzNmJlYTkxYTUyNDFjMzg1YTU2NzYyNDljODA4YWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfODU1NjljMmQ4MzIzNDM0Mzk5MDRhNWQ0N2VjNzM0N2YgPSAkKGA8ZGl2IGlkPSJodG1sXzg1NTY5YzJkODMyMzQzNDM5OTA0YTVkNDdlYzczNDdmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE1MDUudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82YTM2YmVhOTFhNTI0MWMzODVhNTY3NjI0OWM4MDhhZS5zZXRDb250ZW50KGh0bWxfODU1NjljMmQ4MzIzNDM0Mzk5MDRhNWQ0N2VjNzM0N2YpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85YTI3MjhmYmRmNWU0ODE4OWMzNGUxODU0MTc2YzY4Ni5iaW5kUG9wdXAocG9wdXBfNmEzNmJlYTkxYTUyNDFjMzg1YTU2NzYyNDljODA4YWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDU3OGZmOWYzM2JiNDM3MTljMDI3M2Y5YTY0NzdlOTlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl80NTc4ZmY5ZjMzYmI0MzcxOWMwMjczZjlhNjQ3N2U5OSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl80NTc4ZmY5ZjMzYmI0MzcxOWMwMjczZjlhNjQ3N2U5OV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fNDU3OGZmOWYzM2JiNDM3MTljMDI3M2Y5YTY0NzdlOTlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzQ1NzhmZjlmMzNiYjQzNzE5YzAyNzNmOWE2NDc3ZTk5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl80NTc4ZmY5ZjMzYmI0MzcxOWMwMjczZjlhNjQ3N2U5OV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kYmQ5ZDA4YjkwOWI0M2FkOWE5OTZjZmFhMWQ2MDBlZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jYTY4NTg3OTM3N2U0MTgwYjJhMjUxYmY5Yjg2OGM1YSA9ICQoYDxkaXYgaWQ9Imh0bWxfY2E2ODU4NzkzNzdlNDE4MGIyYTI1MWJmOWI4NjhjNWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTUwNC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2RiZDlkMDhiOTA5YjQzYWQ5YTk5NmNmYWExZDYwMGVkLnNldENvbnRlbnQoaHRtbF9jYTY4NTg3OTM3N2U0MTgwYjJhMjUxYmY5Yjg2OGM1YSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzQ1NzhmZjlmMzNiYjQzNzE5YzAyNzNmOWE2NDc3ZTk5LmJpbmRQb3B1cChwb3B1cF9kYmQ5ZDA4YjkwOWI0M2FkOWE5OTZjZmFhMWQ2MDBlZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wMTM3ZTYwMDQ2ZTk0NWQxYWFhNGM3ZjlmYTI0NGJkMl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzAxMzdlNjAwNDZlOTQ1ZDFhYWE0YzdmOWZhMjQ0YmQyID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzAxMzdlNjAwNDZlOTQ1ZDFhYWE0YzdmOWZhMjQ0YmQyX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8wMTM3ZTYwMDQ2ZTk0NWQxYWFhNGM3ZjlmYTI0NGJkMl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fMDEzN2U2MDA0NmU5NDVkMWFhYTRjN2Y5ZmEyNDRiZDIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzAxMzdlNjAwNDZlOTQ1ZDFhYWE0YzdmOWZhMjQ0YmQyX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBiNDE3ZDdiMjVjMzQ5NTE4YTRhM2YzN2ZiZWUyNDRkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzc2ZDIzMjM2N2I4ZjQzOTlhZjc4MDZlMTAzNjU4YTlkID0gJChgPGRpdiBpZD0iaHRtbF83NmQyMzIzNjdiOGY0Mzk5YWY3ODA2ZTEwMzY1OGE5ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNTA5LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMGI0MTdkN2IyNWMzNDk1MThhNGEzZjM3ZmJlZTI0NGQuc2V0Q29udGVudChodG1sXzc2ZDIzMjM2N2I4ZjQzOTlhZjc4MDZlMTAzNjU4YTlkKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fMDEzN2U2MDA0NmU5NDVkMWFhYTRjN2Y5ZmEyNDRiZDIuYmluZFBvcHVwKHBvcHVwXzBiNDE3ZDdiMjVjMzQ5NTE4YTRhM2YzN2ZiZWUyNDRkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzIxNWJiNTk2ZDA3YzQ0ODBiNmZmZDE2NDZlYmEwMjYwX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMjE1YmI1OTZkMDdjNDQ4MGI2ZmZkMTY0NmViYTAyNjAgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMjE1YmI1OTZkMDdjNDQ4MGI2ZmZkMTY0NmViYTAyNjBfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzIxNWJiNTk2ZDA3YzQ0ODBiNmZmZDE2NDZlYmEwMjYwX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yMTViYjU5NmQwN2M0NDgwYjZmZmQxNjQ2ZWJhMDI2MC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMjE1YmI1OTZkMDdjNDQ4MGI2ZmZkMTY0NmViYTAyNjBfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMGJiYTNhMjMzNmQ2NDE0YWIwOTAxNTQyYmQ0ZjQyOTYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYWY4MmZkYWQ3NGQwNGZlZTkyZTRiZDQwOTcyNWVmOTIgPSAkKGA8ZGl2IGlkPSJodG1sX2FmODJmZGFkNzRkMDRmZWU5MmU0YmQ0MDk3MjVlZjkyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE1MTAudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wYmJhM2EyMzM2ZDY0MTRhYjA5MDE1NDJiZDRmNDI5Ni5zZXRDb250ZW50KGh0bWxfYWY4MmZkYWQ3NGQwNGZlZTkyZTRiZDQwOTcyNWVmOTIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yMTViYjU5NmQwN2M0NDgwYjZmZmQxNjQ2ZWJhMDI2MC5iaW5kUG9wdXAocG9wdXBfMGJiYTNhMjMzNmQ2NDE0YWIwOTAxNTQyYmQ0ZjQyOTYpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDZlM2QzZjg4YTM1NDMxZDkwNDFjMjM2YjE3NDBkYjhfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8wNmUzZDNmODhhMzU0MzFkOTA0MWMyMzZiMTc0MGRiOCA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8wNmUzZDNmODhhMzU0MzFkOTA0MWMyMzZiMTc0MGRiOF9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fMDZlM2QzZjg4YTM1NDMxZDkwNDFjMjM2YjE3NDBkYjhfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzA2ZTNkM2Y4OGEzNTQzMWQ5MDQxYzIzNmIxNzQwZGI4LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8wNmUzZDNmODhhMzU0MzFkOTA0MWMyMzZiMTc0MGRiOF9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kOGMzZTQ5Y2RlNTE0NmJhYmVhNjE4YmVmMjk0ZTgzNyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iNTRhODg0NzU1Njk0Y2ViOTM2NGUzMjdhMzcwOWNmZCA9ICQoYDxkaXYgaWQ9Imh0bWxfYjU0YTg4NDc1NTY5NGNlYjkzNjRlMzI3YTM3MDljZmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTUwOC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Q4YzNlNDljZGU1MTQ2YmFiZWE2MThiZWYyOTRlODM3LnNldENvbnRlbnQoaHRtbF9iNTRhODg0NzU1Njk0Y2ViOTM2NGUzMjdhMzcwOWNmZCk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzA2ZTNkM2Y4OGEzNTQzMWQ5MDQxYzIzNmIxNzQwZGI4LmJpbmRQb3B1cChwb3B1cF9kOGMzZTQ5Y2RlNTE0NmJhYmVhNjE4YmVmMjk0ZTgzNykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80ODRiZTdlNWMyN2U0NjRhOGExZGMxMTU0ZWYwYTA5Yl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzQ4NGJlN2U1YzI3ZTQ2NGE4YTFkYzExNTRlZjBhMDliID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzQ4NGJlN2U1YzI3ZTQ2NGE4YTFkYzExNTRlZjBhMDliX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl80ODRiZTdlNWMyN2U0NjRhOGExZGMxMTU0ZWYwYTA5Yl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fNDg0YmU3ZTVjMjdlNDY0YThhMWRjMTE1NGVmMGEwOWIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzQ4NGJlN2U1YzI3ZTQ2NGE4YTFkYzExNTRlZjBhMDliX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzk5ZDJhOTA5ZDQzMjQ3ZDNiNTAwNTZhZDRiYTAwYzhlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzk2NGQ5YTA1Zjc5ZTQzZDY5NjQzZjY2NDg2ZGMxZTA4ID0gJChgPGRpdiBpZD0iaHRtbF85NjRkOWEwNWY3OWU0M2Q2OTY0M2Y2NjQ4NmRjMWUwOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNTA2LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTlkMmE5MDlkNDMyNDdkM2I1MDA1NmFkNGJhMDBjOGUuc2V0Q29udGVudChodG1sXzk2NGQ5YTA1Zjc5ZTQzZDY5NjQzZjY2NDg2ZGMxZTA4KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fNDg0YmU3ZTVjMjdlNDY0YThhMWRjMTE1NGVmMGEwOWIuYmluZFBvcHVwKHBvcHVwXzk5ZDJhOTA5ZDQzMjQ3ZDNiNTAwNTZhZDRiYTAwYzhlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkxZWYyYTliNWYyOTQ5Y2U5ZDNkYTM0N2RiOWI4YmFhX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fOTFlZjJhOWI1ZjI5NDljZTlkM2RhMzQ3ZGI5YjhiYWEgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fOTFlZjJhOWI1ZjI5NDljZTlkM2RhMzQ3ZGI5YjhiYWFfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzkxZWYyYTliNWYyOTQ5Y2U5ZDNkYTM0N2RiOWI4YmFhX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl85MWVmMmE5YjVmMjk0OWNlOWQzZGEzNDdkYjliOGJhYS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fOTFlZjJhOWI1ZjI5NDljZTlkM2RhMzQ3ZGI5YjhiYWFfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfY2VmNzM3OGQ4YzE3NDE0NTk3ZjY0MWQ4YTc5OGQ4MWMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYWMyZGEyMDZlNzEyNGQ2Zjg3OGRlZWE3N2YxMmQ2OTkgPSAkKGA8ZGl2IGlkPSJodG1sX2FjMmRhMjA2ZTcxMjRkNmY4NzhkZWVhNzdmMTJkNjk5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDE1MTEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jZWY3Mzc4ZDhjMTc0MTQ1OTdmNjQxZDhhNzk4ZDgxYy5zZXRDb250ZW50KGh0bWxfYWMyZGEyMDZlNzEyNGQ2Zjg3OGRlZWE3N2YxMmQ2OTkpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl85MWVmMmE5YjVmMjk0OWNlOWQzZGEzNDdkYjliOGJhYS5iaW5kUG9wdXAocG9wdXBfY2VmNzM3OGQ4YzE3NDE0NTk3ZjY0MWQ4YTc5OGQ4MWMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZGRhNWMyMWNiYzViNDlhMTk3MWI4MzU0MWE4NjBhNTNfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kZGE1YzIxY2JjNWI0OWExOTcxYjgzNTQxYTg2MGE1MyA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kZGE1YzIxY2JjNWI0OWExOTcxYjgzNTQxYTg2MGE1M19vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZGRhNWMyMWNiYzViNDlhMTk3MWI4MzU0MWE4NjBhNTNfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2RkYTVjMjFjYmM1YjQ5YTE5NzFiODM1NDFhODYwYTUzLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kZGE1YzIxY2JjNWI0OWExOTcxYjgzNTQxYTg2MGE1M19hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yNjFlNTFmYWViNmE0NGEzYmIxMTY3OTE5N2Q0MGQ2MiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80MmI2ZGUzNmNlMjU0MWMyOTYwYzM3ZDI1NDNlMDhhZiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDJiNmRlMzZjZTI1NDFjMjk2MGMzN2QyNTQzZTA4YWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMTUwNy50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzI2MWU1MWZhZWI2YTQ0YTNiYjExNjc5MTk3ZDQwZDYyLnNldENvbnRlbnQoaHRtbF80MmI2ZGUzNmNlMjU0MWMyOTYwYzM3ZDI1NDNlMDhhZik7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2RkYTVjMjFjYmM1YjQ5YTE5NzFiODM1NDFhODYwYTUzLmJpbmRQb3B1cChwb3B1cF8yNjFlNTFmYWViNmE0NGEzYmIxMTY3OTE5N2Q0MGQ2MikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jNmUxN2Y0YTcxZjc0OGU5YWVjNGI2MjIzOTQ1MmRhMF9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2M2ZTE3ZjRhNzFmNzQ4ZTlhZWM0YjYyMjM5NDUyZGEwID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2M2ZTE3ZjRhNzFmNzQ4ZTlhZWM0YjYyMjM5NDUyZGEwX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9jNmUxN2Y0YTcxZjc0OGU5YWVjNGI2MjIzOTQ1MmRhMF9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYzZlMTdmNGE3MWY3NDhlOWFlYzRiNjIyMzk0NTJkYTAuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2M2ZTE3ZjRhNzFmNzQ4ZTlhZWM0YjYyMjM5NDUyZGEwX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzM1NDMyOTkzYmVhNjQxN2JiYzExNzE2ZTFkOGY4MjBmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzY1MzFhMTkyNmVmNTRiZjVhYmNmY2ExMzRmMGFhMDViID0gJChgPGRpdiBpZD0iaHRtbF82NTMxYTE5MjZlZjU0YmY1YWJjZmNhMTM0ZjBhYTA1YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAxNTAxLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMzU0MzI5OTNiZWE2NDE3YmJjMTE3MTZlMWQ4ZjgyMGYuc2V0Q29udGVudChodG1sXzY1MzFhMTkyNmVmNTRiZjVhYmNmY2ExMzRmMGFhMDViKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYzZlMTdmNGE3MWY3NDhlOWFlYzRiNjIyMzk0NTJkYTAuYmluZFBvcHVwKHBvcHVwXzM1NDMyOTkzYmVhNjQxN2JiYzExNzE2ZTFkOGY4MjBmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY4MDVmMzkyZjBjYjQwMTg4ZDJiZWFkMzQ0YWZhZjM1X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fNjgwNWYzOTJmMGNiNDAxODhkMmJlYWQzNDRhZmFmMzUgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fNjgwNWYzOTJmMGNiNDAxODhkMmJlYWQzNDRhZmFmMzVfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzY4MDVmMzkyZjBjYjQwMTg4ZDJiZWFkMzQ0YWZhZjM1X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl82ODA1ZjM5MmYwY2I0MDE4OGQyYmVhZDM0NGFmYWYzNS5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fNjgwNWYzOTJmMGNiNDAxODhkMmJlYWQzNDRhZmFmMzVfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYWI2ZDFkZDVmZmU3NDQzMjg2ZTgzNjg4MzFlMWFiYWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYjNiYjM2ZjgzZGNmNDM1ZGE1OGIxNzIzNjc3ZGYxMDQgPSAkKGA8ZGl2IGlkPSJodG1sX2IzYmIzNmY4M2RjZjQzNWRhNThiMTcyMzY3N2RmMTA0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA1MDkudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hYjZkMWRkNWZmZTc0NDMyODZlODM2ODgzMWUxYWJhZS5zZXRDb250ZW50KGh0bWxfYjNiYjM2ZjgzZGNmNDM1ZGE1OGIxNzIzNjc3ZGYxMDQpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl82ODA1ZjM5MmYwY2I0MDE4OGQyYmVhZDM0NGFmYWYzNS5iaW5kUG9wdXAocG9wdXBfYWI2ZDFkZDVmZmU3NDQzMjg2ZTgzNjg4MzFlMWFiYWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDM0NjkyYzU5MmVlNDc4OWE5MTY1M2VmNTgyNzdjZTlfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9kMzQ2OTJjNTkyZWU0Nzg5YTkxNjUzZWY1ODI3N2NlOSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9kMzQ2OTJjNTkyZWU0Nzg5YTkxNjUzZWY1ODI3N2NlOV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fZDM0NjkyYzU5MmVlNDc4OWE5MTY1M2VmNTgyNzdjZTlfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2QzNDY5MmM1OTJlZTQ3ODlhOTE2NTNlZjU4Mjc3Y2U5LmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9kMzQ2OTJjNTkyZWU0Nzg5YTkxNjUzZWY1ODI3N2NlOV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kNWFjZGQwZTI0OGY0NjgwOTRlYjFjZTgzZTI5Zjk2MSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hODkyYWQyMGJmNjY0ZDlkODJhMGVhMGYwNzkyMzNhMSA9ICQoYDxkaXYgaWQ9Imh0bWxfYTg5MmFkMjBiZjY2NGQ5ZDgyYTBlYTBmMDc5MjMzYTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDUwOC50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Q1YWNkZDBlMjQ4ZjQ2ODA5NGViMWNlODNlMjlmOTYxLnNldENvbnRlbnQoaHRtbF9hODkyYWQyMGJmNjY0ZDlkODJhMGVhMGYwNzkyMzNhMSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2QzNDY5MmM1OTJlZTQ3ODlhOTE2NTNlZjU4Mjc3Y2U5LmJpbmRQb3B1cChwb3B1cF9kNWFjZGQwZTI0OGY0NjgwOTRlYjFjZTgzZTI5Zjk2MSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kMGUxODhiZmNmZDU0MGRlYjBiZTgyZWQzOTY1MTY5Yl9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2QwZTE4OGJmY2ZkNTQwZGViMGJlODJlZDM5NjUxNjliID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2QwZTE4OGJmY2ZkNTQwZGViMGJlODJlZDM5NjUxNjliX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9kMGUxODhiZmNmZDU0MGRlYjBiZTgyZWQzOTY1MTY5Yl9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZDBlMTg4YmZjZmQ1NDBkZWIwYmU4MmVkMzk2NTE2OWIuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2QwZTE4OGJmY2ZkNTQwZGViMGJlODJlZDM5NjUxNjliX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2E2NzBjNWNkOGZkZTRjZGQ5OGE0OTE3MDhiN2JkMDNhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2ZlNDUzMzAzOGVhNjQ4YmZiYjE0M2NkN2RmOGQ4MmM3ID0gJChgPGRpdiBpZD0iaHRtbF9mZTQ1MzMwMzhlYTY0OGJmYmIxNDNjZDdkZjhkODJjNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNTA0LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYTY3MGM1Y2Q4ZmRlNGNkZDk4YTQ5MTcwOGI3YmQwM2Euc2V0Q29udGVudChodG1sX2ZlNDUzMzAzOGVhNjQ4YmZiYjE0M2NkN2RmOGQ4MmM3KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZDBlMTg4YmZjZmQ1NDBkZWIwYmU4MmVkMzk2NTE2OWIuYmluZFBvcHVwKHBvcHVwX2E2NzBjNWNkOGZkZTRjZGQ5OGE0OTE3MDhiN2JkMDNhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzE2YjI2ZTBjZGZmNDQxNjI4ZjZjY2UxYzRjY2RkY2VjX29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMTZiMjZlMGNkZmY0NDE2MjhmNmNjZTFjNGNjZGRjZWMgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMTZiMjZlMGNkZmY0NDE2MjhmNmNjZTFjNGNjZGRjZWNfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzE2YjI2ZTBjZGZmNDQxNjI4ZjZjY2UxYzRjY2RkY2VjX2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8xNmIyNmUwY2RmZjQ0MTYyOGY2Y2NlMWM0Y2NkZGNlYy5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMTZiMjZlMGNkZmY0NDE2MjhmNmNjZTFjNGNjZGRjZWNfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjU2MDZhZTJkODRiNGEyZmFiNDgyOTFiNGEwZjAyNWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzdiNTQwZTNlNjUyNDNlMWJjYTgwYjE1MjJhM2Q3NTYgPSAkKGA8ZGl2IGlkPSJodG1sXzc3YjU0MGUzZTY1MjQzZTFiY2E4MGIxNTIyYTNkNzU2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA1MDYudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82NTYwNmFlMmQ4NGI0YTJmYWI0ODI5MWI0YTBmMDI1ZS5zZXRDb250ZW50KGh0bWxfNzdiNTQwZTNlNjUyNDNlMWJjYTgwYjE1MjJhM2Q3NTYpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8xNmIyNmUwY2RmZjQ0MTYyOGY2Y2NlMWM0Y2NkZGNlYy5iaW5kUG9wdXAocG9wdXBfNjU2MDZhZTJkODRiNGEyZmFiNDgyOTFiNGEwZjAyNWUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODA5YjNiZjkxZjJjNDRkY2IyNmZlMTk3ZTVkODBjOGFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl84MDliM2JmOTFmMmM0NGRjYjI2ZmUxOTdlNWQ4MGM4YSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl84MDliM2JmOTFmMmM0NGRjYjI2ZmUxOTdlNWQ4MGM4YV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fODA5YjNiZjkxZjJjNDRkY2IyNmZlMTk3ZTVkODBjOGFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzgwOWIzYmY5MWYyYzQ0ZGNiMjZmZTE5N2U1ZDgwYzhhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl84MDliM2JmOTFmMmM0NGRjYjI2ZmUxOTdlNWQ4MGM4YV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hODAwMDg0MjZlMmQ0Yzk5OWFjNzE2ZDdlMmNlMTcxNSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iNTEwYjZmOTUyZDU0OGVjODhkYzg1YmUwNjAyNWQzMyA9ICQoYDxkaXYgaWQ9Imh0bWxfYjUxMGI2Zjk1MmQ1NDhlYzg4ZGM4NWJlMDYwMjVkMzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDUxMS50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2E4MDAwODQyNmUyZDRjOTk5YWM3MTZkN2UyY2UxNzE1LnNldENvbnRlbnQoaHRtbF9iNTEwYjZmOTUyZDU0OGVjODhkYzg1YmUwNjAyNWQzMyk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzgwOWIzYmY5MWYyYzQ0ZGNiMjZmZTE5N2U1ZDgwYzhhLmJpbmRQb3B1cChwb3B1cF9hODAwMDg0MjZlMmQ0Yzk5OWFjNzE2ZDdlMmNlMTcxNSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mODYzNGRhNTBjNzI0MzkyOWQ2NTYxYTgxMDdlNjMyNV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2Y4NjM0ZGE1MGM3MjQzOTI5ZDY1NjFhODEwN2U2MzI1ID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2Y4NjM0ZGE1MGM3MjQzOTI5ZDY1NjFhODEwN2U2MzI1X29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9mODYzNGRhNTBjNzI0MzkyOWQ2NTYxYTgxMDdlNjMyNV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fZjg2MzRkYTUwYzcyNDM5MjlkNjU2MWE4MTA3ZTYzMjUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2Y4NjM0ZGE1MGM3MjQzOTI5ZDY1NjFhODEwN2U2MzI1X2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzA5YTRmOTkwODE0NTQzOGViNWI5YjMxODBhNGQ3NDkxID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2I4MTFlZDhmZmExMzQ3YTc4N2E3MzFjZmQ0ZmQ5MzI0ID0gJChgPGRpdiBpZD0iaHRtbF9iODExZWQ4ZmZhMTM0N2E3ODdhNzMxY2ZkNGZkOTMyNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNTA1LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMDlhNGY5OTA4MTQ1NDM4ZWI1YjliMzE4MGE0ZDc0OTEuc2V0Q29udGVudChodG1sX2I4MTFlZDhmZmExMzQ3YTc4N2E3MzFjZmQ0ZmQ5MzI0KTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fZjg2MzRkYTUwYzcyNDM5MjlkNjU2MWE4MTA3ZTYzMjUuYmluZFBvcHVwKHBvcHVwXzA5YTRmOTkwODE0NTQzOGViNWI5YjMxODBhNGQ3NDkxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2FjZGQ4NzY1NjYxMTRjMGJhZTBkNDIxZDM1MzUyZmE0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fYWNkZDg3NjU2NjExNGMwYmFlMGQ0MjFkMzUzNTJmYTQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fYWNkZDg3NjU2NjExNGMwYmFlMGQ0MjFkMzUzNTJmYTRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uX2FjZGQ4NzY1NjYxMTRjMGJhZTBkNDIxZDM1MzUyZmE0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl9hY2RkODc2NTY2MTE0YzBiYWUwZDQyMWQzNTM1MmZhNC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fYWNkZDg3NjU2NjExNGMwYmFlMGQ0MjFkMzUzNTJmYTRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMWRmOWFiODc0M2ExNGZlYzhmYzA3MWE0YjVkNzQ2N2IgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzJhMzgwY2YwZGMyNGUyYjlhZDhmNTRiM2M0ZDM1MGIgPSAkKGA8ZGl2IGlkPSJodG1sXzcyYTM4MGNmMGRjMjRlMmI5YWQ4ZjU0YjNjNGQzNTBiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA1MTIudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xZGY5YWI4NzQzYTE0ZmVjOGZjMDcxYTRiNWQ3NDY3Yi5zZXRDb250ZW50KGh0bWxfNzJhMzgwY2YwZGMyNGUyYjlhZDhmNTRiM2M0ZDM1MGIpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl9hY2RkODc2NTY2MTE0YzBiYWUwZDQyMWQzNTM1MmZhNC5iaW5kUG9wdXAocG9wdXBfMWRmOWFiODc0M2ExNGZlYzhmYzA3MWE0YjVkNzQ2N2IpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fY2YwYmIxZTU3YWRhNDk5YmE3NjBjNGQ2MzliYjhhY2Vfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl9jZjBiYjFlNTdhZGE0OTliYTc2MGM0ZDYzOWJiOGFjZSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl9jZjBiYjFlNTdhZGE0OTliYTc2MGM0ZDYzOWJiOGFjZV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fY2YwYmIxZTU3YWRhNDk5YmE3NjBjNGQ2MzliYjhhY2VfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uX2NmMGJiMWU1N2FkYTQ5OWJhNzYwYzRkNjM5YmI4YWNlLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl9jZjBiYjFlNTdhZGE0OTliYTc2MGM0ZDYzOWJiOGFjZV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgMTUuMzY4MDMwMTEwMzM4Nl0sIFsxMzYuNTU0MzY0MzYwMzQ5LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDUxLjU0MzMzNjM2NDg4ODhdLCBbODEuMTQwNzA5MTEwODc1NSwgMTUuMzY4MDMwMTEwMzM4Nl1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80M2FiOTYyOTg2ZWQ0NDA2OTMwMWFmZWMwNTM4ZjJjZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zZmFlYTUwZjU1YmU0NDZiODRhMGFjZjIxMWMwMGRlMSA9ICQoYDxkaXYgaWQ9Imh0bWxfM2ZhZWE1MGY1NWJlNDQ2Yjg0YTBhY2YyMTFjMDBkZTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDUwMi50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQzYWI5NjI5ODZlZDQ0MDY5MzAxYWZlYzA1MzhmMmNmLnNldENvbnRlbnQoaHRtbF8zZmFlYTUwZjU1YmU0NDZiODRhMGFjZjIxMWMwMGRlMSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uX2NmMGJiMWU1N2FkYTQ5OWJhNzYwYzRkNjM5YmI4YWNlLmJpbmRQb3B1cChwb3B1cF80M2FiOTYyOTg2ZWQ0NDA2OTMwMWFmZWMwNTM4ZjJjZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMWIzYmEwNTc5YWM0ZGVhODc5YjY0ZmJmMTY2OWEzZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uX2IxYjNiYTA1NzlhYzRkZWE4NzliNjRmYmYxNjY5YTNlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uX2IxYjNiYTA1NzlhYzRkZWE4NzliNjRmYmYxNjY5YTNlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl9iMWIzYmEwNTc5YWM0ZGVhODc5YjY0ZmJmMTY2OWEzZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fYjFiM2JhMDU3OWFjNGRlYTg3OWI2NGZiZjE2NjlhM2UuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uX2IxYjNiYTA1NzlhYzRkZWE4NzliNjRmYmYxNjY5YTNlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzYzMmFjYTJlNDVjODRlMmI5YjAyM2ZmZjM2N2M1MDNhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Q2MDhjNjI4MjgyZTRiZDg5OGRlNjM2YTE2YjQzM2IyID0gJChgPGRpdiBpZD0iaHRtbF9kNjA4YzYyODI4MmU0YmQ4OThkZTYzNmExNmI0MzNiMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNTEwLnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjMyYWNhMmU0NWM4NGUyYjliMDIzZmZmMzY3YzUwM2Euc2V0Q29udGVudChodG1sX2Q2MDhjNjI4MjgyZTRiZDg5OGRlNjM2YTE2YjQzM2IyKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fYjFiM2JhMDU3OWFjNGRlYTg3OWI2NGZiZjE2NjlhM2UuYmluZFBvcHVwKHBvcHVwXzYzMmFjYTJlNDVjODRlMmI5YjAyM2ZmZjM2N2M1MDNhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzJhYTNlNjI3YjhhNjRjZTI4NTc5ZjI5YTNjNGI4NjQ0X29uRWFjaEZlYXR1cmUoZmVhdHVyZSwgbGF5ZXIpIHsKICAgICAgICAgICAgbGF5ZXIub24oewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQuZml0Qm91bmRzKGUudGFyZ2V0LmdldEJvdW5kcygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZ2VvX2pzb25fMmFhM2U2MjdiOGE2NGNlMjg1NzlmMjlhM2M0Yjg2NDQgPSBMLmdlb0pzb24obnVsbCwgewogICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZ2VvX2pzb25fMmFhM2U2MjdiOGE2NGNlMjg1NzlmMjlhM2M0Yjg2NDRfb25FYWNoRmVhdHVyZSwKICAgICAgICAgICAgCiAgICAgICAgfSkuYWRkVG8oZmVhdHVyZV9ncm91cF8xYmZkODk3ZDVlOGM0MGVlODJjM2ZlMThjNzFlMGQ3Mik7CgogICAgICAgIGZ1bmN0aW9uIGdlb19qc29uXzJhYTNlNjI3YjhhNjRjZTI4NTc5ZjI5YTNjNGI4NjQ0X2FkZCAoZGF0YSkgewogICAgICAgICAgICBnZW9fanNvbl8yYWEzZTYyN2I4YTY0Y2UyODU3OWYyOWEzYzRiODY0NC5hZGREYXRhKGRhdGEpOwogICAgICAgIH0KICAgICAgICAgICAgZ2VvX2pzb25fMmFhM2U2MjdiOGE2NGNlMjg1NzlmMjlhM2M0Yjg2NDRfYWRkKHsiY29vcmRpbmF0ZXMiOiBbW1s4MS4xNDA3MDkxMTA4NzU1LCAxNS4zNjgwMzAxMTAzMzg2XSwgWzEzNi41NTQzNjQzNjAzNDksIDE1LjM2ODAzMDExMDMzODZdLCBbMTM2LjU1NDM2NDM2MDM0OSwgNTEuNTQzMzM2MzY0ODg4OF0sIFs4MS4xNDA3MDkxMTA4NzU1LCA1MS41NDMzMzYzNjQ4ODg4XSwgWzgxLjE0MDcwOTExMDg3NTUsIDE1LjM2ODAzMDExMDMzODZdXV0sICJ0eXBlIjogIlBvbHlnb24ifSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYjZiMDQxMDZhNjFmNDBhOGFhYjM4NmUzZmYxZmExZTUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiNDAwIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfN2I3NDZmNWM0ZTBlNDE3YTkzNmQzMjA5ZWI4ZWY4OTMgPSAkKGA8ZGl2IGlkPSJodG1sXzdiNzQ2ZjVjNGUwZTQxN2E5MzZkMzIwOWViOGVmODkzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij48Yj4gRklMRSA8L2I+PGxpPjxiPiBGaWxlbmFtZTogPC9iPiAyMDA1MDEudGlmPC9saT48bGk+PGI+IEZvcm1hdDogPC9iPiB0aWY8L2xpPjxsaT48Yj4gR2VvZXh0ZW50IEhhbmRsZXI6IDwvYj4gaGFuZGxlUmFzdGVyPC9saT48YnI+PGI+IFJFUE9TSVRPUlkgT0YgT1JJR0lOIDwvYj48bGk+PGI+IFJlcG9zaXRvcnkgSUQ6IDwvYj4gMzM3ODkxMTwvbGk+PGxpPjxiPiBUaXRsZTogPC9iPiBBIGNvbWJpbmVkIFRlcnJhIGFuZCBBcXVhIE1PRElTIGxhbmQgc3VyZmFjZSB0ZW1wZXJhdHVyZSBhbmQgbWV0ZW9yb2xvZ2ljYWwgc3RhdGlvbiBkYXRhIHByb2R1Y3QgZm9yIENoaW5hIGZyb20gMjAwM+KAkzIwMTc8L2xpPjxsaT48Yj4gICBELk8uSTogPC9iPjEwLjUyODEvemVub2RvLjM1MjgwMjQ8L2xpPjxsaT48Yj4gIExpY2Vuc2U6IDwvYj5DQy1CWS00LjA8L2xpPjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iNmIwNDEwNmE2MWY0MGE4YWFiMzg2ZTNmZjFmYTFlNS5zZXRDb250ZW50KGh0bWxfN2I3NDZmNWM0ZTBlNDE3YTkzNmQzMjA5ZWI4ZWY4OTMpOwogICAgICAgIAoKICAgICAgICBnZW9fanNvbl8yYWEzZTYyN2I4YTY0Y2UyODU3OWYyOWEzYzRiODY0NC5iaW5kUG9wdXAocG9wdXBfYjZiMDQxMDZhNjFmNDBhOGFhYjM4NmUzZmYxZmExZTUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2I0YzZjN2E4YTUxNDVjNGFiODViNmRhOWQxYTk3MWFfb25FYWNoRmVhdHVyZShmZWF0dXJlLCBsYXllcikgewogICAgICAgICAgICBsYXllci5vbih7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIG1hcF82ZDhkYjFjMGU5ZTA0OTUzODRiZmUxNjlkYjJkMTIyNC5maXRCb3VuZHMoZS50YXJnZXQuZ2V0Qm91bmRzKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBnZW9fanNvbl8zYjRjNmM3YThhNTE0NWM0YWI4NWI2ZGE5ZDFhOTcxYSA9IEwuZ2VvSnNvbihudWxsLCB7CiAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBnZW9fanNvbl8zYjRjNmM3YThhNTE0NWM0YWI4NWI2ZGE5ZDFhOTcxYV9vbkVhY2hGZWF0dXJlLAogICAgICAgICAgICAKICAgICAgICB9KS5hZGRUbyhmZWF0dXJlX2dyb3VwXzFiZmQ4OTdkNWU4YzQwZWU4MmMzZmUxOGM3MWUwZDcyKTsKCiAgICAgICAgZnVuY3Rpb24gZ2VvX2pzb25fM2I0YzZjN2E4YTUxNDVjNGFiODViNmRhOWQxYTk3MWFfYWRkIChkYXRhKSB7CiAgICAgICAgICAgIGdlb19qc29uXzNiNGM2YzdhOGE1MTQ1YzRhYjg1YjZkYTlkMWE5NzFhLmFkZERhdGEoZGF0YSk7CiAgICAgICAgfQogICAgICAgICAgICBnZW9fanNvbl8zYjRjNmM3YThhNTE0NWM0YWI4NWI2ZGE5ZDFhOTcxYV9hZGQoeyJjb29yZGluYXRlcyI6IFtbWzgxLjEyOTYyODQwNDgwNTIsIDE1LjI5NDgwOTc0NzUyNjhdLCBbMTM2LjU3MzQ0OTE0MzgwMywgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCA1MS4zODE0ODQ1NzQ2Mjc0XSwgWzgxLjEyOTYyODQwNDgwNTIsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF1dXSwgInR5cGUiOiAiUG9seWdvbiJ9KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wYjNjOTUxNTJmY2M0NTNlYjcxMTc2ZDRlNjE1OTI2MiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICI0MDAifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83MWZmYzU5MThlZTg0MmY1YjM2ZjBhNjg4OThiYjU4OSA9ICQoYDxkaXYgaWQ9Imh0bWxfNzFmZmM1OTE4ZWU4NDJmNWIzNmYwYTY4ODk4YmI1ODkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjxiPiBGSUxFIDwvYj48bGk+PGI+IEZpbGVuYW1lOiA8L2I+IDIwMDUwMy50aWY8L2xpPjxsaT48Yj4gRm9ybWF0OiA8L2I+IHRpZjwvbGk+PGxpPjxiPiBHZW9leHRlbnQgSGFuZGxlcjogPC9iPiBoYW5kbGVSYXN0ZXI8L2xpPjxicj48Yj4gUkVQT1NJVE9SWSBPRiBPUklHSU4gPC9iPjxsaT48Yj4gUmVwb3NpdG9yeSBJRDogPC9iPiAzMzc4OTExPC9saT48bGk+PGI+IFRpdGxlOiA8L2I+IEEgY29tYmluZWQgVGVycmEgYW5kIEFxdWEgTU9ESVMgbGFuZCBzdXJmYWNlIHRlbXBlcmF0dXJlIGFuZCBtZXRlb3JvbG9naWNhbCBzdGF0aW9uIGRhdGEgcHJvZHVjdCBmb3IgQ2hpbmEgZnJvbSAyMDAz4oCTMjAxNzwvbGk+PGxpPjxiPiAgIEQuTy5JOiA8L2I+MTAuNTI4MS96ZW5vZG8uMzUyODAyNDwvbGk+PGxpPjxiPiAgTGljZW5zZTogPC9iPkNDLUJZLTQuMDwvbGk+PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzBiM2M5NTE1MmZjYzQ1M2ViNzExNzZkNGU2MTU5MjYyLnNldENvbnRlbnQoaHRtbF83MWZmYzU5MThlZTg0MmY1YjM2ZjBhNjg4OThiYjU4OSk7CiAgICAgICAgCgogICAgICAgIGdlb19qc29uXzNiNGM2YzdhOGE1MTQ1YzRhYjg1YjZkYTlkMWE5NzFhLmJpbmRQb3B1cChwb3B1cF8wYjNjOTUxNTJmY2M0NTNlYjcxMTc2ZDRlNjE1OTI2MikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYzU1NDQ1ODM2ZmY0N2NhOTQ2NjRhZDA5ODMxZTFhZV9vbkVhY2hGZWF0dXJlKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgICAgIGxheWVyLm9uKHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwXzZkOGRiMWMwZTllMDQ5NTM4NGJmZTE2OWRiMmQxMjI0LmZpdEJvdW5kcyhlLnRhcmdldC5nZXRCb3VuZHMoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGdlb19qc29uXzNjNTU0NDU4MzZmZjQ3Y2E5NDY2NGFkMDk4MzFlMWFlID0gTC5nZW9Kc29uKG51bGwsIHsKICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGdlb19qc29uXzNjNTU0NDU4MzZmZjQ3Y2E5NDY2NGFkMDk4MzFlMWFlX29uRWFjaEZlYXR1cmUsCiAgICAgICAgICAgIAogICAgICAgIH0pLmFkZFRvKGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIpOwoKICAgICAgICBmdW5jdGlvbiBnZW9fanNvbl8zYzU1NDQ1ODM2ZmY0N2NhOTQ2NjRhZDA5ODMxZTFhZV9hZGQgKGRhdGEpIHsKICAgICAgICAgICAgZ2VvX2pzb25fM2M1NTQ0NTgzNmZmNDdjYTk0NjY0YWQwOTgzMWUxYWUuYWRkRGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgICAgIGdlb19qc29uXzNjNTU0NDU4MzZmZjQ3Y2E5NDY2NGFkMDk4MzFlMWFlX2FkZCh7ImNvb3JkaW5hdGVzIjogW1tbODEuMTI5NjI4NDA0ODA1MiwgMTUuMjk0ODA5NzQ3NTI2OF0sIFsxMzYuNTczNDQ5MTQzODAzLCAxNS4yOTQ4MDk3NDc1MjY4XSwgWzEzNi41NzM0NDkxNDM4MDMsIDUxLjM4MTQ4NDU3NDYyNzRdLCBbODEuMTI5NjI4NDA0ODA1MiwgNTEuMzgxNDg0NTc0NjI3NF0sIFs4MS4xMjk2Mjg0MDQ4MDUyLCAxNS4yOTQ4MDk3NDc1MjY4XV1dLCAidHlwZSI6ICJQb2x5Z29uIn0pOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2Y5MGU0MjNhYjFhODRkNGY4MmJhMDJjMzA2MTFmNDMwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjQwMCJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2NkMWZkYjQ4NjNkYzQ5NjE5YjEwNGZkZmUyYjZhNzdmID0gJChgPGRpdiBpZD0iaHRtbF9jZDFmZGI0ODYzZGM0OTYxOWIxMDRmZGZlMmI2YTc3ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+PGI+IEZJTEUgPC9iPjxsaT48Yj4gRmlsZW5hbWU6IDwvYj4gMjAwNTA3LnRpZjwvbGk+PGxpPjxiPiBGb3JtYXQ6IDwvYj4gdGlmPC9saT48bGk+PGI+IEdlb2V4dGVudCBIYW5kbGVyOiA8L2I+IGhhbmRsZVJhc3RlcjwvbGk+PGJyPjxiPiBSRVBPU0lUT1JZIE9GIE9SSUdJTiA8L2I+PGxpPjxiPiBSZXBvc2l0b3J5IElEOiA8L2I+IDMzNzg5MTE8L2xpPjxsaT48Yj4gVGl0bGU6IDwvYj4gQSBjb21iaW5lZCBUZXJyYSBhbmQgQXF1YSBNT0RJUyBsYW5kIHN1cmZhY2UgdGVtcGVyYXR1cmUgYW5kIG1ldGVvcm9sb2dpY2FsIHN0YXRpb24gZGF0YSBwcm9kdWN0IGZvciBDaGluYSBmcm9tIDIwMDPigJMyMDE3PC9saT48bGk+PGI+ICAgRC5PLkk6IDwvYj4xMC41MjgxL3plbm9kby4zNTI4MDI0PC9saT48bGk+PGI+ICBMaWNlbnNlOiA8L2I+Q0MtQlktNC4wPC9saT48L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfZjkwZTQyM2FiMWE4NGQ0ZjgyYmEwMmMzMDYxMWY0MzAuc2V0Q29udGVudChodG1sX2NkMWZkYjQ4NjNkYzQ5NjE5YjEwNGZkZmUyYjZhNzdmKTsKICAgICAgICAKCiAgICAgICAgZ2VvX2pzb25fM2M1NTQ0NTgzNmZmNDdjYTk0NjY0YWQwOTgzMWUxYWUuYmluZFBvcHVwKHBvcHVwX2Y5MGU0MjNhYjFhODRkNGY4MmJhMDJjMzA2MTFmNDMwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbGF5ZXJfY29udHJvbF9lMWY5Nzg5ODk3NmI0NzhiOTFjZDhmZjExNmEyZGNmZSA9IHsKICAgICAgICAgICAgICAgIGJhc2VfbGF5ZXJzIDogewogICAgICAgICAgICAgICAgICAgICJvcGVuc3RyZWV0bWFwIiA6IHRpbGVfbGF5ZXJfZTMwMzYzMjE0YzgyNDYyNDhhMTdhYjdhZjlkM2I3YzUsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb3ZlcmxheXMgOiAgewogICAgICAgICAgICAgICAgICAgICI0NjIzNzMxIiA6IGZlYXR1cmVfZ3JvdXBfNTdmNDU3ZGUwZWUxNGI2MTgyNDAzMTUwOWQ1NDY3MmMsCiAgICAgICAgICAgICAgICAgICAgIjM5Mzc2NzUiIDogZmVhdHVyZV9ncm91cF83NWZhZGFhNTI0N2I0NGNhYmRkZjBiZGRlNWI0OTI5ZSwKICAgICAgICAgICAgICAgICAgICAiMzkwOTcyOCIgOiBmZWF0dXJlX2dyb3VwXzliOWJjNDNmYTYyNzQ1ZDhiOTk3ZWUxM2IwN2MyM2ZlLAogICAgICAgICAgICAgICAgICAgICIxOTA2NjU3IiA6IGZlYXR1cmVfZ3JvdXBfZWY5ODE3NjMxYTY2NDliMzk4OTdiYmQ2YjU4MDczMDYsCiAgICAgICAgICAgICAgICAgICAgIjQ1NTI3NjYiIDogZmVhdHVyZV9ncm91cF84MzBjODZiNjZjMmQ0NTJmYTdiYzQ0MTg0YmRlNjVlOSwKICAgICAgICAgICAgICAgICAgICAiNjY0NTkwIiA6IGZlYXR1cmVfZ3JvdXBfMWNkNGE5MTJhNjZmNDU3Njk3MzI4MzFjYmZiZDUzZjgsCiAgICAgICAgICAgICAgICAgICAgIjI0MzIwNDQiIDogZmVhdHVyZV9ncm91cF8yYWJhZDMzYjNjYWI0NWRlYmVlZDUxZmFiYzA5ZjVhZiwKICAgICAgICAgICAgICAgICAgICAiMzk3MTQ3NyIgOiBmZWF0dXJlX2dyb3VwXzVjOGY3ZDM5OTQ1ZDQxNWRiYThmNWQ5ZmM1YzdmNWRmLAogICAgICAgICAgICAgICAgICAgICIzMjUwOTc5IiA6IGZlYXR1cmVfZ3JvdXBfOTYyZDNjY2U0OGE1NDJkMGEyZjFiYmJiMDI3OWI1MjUsCiAgICAgICAgICAgICAgICAgICAgIjMzODYyMDciIDogZmVhdHVyZV9ncm91cF8zOTE5YWY2ZjQwNjI0ZWE1YjUxYzFlMjgzZWMwZjVlMCwKICAgICAgICAgICAgICAgICAgICAiMzcwNjIwNiIgOiBmZWF0dXJlX2dyb3VwXzA1ZTY4YjdhNzFiMDQ1NTY4OTdmNTQyYjUwZjc1N2NjLAogICAgICAgICAgICAgICAgICAgICIxMzAwMDU3IiA6IGZlYXR1cmVfZ3JvdXBfOGFhOWQ5Yzc2YjU5NDU4NjliYTcwYmY2NjQ1ZWU4ZTcsCiAgICAgICAgICAgICAgICAgICAgIjQzOTE0NjAiIDogZmVhdHVyZV9ncm91cF83ZDAwYTI3Zjc3ZmQ0MDBmYjQ2NTJmMWRlNTMxNzQyNywKICAgICAgICAgICAgICAgICAgICAiMzU1ODI4NSIgOiBmZWF0dXJlX2dyb3VwX2M3ZjA1ZmQ1Nzg4NDRkNmU4ZDE0MjIzZmNhYjZjYzA4LAogICAgICAgICAgICAgICAgICAgICI0NzE2MzEwIiA6IGZlYXR1cmVfZ3JvdXBfNjNiN2Y5ZmE4YWMzNDI0ZDkzNDEyOTc4N2YxOTJmMTksCiAgICAgICAgICAgICAgICAgICAgIjQ1OTk1NzYiIDogZmVhdHVyZV9ncm91cF9lMzU5YmVhZDBiNmI0MWRmYTE4MThlNmE5MTVhNWQ2YiwKICAgICAgICAgICAgICAgICAgICAiNjM5MzIxIiA6IGZlYXR1cmVfZ3JvdXBfM2IwZjQxZWM0NzAwNGVmMTlkNDdmMDJkMzAzMWQ5MjQsCiAgICAgICAgICAgICAgICAgICAgIjYzMDI0MSIgOiBmZWF0dXJlX2dyb3VwXzRkYzUwYzQ5Yzc4MTQzNTliMjU2MDgzOTZkODRkMmJkLAogICAgICAgICAgICAgICAgICAgICIxMjkxMzg0IiA6IGZlYXR1cmVfZ3JvdXBfNDE1NzM2ZGVlZmVkNDEyMDk1NDMxYmM5Nzg5ZTkwOWMsCiAgICAgICAgICAgICAgICAgICAgIjEyOTEzODgiIDogZmVhdHVyZV9ncm91cF9mOTIzODM4MThlNmY0MGRjOWI5Zjg1NWE2NTc1OTZlOCwKICAgICAgICAgICAgICAgICAgICAiMzk4MTQxMSIgOiBmZWF0dXJlX2dyb3VwX2U5MjQ4ZDdhNmQ4YzQxY2Y5NmZkNjE3ZjRlMzBiZjBhLAogICAgICAgICAgICAgICAgICAgICI0NDg1ODgxIiA6IGZlYXR1cmVfZ3JvdXBfNTc4N2NmMTIyNjZhNDJhOGE3NzBmNGRiOTNlYWQwYTIsCiAgICAgICAgICAgICAgICAgICAgIjE0Njk2NzMiIDogZmVhdHVyZV9ncm91cF9jNjZlNjRkNTgxOGY0N2JlOWZiN2UxZDc2NzQwNjE2MywKICAgICAgICAgICAgICAgICAgICAiNDI2NDg2NCIgOiBmZWF0dXJlX2dyb3VwXzcyMzQ3YmIxZjE1ZDQ0MWE5MWU5MTNmMGZiMzJhODkzLAogICAgICAgICAgICAgICAgICAgICIzNDgzMTYzIiA6IGZlYXR1cmVfZ3JvdXBfOGEwZDQxY2NiMjNiNGQ0ODkwNGQyMWZiZGQ5MjQ5NzMsCiAgICAgICAgICAgICAgICAgICAgIjM0ODMxNjUiIDogZmVhdHVyZV9ncm91cF83YTMwMGE5N2FmN2I0NTIyOWQ4ZTk1MjAyMGY3OWNjMCwKICAgICAgICAgICAgICAgICAgICAiMTAwODk5OSIgOiBmZWF0dXJlX2dyb3VwX2E5YjZhMThjMjQxNzRlOTY5YWE4ODZiMDFmNmNjOTljLAogICAgICAgICAgICAgICAgICAgICIzNDc3NTU4IiA6IGZlYXR1cmVfZ3JvdXBfNTA5NDM0NzJjNGVjNDQ0YmEzMzc4YzFhZDc1ZWZlYzcsCiAgICAgICAgICAgICAgICAgICAgIjQyNjU1MTEiIDogZmVhdHVyZV9ncm91cF82YjFmNjA3OThlY2I0NDUzYjkyYjk1MDFlMTRhZjVlYSwKICAgICAgICAgICAgICAgICAgICAiMzQ2MjE3MCIgOiBmZWF0dXJlX2dyb3VwX2MyNmU0MjJiZTIxMTQ1ZjRhMjFiNTY2ZjllNWM5OTlmLAogICAgICAgICAgICAgICAgICAgICIzNTgxNzM5IiA6IGZlYXR1cmVfZ3JvdXBfYWYzNmFhNTVjNGZmNDYxYmIxYmM2OTBkOWI3OTYxNDgsCiAgICAgICAgICAgICAgICAgICAgIjQzMDI1OTkiIDogZmVhdHVyZV9ncm91cF9mMjkwNmQ4ZDQ1ZTI0YjI2OTU4NDhlOTdiMDNiNjU1ZSwKICAgICAgICAgICAgICAgICAgICAiMzY2MzIxNCIgOiBmZWF0dXJlX2dyb3VwXzVkZGQ3MzNkNGU4MDQ0YjhiMDZmMTk4ZGYwMzQxOTYwLAogICAgICAgICAgICAgICAgICAgICI2MjAwMTUiIDogZmVhdHVyZV9ncm91cF8wYmIxMDY3YzFhMDY0OGIwYWZhZDU1YjA1Y2EyM2YzNSwKICAgICAgICAgICAgICAgICAgICAiNjM2MzgyIiA6IGZlYXR1cmVfZ3JvdXBfZTNhM2YzOGM2N2NjNDBjYmIzMmUwOGUwMmUwYmI3MTUsCiAgICAgICAgICAgICAgICAgICAgIjQyNDQ5MjUiIDogZmVhdHVyZV9ncm91cF9jYzA0ZWYxODUzZTk0YzdjYWM1MjQyYTdhMTNkMDI4MCwKICAgICAgICAgICAgICAgICAgICAiMTQyMTMwNCIgOiBmZWF0dXJlX2dyb3VwX2E0MGFhNjc0ZTVhOTQ5YTI5Y2ViMjE5MWQwNDRiZDgwLAogICAgICAgICAgICAgICAgICAgICI0MTI3MDQ4IiA6IGZlYXR1cmVfZ3JvdXBfNzRkODg1MDliNDYyNDg5MThmODdiNjAwZDE2YjQyZTQsCiAgICAgICAgICAgICAgICAgICAgIjQzOTYwMzEiIDogZmVhdHVyZV9ncm91cF9kNDRjN2Y0NjY4N2E0YTc5YTE1M2Q3YmU2NzY3NDliOCwKICAgICAgICAgICAgICAgICAgICAiNDAyODQzMSIgOiBmZWF0dXJlX2dyb3VwXzIwYzdlMzAyYWM3NjQ0MGI5MjNjYTNkOWZlNDQwODdiLAogICAgICAgICAgICAgICAgICAgICIzNjA2NzY0IiA6IGZlYXR1cmVfZ3JvdXBfNWQxMjBiOTcxYzdiNDg3YTk5NGE2ZjUzMmI1MmQ1M2QsCiAgICAgICAgICAgICAgICAgICAgIjQ2Nzc2MjMiIDogZmVhdHVyZV9ncm91cF9kZjYyODBjMGVlYWM0ZGI4ODRhNWY5NDk0NzUwMWIwOCwKICAgICAgICAgICAgICAgICAgICAiNDMyNjcwMSIgOiBmZWF0dXJlX2dyb3VwX2IzODcxZjkzNjAyZTQ3YmY5MTJmODFiNWQ4MjY2ZDEzLAogICAgICAgICAgICAgICAgICAgICI2NDA2NTgiIDogZmVhdHVyZV9ncm91cF9kMGRiODkwMWFjNTk0ZGY0ODM0M2YxNGUyOWQ2NjlmOCwKICAgICAgICAgICAgICAgICAgICAiNDU2MDg1NCIgOiBmZWF0dXJlX2dyb3VwX2MwYjVhODdmOWZjYjQ1YTQ5YWNjNjAzMDIzZTcxYmM5LAogICAgICAgICAgICAgICAgICAgICIzMzc4OTExIiA6IGZlYXR1cmVfZ3JvdXBfMWJmZDg5N2Q1ZThjNDBlZTgyYzNmZTE4YzcxZTBkNzIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9OwogICAgICAgICAgICBMLmNvbnRyb2wubGF5ZXJzKAogICAgICAgICAgICAgICAgbGF5ZXJfY29udHJvbF9lMWY5Nzg5ODk3NmI0NzhiOTFjZDhmZjExNmEyZGNmZS5iYXNlX2xheWVycywKICAgICAgICAgICAgICAgIGxheWVyX2NvbnRyb2xfZTFmOTc4OTg5NzZiNDc4YjkxY2Q4ZmYxMTZhMmRjZmUub3ZlcmxheXMsCiAgICAgICAgICAgICAgICB7ImF1dG9aSW5kZXgiOiB0cnVlLCAiY29sbGFwc2VkIjogdHJ1ZSwgInBvc2l0aW9uIjogInRvcHJpZ2h0In0KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNmQ4ZGIxYzBlOWUwNDk1Mzg0YmZlMTY5ZGIyZDEyMjQpOwogICAgICAgIAo8L3NjcmlwdD4= onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>As expected, a visual inspection of the bounding boxes suggests that there are correct, partially correct, and erroneous extractions. Even though determining the proportions would require an individual analysis record by record, we can make some initial observations. First, there are records with a bbox that corresponds to the geographical area mentioned in the description or title of the repository. Second, there are records with bbox with flipped coordinates or a combination of correct and erroneous individual file extractions. Finally, extractions with errors are the records with bbox that do not correspond with the area of study described in the title or description of the repository.</p>
<p>Erroneous and flipped extractions could be due to errors in the original files or errors in the extraction due to geoextent assumptions. On the one hand, some files could store errors or be ambiguous (e.g., absence of a coordinate reference system or incorrect ordering of latitude and longitude). On the other hand, geoextent tries to extract information from ambiguous files by assuming WGS84 as a coordinate reference system if this information is not available or by flipping latitude and longitude values when the extracted values are not correct (e.g., latitude &gt; 90). This strategy could help in some cases but could also potentially result in incorrect extractions.</p>
</div>
</div>
</div>
</div>
<div class="section" id="references">
<h1><span class="section-number">13.9. </span>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h1>
<!-- formatted based on DOI with https://citation.crosscite.org/ using chicaco-author-date -->
<p>Chandra, R.V. &amp; Varanasi, B.S., 2015. Python requests essentials, Packt Publishing Ltd.</p>
<p>GDAL/OGR contributors. 2021. GDAL/OGR Geospatial Data Abstraction software Library. Open Source Geospatial Foundation. <a class="reference external" href="https://gdal.org">https://gdal.org</a></p>
<p>Gillies, S. &amp; others, 2007. Shapely: manipulation and analysis of geometric objects. <a class="reference external" href="https://pandas.pydata.org/https://github.com/Toblerity/Shapely">https://pandas.pydata.org/https://github.com/Toblerity/Shapely</a></p>
<p>Gregory, Kathleen, Siri Jodha Khalsa, William K. Michener, Fotis E. Psomopoulos, Anita de Waard, and Mingfang Wu. 2018. “Eleven Quick Tips for Finding Research Data.” Edited by Francis Ouellette. PLOS Computational Biology 14 (4): e1006038. <a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1006038">https://doi.org/10.1371/journal.pcbi.1006038</a>.</p>
<p>Jordahl, K., 2014. GeoPandas: Python tools for geographic data. URL: <a class="reference external" href="https://github.com/geopandas/geopandas">https://github.com/geopandas/geopandas</a>.</p>
<p>Harris, Charles R., K. Jarrod Millman, Stéfan J. van der Walt, Ralf Gommers, Pauli Virtanen, David Cournapeau, Eric Wieser, et al. 2020. “Array Programming with NumPy.” Nature 585 (7825): 357–62. <a class="reference external" href="https://doi.org/10.1038/s41586-020-2649-2">https://doi.org/10.1038/s41586-020-2649-2</a>.</p>
<p>Hunter, John D. 2007. “Matplotlib: A 2D Graphics Environment.” Computing in Science &amp; Engineering 9 (3): 90–95. <a class="reference external" href="https://doi.org/10.1109/mcse.2007.55">https://doi.org/10.1109/mcse.2007.55</a>.</p>
<p>Kluyver Thomas, Ragan-Kelley Benjamin, Pérez Fernando, Granger Brian, Bussonnier Matthias, Frederic Jonathan, Kelley Kyle, et al. 2016. “Jupyter Notebooks, a Publishing Format for Reproducible Computational Workflows.” JB. Stand Alone 0 (Positioning and Power in Academic Publishing: Players, Agents and Agendas): 87–90. <a class="reference external" href="https://doi.org/10.3233/978-1-61499-649-1-87">https://doi.org/10.3233/978-1-61499-649-1-87</a>.</p>
<p>McKinney, W., 2010. Data structures for statistical computing in python. In Proceedings of the 9th Python in Science Conference. pp. 51–56.</p>
<p>Nüst, Daniel, Garzón Sebastian, and Qamaz Yousef. 2021. o2r-project/geoextent (Version v0.7.1). Zenodo. <a class="reference external" href="https://doi.org/10.5281/ZENODO.4762205">https://doi.org/10.5281/ZENODO.4762205</a></p>
<p>python-visualization, (2020). Folium. <a class="reference external" href="https://python-visualization.github.io/folium/">https://python-visualization.github.io/folium/</a>.</p>
<p>Van Rossum, G. &amp; Drake, F.L., 2009. Python 3 Reference Manual, Scotts Valley, CA: CreateSpace.</p>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks/ec21_garzon_etal/showcase"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="../README.html" title="previous page"><span class="section-number">13. </span>Exploring Research Data Repositories with geoextent.</a>
    <a class='right-next' id="next-link" href="../../ec21_gray_etal/README.html" title="next page"><span class="section-number">14. </span>Leveraging satellite data and pangeo to investigate the role of Gulf Stream frontal dynamics in ocean productivity</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By EarthCube Office<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>